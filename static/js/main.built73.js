!function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=111)}([function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,i){"use strict";var s=i(0),r=s(i(19)),n=s(i(5)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=c(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(s,n,a):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(41)),o=i(67),l=i(7),h=i(68);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(c=function(e){return e?i:t})(e)}class u extends r.default{constructor(e){super(e),this.pageXp=null,this._isEnhanced={parallax:!0,media:!0},this.unenhance=this.unenhance.bind(this),this._unenhanceViewportHandler=this._unenhanceViewportHandler.bind(this),this._unenhanceParallaxHandler=this._unenhanceParallaxHandler.bind(this),this._unenhanceMediaHandler=this._unenhanceMediaHandler.bind(this),this.isEnhanced=this.isEnhanced.bind(this)}mounted(){this.pageXp=this.gum.getComponentOfType("PageXp",document.body),(0,n.default)((()=>{this.isEnhanced("parallax")&&this.enhanceParallax(),this.isEnhanced("media")&&this.enhanceMedia()})),a.setupPageXpUnenhanceListener(this.pageXp,this._unenhanceParallaxHandler,"parallax"),a.setupPageXpUnenhanceListener(this.pageXp,this._unenhanceMediaHandler,"media")}destroy(){this.destroyed=!0,this._isEnhanced.parallax=!1,this._isEnhanced.media=!1,this.unenhanceFeatureClass(),(0,n.default)((()=>{this.gum&&this.anim.forceUpdate(),super.destroy()}))}get logger(){return l.DevLogger}enhanceParallax(){l.DevLogger.info("enhanceParallax",this.componentName)}enhanceMedia(){l.DevLogger.info("enhanceMedia",this.componentName)}unenhanceParallax(){l.DevLogger.info("unenhanceParallax",this.componentName),this._isEnhanced.parallax=!1}unenhanceMedia(){l.DevLogger.info("unenhanceMedia",this.componentName),this._isEnhanced.media=!1}unenhanceCombined(){l.DevLogger.info("unenhanceCombined",this.componentName)}unenhance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"all"!==e&&"parallax"!==e||this._unenhanceParallaxHandler(),"all"!==e&&"media"!==e||this._unenhanceMediaHandler(),t&&this.unenhanceFeatureClass()}async unenhanceFeatureClass(){this.featureDetect&&await a.turnOffFeatureDetectClass(this.featureDetect),(0,n.default)((()=>this.gum&&this.anim.forceUpdate()))}isEnhanced(e){const t=["parallax","media"].includes(e);return t&&this._isEnhanced[e]&&this.pageXp.isEnhanced[e]}setUnenhanceViewports(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{viewports:{}};const t={...!e.reverseMatch&&h.ENHANCED_VIEWPORTS,...e.viewports},i=(0,o.setViewportListener)({viewports:t});i.reverseMatch=e.reverseMatch,i.on(o.EVT_VIEWPORT_GROUP_CHANGED,this._unenhanceViewportHandler),this._unenhanceViewportHandler(i)}_unenhanceParallaxHandler(){this.isEnhanced("parallax")&&(this._isEnhanced.media&&this.unenhanceCombined(),this.unenhanceParallax(),this._isEnhanced.parallax=!1,(0,n.default)((()=>this.gum&&this.anim.forceUpdate())))}_unenhanceMediaHandler(){this.isEnhanced("media")&&(this._isEnhanced.parallax&&this.unenhanceCombined(),this.unenhanceMedia(),this._isEnhanced.media=!1,(0,n.default)((()=>this.gum&&this.anim.forceUpdate())))}_unenhanceViewportHandler(e){let t;e&&(t=e.hasAny(Object.keys(e.viewports)),t=e.reverseMatch?!t:t),t||(this.pageXp?this.unenhance():(this._isEnhanced.parallax=this._isEnhanced.media=!1,this.unenhanceFeatureClass()),e&&e.destroy())}}e.exports=u},function(e,t,i){"use strict";e.exports={PICTURE_DATA_DOWNLOAD_AREA_KEYFRAME:"data-download-area-keyframe",PICTURE_DATA_LAZY:"data-lazy",PICTURE_DATA_EMPTY_SOURCE:"data-empty",PICTURE_DATA_LOADED:"data-picture-loaded",PICTURE_CLASS_LOADED:"loaded"}},function(e,t,i){"use strict";e.exports={EventEmitterMicro:i(12)}},function(e,t,i){"use strict";const s={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"anim-ui.position",GroupCollapsedStates:"anim-ui.group-collapsed-states",scrollY:"anim-ui.scrollY-position",path:"anim-ui.path"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(let e=0;e<s.BREAKPOINTS.length;e++){let t=s.BREAKPOINTS[e];if(window.matchMedia(t.mediaQuery).matches)return t.name}},KeyframeDefaults:{ease:1,epsilon:.05,preserveState:!1,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE",ON_CHAPTER_INITIATED:"ON_CHAPTER_INITIATED",ON_CHAPTER_OCCURRED:"ON_CHAPTER_OCCURRED",ON_CHAPTER_COMPLETED:"ON_CHAPTER_COMPLETED"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","anchors","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TweenProps:i(53),TargetValue:i(13),CSSTargetValue:i(35),pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},KeyframeComparison:function(e,t){return e.start<t.start?-1:e.start>t.start?1:0}};e.exports=s},function(e,t,i){"use strict";var s=i(15);e.exports=s.requestAnimationFrame("draw")},function(e,t,i){"use strict";var s=i(15);e.exports=s.requestAnimationFrame("update")},function(e,t,i){"use strict";var s=i(0),r=s(i(17)),n=s(i(144));const a=r.default.browser.safari,{sep:o,reset:l,red:h,green:c,BGyellow:u,BGcyan:d}=n.default,p=e=>`${e}${o}${l}`,m=p(d),f=p(c),_=p(u),g=p(h);class y{static get log(){return a?Function.prototype.bind.call(console.log,console):Function.prototype.bind.call(console.log,console,m)}static get info(){return a?Function.prototype.bind.call(console.info,console):Function.prototype.bind.call(console.info,console,f)}static get warn(){return a?Function.prototype.bind.call(console.warn,console):Function.prototype.bind.call(console.warn,console,_)}static get error(){return a?Function.prototype.bind.call(console.error,console):Function.prototype.bind.call(console.error,console,g)}}class v extends y{static get log(){return()=>{}}static get info(){return()=>{}}static get warn(){return()=>{}}static get error(){return()=>{}}}e.exports={Logger:y,DevLogger:v,TimeLogger:class{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;this.start=e?new Date:void 0,this.dev=t,this.logger=this.dev?v:y,this.color=p(i)}logTime(e){this.start||(this.logger.info(this.color,"TimeLogger: setting start value"),this.start=new Date);const t=`${e}: ${(new Date-this.start)/1e3} seconds`;this.logger.info(this.color,t);const i=document.querySelector(".time-logger-widget");i&&(i.classList.add("display-show"),i.innerHTML+=t+"<br>")}}}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(10));var n=class{constructor(e){this.options=e,this.media=e.media,this.mounted=this.mounted.bind(this),this.media.on(r.default.MOUNTED,this.mounted)}mounted(){}static get isSupported(){return!0}destroy(){}};t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNENHANCE_EVENTS=t.FEATURE_DETECT=void 0;t.UNENHANCE_EVENTS={parallax:"unenhance:page-xp-parallax",media:"unenhance:page-xp-media"};t.FEATURE_DETECT={parallax:"enhance-page-xp-parallax",media:"enhance-page-xp-media",base:"enhance-page-xp"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={MOUNTED:"MOUNTED",MEDIA_LOAD_START:"MEDIA_LOAD_START",MEDIA_LOAD_COMPLETE:"MEDIA_LOAD_COMPLETE",MEDIA_LOAD_ERROR:"MEDIA_LOAD_ERROR",PLAYBACK_STATE_CHANGE:"PLAYBACK_STATE_CHANGE",LOADING_STATE_CHANGE:"LOADING_STATE_CHANGE"}},function(e,t,i){"use strict";var s,r=i(3).EventEmitterMicro,n=i(61),a=i(129);function o(e){e=e||{},r.call(this),this.id=a.getNewID(),this.executor=e.executor||n,this._reset(),this._willRun=!1,this._didDestroy=!1}(s=o.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},s.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},s.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,e},s.willRun=function(){return this._willRun},s.isRunning=function(){return this._isRunning},s._subscribe=function(){return this.executor.subscribe(this)},s._unsubscribe=function(){return this.executor.unsubscribe(this)},s._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},s._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},s._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=o},function(e,t,i){"use strict";function s(){this._events={}}var r=s.prototype;r.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].unshift(t)},r.once=function(e,t){var i=this;this.on(e,(function s(r){i.off(e,s),void 0!==r?t(r):t()}))},r.off=function(e,t){if(this.has(e)){if(1===arguments.length)return this._events[e]=null,void delete this._events[e];var i=this._events[e].indexOf(t);-1!==i&&this._events[e].splice(i,1)}},r.trigger=function(e,t){if(this.has(e))for(var i=this._events[e].length-1;i>=0;i--)void 0!==t?this._events[e][i](t):this._events[e][i]()},r.has=function(e){return e in this._events!=!1&&0!==this._events[e].length},r.destroy=function(){for(var e in this._events)this._events[e]=null;this._events=null},e.exports=s},function(e,t,i){"use strict";e.exports=class{constructor(e,t,i,s){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;this.epsilon=parseFloat(t),this.snapAtCreation=i,this.initialValue=e,this.target=e,this.current=e,this.previousValue=e,this.isActive=!1,this.key=s,this.round=r,this.suffix=n}update(e,t,i){this.target=e[0]+t*(e[1]-e[0]),this.previousValue=this.current,this.current+=(this.target-this.current)*i;let s=this.delta(this.current,this.target);return s<this.epsilon&&(this.current=this.target,s=0),s>this.epsilon||0===s&&this.previousValue!==this.current}reconcile(e,t){return this.initialValue=e[0],this.update(e,t,1)}needsUpdate(){return this.delta(this.current,this.target)>this.epsilon}delta(e,t){return Math.abs(e-t)}calculateEpsilon(e,t){if(e.epsilon)return void(this.epsilon=e.epsilon);let i=this.delta(t[0],t[1]),s=Math.min(.001*i,this.epsilon,.05);this.epsilon=Math.max(s,.001)}set(e){let t=this.current;this.round&&(t=Math.round(t)),this.suffix&&(t+=this.suffix),e[this.key]=t}}},function(e,t,i){"use strict";e.exports={lerp:function(e,t,i){return t+(i-t)*e},map:function(e,t,i,s,r){return s+(r-s)*(e-t)/(i-t)},mapClamp:function(e,t,i,s,r){var n=s+(r-s)*(e-t)/(i-t);return Math.max(s,Math.min(r,n))},norm:function(e,t,i){return(e-t)/(i-t)},clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},randFloat:function(e,t){return Math.random()*(t-e)+e},randInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}},function(e,t,i){"use strict";var s=i(126),r=function(){this.events={}},n=r.prototype;n.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new s(e)),this.events[e].requestAnimationFrame},n.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new s(e)),this.events[e].cancelAnimationFrame},e.exports=new r},function(e,t,i){"use strict";const s=i(6),r=i(5),n=i(39),a={tabindex:-1};e.exports=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.keyframe=e.nodeType!==Node.ELEMENT_NODE?e:null,this.el=this.keyframe?this.keyframe.controller.element:e,this.options=this.composeOptions(t),this.onVoFocus=this.onVoFocus.bind(this),this.el.addEventListener("focus",this.onVoFocus),"number"==typeof this.options.tabindex&&this.el.setAttribute("tabindex",this.options.tabindex)}composeOptions(e){let t={};if(this.keyframe){const{end:e,anchors:i,breakpointMask:s}=this.keyframe.jsonProps;t={start:e,anchors:i,breakpointMask:s,pageMetrics:this.keyframe.controller.group.anim.model.pageMetrics}}return{...a,...t,...e}}onVoFocus(e){"key"===e.target.dataset.focusMethod&&this.matchesBreakpoint()&&s((()=>{const t={target:this.el,anchors:this.options.anchors},i=n.parse(this.options.start,t);let s=i;if(this.options.end){const e=n.parse(this.options.end,t);s=(i+e)/2}r((()=>{window.scrollTo(0,s),-1===this.options.tabindex&&e.target.blur()}))}))}matchesBreakpoint(){const{breakpointMask:e,pageMetrics:t}=this.options;return!e||(!t||e.includes(t.breakpoint))}remove(){this.el.removeEventListener("focus",this.onVoFocus)}}},function(e,t,i){"use strict";var s={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};e.exports=i(27)(s)},function(e,t,i){"use strict";const s=i(4),r=i(13),n=i(35),a=i(14),o=i(55),l=i(116),h=i(117),c=i(36),u=i(118),d=i(54),p=i(56),{cssAttributes:m}=i(57);class f{constructor(e,t){this.controller=e,this.anchors=[],this.jsonProps=t,this.ease=e.group.defaultEase,this.easeFunction=o.linear,this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask=s.KeyframeDefaults.breakpointMask,this.disabledWhen=[],this.keyframeType=s.KeyframeTypes.Interpolation,this.hold=!1,this.preserveState=!1,this.markedForRemoval=!1;let i=!1;Object.defineProperty(this,"hidden",{get:()=>i,set(t){i=t,e.group.keyframesDirty=!0}}),this.uuid=p(),this.destroyed=!1}destroy(){this.destroyed=!0,this.controller=null,this.disabledWhen=null,this.anchors=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}remove(){return this.controller.removeKeyframe(this)}parseOptions(e){this.jsonProps=e,e.relativeTo&&console.error(`KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':"${e.relativeTo}"`),void 0===e.end&&void 0===e.duration&&(e.end=e.start),""!==e.anchors&&e.anchors?(this.anchors=[],e.anchors=Array.isArray(e.anchors)?e.anchors:[e.anchors],e.anchors.forEach(((t,i)=>{let s=u(t,this.controller.group.element);if(!s){let s="";return"string"==typeof t&&(s=" Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."),void console.warn("Keyframe on",this.controller.element,` failed to find anchor at index ${i} in array`,e.anchors,`. Anchors must be JS Object references, Elements references, or valid query selector strings. ${s}`)}this.anchors.push(s),this.controller.group.metrics.add(s)}))):(this.anchors=[],e.anchors=[]),e.ease?this.ease=parseFloat(e.ease):e.ease=this.ease,e.hasOwnProperty("snapAtCreation")?this.snapAtCreation=e.snapAtCreation:e.snapAtCreation=this.snapAtCreation,e.easeFunction||(e.easeFunction=s.KeyframeDefaults.easeFunctionString),e.breakpointMask?this.breakpointMask=e.breakpointMask:e.breakpointMask=this.breakpointMask,e.disabledWhen?this.disabledWhen=Array.isArray(e.disabledWhen)?e.disabledWhen:[e.disabledWhen]:e.disabledWhen=this.disabledWhen,e.hasOwnProperty("hold")?this.hold=e.hold:e.hold=this.hold,e.hasOwnProperty("preserveState")?this.preserveState=e.preserveState:e.preserveState=s.KeyframeDefaults.preserveState,this.easeFunction=o[e.easeFunction],o.hasOwnProperty(e.easeFunction)||(e.easeFunction.includes("bezier")?this.easeFunction=l.fromCSSString(e.easeFunction):e.easeFunction.includes("spring")?this.easeFunction=h.fromCSSString(e.easeFunction):console.error("Keyframe parseOptions cannot find 'easeFunction' named '"+e.easeFunction+"'"));for(let t in e){if(-1!==s.KeyframeJSONReservedWords.indexOf(t))continue;let i=e[t];if(Array.isArray(i)){if(1===i.length&&(i[1]=i[0],i[0]=null),void 0===this.controller.tweenProps[t]||!this.controller._ownerIsElement){let a=0;this.controller._ownerIsElement||(a=this.controller.element[t]||0);const o=t.startsWith("--");let l=i[2]||(o||["opacity","z-index","font-weight","zIndex","fontWeight"].includes(t)?void 0:"px"),h=this.controller.group.anim.plugins.keyframe.reduce(((i,s)=>i||s.parseProp.call(this,e,t)),null);if(!h&&this.controller._ownerIsElement&&(o||m.includes(t))){let i=d(t),r=e.round||["zIndex"].includes(i);a=parseFloat(this.controller.getTargetComputedStyle().getPropertyValue(i)),isNaN(a)&&(a=0),h=new n(a,s.KeyframeDefaults.epsilon,this.snapAtCreation,t,r,l),this.controller.cssAttributes.push(h)}h||(h=new r(a,s.KeyframeDefaults.epsilon,this.snapAtCreation,t,e.round,l)),this.controller.tweenProps[t]=h}this.animValues[t]=this.controller.group.expressionParser.parseArray(this,i),this.controller.tweenProps[t].calculateEpsilon(e,this.animValues[t])}}this.keyframeType=this.hold?s.KeyframeTypes.InterpolationForward:s.KeyframeTypes.Interpolation,e.event&&(this.event=e.event)}overwriteProps(e){this.animValues={};let t=Object.assign({},this.jsonProps,e);this.controller.updateKeyframe(this,t)}updateLocalProgress(e){if(this.start===this.end||e<this.start||e>this.end)return this.localT=e<this.start?this.hold?this.localT:0:e>this.end?1:0,void(this.curvedT=this.easeFunction(this.localT));const t=(e-this.start)/(this.end-this.start),i=this.hold?this.localT:0;this.localT=a.clamp(t,i,1),this.curvedT=this.easeFunction(this.localT)}reconcile(e){this.controller.tweenProps[e].reconcile(this.animValues[e],this.curvedT)&&(this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}reset(e){this.localT=e||0;let t=this.ease;this.ease=1;for(let e in this.animValues)this.reconcile(e);this.ease=t}onDOMRead(e){let t=this.controller.tweenProps[e].update(this.animValues[e],this.curvedT,this.ease);return""===this.event||this.needsEventDispatch||t&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)),t}isInRange(e){return e>=this.start&&e<=this.end}setEnabled(e){e=e||c(Array.from(document.documentElement.classList));let t=-1!==this.breakpointMask.indexOf(s.pageMetrics.breakpoint),i=!1;return this.disabledWhen.length>0&&(i=this.disabledWhen.some((t=>void 0!==e[t]))),this.isEnabled=t&&!i,this.isEnabled}evaluateConstraints(){this.start=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.start),this.end=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.end),this.evaluateInterpolationConstraints()}evaluateInterpolationConstraints(){for(let e in this.animValues){let t=this.jsonProps[e];this.animValues[e]=this.controller.group.expressionParser.parseArray(this,t)}}}f.DATA_ATTRIBUTE="data-anim-tween",e.exports=f},function(e,t,i){"use strict";const s=i(3).EventEmitterMicro,r=i(4),n={create:i(11),update:i(6),draw:i(5)},a=()=>{};let o=0;e.exports=class extends s{constructor(e){super(),this.el=e.el,this.gum=e.gum,this.componentName=e.componentName,this._keyframeController=null}destroy(){this.el=null,this.gum=null,this._keyframeController=null,super.destroy()}addKeyframe(e){const t=e.el||this.el;return(e.group||this.anim).addKeyframe(t,e)}addDiscreteEvent(e){e.event=e.event||"Generic-Event-Name-"+o++;let t=void 0!==e.end&&e.end!==e.start;const i=this.addKeyframe(e);return t?(e.onEnterOnce&&i.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&i.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&i.controller.on(e.event+":enter",e.onEnter),e.onExit&&i.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&i.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&i.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&i.controller.on(e.event,e.onEvent),e.onEventReverse&&i.controller.on(e.event+":reverse",e.onEventReverse)),i}addRAFLoop(e){let t=["start","end"];if(!t.every((t=>e.hasOwnProperty(t))))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+t.join(" "));const i=new n.create;i.on("update",e.onUpdate||a),i.on("draw",e.onDraw||a),i.on("draw",(()=>i.run()));const{onEnter:s,onExit:r}=e;return e.onEnter=()=>{i.run(),s&&s()},e.onExit=()=>{i.cancel(),r&&r()},this.addDiscreteEvent(e)}addContinuousEvent(e){e.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),e.event=e.event||"Generic-Event-Name-"+o++;let t=this.addKeyframe(e);return t.controller.on(e.event,e.onDraw),t}mounted(){}onResizeImmediate(e){}onResizeDebounced(e){}onBreakpointChange(e){}get anim(){return this.gum.anim}get keyframeController(){return this._keyframeController||(this._keyframeController=this.anim.getControllerForTarget(this.el))}get pageMetrics(){return r.pageMetrics}}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SuperFramesLoaded=t.SELECTOR_FLOW=t.ManifestReady=t.Loaded=t.EVENT_LOAD_SUCCESS=t.EVENT_LOAD_START=t.EVENT_LOAD_FAILURE=t.ChapterFramesLoaded=t.CLASSNAMES=void 0;var r=s(i(12)),n=s(i(69)),a=s(i(39)),o=i(70),l=i(7);const{ManifestReady:h,ChapterFramesLoaded:c,SuperFramesLoaded:u,Loaded:d}=n.default.Events;t.Loaded=d,t.SuperFramesLoaded=u,t.ChapterFramesLoaded=c,t.ManifestReady=h;const p="EVENT_LOAD_START";t.EVENT_LOAD_START=p;const m="EVENT_LOAD_FAILURE";t.EVENT_LOAD_FAILURE=m;const f="EVENT_LOAD_SUCCESS";t.EVENT_LOAD_SUCCESS=f;const _={START:"load-start",READY:"load-ready",LOADED:"load-complete",FAILURE:"load-failure"};t.CLASSNAMES=_;t.SELECTOR_FLOW="[data-flow]";class g extends r.default{constructor(e){super(),this.component=e.component,this.el=e.el,this.canvas=this.el.querySelector("[data-flow-canvas]"),this.destroyed=!1,this._loadKeyframe=null,this._playbackKeyframe=null,this._flow=null,this._flowTimeout=null;const t=this.el.dataset.flowRetinaEnabled;this._flowOptions={enableRetina:void 0!==t&&"false"!==t,loadMargin:e.loadMargin||"200vh",loadTimeout:parseInt(this.el.dataset.flowLoadTimeout,10)||3e3},this._flowConfigOptions=e.flowConfigOptions,this._flowBreakpoints=e.breakpoints||"LMS",this._playbackConfig=e.playbackConfig,this._onLoadEnter=this._onLoadEnter.bind(this),this._onLoadExit=this._onLoadExit.bind(this),this._onFlowChapterFramesLoaded=this._onFlowChapterFramesLoaded.bind(this),this._onFlowLoadFailure=this._onFlowLoadFailure.bind(this),this._setupFlow(),this._setupFlowLoadKeyframe()}get flow(){return this._flow}set progress(e){0===e&&this.el.classList.remove("active"),1===e&&this.el.classList.add("ended"),e>0&&e<1&&(this.el.classList.add("active"),this.el.classList.remove("ended")),this._flow.progress=e}get playback(){return this._playbackKeyframe}get stoppedLoading(){return this._flow&&this._flow.destroyed||this._flow&&this.flow.hasFullyLoaded}destroy(){this.destroyed||(super.destroy(),this._flow&&!this.destroyed&&(this._flow.imageLoadQueue&&this._flow.stopLoading(),this._flow.destroy(),this._loadKeyframe&&this._loadKeyframe.remove(),this._playbackKeyframe&&this._playbackKeyframe.remove(),this.destroyed=!0))}_setupFlow(){this._flow=(0,o.createFlowInstance)(this.el,{currentBreakpoint:this.component.pageMetrics.breakpoint,supportedBreakpoints:this._flowBreakpoints,...this._flowConfigOptions}),this._flow.once(c,(()=>{this._onFlowChapterFramesLoaded()})),this._flow.once(d,(()=>{this.el.classList.add(_.LOADED),this.trigger(f,this)}))}_setupFlowLoadKeyframe(){const e=this._flowOptions.loadMargin;this._loadKeyframe=this.component.addDiscreteEvent({el:this.el,start:`t - ${e}`,end:`b + ${e}`,event:"load",onEnter:this._onLoadEnter,onExit:this._onLoadExit})}_pauseFlowLoading(){this.stoppedLoading||this._flow.hasLoadedChapterFrames&&this._flow.stopLoading()}_setupPlaybackKeyframe(){this._playbackKeyframe=this.component.addContinuousEvent({el:this._flow,progress:[0,1],onDraw:()=>{},start:"a0t",end:"a0b",anchors:[this.el],...this._playbackConfig})}_onLoadEnter(){if(this.stoppedLoading)return;this.trigger(p,this),this.el.classList.add(_.START);const e=this._flow.startLoading();e&&e.catch((e=>{l.DevLogger.error(`${this.el.dataset.flowName}: flow loading error:`,e),this._onFlowLoadFailure()})),this._flowTimeout||this._flow.hasLoadedChapterFrames||(this._flowTimeout=setTimeout((()=>{this._flow.hasLoadedChapterFrames||this._onFlowLoadFailure()}),this._flowOptions.loadTimeout))}_onLoadExit(){this._pauseFlowLoading()}_onFlowChapterFramesLoaded(){this.el.classList.add(_.READY),l.DevLogger.log(`${this.el.dataset.flowName}: Flow chapters loaded`);const{start:e,end:t}=this._loadKeyframe.jsonProps,i={target:this.el},s=a.default.parse(e,i),r=a.default.parse(t,i);window.scrollY>s&&window.scrollY<r||this._pauseFlowLoading(),this._playbackConfig&&this._setupPlaybackKeyframe()}_onFlowLoadFailure(){this.trigger(m,this),this.el.classList.add(_.FAILURE),this.destroy()}}t.default=g},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VIDEO_LOADED=t.VIDEO_ENDED=t.ANIM_BREAKPOINT_MAP=void 0;var r=s(i(12)),n=s(i(6)),a=s(i(71)),o=s(i(10)),l=s(i(74)),h=s(i(75)),c=s(i(77)),u=s(i(76)),d=s(i(43)),p=s(i(177)),m=i(67),f=i(7);const{MEDIA_LOAD_ERROR:_,MEDIA_LOAD_COMPLETE:g,LOADING_STATE_CHANGE:y,PLAYBACK_STATE_CHANGE:v}=o.default,b=g;t.VIDEO_LOADED=b;const E="VIDEO_ENDED";t.VIDEO_ENDED=E;const w=d.default;t.ANIM_BREAKPOINT_MAP=w;const x=[l.default,h.default,p.default];class A extends r.default{constructor(e){super(),this.el=e.el,this._logLabel=e.logLabel||this._els.video.id||"media",this._showLogs=void 0!==e.showLogs&&(e.showLogs&&!1),this._els={container:this.el.querySelector("[data-inline-media-container]"),video:this.el.querySelector("[data-inline-media]"),startframe:this.el.querySelector("[data-inline-media-startframe]"),endframe:this.el.querySelector("[data-inline-media-endframe]")},this._loadKeyframe=e.loadKeyframe||null,this._playKeyframe=e.playKeyframe||null,this._pauseOnExit=e.pauseOnExit||!1,this._resetOnExit=e.resetOnExit||!1,this._autoplay="true"===this._els.video.dataset.inlineMediaAutoplay,this._basePath=this._els.video.dataset.inlineMediaBasepath;const t=e.customViewports&&this._setupCustomViewportOptions(e.customViewports);this._mediaOptions={el:this._els.video,anim:e.anim,pauseOnExit:this._pauseOnExit,resetOnExit:this._resetOnExit,basePath:this._basePath,plugins:[...x,...e.loadTimeout?[u.default]:[],...e.playPauseButton?[c.default]:[]],...t&&{animBreakpointMap:t.animBreakpointMap,currentViewport:t.currentViewport}},this._loadKeyframe&&(this._mediaOptions.loadKeyframe=this._loadKeyframe),this._playKeyframe&&(this._mediaOptions.playKeyframe=this._playKeyframe),this._destroy=this._destroy.bind(this),this._onVideoTransitionComplete=this._onVideoTransitionComplete.bind(this),this._onVideoEndTransitionComplete=this._onVideoEndTransitionComplete.bind(this),this._media=null,this._loadedResolver=null,this._loadedPromise=new Promise(((e,t)=>{this._loadedResolver=e})),this._playPromiseResolver=null,this._disabledClassname=getComputedStyle(this._els.video).getPropertyValue("--video-disabled-classname").trim()||"video-disabled"}init(){const e=this._mediaOptions.customViewportOptions;e&&!e.currentViewport||(this._setupMedia(),this._setupMediaListeners())}destroy(){this._destroy()}play(e){if(!this._els.video.duration)return;if(void 0!==e&&(this.progress=e),"playing"===this._media.playbackState)return;this._playPromise=new Promise((e=>{this._playPromiseResolver=e}));const t=this._media.play();void 0!==t?t.then(this._playPromiseResolver):this._playPromiseResolver()}pause(e){this._els.video.duration&&(void 0!==e&&(this.progress=e),"paused"!==this._media.playbackState&&this._playPromise.then((()=>{this._media.el.pause()})))}reset(){this.pause(0)}playOnLoaded(){this._loadedPromise.then((()=>this.play(0)))}get mediaOptions(){return this._mediaOptions}set mediaOptions(e){this._mediaOptions=e}get video(){return this._els.video}get state(){return this._media.playbackState}get progress(){return this._els.video.duration?this._els.video.currentTime/this._els.video.duration:0}set progress(e){this._els.video.duration&&(this._els.video.currentTime=this._els.video.duration*e)}get name(){return this._els.video.dataset.inlineMediaName}_setupMedia(){this._media=new a.default(this.mediaOptions),this._media.on(u.default.LOAD_TIMEOUT_EVENT,this._destroy)}_setupMediaListeners(){this._els.video.addEventListener("transitionend",this._onVideoTransitionComplete),this._media.on(_,(e=>{this._showLogs&&f.DevLogger.error(`${this._logLabel}: load error:`,e),this._destroy()})),this._media.on(y,(()=>{this._showLogs&&f.DevLogger.log(`${this._logLabel}: loading state change: ${this._media.loadingState}`),"loaded"===this._media.loadingState&&this._media.off(y)})),this._media.once(g,(()=>{this._showLogs&&f.DevLogger.log(`${this._logLabel}: load complete: ${this._media.loadingState}`),this._loadedResolver(),this.trigger(b,this)})),this._media.on(v,(()=>{this._showLogs&&f.DevLogger.log(`${this._logLabel}: playback state change: ${this._media.playbackState}`),this._media&&"ended"===this._media.playbackState&&(this.trigger(E,this),this._els.endframe.addEventListener("transitionend",this._onVideoEndTransitionComplete))}))}_onVideoTransitionComplete(){this._els.video.removeEventListener("transitionend",this._onVideoTransitionComplete),this._autoplay&&this._media.play()}_onVideoEndTransitionComplete(){this._els.endframe.removeEventListener("transitionend",this._onVideoEndTransitionComplete)}_destroy(){this._els.video&&this._els.video.removeEventListener("transitionend",this._onVideoTransitionComplete),this._els.endframe&&this._els.endframe.removeEventListener("transitionend",this._onVideoEndTransitionComplete),this._playKeyframe&&this._playKeyframe.controller&&this._playKeyframe.remove(),(0,n.default)((()=>{const e=this._els.container.classList;e.contains(this._disabledClassname)||(e.add(this._disabledClassname),this._media&&("loading"===this._media.loadingState&&this._media.abortLoad(),this._media.destroy()))}))}_setupCustomViewportOptions(e){const t={};Object.keys(e).forEach((i=>{t[i]=e[i].alias}));const i=(0,m.setViewportListener)({viewports:e});i.on(m.EVT_VIEWPORT_GROUP_CHANGED,(()=>{i.destroy(),this.destroy()}));return{currentViewport:i.active.values().next().value,animBreakpointMap:t}}}t.default=A},function(e,t,i){"use strict";e.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},function(e,t,i){"use strict";e.exports={SharedInstance:i(128)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={EMPTY:"loading-empty",LOADING:"loading",LOADED:"loaded",ERROR:"loading-error",DISABLED:"loading-disabled"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={IDLE:"idle",PLAYING:"playing",PAUSED:"paused",ENDED:"ended"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i,s){const r=i[0].toUpperCase()+i.slice(1),n=e["inlineMedia"+r];if(void 0!==n)switch(typeof s){case"boolean":return"false"!==n;case"object":return JSON.parse(n);case"number":return Number(n);default:return n}else if(void 0!==t[i]){const e=t[i];return"boolean"!=typeof s||"false"!==e&&"true"!==e?e:"false"!==e}return s}},function(e,t,i){"use strict";var s=i(28),r=i(29);function n(e,t){if("function"==typeof e.parseVersion)return e.parseVersion(t);var i,s=e.version||e.userAgent;"string"==typeof s&&(s=[s]);for(var r,n=s.length,a=0;a<n;a++)if((r=t.match((i=s[a],new RegExp(i+"[a-zA-Z\\s/:]+([0-9_.]+)","i"))))&&r.length>1)return r[1].replace(/_/g,".");return!1}function a(e,t,i){for(var s,r,a=e.length,o=0;o<a;o++)if("function"==typeof e[o].test?!0===e[o].test(i)&&(s=e[o].name):i.ua.indexOf(e[o].userAgent)>-1&&(s=e[o].name),s){if(t[s]=!0,"string"==typeof(r=n(e[o],i.ua))){var l=r.split(".");t.version.string=r,l&&l.length>0&&(t.version.major=parseInt(l[0]||0),t.version.minor=parseInt(l[1]||0),t.version.patch=parseInt(l[2]||0))}else"edge"===s&&(t.version.string="12.0.0",t.version.major="12",t.version.minor="0",t.version.patch="0");return"function"==typeof e[o].parseDocumentMode&&(t.version.documentMode=e[o].parseDocumentMode()),t}return t}e.exports=function(e){var t={};return t.browser=a(r.browser,s.browser,e),t.os=a(r.os,s.os,e),t}},function(e,t,i){"use strict";e.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,edgeChromium:!1,samsung:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},function(e,t,i){"use strict";e.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(e){return e.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===e.ua}},{name:"edgeChromium",userAgent:"Edge",version:["rv","Edg"],test:function(e){return e.ua.indexOf("Edg")>-1&&-1===e.ua.indexOf("Edge")}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(e){return e.ua.indexOf("Firefox")>-1&&-1===e.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(e){return e.ua.indexOf("Safari")>-1&&e.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(e){return e.ua.indexOf("IE")>-1||e.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var e=!1;return document.documentMode&&(e=parseInt(document.documentMode,10)),e}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]},{name:"samsung",userAgent:"SamsungBrowser"}],os:[{name:"windows",test:function(e){return e.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(e){return e.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(e){return e.ua.indexOf("iPhone")>-1||e.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(e){return(e.ua.indexOf("Linux")>-1||e.platform.indexOf("Linux")>-1)&&-1===e.ua.indexOf("Android")}},{name:"fireos",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(e){return e.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},,,function(e,t,i){"use strict";const s=i(33),r=i(34);e.exports={PictureLazyLoading:s,PictureHead:r}},function(e,t,i){"use strict";const s=i(2).PICTURE_DATA_LAZY,r=i(2).PICTURE_DATA_EMPTY_SOURCE,n=i(2).PICTURE_DATA_DOWNLOAD_AREA_KEYFRAME;e.exports=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this._init()}_init(){this._pictures=Array.from(document.querySelectorAll(`*[${s}]`)),this.AnimSystem=this._findAnim(),null!==this.AnimSystem&&(this._injectSources(),this._addKeyframesToImages(),this._addMethodsToPictures())}_addMethodsToPictures(){this._pictures.forEach((e=>{e.forceLoad=()=>{this._downloadImage(e)}}))}_injectSources(){this._pictures.forEach((e=>{const t=e.nextElementSibling;if(t&&"NOSCRIPT"===t.nodeName){const i=e.querySelector("img"),s=t.textContent.match(/<source .+ \/>/g);s&&i.insertAdjacentHTML("beforebegin",s.join(""))}}))}_defineKeyframeOptions(e){const t=e.getAttribute(n)||"{}";return Object.assign({},{start:"t - 200vh",end:"b + 100vh",event:"PictureLazyLoading"},JSON.parse(t))}_addKeyframesToImages(){this._pictures.forEach((e=>{e.__scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this.AnimSystem.getGroupForTarget(e)&&(e.__scrollGroup=this.AnimSystem.getGroupForTarget(e));let t=this._defineKeyframeOptions(e);e.__scrollGroup.addKeyframe(e,t).controller.once("PictureLazyLoading:enter",(()=>{this._imageIsInLoadRange(e)}))}))}_imageIsInLoadRange(e){e.querySelector("img")&&this._downloadImage(e)}_downloadImage(e){const t=e.querySelector(`[${r}]`);t&&e.removeChild(t)}_findAnim(){var e=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return e.map((e=>e._animInfo?e._animInfo.group:null)).filter((e=>null!==e)),e[0]&&e[0]._animInfo?e[0]._animInfo.group.anim:(console.error("PictureLazyLoading: AnimSystem not found, please initialize anim before instantiating"),null)}}},function(e,t,i){"use strict";const s=i(2).PICTURE_CLASS_LOADED,r=i(2).PICTURE_DATA_LOADED,n=i(2).PICTURE_DATA_EMPTY_SOURCE;e.exports=(window.__pictureElementInstancesLoaded=new Map,void(window.__lp=function(e){const t=e.target.parentElement;t.querySelector(`[${n}]`)?e.stopImmediatePropagation():(t.classList.add(`${s}`),t.setAttribute(`${r}`,""),window.__pictureElementInstancesLoaded.set(t.id,t),e.target.onload=null)}))},function(e,t,i){"use strict";const s=i(13),r=i(54);e.exports=class extends s{constructor(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;super(e,t,i,s=r(s),n,a)}set(e){let t=this.current;this.round&&(t=Math.round(t)),this.suffix&&(t+=this.suffix),e.setProperty(this.key,t)}}},function(e,t,i){"use strict";e.exports=function(e){return e.reduce(((e,t)=>(e[t]=t,e)),{})}},function(e,t,i){"use strict";const s=i(18),r=i(4),n=i(13);class a extends s{constructor(e,t){super(e,t),this.keyframeType=r.KeyframeTypes.CSSClass,this._triggerType=a.TRIGGER_TYPE_CSS_CLASS,this.cssClass="",this.friendlyName="",this.style={on:null,off:null},this.toggle=r.KeyframeDefaults.toggle,this.isApplied=!1}parseOptions(e){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(e.x=void 0,e.y=void 0,e.z=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotationX=void 0,e.rotationY=void 0,e.rotationZ=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,void 0!==e.toggle&&(this.toggle=e.toggle),void 0!==e.cssClass)this._triggerType=a.TRIGGER_TYPE_CSS_CLASS,this.cssClass=e.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===e.style||!this.isValidStyleProperty(e.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=a.TRIGGER_TYPE_STYLE_PROPERTY,this.style=e.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off){this.style.off={};for(let e in this.style.on)this.style.off[e]=""}void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===e.end&&(e.end=e.start),e.toggle=this.toggle,this._triggerType===a.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{let e=getComputedStyle(this.controller.element);this.isApplied=!0;for(let t in this.style.on)if(e[t]!==this.style.on[t]){this.isApplied=!1;break}}s.prototype.parseOptions.call(this,e),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new n(0,1,!1,this.friendlyName)),this.keyframeType=r.KeyframeTypes.CSSClass}updateLocalProgress(e){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&e>=this.start&&e<=this.end?this._apply():this.isApplied&&this.toggle&&(e<this.start||e>this.end)&&this._unapply():!this.isApplied&&e>=this.start?this._apply():this.isApplied&&this.toggle&&e<this.start&&this._unapply())}_apply(){if(this._triggerType===a.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(let e in this.style.on)this.controller.tweenProps.targetStyles[e]=this.style.on[e];this.controller.needsStyleUpdate=!0}this.isApplied=!0}_unapply(){if(this._triggerType===a.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(let e in this.style.off)this.controller.tweenProps.targetStyles[e]=this.style.off[e];this.controller.needsStyleUpdate=!0}this.isApplied=!1}isValidStyleProperty(e){if(!e.hasOwnProperty("on"))return!1;if("object"!=typeof e.on)throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");if(this.toggle&&e.hasOwnProperty("off")&&"object"!=typeof e.off)throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");return!0}reconcile(e){}onDOMRead(e){}evaluateInterpolationConstraints(){}}a.TRIGGER_TYPE_CSS_CLASS=0,a.TRIGGER_TYPE_STYLE_PROPERTY=1,a.DATA_ATTRIBUTE="data-anim-classname",e.exports=a},function(e,t,i){"use strict";const s=i(3).EventEmitterMicro,r=i(14),n=i(36),a=i(4),o=i(59),l=i(119),h=i(120),c=i(60),u=i(39),d=i(122),p={};"undefined"!=typeof window&&(p.create=i(11),p.update=i(6),p.draw=i(5));let m=0;e.exports=class extends s{constructor(e,t){super(),this.anim=t,this.element=e,this.name=this.name||e.getAttribute("data-anim-scroll-group"),this.isEnabled=!0,this.position=new l,this.metrics=new c,this.metrics.add(this.element),this.expressionParser=new u(this),this.boundsMin=0,this.boundsMax=0,this.timelineUpdateRequired=!1,this._keyframesDirty=!1,this.viewableRange=this.createViewableRange(),this.defaultEase=a.KeyframeDefaults.ease,this.keyframeControllers=[],this.updateProgress(this.getPosition()),this.onDOMRead=this.onDOMRead.bind(this),this.onDOMWrite=this.onDOMWrite.bind(this),this.gui=null,this.computedStyleCache={},this.finalizeInit()}finalizeInit(){this.element._animInfo=new o(this,null,!0),this.setupRAFEmitter()}destroy(){this.destroyed=!0,this.expressionParser.destroy(),this.expressionParser=null;for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].destroy();this.keyframeControllers=null,this.position=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,super.destroy()}removeKeyframeController(e){return this.keyframeControllers.includes(e)?(e._allKeyframes.forEach((e=>e.markedForRemoval=!0)),this.keyframesDirty=!0,new Promise((t=>{p.draw((()=>{const i=this.keyframeControllers.indexOf(e);-1!==i?(this.keyframeControllers.splice(i,1),e.onDOMWrite(),e.destroy(),this.gui&&this.gui.create(),t()):t()}))}))):Promise.resolve()}remove(){return this.anim.removeGroup(this)}clear(){return Promise.all(this.keyframeControllers.map((e=>this.removeKeyframeController(e))))}setupRAFEmitter(e){this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=e||new p.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",(()=>this.reconcile()))}requestDOMChange(){return!!this.isEnabled&&this.rafEmitter.run()}onDOMRead(){this.keyframesDirty&&this.onKeyframesDirty();for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMRead(this.position.local)}onDOMWrite(){for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMWrite();this.needsUpdate()&&this.requestDOMChange(),this.computedStyleCache={}}needsUpdate(){if(this._keyframesDirty)return!0;for(let e=0,t=this.keyframeControllers.length;e<t;e++)if(this.keyframeControllers[e].needsUpdate())return!0;return!1}addKeyframe(e,t){let i=this.getControllerForTarget(e);return null===i&&(i=new d(this,e),this.keyframeControllers.push(i)),this.keyframesDirty=!0,i.addKeyframe(t)}addEvent(e,t){t.event=t.event||"Generic-Event-Name-"+m++;let i=void 0!==t.end&&t.end!==t.start;const s=this.addKeyframe(e,t);return i?(t.onEnterOnce&&s.controller.once(t.event+":enter",t.onEnterOnce),t.onExitOnce&&s.controller.once(t.event+":exit",t.onExitOnce),t.onEnter&&s.controller.on(t.event+":enter",t.onEnter),t.onExit&&s.controller.on(t.event+":exit",t.onExit)):(t.onEventOnce&&s.controller.once(t.event,t.onEventOnce),t.onEventReverseOnce&&s.controller.once(t.event+":reverse",t.onEventReverseOnce),t.onEvent&&s.controller.on(t.event,t.onEvent),t.onEventReverse&&s.controller.on(t.event+":reverse",t.onEventReverse)),s}forceUpdate(){let{waitForNextUpdate:e=!0,silent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isEnabled&&(this.refreshMetrics(),this.timelineUpdateRequired=!0,e?this.keyframesDirty=!0:this.onKeyframesDirty({silent:t}))}onKeyframesDirty(){let{silent:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.determineActiveKeyframes(),this.keyframesDirty=!1,this.metrics.refreshMetrics(this.element),this.viewableRange=this.createViewableRange();for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].updateAnimationConstraints();this.updateBounds(),this.updateProgress(this.getPosition()),e||this.updateTimeline(),this.gui&&this.gui.create()}refreshMetrics(){let e=new Set([this.element]);this.keyframeControllers.forEach((t=>{e.add(t.element),t._allKeyframes.forEach((t=>t.anchors.forEach((t=>e.add(t)))))})),this.metrics.refreshCollection(e),this.viewableRange=this.createViewableRange()}reconcile(){for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].reconcile()}determineActiveKeyframes(e){e=e||n(Array.from(document.documentElement.classList));for(let t=0,i=this.keyframeControllers.length;t<i;t++)this.keyframeControllers[t].determineActiveKeyframes(e)}updateBounds(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);let e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(let t=0,i=this.keyframeControllers.length;t<i;t++)this.keyframeControllers[t].getBounds(e);let t=this.convertTValueToScrollPosition(e.min),i=this.convertTValueToScrollPosition(e.max);i-t<a.pageMetrics.windowHeight?(e.min=this.convertScrollPositionToTValue(t-.5*a.pageMetrics.windowHeight),e.max=this.convertScrollPositionToTValue(i+.5*a.pageMetrics.windowHeight)):(e.min-=.001,e.max+=.001),this.boundsMin=e.min,this.boundsMax=e.max,this.timelineUpdateRequired=!0}createViewableRange(){return new h(this.metrics.get(this.element),a.pageMetrics.windowHeight)}_onBreakpointChange(e,t){this.keyframesDirty=!0,this.determineActiveKeyframes()}updateProgress(e){this.hasDuration()?(this.position.localUnclamped=(e-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a),this.position.local=r.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}performTimelineDispatch(){for(let e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].updateLocalProgress(this.position.local);this.trigger(a.EVENTS.ON_TIMELINE_UPDATE,this.position.local),this.trigger("update",this.position.local),this.timelineUpdateRequired=!1,this.position.lastPosition!==this.position.local&&(this.position.lastPosition<=this.boundsMin&&this.position.localUnclamped>this.boundsMin?(this.trigger(a.EVENTS.ON_TIMELINE_START,this),this.trigger("start",this)):this.position.lastPosition>=this.boundsMin&&this.position.localUnclamped<this.boundsMin?(this.trigger(a.EVENTS.ON_TIMELINE_START+":reverse",this),this.trigger("start:reverse",this)):this.position.lastPosition<=this.boundsMax&&this.position.localUnclamped>=this.boundsMax?(this.trigger(a.EVENTS.ON_TIMELINE_COMPLETE,this),this.trigger("complete",this)):this.position.lastPosition>=this.boundsMax&&this.position.localUnclamped<this.boundsMax&&(this.trigger(a.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this),this.trigger("complete:reverse",this))),null!==this.gui&&this.gui.onScrollUpdate(this.position)}updateTimeline(e){if(!this.isEnabled)return!1;void 0===e&&(e=this.getPosition()),this.updateProgress(e);let t=this.position.lastPosition===this.boundsMin||this.position.lastPosition===this.boundsMax,i=this.position.localUnclamped===this.boundsMin||this.position.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&t&&i&&this.position.lastPosition===e)return void(this.position.local=this.position.localUnclamped);if(this.timelineUpdateRequired||this.position.localUnclamped>this.boundsMin&&this.position.localUnclamped<this.boundsMax)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);let s=this.position.lastPosition>this.boundsMin&&this.position.lastPosition<this.boundsMax,r=this.position.localUnclamped<=this.boundsMin||this.position.localUnclamped>=this.boundsMax;if(s&&r)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);const n=this.position.lastPosition<this.boundsMin&&this.position.localUnclamped>this.boundsMax,a=this.position.lastPosition>this.boundsMax&&this.position.localUnclamped<this.boundsMax;(n||a)&&(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped),null!==this.gui&&this.gui.onScrollUpdate(this.position)}_onScroll(e){this.updateTimeline(e)}convertScrollPositionToTValue(e){return this.hasDuration()?r.map(e,this.viewableRange.a,this.viewableRange.d,0,1):0}convertTValueToScrollPosition(e){return this.hasDuration()?r.map(e,0,1,this.viewableRange.a,this.viewableRange.d):0}hasDuration(){return this.viewableRange.a!==this.viewableRange.d}getPosition(){return a.pageMetrics.scrollY}getControllerForTarget(e){if(!e._animInfo||!e._animInfo.controllers)return null;if(e._animInfo.controller&&e._animInfo.controller.group===this)return e._animInfo.controller;const t=e._animInfo.controllers;for(let e=0,i=t.length;e<i;e++)if(t[e].group===this)return t[e];return null}trigger(e,t){if(void 0!==this._events[e])for(let i=this._events[e].length-1;i>=0;i--)void 0!==t?this._events[e][i](t):this._events[e][i]()}set keyframesDirty(e){this._keyframesDirty=e,this._keyframesDirty&&this.requestDOMChange()}get keyframesDirty(){return this._keyframesDirty}}},function(e,t,i){"use strict";const s=i(121),r=new(i(60));class n{constructor(e){this.group=e,this.data={target:null,anchors:null,metrics:this.group.metrics}}parseArray(e,t){return[this.parseExpression(e,t[0]),this.parseExpression(e,t[1])]}parseExpression(e,t){if(!t)return null;if("number"==typeof t)return t;if("string"!=typeof t)throw`Expression must be a string, received ${typeof t}: ${t}`;return this.data.target=e.controller.element,this.data.anchors=e.anchors,this.data.keyframe=e.keyframe,this.group.anim.plugins.parser.reduce(((i,s)=>i||s.parseExpression.call(this,e,t)),null)||n._parse(t,this.data)}parseTimeValue(e,t){if("number"==typeof t)return t;let i=this.group.expressionParser.parseExpression(e,t);return this.group.convertScrollPositionToTValue(i)}destroy(){this.group=null}static parse(e,t){return(t=t||{})&&(r.clear(),t.target&&r.add(t.target),t.anchors&&t.anchors.forEach((e=>r.add(e)))),t.metrics=r,n._parse(e,t)}static _parse(e,t){return s.Parse(e).execute(t)}}n.programs=s.programs,"undefined"!=typeof window&&(window.ExpressionParser=n),e.exports=n},function(e,t,i){"use strict";var s=i(15);e.exports=s.requestAnimationFrame("external")},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.setupPageXpUnenhanceListener=function(e,t,i){0;e.isEnhanced[i]&&e.once(n.UNENHANCE_EVENTS[i],t)},t.turnOffFeatureDetectClass=function(e){return new Promise(((t,i)=>{(0,r.default)((()=>{document.documentElement.classList.remove(e),document.documentElement.classList.add(`no-${e}`),t()}))}))};var r=s(i(5)),n=i(9);t.debounce=(e,t)=>{let i;return function(){const s=()=>e.apply(this,arguments);clearTimeout(i),i=setTimeout(s,t)}}},function(e,t,i){"use strict";e.exports=i(73)("warn")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={S:"small",M:"medium",L:"large",X:"xlarge"}},function(e,t,i){"use strict";const s=i(12),r=i(181),n=i(183),a=i(184),o=i(185),l=i(186),h=i(187),c=i(188),u=i(80),d=i(82),p=["beforeCreate","created","beforeMount","createItems","itemsCreated","mounted","animateToItem","onItemChangeInitiated","onItemChangeOccurred","onItemChangeCompleted","onResizeImmediate","onBreakpointChange","onResizeDebounced","destroy"];class m extends s{constructor(e){var t;super(e),t=this,this.el=e.el,this.model=Object.assign({options:e},JSON.parse(JSON.stringify(r))),this.model.Item.ConstructorFunction=r.Item.ConstructorFunction,this._items=[],this.currentIndex=0,p.forEach((e=>{this[e]=function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];t[`__${e}`]&&t[`__${e}`].forEach((e=>e.apply(t,s)))}}));const i=this.destroy;this.destroy=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];i.apply(t,r),s.prototype.destroy.call(t)},this.on(r.Events.ITEM_CHANGE_INITIATED,this.onItemChangeInitiated),this.on(r.Events.ITEM_CHANGE_OCCURRED,this.onItemChangeOccurred),this.on(r.Events.ITEM_CHANGE_COMPLETED,this.onItemChangeCompleted),["beforeCreate","created","beforeMount","createItems"].forEach((t=>this[t](e)))}}m.withMixins=function(){const e=class extends m{},t=e.prototype;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return s.unshift(n,l,o,d),s.push(h,u,a,c),s.forEach((e=>{for(const i in e)p.includes(i)?(t[`__${i}`]=t[`__${i}`]||[],t[`__${i}`].push(e[i])):t[i]=e[i]})),e},e.exports=m},function(e,t,i){"use strict";var s=i(15);e.exports=s.cancelAnimationFrame("draw")},function(e,t,i){"use strict";e.exports={onItemChangeOccurred(e){const{previous:t,current:i}=this.selections.occurred;t&&t!==i&&t.deselect(),i.select()}}},function(e,t,i){"use strict";const s=["INPUT","SELECT","TEXTAREA"];e.exports={created(){this.handleIntersect=this.handleIntersect.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.observer=new IntersectionObserver(this.handleIntersect),this.observer.observe(this.el),this.isInView=!1},destroy(){window.removeEventListener("keydown",this.onKeyDown),this.observer.disconnect(),this.observer=null,this.isInView=!1},handleIntersect(e){e.forEach((e=>{this.isInView=e.isIntersecting,e.isIntersecting?window.addEventListener("keydown",this.onKeyDown):window.removeEventListener("keydown",this.onKeyDown)}))},onKeyDown(e){if(37!==e.keyCode&&39!==e.keyCode||this.inputHasFocus())return;let t=this.model.IsRTL?-1:1,i=37===e.keyCode?-1:1;this.lastInteractionEvent=e;const s=this.currentIndex+i*t;this.animateToItem(s)},inputHasFocus:function(){return-1!==s.indexOf(document.activeElement.nodeName)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SATPolygon=t.SATPoint=t.HANDLE_RADIUS=void 0;class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=t}set magnitude(e){if(0===this.magnitude)return;let t=e/this.magnitude;this.x*=t,this.y*=t}get magnitude(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}normalize(){this.magnitude=1}clone(){let e=new s;return e.x=this.x,e.y=this.y,e}}t.SATPoint=s;t.HANDLE_RADIUS=10;class r{constructor(e){this.el=e.el,this.vertices=e.vertices||[],0===this.vertices.length&&(this.vertices=r.createPolygon().vertices),this._collisionInfo=null,this.x=e.x||0,this.y=e.y||0,this.scale=e.scale||1,this.rotation=e.rotation||0,this.vx=e.vx||0,this.vy=e.vy||0,this.mass=e.mass||50*this.scale,this.showGuides=e.showGuides,this.showGuides&&(this.el.classList.add("show-guides"),this.stats=this.el.querySelector("[data-droplet-stats]"),this._canvas=document.createElement("canvas"),this._canvas.setAttribute("data-polygon",!0),this._canvas.width=this.el.offsetWidth,this._canvas.height=this.el.offsetHeight,this.el.appendChild(this._canvas),this._ctx=this._canvas.getContext("2d"),this._drawShape())}set x(e){this._x=e,this.el.style.setProperty("--shape-x",`${e}px`)}get x(){return this._x}set y(e){this._y=e,this.el.style.setProperty("--shape-y",`${e}px`)}get y(){return this._y}set scale(e){this._scale=e,this.el.style.setProperty("--shape-scale",e)}get scale(){return this._scale}set rotation(e){this._rotation=e,this.el.style.setProperty("--shape-rotation",`${e}deg`)}get rotation(){return this._rotation}set vx(e){this._vx=e,this.el.style.setProperty("--shape-vx",e)}get vx(){return this._vx}set vy(e){this._vy=e,this.el.style.setProperty("--shape-vy",e)}get vy(){return this._vy}set mass(e){this._mass=e,this.el.style.setProperty("--shape-mass",e)}get mass(){return this._mass}set collisionInfo(e){this._collisionInfo=e;const t=e?"red":"grey";this._drawShape(t),this.showGuides&&this.stats&&(this.stats.textContent=e?e.distance.toFixed(2):"0")}get collisionInfo(){return this._collisionInfo}update(){this.x+=this.vx,this.y+=this.vy,this.rotation+=this.vx,this.showGuides&&this.stats&&(this.stats.textContent=this.collisionInfo?this.collisionInfo.distance.toFixed(2):"0")}clone(){return new r({vertices:this.vertices,x:this.x,y:this.y,rotation:this.rotation,scale:this.scale})}getTransformedVerts(){return this.vertices.map((e=>{let t=e.clone();if(0!==this.rotation){let i=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)),s=Math.atan2(e.y,e.x);s+=this.rotation*(Math.PI/180),t.x=Math.cos(s)*i,t.y=Math.sin(s)*i}return 0!==this.scale&&(t.x*=this.scale,t.y*=this.scale),t}))}_drawShape(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"grey";if(!this.showGuides)return;"grey"===e?this.el.classList.remove("active"):this.el.classList.add("active"),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.strokeStyle=e,this._ctx.beginPath();const t=this.el.offsetWidth/2,i=this.el.offsetHeight/2;let s=this.vertices[this.vertices.length-1];this._ctx.moveTo(t+s.x,i+s.y);for(let e=0;e<this.vertices.length;e++)s=this.vertices[e],this._ctx.lineTo(t+s.x,i+s.y);this._ctx.stroke(),this._ctx.beginPath(),this._ctx.arc(t,i,10,0,2*Math.PI),this._ctx.fillStyle="rgba(0,0,255,0.3)",this._ctx.fill()}static createPolygon(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;e=e<3?Math.max(3,Math.round(10*Math.random())):Math.round(e);let i=[],n=2*Math.PI/e,a=0;for(let r=0;r<e;r++){a=r*n+.5*(Math.PI-n);let e=new s(Math.cos(a)*t,Math.sin(a)*t);i.push(e)}return new r({vertices:i})}}t.SATPolygon=r},,,,,function(e,t,i){"use strict";e.exports=class{}},function(e,t,i){"use strict";e.exports=function(e){return e.startsWith("--")?e:e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))}},function(e,t,i){"use strict";e.exports=new class{constructor(){this.linear=function(e){return e},this.easeInQuad=function(e){return e*e},this.easeOutQuad=function(e){return e*(2-e)},this.easeInOutQuad=function(e){return e<.5?2*e*e:(4-2*e)*e-1},this.easeInSin=function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},this.easeOutSin=function(e){return Math.sin(Math.PI/2*e)},this.easeInOutSin=function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2},this.easeInElastic=function(e){return 0===e?e:(.04-.04/e)*Math.sin(25*e)+1},this.easeOutElastic=function(e){return.04*e/--e*Math.sin(25*e)},this.easeInOutElastic=function(e){return(e-=.5)<0?(.02+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1},this.easeOutBack=function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},this.easeInCubic=function(e){return e*e*e},this.easeOutCubic=function(e){return--e*e*e+1},this.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},this.easeInQuart=function(e){return e*e*e*e},this.easeOutQuart=function(e){return 1- --e*e*e*e},this.easeInOutQuart=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},this.easeInQuint=function(e){return e*e*e*e*e},this.easeOutQuint=function(e){return 1+--e*e*e*e*e},this.easeInOutQuint=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}}},function(e,t,i){"use strict";e.exports=()=>Math.random().toString(16).slice(-4)},function(e,t,i){"use strict";let s=["borderRadius","bottom","fontSize","fontWeight","height","left","lineHeight","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","opacity","paddingBottom","paddingLeft","paddingRight","paddingTop","right","top","width","zIndex","color","backgroundColor","fill","stroke","strokeDashoffset"];s.push(...s.map((e=>e.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())))));e.exports={transformAttributes:["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],cssAttributes:s,domAttributes:["currentTime","scrollLeft","scrollTop"]}},function(e,t,i){"use strict";const s=i(18),r=i(4),n=i(13);class a extends s{constructor(e,t){super(e,t),this.keyframeType=r.KeyframeTypes.Event,this.isApplied=!1,this.hasDuration=!1,this.isCurrentlyInRange=!1}parseOptions(e){e.x=void 0,e.y=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotation=void 0,e.style=void 0,e.cssClass=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,this.event=e.event,this.animValues[this.event]=[0,0],void 0===this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new n(0,1,!1,this.event)),super.parseOptions(e),this.keyframeType=r.KeyframeTypes.Event}updateLocalProgress(e){if(this.hasDuration){let t=this.isCurrentlyInRange,i=e>=this.start&&e<=this.end;if(t===i)return;return this.isCurrentlyInRange=i,void(i&&!t?this._trigger(this.event+":enter"):t&&!i&&this._trigger(this.event+":exit"))}!this.isApplied&&e>=this.start?(this.isApplied=!0,this._trigger(this.event)):this.isApplied&&e<this.start&&(this.isApplied=!1,this._trigger(this.event+":reverse"))}_trigger(e){this.controller.eventObject.event=e,this.controller.eventObject.keyframe=this,this.controller.trigger(e,this.controller.eventObject)}evaluateConstraints(){super.evaluateConstraints(),this.hasDuration=this.start!==this.end}reset(e){this.isApplied=!1,this.isCurrentlyInRange=!1,super.reset(e)}onDOMRead(e){}reconcile(e){}evaluateInterpolationConstraints(){}}a.DATA_ATTRIBUTE="data-anim-event",e.exports=a},function(e,t,i){"use strict";const s=i(53);e.exports=class{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isGroup=i,this.group=e,this.controller=t,this.controllers=[],this.tweenProps=new s}}},function(e,t,i){"use strict";const s=i(4),r=(e,t)=>null==e?t:e;class n{constructor(e){this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}toString(){return`top:${this.top}, bottom:${this.bottom}, left:${this.left}, right:${this.right}, height:${this.height}, width:${this.width}`}toObject(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}e.exports=class{constructor(){this.clear()}clear(){this._metrics=new WeakMap}destroy(){this._metrics=null}add(e){let t=this._metrics.get(e);if(t)return t;let i=new n(e);return this._metrics.set(e,i),this._refreshMetrics(e,i)}get(e){return this._metrics.get(e)}refreshCollection(e){e.forEach((e=>this._refreshMetrics(e,null)))}refreshMetrics(e){return this._refreshMetrics(e)}_refreshMetrics(e,t){if(t=t||this._metrics.get(e),!(e instanceof Element))return t.width=r(e.width,0),t.height=r(e.height,0),t.top=r(e.top,r(e.y,0)),t.left=r(e.left,r(e.x,0)),t.right=t.left+t.width,t.bottom=t.top+t.height,t;if(void 0===e.offsetWidth){let i=e.getBoundingClientRect();return t.width=i.width,t.height=i.height,t.top=s.pageMetrics.scrollY+i.top,t.left=s.pageMetrics.scrollX+i.left,t.right=t.left+t.width,t.bottom=t.top+t.height,t}t.width=e.offsetWidth,t.height=e.offsetHeight,t.top=s.pageMetrics.documentOffsetY,t.left=s.pageMetrics.documentOffsetX;let i=e;for(;i;)t.top+=i.offsetTop,t.left+=i.offsetLeft,i=i.offsetParent;return t.right=t.left+t.width,t.bottom=t.top+t.height,t}}},function(e,t,i){"use strict";var s=i(23).SharedInstance,r=i(62).majorVersionNumber,n=i(63);e.exports=s.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,n)},function(e,t,i){"use strict";e.exports={majorVersionNumber:"3.x"}},function(e,t,i){"use strict";var s,r=i(12);function n(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(s=n.prototype).frameRequestedPhase="requested",s.startPhase="start",s.runPhases=["update","external","draw"],s.endPhase="end",s.disabledPhase="disabled",s.beforePhaseEventPrefix="before:",s.afterPhaseEventPrefix="after:",s.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},s.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},s.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},s.getSubscribeID=function(){return this._totalSubscribeCount+=1},s.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},s.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},s.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},s._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},s._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},s._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},s._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},s._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},e.exports=n},function(e,t,i){"use strict";const s=i(4);class r{constructor(e,t){this._index=0,this.keyframe=e,t&&(this.name=t)}get start(){return this.keyframe.jsonProps.start}set index(e){this._index=e}get index(){return this._index}}e.exports=class{constructor(e){this.timeGroup=e,this.chapters=[],this.chapterNames={},this.currentChapter=null,this.tween=null}addChapter(e){const{position:t,name:i}=e;if(void 0===t)throw ReferenceError("Cannot add chapter without target position.");e._impIsFirst||0!==this.chapters.length||this.addChapter({position:0,_impIsFirst:!0});let s=this.timeGroup.addKeyframe(this,{start:t,end:t,event:"Chapter"});this.timeGroup.forceUpdate({waitForNextFrame:!1,silent:!0});const n=new r(s,i);if(this.chapters.push(n),i){if(this.chapterNames.hasOwnProperty(i))throw ReferenceError(`Duplicate chapter name assigned - "${i}" is already in use`);this.chapterNames[i]=n}return this.chapters.sort(((e,t)=>e.start-t.start)).forEach(((e,t)=>e.index=t)),this.currentChapter=this.currentChapter||this.chapters[0],n}playToChapter(e){let t;if(e.hasOwnProperty("index"))t=this.chapters[e.index];else{if(!e.hasOwnProperty("name"))throw ReferenceError("Cannot play to chapter without target index or name");t=this.chapterNames[e.name]}if(!t||this.currentChapter===t&&!0!==e.force)return;let i=e.ease||"easeInOutCubic";this.tween&&this.tween.controller&&(this.tween.remove(),i="easeOutQuint"),this.timeGroup.timeScale(e.timeScale||1);const r=void 0!==e.duration?e.duration:this.getDurationToChapter(t),n=this.timeGroup.time(),a=t.start;let o=!1;this.tween=this.timeGroup.anim.addTween({time:n},{easeFunction:i,duration:r,time:[n,a],onStart:()=>this.timeGroup.trigger(s.EVENTS.ON_CHAPTER_INITIATED,{player:this,next:t}),onDraw:e=>{let i=e.tweenProps.time.current;this.timeGroup.time(i),e.keyframe.curvedT>.5&&!o&&(o=!0,this.currentIndex=t.index,this.currentChapter=t,this.timeGroup.trigger(s.EVENTS.ON_CHAPTER_OCCURRED,{player:this,current:t}))},onComplete:()=>{this.timeGroup.trigger(s.EVENTS.ON_CHAPTER_COMPLETED,{player:this,current:t}),this.timeGroup.paused(!0),this.tween=null}})}getDurationToChapter(e){const t=this.chapters[e.index-1]||this.chapters[e.index+1];return Math.abs(t.start-e.start)}}},function(e,t,i){"use strict";var s=i(15);e.exports=s.cancelAnimationFrame("update")},function(e,t,i){"use strict";e.exports={BaseComponent:i(19)}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setViewportListener=t.default=t.EVT_VIEWPORT_GROUP_CHANGED=void 0;var r=s(i(12)),n=i(41);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return;const t=["only screen"],i=Object.keys(e).slice(1).map((t=>{const i=e[t],s=[];for(let e=0;e<i.length;e++){const r=i[e];if(r){const i=0===e?"min":"max";s.push(`(${i}-${t}: ${r}px)`)}}return s})).flat();return t.push(i),t.flat().join(" and ")},o="EVT_VIEWPORT_CHANGED";class l extends r.default{constructor(e){super(),this.label=e.name,this._mql=window.matchMedia(e.mediaQuery),this.active=this._mql.matches,this._onMatch=this._onMatch.bind(this),this._mql.addEventListener?this._mql.addEventListener("change",this._onMatch):this._mql.addListener(this._onMatch)}_onMatch(e){this.active=e.matches,this._events&&this.trigger(o,this)}destroy(){this._mql.removeEventListener?this._mql.removeEventListener("change",this._onMatch):this._mql.removeListener(this._onMatch),super.destroy()}}const h="EVT_VIEWPORT_GROUP_CHANGED";t.EVT_VIEWPORT_GROUP_CHANGED=h;class c extends r.default{constructor(e){super(),this._viewports=e,this.active=new Set,this.inactive=new Set,this._onGroupMatch=this._onGroupMatch.bind(this),this._onGroupMatchDebounced=(0,n.debounce)((()=>this.trigger(h,this)),50),this._listeners=this._viewports.map((e=>{const t=new l(e);t.on(o,this._onGroupMatch);return(t.active?this.active:this.inactive).add(t.label),t}))}destroy(){this._listeners.forEach((e=>e.destroy())),this.active.clear(),this.inactive.clear(),super.destroy()}hasAny(e){return e.filter((e=>this.active.has(e))).length>0}_onGroupMatch(e){const{active:t,label:i}=e;t?(this.active.add(i),this.inactive.delete(i)):(this.inactive.add(i),this.active.delete(i)),this._onGroupMatchDebounced()}}t.default=c;t.setViewportListener=e=>{const t=new c(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((t=>({name:t,mediaQuery:a(e[t])})))}(e.viewports));return t.viewports=e.viewports,t}},function(e,t,i){"use strict";const s=e=>parseInt(window.getComputedStyle(document.documentElement).getPropertyValue(e),10);e.exports={ENHANCED_VIEWPORTS:{S:{alias:"small",width:[315,734],height:[480,850]},M:{alias:"medium",width:[735,1068],height:[550,1500]},L:{alias:"large",width:[1069,1440],height:[550,1500]},X:{alias:"xlarge",width:[1441,2600],height:[550,1500]}},SASSKIT_VIEWPORTS:{S:{alias:"small",width:[null,s("--bp-max-w-S")],height:[null,null]},M:{alias:"medium",width:[s("--bp-min-w-M"),s("--bp-max-w-M")],height:[null,null]},L:{alias:"large",width:[s("--bp-min-w-L"),s("--bp-max-w-L")],height:[null,null]},X:{alias:"xlarge",width:[s("--bp-min-w-X"),null],height:[null,null]}}}},function(e,t,i){"use strict";const s=i(145),r=i(152),n=i(153),{EventEmitterMicro:a}=i(3),o=i(160);class l extends a{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"jpg",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:4;super(),this.destroyed=!1,t instanceof HTMLCanvasElement&&(t=new s(t)),this.glCanvas=t,this.canvasElement=t.canvas,this.fps=i,this.filetype=r,this.workerUrl=n,this.hurriedThreshold=a,this.imageLoadConcurrency=o,this._createManifestPath(e),this.hasLoadedChapterFrames=!1,this.hasLoadedSuperFrames=!1,this.hasFullyLoaded=!1,this.isManifestReady=!1,this.cachedImages={},this._progress=0,this._currentFrame=0,Object.defineProperty(this,"progress",{get(){return this._progress},set(e){if(this._progress=e,this.hasLoadedChapterFrames){let t=(this.manifest.frames.length-1)*e;t=this.getNearestLoadedFrameIndex(Math.round(t)),this.glCanvas.drawToFBO(0),this.goToFrame(t),this.glCanvas.composite()}}})}getNearestLoadedFrameIndex(e){return this.hasFullyLoaded?e:this.hasLoadedChapterFrames&&0!==this.chapterFrames.length?this.hasLoadedSuperFrames?this.getNearestSuperFrameIndex(e):this.hasLoadedChapterFrames?this.getNearestChapterFrameIndex(e):void 0:0}getNearestChapterFrameIndex(e){let t=0;for(let i=0;i<this.chapterFrames.length&&!(this.chapterFrames[i]>e);i++)t=this.chapterFrames[i];return t}getNearestSuperFrameIndex(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=0;for(let t=0;t<this.superFrames.length&&!(this.superFrames[t]>e);t++)i=this.superFrames[t];if(t){let t=this.getNearestChapterFrameIndex(e);if(Math.abs(t-e)<4)return t}return i}_loadImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.imageLoadQueue||(this.imageLoadQueue=new o(this.imageLoadConcurrency)),this.imageLoadQueue.enqueueImage(e,t).then((e=>e))}_loadJSON(e){return new Promise(((t,i)=>{const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(4!==s.readyState||200!==s.status&&0!==s.status)4===s.readyState&&i(`Invalid HTTP state of ${s.status}`);else try{t({data:JSON.parse(s.responseText)})}catch(e){i(e)}},s.open("GET",e),s.send()}))}_loadImageForFrame(e){const t=this.manifest.frames[e];if(t.image)return t.image;let i=3;"chapter"===t.type?i=1:e%4==0&&(i=2);let s,r=e=>{let t=""+e;for(;t.length<3;)t="0"+t;return t};if("diff"===t.type)s=`${this.baseUrl}/${this.baseFilename}_${r(t.startImageIndex+1)}.${this.filetype}`;else{if("chapter"!==t.type&&"keyframe"!==t.type)throw"Unknown frame type.";s=`${this.baseUrl}/${this.baseFilename}_key_${r(e-1)}.${this.filetype}`}return this._loadImage(s,i).then((s=>{if(!this.destroyed)return e>1&&i<3&&this._currentFrame<1&&this.glCanvas.preWarmPoolForImage(s),t.image=s,t.image}))}_createManifestPath(e){this.manifestUrl=e;let t=e.match(/^(.+)\/([^\/]+)_manifest.json$/);n(t,"Invalid manifest URL."),this.baseUrl=t[1],this.baseFilename=t[2]}startLoading(){var e=this;if(!this.manifest){let t=`${this.baseUrl}/${this.baseFilename}_startframe.${this.filetype}`,i=this._loadJSON(this.manifestUrl),s=this._loadImage(t,1),n=null,a=this.workerUrl?new Worker(this.workerUrl):null;return this.imageLoadQueue.start(),Promise.all([i,s]).then((e=>{if(this.destroyed)return;let t=e[0];if(n=e[1],this.glCanvas.resizeCanvas(n.width,n.height),this._bitsetForNAND=new r(n.width/8),this._bitsetForNAND.setRange(0,n.width/8-1),t.data.frames.splice(0,0,{type:"keyframe",x:0,y:0,width:n.width,height:n.height,filename:`${this.baseFilename}_startframe.${this.filetype}`}),a)return new Promise(((e,i)=>{a.onmessage=i=>{let s=i.data;for(let e=0;e<s.length;e++)"diff"===s[e].type&&(t.data.frames[e].rowMasks=s[e].rowMasks.map((e=>new r(e))),t.data.frames[e].rowDiffLocations=s[e].rowDiffLocations);this.manifest=t.data,e()},a.postMessage([t.data,this.canvasElement.width,this.canvasElement.height])}));this._processManifest(t.data)})).then((()=>{if(!this.destroyed&&(this.glCanvas.modifyPoolSize(this.manifest.frameCount),this.isManifestReady=!0,this.trigger(l.Events.ManifestReady),this.manifest.frames[0].image=n,this.glCanvas.drawToFBO(0),this._applyFrame(0),this.glCanvas.composite(),this.chapterFrames=this.manifest.frames.filter((e=>"chapter"===e.type)).map((e=>this.manifest.frames.indexOf(e))),this.chapterFrames.length>0)){let e=[];return this.chapterFrames.forEach((t=>{e.push(this._loadImageForFrame(t))})),Promise.all(e)}})).then((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.destroyed)return;e.chapters=t,e.progress=e.progress,e.hasLoadedChapterFrames=!0,e.trigger(l.Events.ChapterFramesLoaded);let i=[];e.superFrames=[];for(let t=4;t<e.manifest.frames.length;t+=4)i.push(e._loadImageForFrame(t)),e.superFrames.push(t);return Promise.all(i)})).then((()=>{if(this.destroyed)return;this.hasLoadedSuperFrames=!0,this.trigger(l.Events.SuperFramesLoaded),this.progress=this.progress;let e=[];for(let t=1;t<this.manifest.frames.length;t++)t%4!=0&&e.push(this._loadImageForFrame(t));return Promise.all(e).then((()=>{if(this.destroyed)return Promise.reject("destroyed");this.hasFullyLoaded=!0,this.trigger(l.Events.Loaded)}))}))}this.imageLoadQueue.start()}stopLoading(){this.imageLoadQueue.stop()}goToFrame(e){let t=e;n(t>=0&&t<this.manifest.frames.length,"Frame out of range.");let i=[],s=t>this._currentFrame?1:-1,r=!1,a=null;if(Math.abs(this._currentFrame-t)>=this.hurriedThreshold&&(t=this.superFrames?this.getNearestSuperFrameIndex(t):this.getNearestChapterFrameIndex(t)),t===this._currentFrame)return;for(let e=this._currentFrame+s;t>this._currentFrame&&e<=t||t<this._currentFrame&&e>=t;e+=s){if(r)if(e%4==0)r=!1;else{if(!(this.manifest.frames[e].image&&["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0))continue;r=!1}if(this.manifest.frames[e].image)if(["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0)i=[e],a=e;else{if(e%4==0&&e<this.manifest.frames.length-4){let t=e-4*s,r=Math.min(t,e),n=Math.max(t,e);i=i.filter((e=>e<=r||e>=n)),a&&i.indexOf(t)<0&&i.push(a),a=null}i.push(e)}else{for(;i.length>0&&i[i.length-1]%4>0;)i.pop();r=!0}}let o=i.length;for(;i.length>0;){let e=i.shift();this._applyFrame(e,i),this._currentFrame=e}o>0&&this.trigger(l.Events.TimeUpdate,this)}_processManifest(e){n(e&&5===e.version,"Invalid manifest. Manifest must be version 5. Please select the Optimize for Anim checkbox in the Flow app."),e.frames=e.frames.map((e=>this._parseFrame(e))),this.manifest=e}_valueForCharAt(e,t){var i=e.charCodeAt(t);return i>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:void 0}_createNumberFromBase64Range(e,t,i){for(var s=0;i--;)s+=this._valueForCharAt(e,t++)<<6*i;return s}_parseFrame(e){var t=this.canvasElement.width/8,i=this.canvasElement.height/8,s=e.value,n=e.startImageIndex,a=e.startBlockIndex;if("keyframe"===e.type||"chapter"===e.type)return{type:e.type,width:e.width,height:e.height,x:e.x,y:e.y};let o=[],l=[],h=a;for(let e=0;e<i;e++)o.push(new r(t)),l.push({});for(let e=0;e<s.length;e+=5){let i=this._createNumberFromBase64Range(s,e,3),r=this._createNumberFromBase64Range(s,e+3,2);for(let e=i;e<i+r;e++){let i=Math.floor(e/t),s=e%t;o[i].set(s);try{l[i][""+s]=h}catch(e){}h++}}return{type:"diff",startImageIndex:n,rowMasks:o,rowDiffLocations:l}}_applyFrame(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0?this._applyKeyframe(e):this._applyDiffFrame(e,t)}catch(e){console.log(e)}}_applyKeyframe(e){n(e>=0&&e<this.manifest.frames.length,"Frame out of range."),n(["chapter","keyframe"].indexOf(this.manifest.frames[e].type)>=0,"Invalid attempt to play a diff as a keyframe."),n(this.manifest.frames[e].image,"Attempted to play an unloaded frame."),this.glCanvas.drawImage(this.manifest.frames[e].image,0,0)}_applyDiffFrame(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n(e>=0&&e<this.manifest.frames.length,"Frame out of range."),n("diff"===this.manifest.frames[e].type,"Invalid attempt to play a keyframe as a diff.");const i=this.canvasElement.width/8,s=this.manifest.frames[e].image,r=s.width/8;for(let n=0;n<this.manifest.frames[e].rowMasks.length;n++){let a=this.manifest.frames[e].rowMasks[n],o=this.manifest.frames[e].rowDiffLocations[n],l=this._rangesFromRowMask(a,o,n,i,r);if(l.length<1)continue;let h=t.map((e=>this.manifest.frames[e].rowMasks[n])),c=a;for(;h.length>0;){let e=h.pop();c=c.and(e.xor(this._bitsetForNAND))}let u=this._rangesFromRowMask(c,o,n,i,r);u.length>l.length&&(u=l);for(let e=0;e<u.length;e++)this._applyDiffRange(u[e],s,r,i)}}_rangesFromRowMask(e,t,i,s,n){let a=[],o=null;if(e.isEqual(new r(s)))return[];let l=s;for(let r=0;r<l;r++)if(e.get(r)){for(o={location:i*s+r,length:1,block:t[r]},o.block;++r<l&&e.get(r);){0===(o.block+o.length)%n?(a.push(o),o={location:o.location+o.length,length:1,block:t[r]}):o.length++}a.push(o)}return a}_applyDiffRange(e,t,i,s){var r=e.block,n=r%i*8,a=8*Math.floor(r/i),o=8*e.length,l=e.location%s*8,h=8*Math.floor(e.location/s);this.glCanvas.drawImage(t,n,a,o,8,l,h,o,8)}destroy(){this.destroyed||(this.glCanvas.gl&&this.glCanvas.destroy(),this.glCanvas=null,this.manifest=null,this.cachedImages=null,this.chapterFrames=null,this.superFrames=null,this.chapters=null,this.destroyed=!0,super.destroy())}}l.Events={Loaded:"loaded",ChapterFramesLoaded:"chapterframes-loaded",SuperFramesLoaded:"superframes-loaded",ManifestReady:"manifest-ready",TimeUpdate:"timeupdate"},e.exports=l},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createFlowInstance=t.DEFAULT_FLOW_OPTIONS=void 0;var r=s(i(69));const n={L:"large",M:"medium",S:"small"},a={LOCALE:"{{locale}}",BASE:"{{basepath}}",NAME:"{{name}}",BP:"{{bp}}",RES:"{{res}}"},o=e=>void 0===e||"false"===e,l="SML",h=(e,t)=>{if(t.includes(e)||"L"===e)return e;const i=(e=>{const t=l.indexOf(e),i=l.substring(t+1,t+2);return""===i?l.slice(-1):i})(e);return h(i,t)},c={fps:30,fileType:"jpg",workerPath:"/ac/ac-flow-micro/1/ac-flow-worker-min.js",hurry:3,loadLimit:4};t.DEFAULT_FLOW_OPTIONS=c;t.createFlowInstance=(e,t)=>{const{currentBreakpoint:i,supportedBreakpoints:s,locale:l,...u}=t,d=((e,t,i)=>{i=i||"us";const{flowLocale:s,flowBasepath:r,flowName:l,flowRetinaEnabled:h}=e.dataset,c=o(s)||""===s?i:s,u=n[t],d=window.devicePixelRatio>1&&!o(h)?"_2x":"",{LOCALE:p,BASE:m,NAME:f,BP:_,RES:g}=a;return`/105/media/${p}/${m}/${f}/${_}${g}/flow/flow_manifest.json`.replace(p,c).replace(m,r).replace(f,l).replace(_,u).replace(g,d)})(e,h(i,s),l),p=e.querySelector("[data-flow-canvas]"),m=u||c;return new r.default(d,p,...Object.values(m))}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.pluginCache=t.default=void 0;var r=s(i(12)),n=s(i(162)),a=s(i(168)),o=s(i(10));const l={};t.pluginCache=l;const h=[];let c=1;class u extends r.default{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.el=e.el||document.createElement("video"),this.id=e.id||this.el.id||this.el.dataset.inlineMediaId||"inlineMedia-"+c++;const t=(e.plugins||[]).concat(n.default);this._initPlugins(t,e),h.push(this)}async load(e){for(const t of this.plugins)if("function"==typeof t.load)return t.load(e)}abortLoad(){for(const e of this.plugins)if("function"==typeof e.abortLoad){e.abortLoad();break}}async play(){for(const e of this.plugins)if("function"==typeof e.play)return e.play()}get src(){for(const e of this.plugins)if(e.src)return e.src;return""}get playbackState(){for(const e of this.plugins){const t=e.playbackState;if(void 0!==t)return t}}get loadingState(){for(const e of this.plugins){const t=e.loadingState;if(void 0!==t)return t}}_initPlugins(e,t){this.plugins=[],this.pluginMap=new Map;for(let i of e){if("string"==typeof i){if(!l[i])throw new Error(`Trying to use undefined Plugin named: ${i} . Ensure you call Media.addPlugin() first!`);i=l[i]}if(!1!==i.isSupported){const e=new i(Object.assign({media:this},t));this.plugins.push(e),this.pluginMap.set(i,e)}}this.trigger(o.default.MOUNTED)}destroy(){if(!this._destroyed){for(const e of this.plugins)"function"==typeof e.destroy&&e.destroy();super.destroy(),h.splice(h.indexOf(this),1),this._destroyed=!0}}static get medias(){return h}static addPlugin(e,t){l[e]=t}static async autoInitialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.default)(e,t)}}var d=u;t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={LOAD_START:"loadstart",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",PLAY:"play",PLAYING:"playing",PAUSE:"pause",WAITING:"waiting",SEEKING:"seeking",SEEKED:"seeked",ERROR:"error",ENDED:"ended",ABORT:"abort"}},function(e,t,i){"use strict";var s=i(165);e.exports=function(e){return function(){if(s&&"object"==typeof window.console&&"function"==typeof console[e])return console[e].apply(console,Array.prototype.slice.call(arguments,0))}}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(26)),n=s(i(8)),a=s(i(42));const o={start:"t - 200vh",end:"b + 100vh"};class l extends n.default{constructor(e){super(e),this._anim=e.anim,this._container=e.container||this.media.el.parentElement,this._scrollGroup=this.options.scrollGroup||this._anim.getGroupForTarget(this._container||this.media.el),this._initialize()}_initialize(){this._onLoadKeyframeEnter=this._onLoadKeyframeEnter.bind(this),this._onLoadKeyframeExit=this._onLoadKeyframeExit.bind(this);const e=(0,r.default)(this.media.el.dataset,this.options,"loadKeyframe",o);e.event||(e.event="inline-media-load-kf"),this._loadKeyframe=this._scrollGroup.addKeyframe(this.media.el,e),this._loadKeyframe.controller.on(`${this._loadKeyframe.event}:enter`,this._onLoadKeyframeEnter),this._loadKeyframe.controller.on(`${this._loadKeyframe.event}:exit`,this._onLoadKeyframeExit)}get loadKeyframe(){return this._loadKeyframe}async _onLoadKeyframeEnter(e){try{await this.media.load(),this._loaded=!0}catch(e){(0,a.default)("AnimLoad: Load error occured")}}_onLoadKeyframeExit(e){}destroy(){this._loadKeyframe.controller.off(`${this._loadKeyframe.event}:enter`,this._onLoadKeyframeEnter),this._loadKeyframe.controller.off(`${this._loadKeyframe.event}:exit`,this._onLoadKeyframeExit),super.destroy()}}t.default=l},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(10)),n=s(i(26)),a=s(i(8));const o={start:"t - 100vh",end:"b"};class l extends a.default{constructor(e){super(e),this._anim=e.anim,this._container=e.container||this.media.el.parentElement,this._scrollGroup=this.options.scrollGroup||this._anim.getGroupForTarget(this._container||this.media.el),this._initialize()}_initialize(){this._onPlayKeyframeEnter=this._onPlayKeyframeEnter.bind(this),this._onPlayKeyframeExit=this._onPlayKeyframeExit.bind(this);const e=this.media.el.dataset;if(this._autoPlayWithReducedMotion=(0,n.default)(e,this.options,"autoPlayWithReducedMotion",!1),!this._autoPlayWithReducedMotion&&l.prefersReducedMotion)return;this._pauseOnExit=(0,n.default)(e,this.options,"pauseOnExit",!1),this._resetOnExit=(0,n.default)(e,this.options,"resetOnExit",!1);const t=(0,n.default)(e,this.options,"playKeyframe",o);t.event||(t.event="inline-media-play-kf"),this._playKeyframe=this._scrollGroup.addKeyframe(this.media.el,t),this._playKeyframe.controller.on(`${this._playKeyframe.event}:enter`,this._onPlayKeyframeEnter),this._playKeyframe.controller.on(`${this._playKeyframe.event}:exit`,this._onPlayKeyframeExit),this._onLoadStart=this._onLoadStart.bind(this),this.media.on(r.default.MEDIA_LOAD_START,this._onLoadStart)}_onLoadStart(){this._loaded=!1}async _onPlayKeyframeEnter(e){if(this._inFrame=!0,!this._paused&&(this._loaded||(await this.media.load(),this._loaded=!0),this._inFrame))try{await this.media.play()}catch(e){}}_onPlayKeyframeExit(e){this._inFrame=!1,this._loaded&&this.media.el.paused&&!this.media.el.ended?this._paused=!0:this._pauseOnExit&&(this._paused=!1,this.media.el.pause()),this._loaded&&this._resetOnExit&&(this.media.el.currentTime=0)}get playKeyframe(){return this._playKeyframe}destroy(){this._playKeyframe.controller.off(`${this._playKeyframe.event}:enter`,this._onPlayKeyframeEnter),this._playKeyframe.controller.off(`${this._playKeyframe.event}:exit`,this._onPlayKeyframeExit),this.media.off(r.default.MEDIA_LOAD_START,this._onLoadStart),super.destroy()}static get prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}}t.default=l},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(10));const a="inline-media-timeout";class o extends r.default{static get LOAD_TIMEOUT_EVENT(){return a}constructor(e){super(e);const t=this.media.el.dataset;this._timeoutDelay=t.loadTimeout||e.loadTimeout||3e4,this._onLoadStart=this._onLoadStart.bind(this),this._onLoadComplete=this._onLoadComplete.bind(this),this._onTimerComplete=this._onTimerComplete.bind(this),this.media.on(n.default.MEDIA_LOAD_START,this._onLoadStart),this.media.on(n.default.MEDIA_LOAD_COMPLETE,this._onLoadComplete)}_onLoadStart(){clearTimeout(this._timer),this._timer=setTimeout(this._onTimerComplete,this._timeoutDelay)}_onLoadComplete(){clearTimeout(this._timer)}_onTimerComplete(){this.media.trigger(a),this.media.destroy(),this.media.el.parentElement&&this.media.el.parentElement.removeChild(this.media.el)}destroy(){clearTimeout(this._timer),this.media.off(n.default.MEDIA_LOAD_START,this._onLoadStart)}}t.default=o},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(10)),a=s(i(25));const o='[data-inline-media-control="PlayPause"]',l="[data-inline-media-controller='{id}']",h="Pause",c="Play",u="Replay",d={CLICK:"data-analytics-click",TITLE:"data-analytics-title"};class p extends r.default{constructor(e){super(e),this._container=e.container||this.media.el.parentElement,this._button=this._findButton(),this._onClick=this._onClick.bind(this),this._onPlaybackStateChange=this._onPlaybackStateChange.bind(this);const t=this._button.dataset;this._ariaLabels={playing:t.ariaPlaying||e.ariaPlaying||h,paused:t.ariaPaused||e.ariaPaused||c,ended:t.ariaEnded||e.ariaEnded||u},this._button.addEventListener("click",this._onClick),this.media.on(n.default.PLAYBACK_STATE_CHANGE,this._onPlaybackStateChange),this._activeAnalytics=Object.values(d).filter((e=>this._button.hasAttribute(e+"-play")&&this._button.hasAttribute(e+"-pause")||this._button.hasAttribute(e+"-replay")))}_findButton(){if(this.options.playPauseButton)return this.options.playPauseButton;let e=this._container.querySelector(`${o}`);if(!e){const t=document.querySelectorAll(l.replace("{id}",this.media.id));for(const i of t)e="PlayPause"===i.getAttribute("data-inline-media-control")?i:i.querySelector(`${o}`)}return e}_onPlaybackStateChange(){switch(this.media.playbackState){case a.default.PLAYING:this._button.setAttribute("aria-label",this._ariaLabels.playing);break;case a.default.ENDED:this._button.setAttribute("aria-label",this._ariaLabels.ended);break;default:this._button.setAttribute("aria-label",this._ariaLabels.paused)}this._setAnalyticsState()}_setAnalyticsState(){let e;switch(this.media.playbackState){case a.default.PLAYING:e="pause";break;case a.default.ENDED:e="replay";break;default:e="play"}for(const t of this._activeAnalytics){let i=e;"replay"!==e||this._button.hasAttribute(`${t}-${i}`)||(i="play"),this._button.setAttribute(t,this._button.getAttribute(`${t}-${i}`))}}_onClick(e){this.media.el.paused?this.media.play():this.media.el.pause()}destroy(){this._button.removeEventListener("click",this._onClick),this.media.off(n.default.PLAYBACK_STATE_CHANGE,this._onPlaybackStateChange)}}t.default=p},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(174));t.default=class{constructor(e){this._breakpoints=e.breakpoints||r.default,this.options=e,this._initialize()}_initialize(){this._updateBreakpoint=this._updateBreakpoint.bind(this),this._callback=this.options.callback,this._mediaQueries=Object.keys(this._breakpoints).map((e=>window.matchMedia(`(min-width: ${this._breakpoints[e]}px)`))),this._addEventListeners(),this._updateBreakpoint()}_addEventListeners(){for(const e of this._mediaQueries)e.addListener(this._updateBreakpoint)}_removeEventListeners(){for(const e of this._mediaQueries)e.removeListener(this._updateBreakpoint)}_updateBreakpoint(){const e=Object.keys(this._breakpoints);let t=e[0];for(let i=1;i<e.length;i++){if(!this._mediaQueries[i].matches)break;t=e[i]}let i=!1;this._currentBreakpoint&&this._currentBreakpoint!==t&&(i=!0),this._currentBreakpoint=t,i&&this._callback()}get breakpoint(){return this._currentBreakpoint}destroy(){this._removeEventListeners()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={VP:"{{vp}}",RES:"{{res}}"}},function(e,t,i){"use strict";const s=i(189),r=i(191);e.exports={itemsCreated(e){this._items.forEach(((e,t)=>{t===this.wrappedIndex(this.currentIndex)?r(e.el):s(e.el)}))},onItemChangeCompleted(e){const{previous:t,current:i}=this.selections.completed;t&&t!==i&&s(t.el),r(i.el)}}},function(e,t,i){"use strict";var s=i(190),r=function(){this.focusableSelectors=s.selectors},n=r.prototype;n.isFocusableElement=function(e,t,i){return!(t&&!this._isDisplayed(e))&&(s.nodeName[e.nodeName]?!e.disabled:!e.contentEditable||(i=i||parseFloat(e.getAttribute("tabindex")),!isNaN(i)))},n.isTabbableElement=function(e,t){if(t&&!this._isDisplayed(e))return!1;var i=e.getAttribute("tabindex");return i=parseFloat(i),isNaN(i)?this.isFocusableElement(e,t,i):i>=0},n._isDisplayed=function(e){var t=e.getBoundingClientRect();return(0!==t.top||0!==t.left||0!==t.width||0!==t.height)&&"hidden"!==window.getComputedStyle(e).visibility},n.getTabbableElements=function(e,t){for(var i=e.querySelectorAll(this.focusableSelectors),s=i.length,r=[],n=0;n<s;n++)this.isTabbableElement(i[n],t)&&r.push(i[n]);return r},n.getFocusableElements=function(e,t){for(var i=e.querySelectorAll(this.focusableSelectors),s=i.length,r=[],n=0;n<s;n++)this.isFocusableElement(i[n],t)&&r.push(i[n]);return r},e.exports=new r},function(e,t,i){"use strict";e.exports={itemsCreated(){if(!this.model.InitialIndexFromHashLink.Enabled||!this._items)return;const e=location.hash.slice(1);if(!e)return;const t=this._items.findIndex((t=>{let{id:i}=t;return i===e}));t>-1&&(this.currentIndex=t,this.model.InitialIndexFromHashLink.ScrollReset&&this._resetHorizontalScrollPosition())},_resetHorizontalScrollPosition(e){const t=e||this.el;0!==t.scrollLeft?t.scrollLeft=0:t!==document.body&&this._resetHorizontalScrollPosition(t.parentNode)}}},function(e,t,i){"use strict";const s=i(84),r=i(55);e.exports={mounted(){this.el.classList.remove("peeking"),this._items.forEach((e=>{e.measure(),e.x=0,e.zIndex=e===this.currentItem?2:0})),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:this,previous:null,current:this.currentItem})},animateToItem(e){if(this.currentIndex===e||this.currentIndex===this.wrappedIndex(e))return;this.el.parentElement.scrollLeft=0;let t=this.model.IsTouch?"easeOutCubic":"easeInOutCubic";this.clip&&this.clip._isPlaying&&(t="easeOutQuint",this.clip.destroy());const i=this.selections.occurred.previous,n=this.selections.occurred.current,a=this._items[this.wrappedIndex(e)];a.opacity=0,i&&(i.zIndex=0),n&&(n.zIndex=1),a.zIndex=2;let o=!1;this.clip=new s(this.model.Fade.duration,{ease:r[t],prepare:()=>this.trigger(this.model.Events.ITEM_CHANGE_INITIATED,{gallery:this,next:a}),update:e=>{e>.5&&!o&&(o=!0,this.currentIndex=a.index,this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:this,current:a})),a.opacity=e},draw:()=>{},finish:()=>{this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:this,current:a})}}),this.clip.play().then((()=>{this.clip.destroy(),this.clip=null}))},onResizeImmediate(){this.clip&&(this.clip.destroy(),this.clip=null),this.resetFadeItems()},resetFadeItems(){this._items.forEach((e=>{e.zIndex=e===this.currentItem?2:0,e.opacity=1}))},destroy(){this.clip&&this.clip.destroy(),this.resetFadeItems()}}},function(e,t,i){"use strict";const s=i(193),r=i(201),n=i(202),a=i(203),o=i(204),l=i(205);e.exports=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"!=typeof e||!isFinite(e))throw new TypeError(`Clip duration must be a finite number; got "${e}"`);"function"==typeof t&&(t={draw:t}),this.ease=a(t.ease),this.update=a(t.update),this.draw=t.draw,this.prepare=a(t.prepare),this.finish=a(t.finish),this._duration=1e3*e,this._startTime=null,this._isPrepared=!1,this._promise=null,this._isPlaying=!1}get isReversed(){return this._duration<0}get isComplete(){const e=this.progress;return!this.isReversed&&e>=1||this.isReversed&&e<=0}get progress(){if(0===this._duration)return 1;let e=(this.lastFrameTime-this._startTime)/this._duration;return this.isReversed&&(e=1+e),l(e,0,1)}get easedProgress(){return this.ease?this.ease(this.progress):this.progress}_run(e,t){this.lastFrameTime=Date.now(),null===this._startTime&&(this._startTime=this.lastFrameTime);const i=this.easedProgress;this.update&&s((()=>this._isPlaying&&this.update(i))),r((()=>{this._isPlaying&&(this.draw(i),this.isComplete?o(r,[this.finish,t]):this._run(this,t))}))}play(){if("function"!=typeof this.draw)throw new Error('Clip must be given a "draw" function as an option or have its "draw" method overriden.');return this._isPlaying=!0,this._promise||(this._promise=new Promise(((e,t)=>{!this._isPrepared&&this.prepare?(this._isPrepared=!0,r((()=>n(this.prepare(),(()=>{this._run(this,e)}))))):this._run(this,e)}))),this._promise}destroy(){this._isPlaying=!1,this.draw=this.finish=this.update=null}static play(){return new this(...arguments).play()}}},function(e,t,i){"use strict";var s=i(194),r=function(){this.events={}},n=r.prototype;n.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new s(e)),this.events[e].requestAnimationFrame},n.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new s(e)),this.events[e].cancelAnimationFrame},e.exports=new r},function(e,t,i){"use strict";let s;try{s=i(87).observer.Gallery}catch(e){}e.exports={created(e){this.analytics={lastTrackedItem:null,observer:null,name:this.el.getAttribute("data-analytics-gallery-id")||this.el.getAttribute("id"),events:{UPDATE:"update",UPDATE_COMPLETE:"update:complete"}}},mounted(){s&&(name||(console.warn("No ID attribute found on the Mixin Gallery element - please add an ID",this),name="null"),this.analytics.observer=new s(this,{galleryName:this.analytics.name,beforeUpdateEvent:this.analytics.events.UPDATE,afterUpdateEvent:this.analytics.events.UPDATE_COMPLETE,trackAutoRotate:!0}))},onItemChangeCompleted(e){if(!e.previous||e.current===this.analytics.lastTrackedItem||e.current===e.previous&&!this.analytics.lastTrackedItem)return;this.analytics.lastTrackedItem=e.current;let t={incoming:{id:e.current.analyticsId},outgoing:{id:e.previous.analyticsId},interactionEvent:this.lastInteractionEvent};this.trigger(this.analytics.events.UPDATE_COMPLETE,t)}}},function(e,t){e.exports=require("@marcom/ac-analytics")},function(e,t,i){"use strict";e.exports={ALERT:"alert",ALERTDIALOG:"alertdialog",BUTTON:"button",CHECKBOX:"checkbox",DIALOG:"dialog",GRIDCELL:"gridcell",LINK:"link",LOG:"log",MARQUEE:"marquee",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",MENUITEMRADIO:"menuitemradio",OPTION:"option",PROGRESSBAR:"progressbar",RADIO:"radio",SCROLLBAR:"scrollbar",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",SWITCH:"switch",TAB:"tab",TABPANEL:"tabpanel",TEXTBOX:"textbox",TIMER:"timer",TOOLTIP:"tooltip",TREEITEM:"treeitem",COMBOBOX:"combobox",GRID:"grid",LISTBOX:"listbox",MENU:"menu",MENUBAR:"menubar",RADIOGROUP:"radiogroup",TABLIST:"tablist",TREE:"tree",TREEGRID:"treegrid",ARTICLE:"article",COLUMNHEADER:"columnheader",DEFINITION:"definition",DIRECTORY:"directory",DOCUMENT:"document",GROUP:"group",HEADING:"heading",IMG:"img",LIST:"list",LISTITEM:"listitem",MATH:"math",NOTE:"note",PRESENTATION:"presentation",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SEPARATOR:"separator",TOOLBAR:"toolbar",APPLICATION:"application",BANNER:"banner",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",FORM:"form",MAIN:"main",NAVIGATION:"navigation",SEARCH:"search"}},function(e,t,i){"use strict";var s=i(81);let r=e=>{s.isTabbableElement(e)||e.setAttribute("tabindex","0")};e.exports=function(e){e instanceof Node?r(e):e.forEach((e=>{r(e)}))}},function(e,t,i){"use strict";const s=i(211);e.exports=function(e){s(e,"tabindex","-1")}},function(e,t,i){"use strict";e.exports=function(e){return"string"==typeof e?"true"===(e=e.toLowerCase()):e}},,,,,,,,,,,,,,,,,,,,function(e,t,i){e.exports=i(112)},function(e,t,i){"use strict";const s=i(113),r=i(66),n=i(138),a=i(32).PictureLazyLoading,o=i(139);({initialize(){const e=document.documentElement.classList.contains("dev-reference");Object.assign(r,{...e&&{DevReference:i(142),FlowStub:i(143),VideoStub:i(161)},Apps:i(179),ArGallery:i(180),CameraGallery:i(208),Battery:i(219),ColorsHardwareParallax:i(220),CompareGallery:i(221),Display:i(224),FlowPlayer:i(225),FiveG:i(226),Gaming:i(227),GamingCompare:i(228),Hero:i(229),LowLight:i(232),PageXp:i(233),PhotographicStyles:i(234),PhotoGrid:i(235),Privacy:i(236),RibbonVo:i(237),SmartHDR:i(238),Spills:i(239),SharedAnimation:i(245),TouchID:i(249)}),this.initializeHideSosumi();const t=document.querySelector(".main"),l=new s(t);l.addComponent({componentName:"PageXp",el:document.body});document.querySelector("#ribbon")&&l.addComponent({componentName:"RibbonVo",el:document.getElementById("main")}),l.anim.on(l.anim.model.EVENTS.ON_DOM_GROUPS_CREATED,(()=>{new a,new o,window.ExpressionParser=l.anim.getGroupForTarget(document.body).expressionParser.constructor})),n.detect()},initializeHideSosumi(){const e=document.querySelectorAll('[data-pricing="hide"]');window.addEventListener("pricingError",(t=>{if(t.detail.error)for(const t of e)t.style="\n\t\tvisibility: hidden;\n\t\theight: 0;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\t"}))}}).initialize()},function(e,t,i){"use strict";const s=i(3).EventEmitterMicro,r=i(114),n=i(115),a=i(4),o=i(66),l={};class h extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.el=e,this.anim=n,this.componentAttribute=t.attribute||"data-component-list",this.components=[],this.componentsInitialized=!1,this.el.getAttribute("data-anim-scroll-group")||this.el.setAttribute("data-anim-scroll-group","bubble-gum-group"),r.add((()=>{n.initialize().then((()=>{this.initComponents(),this.setupEvents(),this.components.forEach((e=>e.mounted())),this.trigger(h.EVENTS.DOM_COMPONENTS_MOUNTED)}))}))}initComponents(){const e=Array.prototype.slice.call(this.el.querySelectorAll(`[${this.componentAttribute}]`));this.el.hasAttribute(this.componentAttribute)&&e.push(this.el);for(let t=0;t<e.length;t++){let i=e[t],s=i.getAttribute(this.componentAttribute).split(" ");for(let e=0,t=s.length;e<t;e++){let t=s[e];""!==t&&" "!==t&&this.addComponent({el:i,componentName:t})}}this.componentsInitialized=!0}setupEvents(){this.onResizeDebounced=this.onResizeDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),n.on(a.PageEvents.ON_RESIZE_IMMEDIATE,this.onResizeImmediate),n.on(a.PageEvents.ON_RESIZE_DEBOUNCED,this.onResizeDebounced),n.on(a.PageEvents.ON_BREAKPOINT_CHANGE,this.onBreakpointChange)}addComponent(e){const{el:t,componentName:i,data:s}=e;if(!o.hasOwnProperty(i))throw"BubbleGum::addComponent could not add component to '"+t.className+"'. No component type '"+i+"' found!";const r=o[i];if(!h.componentIsSupported(r,i))return void 0===l[i]&&(console.log("BubbleGum::addComponent unsupported component '"+i+"'. Reason: '"+i+".IS_SUPPORTED' returned false"),l[i]=!0),null;let n=t.dataset.componentList||"";n.includes(i)||(t.dataset.componentList=n.split(" ").concat(i).join(" "));let c=new r({el:t,data:s,componentName:e.componentName,gum:this,pageMetrics:a.pageMetrics});return this.components.push(c),this.componentsInitialized&&c.mounted(),c}removeComponent(e){const t=this.components.indexOf(e);-1!==t&&(this.components.splice(t,1),e.el.dataset.componentList=e.el.dataset.componentList.split(" ").filter((t=>t!==e.componentName)).join(" "),e.destroy())}getComponentOfType(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;const i=`[${this.componentAttribute}*=${e}]`,s=t.matches(i)?t:t.querySelector(i);return s?this.components.find((t=>t instanceof o[e]&&t.el===s)):null}getComponentsOfType(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;const i=`[${this.componentAttribute}*=${e}]`,s=t.matches(i)?[t]:Array.from(t.querySelectorAll(i));return this.components.filter((t=>t instanceof o[e]&&s.includes(t.el)))}getComponentsForElement(e){return this.components.filter((t=>t.el===e))}onResizeImmediate(){this.components.forEach((e=>e.onResizeImmediate(a.pageMetrics)))}onResizeDebounced(){this.components.forEach((e=>e.onResizeDebounced(a.pageMetrics)))}onBreakpointChange(){this.components.forEach((e=>e.onBreakpointChange(a.pageMetrics)))}static componentIsSupported(e,t){const i=e.IS_SUPPORTED;if(void 0===i)return!0;if("function"!=typeof i)return console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;const s=e.IS_SUPPORTED();return void 0===s?(console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):s}}h.EVENTS={DOM_COMPONENTS_MOUNTED:"DOM_COMPONENTS_MOUNTED"},e.exports=h},function(e,t,i){"use strict";let s=!1,r=!1,n=[],a=-1;e.exports={NUMBER_OF_FRAMES_TO_WAIT:30,add:function(e){if(r&&e(),n.push(e),s)return;s=!0;let t=document.documentElement.scrollHeight,i=0;const o=()=>{let e=document.documentElement.scrollHeight;if(t!==e)i=0;else if(i++,i>=this.NUMBER_OF_FRAMES_TO_WAIT)return void n.forEach((e=>e()));t=e,a=requestAnimationFrame(o)};a=requestAnimationFrame(o)},reset(){cancelAnimationFrame(a),s=!1,r=!1,n=[]}}},function(e,t,i){"use strict";const s=i(3).EventEmitterMicro,r=i(4),n=i(18),a=i(37),o=i(58),l=i(38),h=i(135),c=i(136),u=i(137),d={};"undefined"!=typeof window&&(d.update=i(6),d.cancelUpdate=i(65),d.external=i(40),d.draw=i(5));let p=null;class m extends s{constructor(){if(super(),p)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";p=this,this.groups=[],this.scrollSystems=[],this.timeSystems=[],this.tweenGroup=null,this._forceUpdateRAFId=-1,this.initialized=!1,this.model=r,this.plugins={keyframe:[],parser:[]},this.version=u.version,this._resolveReady=()=>{},this.ready=new Promise((e=>this._resolveReady=e)),this.onScroll=this.onScroll.bind(this),this.onResizedDebounced=this.onResizedDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this)}initialize(){return this.initialized||"undefined"==typeof window||(this.initialized=!0,this.timeSystems=[],this.scrollSystems=[],this.groups=[],this.setupEvents(),this.initializeResizeFilter(),this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes(),this.tweenGroup=new c(null,this),this.groups.unshift(this.tweenGroup),this._resolveReady()),this.ready}use(e,t){e.install(this,t)}remove(){return this.initialized?Promise.all(this.groups.map((e=>e.remove()))).then((()=>{this.groups=null,this.scrollSystems=null,this.timeSystems=null,window.clearTimeout(r.RESIZE_TIMEOUT),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),this._events={},this.initialized=!1,this.ready=new Promise((e=>this._resolveReady=e))})):(this.ready=new Promise((e=>this._resolveReady=e)),Promise.resolve())}destroy(){return this.remove()}createTimeGroup(e,t){e instanceof HTMLElement||(e=(t=e||{}).el);let i=new h(e,this);return t&&t.name&&(i.name=t.name),this.groups.push(i),this.timeSystems.push(i),this.trigger(r.EVENTS.ON_GROUP_CREATED,i),i}createScrollGroup(e,t){if(!e)throw"AnimSystem scroll based groups must supply an HTMLElement";let i=new l(e,this);return(t=t||{}).name&&(i.name=t.name),t.getPosition&&t.getMaxPosition&&(i.getPosition=t.getPosition,i.createViewableRange=()=>({a:0,d:t.getMaxPosition()})),i.getPosition=t.getPosition||i.getPosition,i.getPosition=t.getPosition||i.getPosition,this.groups.push(i),this.scrollSystems.push(i),this.trigger(r.EVENTS.ON_GROUP_CREATED,i),i}removeGroup(e){return Promise.all(e.keyframeControllers.map((t=>e.removeKeyframeController(t)))).then((()=>{let t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1),t=this.scrollSystems.indexOf(e),-1!==t&&this.scrollSystems.splice(t,1),t=this.timeSystems.indexOf(e),-1!==t&&this.timeSystems.splice(t,1),e.destroy()}))}createDOMGroups(){document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach((e=>this.createScrollGroup(e))),document.querySelectorAll("[data-anim-time-group]").forEach((e=>this.createTimeGroup(e))),this.trigger(r.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}createDOMKeyframes(){let e=[];["data-anim-keyframe",n.DATA_ATTRIBUTE,a.DATA_ATTRIBUTE,o.DATA_ATTRIBUTE].forEach((function(t){for(let i=0;i<12;i++)e.push(t+(0===i?"":"-"+(i-1)))}));for(let t=0;t<e.length;t++){let i=e[t],s=document.querySelectorAll("["+i+"]");for(let e=0;e<s.length;e++){const t=s[e],r=JSON.parse(t.getAttribute(i));this.addKeyframe(t,r)}}d.update((()=>{null!==this.groups&&(this.groups.forEach((e=>e.onKeyframesDirty({silent:!0}))),this.groups.forEach((e=>e.trigger(r.EVENTS.ON_DOM_KEYFRAMES_CREATED,e))),this.trigger(r.EVENTS.ON_DOM_KEYFRAMES_CREATED,this),this.groups.forEach((e=>{e.forceUpdate({waitForNextUpdate:!1,silent:!0}),e.reconcile()})),this.onScroll())}),!0)}initializeResizeFilter(){if(r.cssDimensionsTracker)return;const e=document.querySelector(".cssDimensionsTracker")||document.createElement("div");e.setAttribute("cssDimensionsTracker","true"),e.style.position="fixed",e.style.top="0",e.style.width="100%",e.style.height="100vh",e.style.pointerEvents="none",e.style.visibility="hidden",e.style.zIndex="-1",document.documentElement.appendChild(e),r.cssDimensionsTracker=e}initializeModel(){r.pageMetrics.windowHeight=r.cssDimensionsTracker.clientHeight,r.pageMetrics.windowWidth=r.cssDimensionsTracker.clientWidth,r.pageMetrics.scrollY=window.scrollY||window.pageYOffset,r.pageMetrics.scrollX=window.scrollX||window.pageXOffset,r.pageMetrics.breakpoint=r.getBreakpoint();let e=document.documentElement.getBoundingClientRect();r.pageMetrics.documentOffsetX=e.left+r.pageMetrics.scrollX,r.pageMetrics.documentOffsetY=e.top+r.pageMetrics.scrollY}setupEvents(){window.removeEventListener("scroll",this.onScroll),window.addEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),window.addEventListener("resize",this.onResizeImmediate)}onScroll(){r.pageMetrics.scrollY=window.scrollY||window.pageYOffset,r.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(let e=0,t=this.scrollSystems.length;e<t;e++)this.scrollSystems[e].updateTimeline();this.trigger(r.PageEvents.ON_SCROLL,r.pageMetrics)}onResizeImmediate(){let e=r.cssDimensionsTracker.clientWidth,t=r.cssDimensionsTracker.clientHeight;if(e===r.pageMetrics.windowWidth&&t===r.pageMetrics.windowHeight)return;r.pageMetrics.windowWidth=e,r.pageMetrics.windowHeight=t,r.pageMetrics.scrollY=window.scrollY||window.pageYOffset,r.pageMetrics.scrollX=window.scrollX||window.pageXOffset;let i=document.documentElement.getBoundingClientRect();r.pageMetrics.documentOffsetX=i.left+r.pageMetrics.scrollX,r.pageMetrics.documentOffsetY=i.top+r.pageMetrics.scrollY,window.clearTimeout(r.RESIZE_TIMEOUT),r.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(r.PageEvents.ON_RESIZE_IMMEDIATE,r.pageMetrics)}onResizedDebounced(){d.update((()=>{let e=r.pageMetrics.breakpoint,t=r.getBreakpoint();if(t!==e){r.pageMetrics.previousBreakpoint=e,r.pageMetrics.breakpoint=t;for(let e=0,t=this.groups.length;e<t;e++)this.groups[e]._onBreakpointChange();this.trigger(r.PageEvents.ON_BREAKPOINT_CHANGE,r.pageMetrics)}for(let e=0,t=this.groups.length;e<t;e++)this.groups[e].forceUpdate({waitForNextUpdate:!1});this.trigger(r.PageEvents.ON_RESIZE_DEBOUNCED,r.pageMetrics)}),!0)}forceUpdate(){let{waitForNextUpdate:e=!0,silent:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};-1!==this._forceUpdateRAFId&&d.cancelUpdate(this._forceUpdateRAFId);let i=()=>{for(let e=0,i=this.groups.length;e<i;e++){this.groups[e].forceUpdate({waitForNextUpdate:!1,silent:t})}return-1};this._forceUpdateRAFId=e?d.update(i,!0):i()}addKeyframe(e,t){let i=this.getGroupForTarget(e);return i=i||this.getGroupForTarget(document.body),i.addKeyframe(e,t)}addEvent(e,t){let i=this.getGroupForTarget(e);return i=i||this.getGroupForTarget(document.body),i.addEvent(e,t)}getTimeGroupForTarget(e){return this._getGroupForTarget(e,(e=>e instanceof h))}getScrollGroupForTarget(e){return this._getGroupForTarget(e,(e=>!(e instanceof h)))}getGroupForTarget(e){return this._getGroupForTarget(e,(()=>!0))}getGroupByName(e){return this.groups.find((t=>t.name===e))}_getGroupForTarget(e,t){if(e._animInfo&&e._animInfo.group&&t(e._animInfo.group))return e._animInfo.group;let i=e;for(;i;){if(i._animInfo&&i._animInfo.isGroup&&t(i._animInfo.group))return i._animInfo.group;i=i.parentElement}}getControllerForTarget(e){return e._animInfo&&e._animInfo.controller?e._animInfo.controller:null}addTween(e,t){return this.tweenGroup.addKeyframe(e,t)}}e.exports="undefined"==typeof window?new m:window.AC.SharedInstance.share("AnimSystem",u.major,m),e.exports.default=e.exports},function(e,t,i){"use strict";const s=1e-5,r=Math.abs;class n{constructor(e,t,i,s){this.cp=new Float32Array(6),this.cp[0]=3*e,this.cp[1]=3*(i-e)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*t,this.cp[4]=3*(s-t)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}sampleCurveX(e){return((this.cp[2]*e+this.cp[1])*e+this.cp[0])*e}sampleCurveY(e){return((this.cp[5]*e+this.cp[4])*e+this.cp[3])*e}sampleCurveDerivativeX(e){return(3*this.cp[2]*e+2*this.cp[1])*e+this.cp[0]}solveCurveX(e){var t,i,n,a,o,l;for(n=e,l=0;l<5;l++){if(a=this.sampleCurveX(n)-e,r(a)<s)return n;if(o=this.sampleCurveDerivativeX(n),r(o)<s)break;n-=a/o}if((n=e)<(t=0))return t;if(n>(i=1))return i;for(;t<i;){if(a=this.sampleCurveX(n),r(a-e)<s)return n;e>a?t=n:i=n,n=.5*(i-t)+t}return n}solve(e){return this.sampleCurveY(this.solveCurveX(e))}}const a=/\d*\.?\d+/g;n.fromCSSString=function(e){let t=e.match(a);if(4!==t.length)throw`UnitBezier could not convert ${e} to cubic-bezier`;let i=t.map(Number),s=new n(i[0],i[1],i[2],i[3]);return s.solve.bind(s)},e.exports=n},function(e,t,i){"use strict";const{map:s}=i(14),r={};class n{constructor(e,t,i,s){this.mass=e,this.stiffness=t,this.damping=i,this.initialVelocity=s,this.m_w0=Math.sqrt(this.stiffness/this.mass),this.m_zeta=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),this.m_zeta<1?(this.m_wd=this.m_w0*Math.sqrt(1-this.m_zeta*this.m_zeta),this.m_A=1,this.m_B=(this.m_zeta*this.m_w0-this.initialVelocity)/this.m_wd):(this.m_wd=0,this.m_A=1,this.m_B=-this.initialVelocity+this.m_w0)}solve(e){return 1-(e=this.m_zeta<1?Math.exp(-e*this.m_zeta*this.m_w0)*(this.m_A*Math.cos(this.m_wd*e)+this.m_B*Math.sin(this.m_wd*e)):(this.m_A+this.m_B*e)*Math.exp(-e*this.m_w0))}}const a=/\d*\.?\d+/g;n.fromCSSString=function(e){let t=e.match(a);if(4!==t.length)throw`SpringEasing could not convert ${cssString} to spring params`;let i=t.map(Number),o=new n(...i);const l=o.solve.bind(o);let h=0;let c=function(){if(r[e])return r[e];const t=1/6;let i,s=0;for(;;){h+=t;if(1===l(h)){if(s++,s>=16){i=h*t;break}}else s=0}return r[e]=i,r[e]}();return function(e){return 0===e||1===e?e:l(s(e,0,1,0,c))}},e.exports=n},function(e,t,i){"use strict";e.exports=function(e,t){if("string"!=typeof e)return e;try{return(t||document).querySelector(e)||document.querySelector(e)}catch(e){return!1}}},function(e,t,i){"use strict";e.exports=class{constructor(){this.local=0,this.localUnclamped=0,this.lastPosition=0}}},function(e,t,i){"use strict";e.exports=class{constructor(e,t){this.a=e.top-t,this.a<0&&(this.a=e.top),this.b=e.top,this.d=e.bottom,this.c=Math.max(this.d-t,this.b)}}},function(e,t,i){"use strict";const s=i(4),r=i(14),n={},a={smoothstep:(e,t,i)=>(i=a.clamp((i-e)/(t-e),0,1))*i*(3-2*i),deg:e=>180*e/Math.PI,rad:e=>e*Math.PI/180,random:(e,t)=>Math.random()*(t-e)+e,atan:Math.atan2};Object.getOwnPropertyNames(Math).forEach((e=>a[e]?null:a[e.toLowerCase()]=Math[e])),Object.getOwnPropertyNames(r).forEach((e=>a[e]?null:a[e.toLowerCase()]=r[e]));let o=null;const l="a",h="ALPHA",c="(",u=")",d="PLUS",p="MINUS",m="MUL",f="DIV",_="INTEGER_CONST",g="FLOAT_CONST",y=",",v="EOF",b={NUMBERS:/\d|\d\.\d/,DIGIT:/\d/,OPERATOR:/[-+*/]/,PAREN:/[()]/,WHITE_SPACE:/\s/,ALPHA:/[a-zA-Z]|%/,ALPHANUMERIC:/[a-zA-Z0-9]/,OBJECT_UNIT:/^(t|l|b|r|%w|%h|%|h|w)$/,GLOBAL_METRICS_UNIT:/^(px|vh|vw)$/,ANY_UNIT:/^(t|l|b|r|%w|%h|%|h|w|px|vh|vw)$/,MATH_FUNCTION:new RegExp(`\\b(${Object.keys(a).join("|")})\\b`,"i")},E=function(e,t,i){let s=t.slice(Math.max(i,0),Math.min(t.length,i+3)),r=new Error(`Expression Error. ${e} in expression "${t}", near "${s}"`);throw console.error(r.message,o?o.keyframe||o.target:""),r},w={round:1,clamp:3,lerp:3,random:2,atan:2,floor:1,ceil:1,abs:1,cos:1,sin:1,smoothstep:3,rad:1,deg:1,pow:2,calc:1};class x{constructor(e,t){this.type=e,this.value=t}}x.ONE=new x("100",100),x.EOF=new x(v,null);class A{constructor(e){this.type=e}}class S extends A{constructor(e,t){super("UnaryOp"),this.token=this.op=e,this.expr=t}}class T extends A{constructor(e,t,i){super("BinOp"),this.left=e,this.op=t,this.right=i}}class I extends A{constructor(e,t){if(super("MathOp"),this.op=e,this.list=t,w[e.value]&&t.length!==w[e.value])throw new Error(`Incorrect number of arguments for '${e.value}'. Received ${t.length}, expected ${w[e.value]}`)}}class C extends A{constructor(e){super("Num"),this.token=e,this.value=e.value}}class O extends A{constructor(e,t,i){super("RefValue"),this.num=e,this.ref=t,this.unit=i}}class P extends A{constructor(e,t){super("CSSValue"),this.ref=e,this.propertyName=t}}class M extends A{constructor(e,t){super("PropValue"),this.ref=e,this.propertyName=t}}class k{constructor(e){let t;for(this.text=e,this.pos=0,this.char=this.text[this.pos],this.tokens=[];(t=this.getNextToken())&&t!==x.EOF;)this.tokens.push(t);this.tokens.push(t)}advance(){this.char=this.text[++this.pos]}skipWhiteSpace(){for(;null!=this.char&&b.WHITE_SPACE.test(this.char);)this.advance()}name(){let e="";for(;null!=this.char&&b.ALPHA.test(this.char);)e+=this.char,this.advance();return new x(h,e)}number(){let e="";for("."===this.char&&(e+=this.char,this.advance());null!=this.char&&b.DIGIT.test(this.char);)e+=this.char,this.advance();if(null!=this.char&&"."===this.char)for(e.includes(".")&&E("Number appears to contain 2 decimal points",this.text,this.pos),e+=this.char,this.advance();null!=this.char&&b.DIGIT.test(this.char);)e+=this.char,this.advance();return"."===e&&E("Attempted to parse a number, but found only a decimal point",this.text,this.pos),e.includes(".")?new x(g,parseFloat(e)):new x(_,parseInt(e))}getNextToken(){for(;null!=this.char;)if(b.WHITE_SPACE.test(this.char))this.skipWhiteSpace();else{if("."===this.char||b.DIGIT.test(this.char))return this.number();if(","===this.char)return this.advance(),new x(y,",");if(b.OPERATOR.test(this.char)){let e="",t=this.char;switch(t){case"+":e=d;break;case"-":e=p;break;case"*":e=m;break;case"/":e=f}return this.advance(),new x(e,t)}if(b.PAREN.test(this.char)){let e="",t=this.char;switch(t){case"(":e=c;break;case")":e=u}return this.advance(),new x(e,t)}if(b.ALPHA.test(this.char))return this.name();E(`Unexpected character "${this.char}"`,this.text,this.pos)}return x.EOF}}class D{constructor(e){this.lexer=e,this.pos=0}get currentToken(){return this.lexer.tokens[this.pos]}error(e){E(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",this.lexer.text,this.pos)}consume(e){let t=this.currentToken;return t.type===e?this.pos+=1:this.error(`Invalid token ${this.currentToken.value}, expected ${e}`),t}consumeList(e){e.includes(this.currentToken)?this.pos+=1:this.error(`Invalid token ${this.currentToken.value}, expected ${tokenType}`)}expr(){let e=this.term();for(;this.currentToken.type===d||this.currentToken.type===p;){const t=this.currentToken;switch(t.value){case"+":this.consume(d);break;case"-":this.consume(p)}e=new T(e,t,this.term())}return e}term(){let e=this.factor();for(;this.currentToken.type===m||this.currentToken.type===f;){const t=this.currentToken;switch(t.value){case"*":this.consume(m);break;case"/":this.consume(f)}e=new T(e,t,this.factor())}return e}factor(){if(this.currentToken.type===d)return new S(this.consume(d),this.factor());if(this.currentToken.type===p)return new S(this.consume(p),this.factor());if(this.currentToken.type===_||this.currentToken.type===g){let e=new C(this.currentToken);if(this.pos+=1,b.OPERATOR.test(this.currentToken.value)||this.currentToken.type===u||this.currentToken.type===y||this.currentToken.type===v)return e;if(this.currentToken.type===h&&this.currentToken.value===l)return this.consume(h),new O(e,this.anchorIndex(),this.unit(b.ANY_UNIT));if(this.currentToken.type===h)return"%a"===this.currentToken.value&&this.error("%a is invalid, try removing the %"),new O(e,null,this.unit());this.error("Expected a scaling unit type","Such as 'h' / 'w'")}else{if(b.OBJECT_UNIT.test(this.currentToken.value))return new O(new C(x.ONE),null,this.unit());if(this.currentToken.value===l){this.consume(h);const e=this.anchorIndex();if(b.OBJECT_UNIT.test(this.currentToken.value))return new O(new C(x.ONE),e,this.unit())}else if(this.currentToken.type===h){if("calc"===this.currentToken.value)return this.consume(h),this.expr();if("css"===this.currentToken.value||"var"===this.currentToken.value||"prop"===this.currentToken.value){const e="prop"!==this.currentToken.value?P:M;this.consume(h),this.consume(c);const t=this.propertyName();let i=null;return this.currentToken.type===y&&(this.consume(y),this.consume(h),i=this.anchorIndex()),this.consume(u),new e(i,t)}if(b.MATH_FUNCTION.test(this.currentToken.value)){const e=this.currentToken.value.toLowerCase();if("number"==typeof a[e])return this.consume(h),new C(new x(h,a[e]));const t=x[e]||new x(e,e),i=[];this.consume(h),this.consume(c);let s=null;do{this.currentToken.value===y&&this.consume(y),s=this.expr(),i.push(s)}while(this.currentToken.value===y);return this.consume(u),new I(t,i)}}else if(this.currentToken.type===c){this.consume(c);let e=this.expr();return this.consume(u),e}}this.error(`Unexpected token ${this.currentToken.value}`)}propertyName(){let e="";for(;this.currentToken.type===h||this.currentToken.type===p;)e+=this.currentToken.value,this.pos+=1;return e}unit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.ANY_UNIT;const t=this.currentToken;if(t.type===h&&e.test(t.value))return this.consume(h),new x(h,t.value=t.value.replace(/%(h|w)/,"$1").replace("%","h"));this.error("Expected unit type")}anchorIndex(){const e=this.currentToken;if(e.type===_)return this.consume(_),new C(e);this.error("Invalid anchor reference",". Should be something like a0, a1, a2")}parse(){const e=this.expr();return this.currentToken!==x.EOF&&this.error(`Unexpected token ${this.currentToken.value}`),e}}class L{constructor(e){this.parser=e,this.root=e.parse()}visit(e){let t=this[e.type];if(!t)throw new Error(`No visit method named, ${t}`);return t.call(this,e)}BinOp(e){switch(e.op.type){case d:return this.visit(e.left)+this.visit(e.right);case p:return this.visit(e.left)-this.visit(e.right);case m:return this.visit(e.left)*this.visit(e.right);case f:return this.visit(e.left)/this.visit(e.right)}}RefValue(e){let t=this.unwrapReference(e),i=e.unit.value,r=e.num.value;const n=o.metrics.get(t);switch(i){case"h":return.01*r*n.height;case"t":return.01*r*n.top;case"vh":return.01*r*s.pageMetrics.windowHeight;case"vw":return.01*r*s.pageMetrics.windowWidth;case"px":return r;case"w":return.01*r*n.width;case"b":return.01*r*n.bottom;case"l":return.01*r*n.left;case"r":return.01*r*n.right}}PropValue(e){return(null===e.ref?o.target:o.anchors[e.ref.value])[e.propertyName]}CSSValue(e){let t=this.unwrapReference(e);const i=getComputedStyle(t).getPropertyValue(e.propertyName);return""===i?0:L.Parse(i).execute(o)}Num(e){return e.value}UnaryOp(e){return e.op.type===d?+this.visit(e.expr):e.op.type===p?-this.visit(e.expr):void 0}MathOp(e){let t=e.list.map((e=>this.visit(e)));return a[e.op.value].apply(null,t)}unwrapReference(e){return null===e.ref?o.target:(e.ref.value>=o.anchors.length&&console.error(`Not enough anchors supplied for expression ${this.parser.lexer.text}`,o.target),o.anchors[e.ref.value])}execute(e){return o=e,this.visit(this.root)}static Parse(e){return n[e]||(n[e]=new L(new D(new k(e))))}}L.programs=n,e.exports=L},function(e,t,i){"use strict";const s=i(4),r=i(13),n=(i(35),i(123)),a=i(59),o=(i(18),i(37)),l=i(124),h=i(36),c=i(56),u=i(3).EventEmitterMicro,d=i(125),p={};"undefined"!=typeof window&&(p.update=i(6),p.external=i(40),p.draw=i(5));const{transformAttributes:m,cssAttributes:f,domAttributes:_}=i(57),g=Math.PI/180,y={create:i(130),rotateX:i(131),rotateY:i(132),rotateZ:i(133),scale:i(134)};e.exports=class extends u{constructor(e,t){super(),this._events.draw=[],this.uuid=c(),this.group=e,this.element=t,this._ownerIsElement=this.element instanceof Element,this._ownerIsElement?this.friendlyName=this.element.tagName+"."+Array.from(this.element.classList).join("."):this.friendlyName=this.element.friendlyName||this.uuid,this.element._animInfo=this.element._animInfo||new a(e,this),this.element._animInfo.controller=this,this.element._animInfo.group=this.group,this.element._animInfo.controllers.push(this),this.tweenProps=this.element._animInfo.tweenProps,this.eventObject=new n(this),this.needsStyleUpdate=!1,this.needsClassUpdate=!1,this.elementMetrics=this.group.metrics.add(this.element),this.attributes=[],this.cssAttributes=[],this.domAttributes=[],this.keyframes={},this._allKeyframes=[],this._activeKeyframes=[],this.keyframesRequiringDispatch=[],this.updateCachedValuesFromElement(),this.boundsMin=0,this.boundsMax=0,this.mat2d=new Float32Array(6),this.mat4=y.create(),this.needsWrite=!0,this.onDOMWriteImp=this._ownerIsElement?this.onDOMWriteForElement:this.onDOMWriteForObject}destroy(){if(this.element._animInfo){this.element._animInfo.controller===this&&(this.element._animInfo.controller=null);let e=this.element._animInfo.controllers.indexOf(this);if(-1!==e&&this.element._animInfo.controllers.splice(e,1),0===this.element._animInfo.controllers.length)this.element._animInfo=null;else{let e=this.element._animInfo.controllers.find((e=>e.group!==e.group.anim.tweenGroup));e&&(this.element._animInfo.controller=e,this.element._animInfo.group=e.group)}}this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(let e=0;e<this._allKeyframes.length;e++)this._allKeyframes[e].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,this.destroyed=!0,super.destroy()}remove(){return this.group.removeKeyframeController(this)}updateCachedValuesFromElement(){if(!this._ownerIsElement)return;const e=this.getTargetComputedStyle(!0);let t=new DOMMatrix(e.getPropertyValue("transform")),i=d(t),n=s.KeyframeDefaults.epsilon,a=!1;["x","y","z"].forEach(((e,t)=>{this.tweenProps[e]=new r(i.translation[t],n,a,e)})),this.tweenProps.rotation=new r(i.rotation[2],n,a,"rotation"),["rotationX","rotationY","rotationZ"].forEach(((e,t)=>{this.tweenProps[e]=new r(i.rotation[t],n,a,e)})),this.tweenProps.scale=new r(i.scale[0],n,a,"scale"),["scaleX","scaleY","scaleZ"].forEach(((e,t)=>{this.tweenProps[e]=new r(i.scale[t],n,a,e)})),_.forEach((e=>{let t=isNaN(this.element[e])?0:this.element[e];this.tweenProps[e]=new r(t,n,a,e,!1)}))}addKeyframe(e){let t=l(e);if(!t)throw new Error("AnimSystem Cannot create keyframe for from options `"+e+"`");let i=new t(this,e);return i.parseOptions(e),i.id=this._allKeyframes.length,this._allKeyframes.push(i),i}needsUpdate(){for(let e=0,t=this.attributes.length;e<t;e++){let t=this.attributes[e];if(this.tweenProps[t].needsUpdate())return!0}return!1}updateLocalProgress(e){for(let t=0,i=this.attributes.length;t<i;t++){let i=this.attributes[t],s=this.keyframes[this.attributes[t]];if(1===s.length){s[0].updateLocalProgress(e);continue}let r=this.getNearestKeyframeForAttribute(i,e);r&&r.updateLocalProgress(e)}}reconcile(){for(let e=0,t=this.attributes.length;e<t;e++){let t=this.attributes[e],i=this.getNearestKeyframeForAttribute(t,this.group.position.local);i.updateLocalProgress(this.group.position.local),i.snapAtCreation&&i.reconcile(t)}}determineActiveKeyframes(e){e=e||h(Array.from(document.documentElement.classList));let t=this._activeKeyframes,i=this.attributes,s={};this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(let t=0;t<this._allKeyframes.length;t++){let i=this._allKeyframes[t];if(i.markedForRemoval||i.hidden||!i.setEnabled(e))for(let e in i.animValues)this.tweenProps[e].isActive=i.preserveState,i.preserveState&&(s[e]=!0);else{this._activeKeyframes.push(i);for(let e in i.animValues)this.keyframes[e]=this.keyframes[e]||[],this.keyframes[e].push(i),-1===this.attributes.indexOf(e)&&(s[e]=!0,this.attributes.push(e),this.tweenProps[e].isActive=!0)}}this.attributes.forEach((e=>this.tweenProps[e].isActive=!0)),this.cssAttributes=this.attributes.filter((e=>f.includes(e)||e.startsWith("--"))).map((e=>this.tweenProps[e])),this.domAttributes=this.attributes.filter((e=>_.includes(e))).map((e=>this.tweenProps[e]));let r=t.filter((e=>-1===this._activeKeyframes.indexOf(e)));if(0===r.length)return;let n=i.filter((e=>-1===this.attributes.indexOf(e)&&!s.hasOwnProperty(e)));if(0!==n.length)if(this.needsWrite=!0,this._ownerIsElement)p.external((()=>{let e=n.some((e=>m.includes(e))),t=e&&Object.keys(s).some((e=>m.includes(e)));e&&!t&&this.element.style.removeProperty("transform");for(let e=0,t=n.length;e<t;++e){let t=n[e],i=this.tweenProps[t],s=i.isActive?i.target:i.initialValue;i.current=i.target=s,!i.isActive&&f.includes(t)&&(this.element.style[t]=null)}for(let e=0,t=r.length;e<t;++e){let t=r[e];t instanceof o&&!t.preserveState&&t._unapply()}}),!0);else for(let e=0,t=n.length;e<t;++e){let t=this.tweenProps[n[e]];t.current=t.target,t.isActive=!1}}onDOMRead(e){for(let t=0,i=this.attributes.length;t<i;t++){let i=this.attributes[t],s=this.getNearestKeyframeForAttribute(i,e);s&&s.onDOMRead(i)&&(this.needsWrite=!0)}}onDOMWrite(){(this.needsWrite||this.needsClassUpdate||this.needsStyleUpdate)&&(this.needsWrite=!1,this.onDOMWriteImp(),this.handleEventDispatch())}onDOMWriteForObject(){for(let e=0,t=this.attributes.length;e<t;e++){let t=this.attributes[e];this.element[t]=this.tweenProps[t].current}}onDOMWriteForElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element.style;this.handleStyleTransform(e);for(let t=0,i=this.cssAttributes.length;t<i;t++)this.cssAttributes[t].set(e);for(let e=0,t=this.domAttributes.length;e<t;e++)this.domAttributes[e].set(this.element);if(this.needsStyleUpdate){for(let e in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[e]&&(this.element.style[e]=this.tweenProps.targetStyles[e]),this.tweenProps.targetStyles[e]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}handleStyleTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element.style,t=this.tweenProps;if(t.z.isActive||t.rotationX.isActive||t.rotationY.isActive){const i=this.mat4;i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1;const s=t.x.current,r=t.y.current,n=t.z.current;if(i[12]=i[0]*s+i[4]*r+i[8]*n+i[12],i[13]=i[1]*s+i[5]*r+i[9]*n+i[13],i[14]=i[2]*s+i[6]*r+i[10]*n+i[14],i[15]=i[3]*s+i[7]*r+i[11]*n+i[15],0!==t.rotation.current||0!==t.rotationZ.current){const e=(t.rotation.current||t.rotationZ.current)*g;y.rotateZ(i,i,e)}if(0!==t.rotationX.current){const e=t.rotationX.current*g;y.rotateX(i,i,e)}if(0!==t.rotationY.current){const e=t.rotationY.current*g;y.rotateY(i,i,e)}1===t.scale.current&&1===t.scaleX.current&&1===t.scaleY.current||y.scale(i,i,[t.scale.current,t.scale.current,1]),e.transform="matrix3d("+i[0]+","+i[1]+","+i[2]+","+i[3]+","+i[4]+","+i[5]+","+i[6]+","+i[7]+","+i[8]+","+i[9]+","+i[10]+","+i[11]+","+i[12]+","+i[13]+","+i[14]+","+i[15]+")"}else if(t.x.isActive||t.y.isActive||t.rotation.isActive||t.rotationZ.isActive||t.scale.isActive||t.scaleX.isActive||t.scaleY.isActive){const i=this.mat2d;i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0;const s=t.x.current,r=t.y.current,n=i[0],a=i[1],o=i[2],l=i[3],h=i[4],c=i[5];if(i[0]=n,i[1]=a,i[2]=o,i[3]=l,i[4]=n*s+o*r+h,i[5]=a*s+l*r+c,0!==t.rotation.current||0!==t.rotationZ.current){const e=(t.rotation.current||t.rotationZ.current)*g,s=i[0],r=i[1],n=i[2],a=i[3],o=i[4],l=i[5],h=Math.sin(e),c=Math.cos(e);i[0]=s*c+n*h,i[1]=r*c+a*h,i[2]=s*-h+n*c,i[3]=r*-h+a*c,i[4]=o,i[5]=l}t.scaleX.isActive||t.scaleY.isActive?(i[0]=i[0]*t.scaleX.current,i[1]=i[1]*t.scaleX.current,i[2]=i[2]*t.scaleY.current,i[3]=i[3]*t.scaleY.current):(i[0]=i[0]*t.scale.current,i[1]=i[1]*t.scale.current,i[2]=i[2]*t.scale.current,i[3]=i[3]*t.scale.current),e.transform="matrix("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+", "+i[4]+", "+i[5]+")"}}handleEventDispatch(){if(0!==this.keyframesRequiringDispatch.length){for(let e=0,t=this.keyframesRequiringDispatch.length;e<t;e++){let t=this.keyframesRequiringDispatch[e];t.needsEventDispatch=!1,this.eventObject.keyframe=t,this.eventObject.pageMetrics=s.pageMetrics,this.eventObject.event=t.event,this.trigger(t.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}if(0!==this._events.draw.length){this.eventObject.keyframe=null,this.eventObject.event="draw";for(let e=this._events.draw.length-1;e>=0;e--)this._events.draw[e](this.eventObject)}}updateAnimationConstraints(){for(let e=0,t=this._activeKeyframes.length;e<t;e++)this._activeKeyframes[e].evaluateConstraints();this.attributes.forEach((e=>{1!==this.keyframes[e].length&&this.keyframes[e].sort(s.KeyframeComparison)})),this.updateDeferredPropertyValues()}refreshMetrics(){let e=new Set([this.element]);this._allKeyframes.forEach((t=>t.anchors.forEach((t=>e.add(t))))),this.group.metrics.refreshCollection(e),this.group.keyframesDirty=!0}getTargetComputedStyle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._ownerIsElement?((e||void 0===this.group.computedStyleCache[this.uuid])&&(this.group.computedStyleCache[this.uuid]=getComputedStyle(this.element)),this.group.computedStyleCache[this.uuid]):null}updateDeferredPropertyValues(){for(let e=0,t=this.attributes.length;e<t;e++){let t=this.attributes[e],i=this.keyframes[t];if(!(i[0].keyframeType>s.KeyframeTypes.InterpolationForward))for(let e=0,s=i.length;e<s;e++){let r=i[e];null===r.jsonProps[t][0]&&(0===e?r.jsonProps[t][0]=r.animValues[t][0]=this.tweenProps[t].current:r.animValues[t][0]=i[e-1].animValues[t][1]),null===r.jsonProps[t][1]&&(r.animValues[t][1]=e===s-1?this.tweenProps[t].current:i[e+1].animValues[t][0]),r.snapAtCreation&&(r.jsonProps[t][0]=r.animValues[t][0],r.jsonProps[t][1]=r.animValues[t][1])}}}getBounds(e){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(let t=0,i=this.attributes.length;t<i;t++){let i=this.keyframes[this.attributes[t]];for(let t=0;t<i.length;t++){let s=i[t];this.boundsMin=Math.min(s.start,this.boundsMin),this.boundsMax=Math.max(s.end,this.boundsMax),e.min=Math.min(s.start,e.min),e.max=Math.max(s.end,e.max)}}}getNearestKeyframeForAttribute(e,t){t=void 0!==t?t:this.group.position.local;let i=null,s=Number.POSITIVE_INFINITY,r=this.keyframes[e];if(void 0===r)return null;let n=r.length;if(0===n)return null;if(1===n)return r[0];for(let e=0;e<n;e++){let n=r[e];if(n.isInRange(t)){i=n;break}let a=Math.min(Math.abs(t-n.start),Math.abs(t-n.end));a<s&&(s=a,i=n)}return i}getAllKeyframesForAttribute(e){return this.keyframes[e]}updateKeyframe(e,t){e.parseOptions(t),e.evaluateConstraints(),this.group.keyframesDirty=!0,p.update((()=>{this.trigger(s.EVENTS.ON_KEYFRAME_UPDATED,e),this.group.trigger(s.EVENTS.ON_KEYFRAME_UPDATED,e)}),!0)}removeKeyframe(e){return e.controller!==this?Promise.resolve(null):(e.markedForRemoval=!0,this.group.keyframesDirty=!0,new Promise((t=>{this.group.rafEmitter.executor.eventEmitter.once("before:draw",(()=>{t(e),e.destroy();let i=this._allKeyframes.indexOf(e);-1!==i&&this._allKeyframes.splice(i,1)}))})))}updateAnimation(e,t){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(e,t)}}},function(e,t,i){"use strict";e.exports=class{constructor(e){this.controller=e,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps}}},function(e,t,i){"use strict";const s=i(4),r=i(18),n=i(58),a=i(37),o=function(e){for(let t in e){let i=e[t];if(-1===s.KeyframeJSONReservedWords.indexOf(t)&&Array.isArray(i))return!0}return!1};e.exports=function(e){if(void 0!==e.cssClass||void 0!==e.style){if(o(e))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return a}if(o(e))return r;if(e.event)return n;throw delete e.anchors,`Could not determine tween type based on ${JSON.stringify(e)}`}},function(e,t,i){"use strict";"undefined"!=typeof window&&(window.DOMMatrix=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix);const s=180/Math.PI,r=e=>Math.round(1e6*e)/1e6;function n(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function a(e,t){return 0===t?Array.from(e):[e[0]/t,e[1]/t,e[2]/t]}function o(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function l(e,t,i,s){return[e[0]*i+t[0]*s,e[1]*i+t[1]*s,e[2]*i+t[2]*s]}function h(e){const t=new Float32Array(4),i=new Float32Array(3),h=new Float32Array(3),c=new Float32Array(3);c[0]=e[3][0],c[1]=e[3][1],c[2]=e[3][2];const u=new Array(3);for(let t=0;t<3;t++)u[t]=e[t].slice(0,3);i[0]=n(u[0]),u[0]=a(u[0],i[0]),h[0]=o(u[0],u[1]),u[1]=l(u[1],u[0],1,-h[0]),i[1]=n(u[1]),u[1]=a(u[1],i[1]),h[0]/=i[1],h[1]=o(u[0],u[2]),u[2]=l(u[2],u[0],1,-h[1]),h[2]=o(u[1],u[2]),u[2]=l(u[2],u[1],1,-h[2]),i[2]=n(u[2]),u[2]=a(u[2],i[2]),h[1]/=i[2],h[2]/=i[2];const d=(p=u[1],m=u[2],[p[1]*m[2]-p[2]*m[1],p[2]*m[0]-p[0]*m[2],p[0]*m[1]-p[1]*m[0]]);var p,m;if(o(u[0],d)<0)for(let e=0;e<3;e++)i[e]*=-1,u[e][0]*=-1,u[e][1]*=-1,u[e][2]*=-1;let f;return t[0]=.5*Math.sqrt(Math.max(1+u[0][0]-u[1][1]-u[2][2],0)),t[1]=.5*Math.sqrt(Math.max(1-u[0][0]+u[1][1]-u[2][2],0)),t[2]=.5*Math.sqrt(Math.max(1-u[0][0]-u[1][1]+u[2][2],0)),t[3]=.5*Math.sqrt(Math.max(1+u[0][0]+u[1][1]+u[2][2],0)),u[2][1]>u[1][2]&&(t[0]=-t[0]),u[0][2]>u[2][0]&&(t[1]=-t[1]),u[1][0]>u[0][1]&&(t[2]=-t[2]),f=t[0]<.001&&t[0]>=0&&t[1]<.001&&t[1]>=0?[0,0,r(180*Math.atan2(u[0][1],u[0][0])/Math.PI)]:function(e){const[t,i,n,a]=e,o=t*t,l=i*i,h=n*n,c=t*i+n*a,u=a*a+o+l+h;return c>.49999*u?[0,2*Math.atan2(t,a)*s,90]:c<-.49999*u?[0,-2*Math.atan2(t,a)*s,-90]:[r(Math.atan2(2*t*a-2*i*n,1-2*o-2*h)*s),r(Math.atan2(2*i*a-2*t*n,1-2*l-2*h)*s),r(Math.asin(2*t*i+2*n*a)*s)]}(t),{translation:c,rotation:f,eulerRotation:f,scale:[r(i[0]),r(i[1]),r(i[2])]}}e.exports=function(e){e instanceof Element&&(e=String(getComputedStyle(e).transform).trim());let t=new DOMMatrix(e);const i=new Array(4);for(let e=1;e<5;e++){const s=i[e-1]=new Float32Array(4);for(let i=1;i<5;i++)s[i-1]=t[`m${e}${i}`]}return h(i)}},function(e,t,i){"use strict";var s=i(127),r=function(e){this.phase=e,this.rafEmitter=new s,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},n=r.prototype;n.requestAnimationFrame=function(e,t){return!0===t&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},n.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},n._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},n._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},n._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},n._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},n._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},n._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},n._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},n._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},e.exports=r},function(e,t,i){"use strict";var s=i(11),r=function(e){s.call(this,e)};(r.prototype=Object.create(s.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=r},function(e,t,i){"use strict";var s,r=window,n=r.AC,a=(s={},{get:function(e,t){var i=null;return s[e]&&s[e][t]&&(i=s[e][t]),i},set:function(e,t,i){return s[e]||(s[e]={}),s[e][t]="function"==typeof i?new i:i,s[e][t]},share:function(e,t,i){var s=this.get(e,t);return s||(s=this.set(e,t,i)),s},remove:function(e,t){var i=typeof t;if("string"!==i&&"number"!==i)s[e]&&(s[e]=null);else{if(!s[e]||!s[e][t])return;s[e][t]=null}}});n||(n=r.AC={}),n.SharedInstance||(n.SharedInstance=a),e.exports=n.SharedInstance},function(e,t,i){"use strict";var s=i(23).SharedInstance,r=i(62).majorVersionNumber,n=function(){this._currentID=0};n.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=s.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,n)},function(e,t){e.exports=function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},function(e,t){e.exports=function(e,t,i){var s=Math.sin(i),r=Math.cos(i),n=t[4],a=t[5],o=t[6],l=t[7],h=t[8],c=t[9],u=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[4]=n*r+h*s,e[5]=a*r+c*s,e[6]=o*r+u*s,e[7]=l*r+d*s,e[8]=h*r-n*s,e[9]=c*r-a*s,e[10]=u*r-o*s,e[11]=d*r-l*s,e}},function(e,t){e.exports=function(e,t,i){var s=Math.sin(i),r=Math.cos(i),n=t[0],a=t[1],o=t[2],l=t[3],h=t[8],c=t[9],u=t[10],d=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=n*r-h*s,e[1]=a*r-c*s,e[2]=o*r-u*s,e[3]=l*r-d*s,e[8]=n*s+h*r,e[9]=a*s+c*r,e[10]=o*s+u*r,e[11]=l*s+d*r,e}},function(e,t){e.exports=function(e,t,i){var s=Math.sin(i),r=Math.cos(i),n=t[0],a=t[1],o=t[2],l=t[3],h=t[4],c=t[5],u=t[6],d=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]);return e[0]=n*r+h*s,e[1]=a*r+c*s,e[2]=o*r+u*s,e[3]=l*r+d*s,e[4]=h*r-n*s,e[5]=c*r-a*s,e[6]=u*r-o*s,e[7]=d*r-l*s,e}},function(e,t){e.exports=function(e,t,i){var s=i[0],r=i[1],n=i[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(e,t,i){"use strict";const s=i(38),r=i(64),n=i(14);let a=0;const o={};"undefined"!=typeof window&&(o.create=i(11));class l extends s{constructor(e,t){e||((e=document.createElement("div")).className="TimeGroup-"+a++),super(e,t),this.name=this.name||e.getAttribute("data-anim-time-group"),this._isPaused=!0,this._repeats=0,this._isReversed=!1,this._timeScale=1,this._chapterPlayer=new r(this),this.now=performance.now()}finalizeInit(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),super.finalizeInit()}progress(e){if(void 0===e)return 0===this.boundsMax?0:this.position.local/this.boundsMax;let t=e*this.boundsMax;this.timelineUpdateRequired=!0,this.updateTimeline(t)}time(e){if(void 0===e)return this.position.local;e=n.clamp(e,this.boundsMin,this.duration),this.timelineUpdateRequired=!0,this.updateTimeline(e)}play(e){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(e),this.now=performance.now(),this._playheadEmitter.run()}reverse(e){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(e),this.now=performance.now(),this._playheadEmitter.run()}reversed(e){if(void 0===e)return this._isReversed;this._isReversed=e}restart(){this._isReversed?(this.progress(1),this.reverse(this.time())):(this.progress(0),this.play(this.time()))}pause(e){this.time(e),this._isPaused=!0}paused(e){return void 0===e?this._isPaused:(this._isPaused=e,this._isPaused||this.play(),this)}onPlayTimeUpdate(){if(this._isPaused)return;let e=performance.now(),t=(e-this.now)/1e3;this.now=e,this._isReversed&&(t=-t);let i=this.time()+t*this._timeScale;if(this._repeats===l.REPEAT_FOREVER||this._repeats>0){let e=!1;!this._isReversed&&i>this.boundsMax?(i-=this.boundsMax,e=!0):this._isReversed&&i<0&&(i=this.boundsMax+i,e=!0),e&&(this._repeats=this._repeats===l.REPEAT_FOREVER?l.REPEAT_FOREVER:this._repeats-1)}this.time(i);let s=!this._isReversed&&this.position.local!==this.duration,r=this._isReversed&&0!==this.position.local;s||r?this._playheadEmitter.run():this.paused(!0)}updateProgress(e){this.hasDuration()?(this.position.localUnclamped=e,this.position.local=n.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}updateBounds(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);let e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(let t=0,i=this.keyframeControllers.length;t<i;t++)this.keyframeControllers[t].getBounds(e);this.boundsMin=0,this.boundsMax=e.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}setupRAFEmitter(e){this._playheadEmitter=new o.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),super.setupRAFEmitter(e)}get duration(){return this.keyframesDirty&&this.onKeyframesDirty({silent:!0}),this.boundsMax}timeScale(e){return void 0===e?this._timeScale:(this._timeScale=e,this)}repeats(e){if(void 0===e)return this._repeats;this._repeats=e}getPosition(){return this.position.local}addChapter(e){return this._chapterPlayer.addChapter(e)}playToChapter(e){this._chapterPlayer.playToChapter(e)}convertScrollPositionToTValue(e){return e}convertTValueToScrollPosition(e){return e}hasDuration(){return this.duration>0}destroy(){this._playheadEmitter.destroy(),this._playheadEmitter=null,super.destroy()}get timelineProgress(){return this.progress()}set timelineProgress(e){this.progress(e)}get progressValue(){return this.progress()}set progressValue(e){this.progress(e)}get timeValue(){return this.time()}set timeValue(e){this.time(e)}}l.REPEAT_FOREVER=-1,e.exports=l},function(e,t,i){"use strict";const s=i(38),r=(i(64),i(14));let n=0;const a={};"undefined"!=typeof window&&(a.create=i(11));e.exports=class extends s{constructor(e,t){e||((e=document.createElement("div")).className="TweenGroup-"+n++),super(e,t),this.name="Tweens",this.keyframes=[],this._isPaused=!1,this.now=performance.now()}finalizeInit(){this.onTimeEmitterUpdate=this.onTimeEmitterUpdate.bind(this),this.removeExpiredKeyframeControllers=this.removeExpiredKeyframeControllers.bind(this),super.finalizeInit()}destroy(){this._timeEmitter.destroy(),this._timeEmitter=null,this._keyframes=[],super.destroy()}setupRAFEmitter(e){this.now=performance.now(),this._timeEmitter=new a.create,this._timeEmitter.on("update",this.onTimeEmitterUpdate),this._timeEmitter.run(),super.setupRAFEmitter(e)}addKeyframe(e,t){if(void 0!==t.start||void 0!==t.end)throw Error("Tweens do not have a start or end, they can only have a duration. Consider using a TimeGroup instead");if("number"!=typeof t.duration)throw Error("Tween options.duration is undefined, or is not a number");let i,s;t.start=(t.delay||0)+this.position.localUnclamped,t.end=t.start+t.duration,t.preserveState=!0,t.snapAtCreation=!0,e._animInfo&&(i=e._animInfo.group,s=e._animInfo.controller);let r=super.addKeyframe(e,t);return e._animInfo.group=i,e._animInfo.controller=s,t.onStart&&r.controller.once("draw",(e=>{e.keyframe=r,t.onStart(e),e.keyframe=null})),t.onDraw&&r.controller.on("draw",(e=>{e.keyframe=r,t.onDraw(e),e.keyframe=null})),this.removeOverlappingProps(r),this.keyframes.push(r),this._timeEmitter.willRun()||(this.now=performance.now(),this._timeEmitter.run()),r}removeOverlappingProps(e){if(e.controller._allKeyframes.length<=1)return;let t=Object.keys(e.animValues),i=e.controller;for(let s=0,r=i._allKeyframes.length;s<r;s++){const r=i._allKeyframes[s];if(r===e)continue;if(r.markedForRemoval)continue;let n=Object.keys(r.animValues),a=n.filter((e=>t.includes(e)));a.length!==n.length?a.forEach((e=>delete r.animValues[e])):r.markedForRemoval=!0}}onTimeEmitterUpdate(e){if(this._isPaused||0===this.keyframeControllers.length)return;let t=performance.now(),i=(t-this.now)/1e3;this.now=t;let s=this.position.local+i;this.position.local=this.position.localUnclamped=s,this.onTimeUpdate()}onTimeUpdate(){for(let e=0,t=this.keyframes.length;e<t;e++)this.keyframes[e].updateLocalProgress(this.position.localUnclamped);this.requestDOMChange(),this._timeEmitter.run(),null!==this.gui&&this.gui.onScrollUpdate(this.position)}onDOMRead(){if(this.keyframesDirty&&this.onKeyframesDirty(),0!==this.keyframes.length)for(let e=0,t=this.keyframes.length;e<t;e++){this.keyframes[e].controller.needsWrite=!0;for(let t in this.keyframes[e].animValues)this.keyframes[e].onDOMRead(t)}}onDOMWrite(){super.onDOMWrite(),this.removeExpiredKeyframes()}removeExpiredKeyframes(){let e=this.keyframes.length,t=e;for(;e--;){let t=this.keyframes[e];t.destroyed?this.keyframes.splice(e,1):(t.markedForRemoval&&(t.jsonProps.onComplete&&1===t.localT&&(t.controller.eventObject.keyframe=t,t.jsonProps.onComplete(t.controller.eventObject),t.jsonProps.onComplete=null),null!==this.gui&&this.gui.isDraggingPlayhead||(t.remove(),this.keyframes.splice(e,1))),1===t.localT&&(t.markedForRemoval=!0))}this.keyframes.length===t&&0!==this.keyframes.length||this._timeEmitter.executor.eventEmitter.once("after:draw",this.removeExpiredKeyframeControllers)}removeExpiredKeyframeControllers(){for(let e=0,t=this.keyframeControllers.length;e<t;e++){let t=!0,i=this.keyframeControllers[e];for(let e=0,s=i._allKeyframes.length;e<s;e++)if(!i._allKeyframes[e].destroyed){t=!1;break}t&&i.remove()}}updateBounds(){this.boundsMin=Math.min(...this.keyframes.map((e=>e.start))),this.boundsMax=Math.max(...this.keyframes.map((e=>e.end)))}play(){this.isEnabled=!0,this._isPaused=!1,this.now=performance.now(),this._timeEmitter.run()}pause(){this._isPaused=!0}paused(){return this._isPaused}time(e){if(void 0===e)return this.position.local;this.position.local=this.position.localUnclamped=r.clamp(e,this.boundsMin,this.boundsMax),this.onTimeUpdate()}performTimelineDispatch(){}hasDuration(){return!0}getPosition(){return this.position.local}updateProgress(e){}get duration(){return this.boundsMax}}},function(e,t,i){"use strict";e.exports={version:"3.5.4",major:"3.x",majorMinor:"3.5"}},function(e,t,i){"use strict";function s(){this._createElements(),this._bindEvents()}var r=s.prototype;r._bindEvents=function(){this._onResize=this._resize.bind(this)},r._createElements=function(){this.span=document.createElement("span");var e=this.span.style;if(e.visibility="hidden",e.position="absolute",e.top="0",e.zIndex="-1",this.span.innerHTML="&nbsp;",!window.ResizeObserver){this.iframe=document.createElement("iframe");var t=this.iframe.style;t.position="absolute",t.top="0",t.left="0",t.width="100%",t.height="100%",this.span.appendChild(this.iframe)}document.body.appendChild(this.span)},r.detect=function(e){this.originalSize=e||17,this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.currentSize>this.originalSize&&this._onResize(),this.isDetecting||(window.ResizeObserver?(this.resizeObserver=new ResizeObserver(this._onResize),this.resizeObserver.observe(this.span)):this.iframe.contentWindow.addEventListener("resize",this._onResize),this.isDetecting=!0)},r._resize=function(){this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.originalSize<this.currentSize?document.documentElement.classList.add("text-zoom"):document.documentElement.classList.remove("text-zoom"),window.dispatchEvent(new Event("resize")),window.dispatchEvent(new CustomEvent("resize:text-zoom",{detail:this}))},r.getScale=function(){return this.currentSize/this.originalSize},r.remove=function(){this.isDetecting&&(this.resizeObserver&&this.resizeObserver.unobserve(this.span),this.iframe&&this.iframe.contentWindow.removeEventListener("resize",this._onResize),this.isDetecting=!1)},r.destroy=function(){this.remove(),this.span&&this.span.parentElement&&this.span.parentElement.removeChild(this.span),this.span=null,this.iframe=null,this.resizeObserver=null},e.exports=new s},function(e,t,i){"use strict";const s=i(140),r=i(141),n=i(5),a=i(6);class o extends s{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.arrayImg=[]}_init(){super._init(),this._onBreakpointChangeCallback=this._onBreakpointChangeCallback.bind(this),this._addViewportEvents(),this._resetPromises(),this._addMethodsToImageElement()}_addViewportEvents(){let e=this.options.breakpoints?{breakpoints:this.options.breakpoints}:{};this.viewportEmitterMicro=new r(e),this.viewportEmitterMicro.on(r.CHANGE_EVENTS.VIEWPORT,this._onBreakpointChangeCallback),this.viewportEmitterMicro.on(r.CHANGE_EVENTS.RETINA,this._onBreakpointChangeCallback)}_addKeyframesToImages(){this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach((e=>{this.AnimSystem.getGroupForTarget(e)&&(this._scrollGroup=this.AnimSystem.getGroupForTarget(e));let t=this._defineKeyframeOptions(e);this._scrollGroup.addKeyframe(e,t).controller.on("AnimLazyImage:enter",(()=>{this._imageIsInLoadRange(e)}))}))}_onBreakpointChangeCallback(e){this._resetPromises(),this.arrayImg=[],this._images.forEach((e=>{this._cleanUpImageAttributes(e),""!=e.getAttribute(s.DATA_ATTRIBUTE)&&this._imageIsInLoadRange(e)}))}_resetPromises(){this._images.forEach((e=>{e.promises={},e.promises.downloadComplete=new Promise((t=>{e.promises.__completePromiseResolver=t}))}))}_addMethodsToImageElement(){this._images.forEach((e=>{e.forceLazyLoad=()=>{this._imageIsInLoadRange(e)}}))}_imageIsInLoadRange(e){this._downloadImage(e).then((()=>{e.promises.__completePromiseResolver(e),e.dispatchEvent(new Event(o.EVENTS.DOWNLOAD_COMPLETE))}))}_cleanUpImageAttributes(e){e.removeAttribute(o.DATA_DOWNLOADING_ATTRIBUTE),e.removeAttribute(o.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE)}_downloadingImageAttributes(e){super._downloadingImageAttributes(e),e.setAttribute(o.DATA_DOWNLOADING_ATTRIBUTE,"")}_finishedDownloadAttributes(e){e.removeAttribute(o.DATA_DOWNLOADING_ATTRIBUTE),e.setAttribute(o.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE,"")}_downloadImage(e){return new Promise(((t,i)=>{null===e.getAttribute(o.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE)?null===e.getAttribute(o.DATA_DOWNLOADING_ATTRIBUTE)&&this._waitForBackgroundVisible(e).then((e=>this._getBackgroundImageSrc(e))).then((e=>this._loadImage(e))).then((()=>{n((()=>{this._finishedDownloadAttributes(e),t()}),!0)})):t()}))}_waitForBackgroundVisible(e){return new Promise(((t,i)=>{n((()=>{this._downloadingImageAttributes(e),t(e)}),!0)}))}_getBackgroundImageSrc(e){return new Promise(((t,i)=>{a((()=>{let i=e.currentStyle;i||(i=window.getComputedStyle(e,!1)),0!==i.backgroundImage.indexOf("url(")?t(null):t(i.backgroundImage.slice(4,-1).replace(/"/g,""))}),!0)}))}_loadImage(e){return new Promise(this._loadImagePromiseFunc.bind(this,e))}_loadImagePromiseFunc(e,t,i){if(!e)return void t(null);let s=new Image(1,1);s.addEventListener("load",(function e(i){s.removeEventListener("load",e),t(this)})),s.src=e,this.arrayImg.push(s)}}o.DATA_DOWNLOAD_COMPLETE_ATTRIBUTE="data-anim-lazy-image-download-complete",o.DATA_DOWNLOADING_ATTRIBUTE="data-anim-lazy-image-downloading",o.EVENTS={},o.EVENTS.DOWNLOAD_COMPLETE="video-loading-complete",e.exports=o},function(e,t,i){"use strict";class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,"loading"===document.readyState?document.addEventListener("readystatechange",(e=>{"interactive"===document.readyState&&this._init()})):this._init()}_init(){if(this._images=Array.from(document.querySelectorAll(`*[${s.DATA_ATTRIBUTE}]`)),this.AnimSystem=this._findAnim(),null===this.AnimSystem)return null;this._addKeyframesToImages()}_defineKeyframeOptions(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null).getAttribute(s.DATA_DOWNLOAD_AREA_KEYFRAME)||"{}";return Object.assign({},{start:"t - 200vh",end:"b + 100vh",event:"AnimLazyImage"},JSON.parse(e))}_addKeyframesToImages(){this._scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this._images.forEach((e=>{this.AnimSystem.getGroupForTarget(e)&&(this._scrollGroup=this.AnimSystem.getGroupForTarget(e));let t=this._defineKeyframeOptions(e);this._scrollGroup.addKeyframe(e,t).controller.once("AnimLazyImage:enter",(()=>{this._imageIsInLoadRange(e)}))}))}_cleanUpImageAttributes(e){let t=!1;try{t=this._scrollGroup.getControllerForTarget(e).getNearestKeyframeForAttribute("AnimLazyImage").isCurrentlyInRange}catch(e){t=!1}t||e.setAttribute(s.DATA_ATTRIBUTE,"")}_downloadingImageAttributes(e){e.removeAttribute(s.DATA_ATTRIBUTE)}_imageIsInLoadRange(e){this._downloadImage(e)}_downloadImage(e){this._downloadingImageAttributes(e)}_findAnim(){var e=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return e.map((e=>e._animInfo?e._animInfo.group:null)).filter((e=>null!==e)),e[0]&&e[0]._animInfo?e[0]._animInfo.group.anim:(console.error("AnimLazyImage: AnimSystem not found, please initialize anim before instantiating"),null)}}s.DATA_DOWNLOAD_AREA_KEYFRAME="data-download-area-keyframe",s.DATA_ATTRIBUTE="data-anim-lazy-image",e.exports=s},function(e,t,i){"use strict";const s=i(3).EventEmitterMicro,r=[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (min-width: 735px) and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px) and (max-width: 1440px)"},{name:"X",mediaQuery:"only screen and (min-width: 1441px)"}],n="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",a="only screen and (orientation: portrait)";class o extends s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.BREAKPOINTS=e.breakpoints||r,this._setupProperties(),this._onRetinaChange=this._onRetinaChange.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this.listenersAdded={orientation:!1,retina:!1,viewport:!1}}static get CHANGE_EVENTS(){return{ORIENTATION:"change:orientation",RETINA:"change:retina",VIEWPORT:"change:viewport"}}on(){this._setupListeners(arguments[0]),super.on.apply(this,arguments)}_onRetinaChange(){this.trigger(o.CHANGE_EVENTS.RETINA,this)}_onOrientationChange(){this.trigger(o.CHANGE_EVENTS.ORIENTATION,this)}_setupProperties(){Object.defineProperty(this,"retina",{get:()=>window.matchMedia(n).matches}),Object.defineProperty(this,"orientation",{get:()=>window.matchMedia(a).matches?"portrait":"landscape"}),this.viewport=this.getBreakpoint()}_setupListeners(e){if(e!==o.CHANGE_EVENTS.RETINA||this.listenersAdded.retina||(window.matchMedia(n).addListener(this._onRetinaChange),this.listenersAdded.retina=!0),e!==o.CHANGE_EVENTS.ORIENTATION||this.listenersAdded.orientation||(window.matchMedia(a).addListener(this._onOrientationChange),this.listenersAdded.orientation=!0),e===o.CHANGE_EVENTS.VIEWPORT&&!this.listenersAdded.viewport){for(let e=0;e<this.BREAKPOINTS.length;e++){let t=this.BREAKPOINTS[e];window.matchMedia(t.mediaQuery).addListener((e=>{e.matches&&(this.oldViewport=this.viewport,this.viewport=t.name,this.trigger(o.CHANGE_EVENTS.VIEWPORT,this))}))}this.listenersAdded.viewport=!0}}getBreakpoint(){for(let e=0;e<this.BREAKPOINTS.length;e++){let t=this.BREAKPOINTS[e];if(window.matchMedia(t.mediaQuery).matches)return t.name}}}e.exports=o},function(e,t,i){"use strict";var s=i(0)(i(19));const r=e=>{const t=new RegExp(/([0-9])+/,"g");return`#${e.match(t).map((e=>(e=>{const t=parseInt(e,10).toString(16);return 1===t.length?"0"+t:t})(e))).join("")}`};class n extends s.default{static IS_SUPPORTED(){return document.documentElement.classList.contains("dev-reference")}mounted(){this._setupSwatches()}_setupSwatches(){[...this.el.querySelectorAll("[data-swatch]")].forEach((e=>{const t=e.querySelector("[data-swatch-fill]"),i=window.getComputedStyle(t).backgroundColor;e.querySelector("[data-swatch-info]").textContent=`hex value: ${r(i)}`}))}}e.exports=n},function(e,t,i){"use strict";var s=i(0)(i(1)),r=i(9),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=a(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(s,n,o):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(20));i(7);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(a=function(e){return e?i:t})(e)}const o=r.FEATURE_DETECT.media;class l extends s.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(o)}constructor(e){super(e),this._flowInterface=null,this._flowElement=this.el.querySelector(n.SELECTOR_FLOW),this.unenhanceMedia=this.unenhanceMedia.bind(this),this.featureDetect=o}enhanceMedia(){this._flowInterface=new n.default({component:this,el:this._flowElement,breakpoints:"SL",playbackConfig:{start:"a0t + 50",end:"a0t + 100vh",anchors:[this.el]}})}_startLoadTimer(){0}unenhanceMedia(){this._flowInterface&&this._flowInterface.destroy()}}e.exports=l},function(e,t,i){"use strict";e.exports={sep:"%s",reset:"[0m",bold:"[1m",dim:"[2m",cursive:"[3m",underscore:"[4m",blink:"[5m",reverse:"[7m",hidden:"[8m",black:"[30m",red:"[31m",green:"[32m",yellow:"[33m",blue:"[34m",magenta:"[35m",cyan:"[36m",white:"[37m",BGblack:"[40m",BGred:"[41m",BGgreen:"[42m",BGyellow:"[43m",BGblue:"[44m",BGmagenta:"[45m",BGcyan:"[46m",BGwhite:"[47m"}},function(e,t,i){"use strict";const s=i(146),r=i(147),n=i(262),a={project:i(148),image:i(149),blend:{vert:i(150),frag:i(151)}};let o=n.create(),l=n.create(),h=n.create();e.exports=class{constructor(e){this.canvas=e,this.igloo=new r(this.canvas,{premultipliedAlpha:!0,antialias:!1,depth:!1,desynchronized:!0,powerPreference:"high-performance"}),this.gl=this.igloo.gl,this.program=this.igloo.program(a.project,a.image),this.program.uniforms={matrixLocation:this.gl.getUniformLocation(this.program.program,"u_matrix"),textureMatrixLocation:this.gl.getUniformLocation(this.program.program,"u_textureMatrix"),textureLocation:this.gl.getUniformLocation(this.program.program,"u_texture")},this.blendProgram=this.igloo.program(a.blend.vert,a.blend.frag),this.blendProgram.uniforms={matrixLocation:this.gl.getUniformLocation(this.blendProgram.program,"u_matrix"),imageLocation:this.gl.getUniformLocation(this.blendProgram.program,"imageTexture"),maskLocation:this.gl.getUniformLocation(this.blendProgram.program,"maskTexture")},this.buffers={positionBuffer:this.igloo.array(new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1])),texcoordBuffer:this.igloo.array(new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]))},this.framebuffers=[this.igloo.framebuffer(),this.igloo.framebuffer()],this.framebuffers[0].texture=this.igloo.texture(null,this.igloo.gl.RGBA,this.igloo.gl.CLAMP_TO_EDGE,this.igloo.gl.NEAREST),this.framebuffers[1].texture=this.igloo.texture(null,this.igloo.gl.RGBA,this.igloo.gl.CLAMP_TO_EDGE,this.igloo.gl.NEAREST),this.texturePool=new s({allocator:()=>this.igloo.texture().blank(1,1)})}modifyPoolSize(e){this.texturePool.allocate(e)}drawToFBO(e){this.framebuffers[e].attach(this.framebuffers[e].texture)}preWarmPoolForImage(e){let t=this.texturePool.get((t=>t.image===e));t||(t=this.texturePool.pop(),t.set(e),t.image=e,this.texturePool.push(t))}drawImage(e,t,i,s,r,a,c,u,d){void 0===s&&void 0===r?(a=t,c=i,t=0,i=0,u=s=e.width,d=r=e.height):void 0===a&&void 0===c&&(a=t,c=i,u=s,d=r,t=0,i=0,s=e.width,r=e.height);const p=this.igloo.gl;let m=this.texturePool.get((t=>t.image===e));m||(m=this.texturePool.pop(),m.set(e),m.image=e),m.bind(0),this.program.use().uniformi("u_texture",0).attrib("a_position",this.buffers.positionBuffer,2).attrib("a_texcoord",this.buffers.texcoordBuffer,2),n.ortho(o,0,p.canvas.width,p.canvas.height,0,-1,1),n.identity(h),n.translate(h,h,[a,c,0]),n.scale(h,h,[u,d,1]),n.multiply(h,o,h),p.uniformMatrix4fv(this.program.uniforms.matrixLocation,!1,h),n.identity(l),n.translate(l,l,[t/e.width,i/e.height,0]),n.scale(l,l,[s/e.width,r/e.height,1]),p.uniformMatrix4fv(this.program.uniforms.textureMatrixLocation,!1,l),p.drawArrays(p.TRIANGLES,0,6),this.texturePool.push(m)}composite(){const e=this.igloo.gl;this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.framebuffers[0].texture.bind(1),this.framebuffers[1].texture.bind(2),this.blendProgram.use().uniformi("imageTexture",1).uniformi("maskTexture",2).attrib("a_position",this.buffers.positionBuffer,2).attrib("a_texcoord",this.buffers.texcoordBuffer,2),n.ortho(o,0,e.canvas.width,0,e.canvas.height,-1,1),n.scale(o,o,[e.canvas.width,e.canvas.height,1]),e.uniformMatrix4fv(this.blendProgram.uniforms.matrixLocation,!1,o),e.drawArrays(e.TRIANGLES,0,6)}resizeCanvas(e,t){this.canvas.width=e,this.canvas.height=t,[0,1].forEach((e=>{this.framebuffers[e].texture.blank(this.canvas.width,this.canvas.height),this.framebuffers[e].texture.width=this.canvas.width,this.framebuffers[e].texture.height=this.canvas.height})),this.gl.viewport(0,0,e,t),this.gl.clear(this.gl.COLOR_BUFFER_BIT)}destroy(){this.texturePool.destroy(),this.texturePool=null,this.canvas=null,this.gl=null,this.blendProgram=null,this.buffers=null,this.framebuffers=null}}},function(e,t,i){"use strict";e.exports=class{constructor(e){this._objects=[],this._all=[],this.size=e.size||0,this._allocator=e.allocator,this._deallocator=e.deallocator=()=>{},e.size&&this.allocate(e.size)}allocate(e){e<this.size&&(this._all=this._all.slice(0,e),this._objects.forEach((e=>this._deallocator(e))),this._objects=[],this.size=e),this.size=e;for(let e=this._all.length;e<this.size;e++){const e=this._allocator();this._all.push(e),this._objects.push(e)}}push(e){this._deallocator(e),this._objects.unshift(e)}pop(){if(0===this._objects.length)throw"Object Pool ran out of objects";return this._objects.pop()}get(e){for(let t=0;t<this._objects.length;t++)if(e(this._objects[t])){let e=this._objects[t];return this._objects.splice(t,1),e}return null}destroy(){this._objects=null,this._all=null,this._allocator=null,this._deallocator=null}}},function(e,t,i){"use strict";function s(e,t){var i;e instanceof HTMLCanvasElement?(i=e,e=s.getContext(e,t)):i=e.canvas,this.gl=e,this.canvas=i,this.defaultFramebuffer=new s.Framebuffer(e,null)}s.QUAD2=new Float32Array([-1,-1,1,-1,-1,1,1,1]),s.fetch=function(e,t){var i=new XMLHttpRequest;return i.open("GET",e,Boolean(t)),null!=t&&(i.onload=function(){t(i.responseText)}),i.send(),i.responseText},s.getContext=function(e,t,i){var s;try{s=e.getContext("webgl",t||{})||e.getContext("experimental-webgl",t||{})}catch(e){s=null}if(null!=s||i)return s;throw new Error("Could not create WebGL context.")},s.looksLikeURL=function(e){return null==/\s/.exec(e)},s.isArray=function(e){var t=Object.prototype.toString.apply(e,[]);return null!=/ (Float(32|64)|Int(16|32|8)|Uint(16|32|8(Clamped)?))?Array]$/.exec(t)},s.prototype.program=function(e,t,i){return s.looksLikeURL(e)&&(e=s.fetch(e)),s.looksLikeURL(t)&&(t=s.fetch(t)),null!=i&&(e=i(e),t=i(t)),new s.Program(this.gl,e,t)},s.prototype.array=function(e,t){var i=this.gl,r=new s.Buffer(i,i.ARRAY_BUFFER);return null!=e&&r.update(e,null==t?i.STATIC_DRAW:t),r},s.prototype.elements=function(e,t){var i=this.gl,r=new s.Buffer(i,i.ELEMENT_ARRAY_BUFFER);return null!=e&&r.update(e,null==t?i.STATIC_DRAW:t),r},s.prototype.texture=function(e,t,i,r,n){var a=new s.Texture(this.gl,t,i,r,n);return null!=e&&a.set(e),a},s.prototype.framebuffer=function(e){var t=new s.Framebuffer(this.gl);return null!=e&&t.attach(e),t},s.Program=function(e,t,i){this.gl=e,this.debug=!1;var s=this.program=e.createProgram();if(e.attachShader(s,this.makeShader(e.VERTEX_SHADER,t)),e.attachShader(s,this.makeShader(e.FRAGMENT_SHADER,i)),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(s));this.vars={}},s.Program.prototype.makeShader=function(e,t){var i=this.gl,s=i.createShader(e);if(i.shaderSource(s,t),i.compileShader(s),i.getShaderParameter(s,i.COMPILE_STATUS))return s;throw new Error(i.getShaderInfoLog(s))},s.Program.prototype.use=function(){return this.gl.useProgram(this.program),this},s.Program.prototype.uniform=function(e,t,i){if(null==t)this.vars[e]=this.gl.getUniformLocation(this.program,e);else{null==this.vars[e]&&this.uniform(e);var r=this.vars[e];if(s.isArray(t)){var n="uniform"+t.length+(i?"i":"f")+"v";this.gl[n](r,t)}else{if("number"!=typeof t&&"boolean"!=typeof t)throw new Error("Invalid uniform value: "+t);i?this.gl.uniform1i(r,t):this.gl.uniform1f(r,t)}}return this},s.Program.prototype.matrix=function(e,t,i){null==this.vars[e]&&this.uniform(e);var s="uniformMatrix"+Math.sqrt(t.length)+"fv";return this.gl[s](this.vars[e],Boolean(i),t),this},s.Program.prototype.uniformi=function(e,t){return this.uniform(e,t,!0)},s.Program.prototype.attrib=function(e,t,i,s){var r=this.gl;return null==t?this.vars[e]=r.getAttribLocation(this.program,e):(null==this.vars[e]&&this.attrib(e),t.bind(),r.enableVertexAttribArray(this.vars[e]),r.vertexAttribPointer(this.vars[e],i,r.FLOAT,!1,null==s?0:s,0)),this},s.Program.prototype.draw=function(e,t,i){var s=this.gl;if(null==i?s.drawArrays(e,0,t):s.drawElements(e,t,i,0),this.debug&&s.getError()!==s.NO_ERROR)throw new Error("WebGL rendering error");return this},s.Program.prototype.disable=function(){for(var e in this.vars){var t=this.vars[e];this.vars.hasOwnProperty(e)&&"number"==typeof t&&this.gl.disableVertexAttribArray(t)}return this},s.Buffer=function(e,t){this.gl=e,this.buffer=e.createBuffer(),this.target=null==t?e.ARRAY_BUFFER:t,this.size=-1},s.Buffer.prototype.bind=function(){return this.gl.bindBuffer(this.target,this.buffer),this},s.Buffer.prototype.update=function(e,t){var i=this.gl;return e instanceof Array&&(e=new Float32Array(e)),t=null==t?i.DYNAMIC_DRAW:t,this.bind(),this.size!==e.byteLength?(i.bufferData(this.target,e,t),this.size=e.byteLength):i.bufferSubData(this.target,0,e),this},s.Texture=function(e,t,i,s,r){this.gl=e;var n=this.texture=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),i=null==i?e.CLAMP_TO_EDGE:i,s=null==s?e.LINEAR:s,e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,s),this.format=null==t?e.RGBA:t,this.type=null==r?e.UNSIGNED_BYTE:r},s.Texture.prototype.bind=function(e){var t=this.gl;return null!=e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture),this},s.Texture.prototype.blank=function(e,t){var i=this.gl;return this.bind(),i.texImage2D(i.TEXTURE_2D,0,this.format,e,t,0,this.format,this.type,null),this},s.Texture.prototype.set=function(e,t,i){var s=this.gl;return this.bind(),e instanceof Array&&(e=this.type==s.FLOAT?new Float32Array(e):new Uint8Array(e)),null!=t||null!=i?s.texImage2D(s.TEXTURE_2D,0,this.format,t,i,0,this.format,this.type,e):s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,e),this},s.Texture.prototype.subset=function(e,t,i,s,r){var n=this.gl;return this.bind(),e instanceof Array&&(e=this.type==n.FLOAT?new Float32Array(e):new Uint8Array(e)),null!=s||null!=r?n.texSubImage2D(n.TEXTURE_2D,0,t,i,s,r,this.format,this.type,e):n.texSubImage2D(n.TEXTURE_2D,0,t,i,this.format,this.type,e),this},s.Texture.prototype.copy=function(e,t,i,s){var r=this.gl;return r.copyTexImage2D(r.TEXTURE_2D,0,this.format,e,t,i,s,0),this},s.Framebuffer=function(e,t){this.gl=e,this.framebuffer=2==arguments.length?t:e.createFramebuffer(),this.renderbuffer=null},s.Framebuffer.prototype.bind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this},s.Framebuffer.prototype.unbind=function(){return this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this},s.Framebuffer.prototype.attach=function(e){var t=this.gl;return this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.texture,0),this},s.Framebuffer.prototype.attachDepth=function(e,t){var i=this.gl;return this.bind(),null==this.renderbuffer&&(this.renderbuffer=i.createRenderbuffer(),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,e,t),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,this.renderbuffer)),this},e.exports=s},function(e,t,i){"use strict";e.exports="precision highp float;\n\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\n\nuniform mat4 u_matrix;\nuniform mat4 u_textureMatrix;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = (u_textureMatrix * vec4(a_texcoord, 0, 1)).xy;\n}"},function(e,t,i){"use strict";e.exports="precision highp float;\n\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\n\nvoid main() {\n    gl_FragColor = texture2D(u_texture, v_texcoord);\n}"},function(e,t,i){"use strict";e.exports="attribute vec4 a_position;\nattribute vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_texcoord = a_texcoord;\n}"},function(e,t,i){"use strict";e.exports="precision mediump float;\n\nvarying vec2 v_texcoord;\n\nuniform sampler2D maskTexture;\nuniform sampler2D imageTexture;\n\nvoid main() {\n    vec4 mask = texture2D(maskTexture, v_texcoord);\n    vec4 image = texture2D(imageTexture, v_texcoord);\n    gl_FragColor = mix(image, vec4(0.0), mask.r);\n}"},function(e,t,i){"use strict";var s,r=31,n=[0,1,28,2,29,14,24,3,30,22,20,15,25,17,4,8,31,27,13,23,21,19,16,7,26,12,18,6,11,5,10,9],a=function(e){var t,i,s,n,a;if("number"==typeof e)e=e||r,t=Math.ceil(e/r),this.arr=new Uint32Array(t),this.MAX_BIT=e-1;else{if(i=JSON.parse("["+e+"]"),this.MAX_BIT=i.pop(),(n=i.pop())>0){for(s=[],a=0;a<n;a++)s[a]=0;for(a=0;a<i.length;a++)s[n+a]=i[a];i=s}t=Math.ceil((this.MAX_BIT+1)/r),this.arr=new Uint32Array(t),this.arr.set(i)}};function o(e){return n[125613361*(e&-e)>>>27]}function l(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,n[125613361*(e=1+((e|=e>>16)>>1))>>>27]}function h(e,t,i){return e^(1<<t)-1<<i}function c(e,t,i){return e|(1<<t)-1<<i}function u(e,t,i){return e&(2147483647^(1<<t)-1<<i)}function d(e,t){return e&t}function p(e,t){return e|t}function m(e,t){return e^t}a.prototype.get=function(e){var t=this._getWord(e);return-1!==t&&1==(this.arr[t]>>e%r&1)},a.prototype.set=function(e){var t=this._getWord(e);return-1!==t&&(this.arr[t]|=1<<e%r,!0)},a.prototype.setRange=function(e,t){return this._doRange(e,t,c)},a.prototype.unset=function(e){var t=this._getWord(e);return-1!==t&&(this.arr[t]&=~(1<<e%r),!0)},a.prototype.unsetRange=function(e,t){return this._doRange(e,t,u)},a.prototype.toggle=function(e){var t=this._getWord(e);return-1!==t&&(this.arr[t]^=1<<e%r,!0)},a.prototype.toggleRange=function(e,t){return this._doRange(e,t,h)},a.prototype.clear=function(){for(var e=0;e<this.arr.length;e++)this.arr[e]=0;return!0},a.prototype.clone=function(){return new a(this.dehydrate())},a.prototype.dehydrate=function(){var e,t,i,s=0;for(e=0;e<this.arr.length&&0===this.arr[e];e++)s++;for(e=this.arr.length-1;e>=s;e--)if(0!==this.arr[e]){t=e;break}for(i="",e=s;e<=t;e++)i+=this.arr[e]+",";return i+=s+","+this.MAX_BIT},a.prototype.and=function(e){return this._op(e,d)},a.prototype.or=function(e){return this._op(e,p)},a.prototype.xor=function(e){return this._op(e,m)},a.prototype.forEach=function(e){for(var t=this.ffs();-1!==t;t=this.nextSetBit(t+1))e(t)},a.prototype.circularShift=function(e){e=-e;for(var t=this,i=2147483647,s=t.MAX_BIT+1,n=t.arr.length,o=r-(n*r-s),l=new a(s),h=0,c=0,u=0,d=~~((e=(s+e%s)%s)/r)%n,p=e%r;u<s;){var m=d===n-1?o:r,f=t.arr[d];p>0&&(f>>>=p),c>0&&(f<<=c),l.arr[h]=l.arr[h]|f;var _=Math.min(r-c,m-p);u+=_,(c+=_)>=r&&(l.arr[h]=l.arr[h]&i,c=0,h++),(p+=_)>=m&&(p=0,d++),d>=n&&(d-=n)}return l.arr[n-1]=l.arr[n-1]&i>>>r-o,l},a.prototype.getCardinality=function(){for(var e=0,t=this.arr.length-1;t>=0;t--){var i=this.arr[t];e+=16843009*((i=(858993459&(i-=i>>1&1431655765))+(i>>2&858993459))+(i>>4)&252645135)>>24}return e},a.prototype.getIndices=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},a.prototype.isSubsetOf=function(e){for(var t=this.arr,i=e.arr,s=t.length,r=0;r<s;r++)if((t[r]&i[r])!==t[r])return!1;return!0},a.prototype.isEmpty=function(){var e,t;for(t=this.arr,e=0;e<t.length;e++)if(t[e])return!1;return!0},a.prototype.isEqual=function(e){var t;for(t=0;t<this.arr.length;t++)if(this.arr[t]!==e.arr[t])return!1;return!0},a.prototype.toString=function(){var e,t="";for(e=this.arr.length-1;e>=0;e--)t+=("0000000000000000000000000000000"+this.arr[e].toString(2)).slice(-31);return t},a.prototype.ffs=function(e){var t,i,s=-1;for(i=e=e||0;i<this.arr.length;i++)if(0!==(t=this.arr[i])){s=o(t)+i*r;break}return s<=this.MAX_BIT?s:-1},a.prototype.ffz=function(e){var t,i,s=-1;for(t=e=e||0;t<this.arr.length;t++)if(2147483647!==(i=this.arr[t])){s=o(i^=2147483647)+t*r;break}return s<=this.MAX_BIT?s:-1},a.prototype.fls=function(e){var t,i,s=-1;for(void 0===e&&(e=this.arr.length-1),t=e;t>=0;t--)if(0!==(i=this.arr[t])){s=l(i)+t*r;break}return s},a.prototype.flz=function(e){var t,i,s=-1;for(void 0===e&&(e=this.arr.length-1),t=e;t>=0;t--){if(i=this.arr[t],t===this.arr.length-1){var n=this.MAX_BIT%r;i|=(1<<r-n-1)-1<<n+1}if(2147483647!==i){s=l(i^=2147483647)+t*r;break}}return s},a.prototype.nextSetBit=function(e){var t=this._getWord(e);if(-1===t)return-1;var i=e%r,s=(1<<r-i)-1<<i,n=this.arr[t]&s;return n>0?o(n)+t*r:this.ffs(t+1)},a.prototype.nextUnsetBit=function(e){var t=this._getWord(e);if(-1===t)return-1;var i=(1<<e%r)-1,s=this.arr[t]|i;return 2147483647===s?this.ffz(t+1):o(2147483647^s)+t*r},a.prototype.previousSetBit=function(e){var t=this._getWord(e);if(-1===t)return-1;var i=2147483647>>>r-e%r-1,s=this.arr[t]&i;return s>0?l(s)+t*r:this.fls(t-1)},a.prototype.previousUnsetBit=function(e){var t=this._getWord(e);if(-1===t)return-1;var i=e%r,s=(1<<r-i-1)-1<<i+1,n=this.arr[t]|s;return 2147483647===n?this.flz(t-1):l(2147483647^n)+t*r},a.prototype._getWord=function(e){return e<0||e>this.MAX_BIT?-1:~~(e/r)},a.prototype._doRange=function(e,t,i){var s,n,a;t<e&&(t^=e,t^=e^=t);var o=this._getWord(e),l=this._getWord(t);if(-1===o||-1===l)return!1;for(s=o;s<=l;s++)a=(s===l?t%r:30)-(n=s===o?e%r:0)+1,this.arr[s]=i(this.arr[s],a,n);return!0},a.prototype._op=function(e,t){var i,s,n,o,l,h;if(s=this.arr,"number"==typeof e)h=this._getWord(e),l=this.clone(),-1!==h&&(l.arr[h]=t(s[h],1<<e%r));else for(n=e.arr,o=s.length,l=new a(this.MAX_BIT+1),i=0;i<o;i++)l.arr[i]=t(s[i],n[i]);return l},void 0===(s=function(){return a}.apply(t,[]))||(e.exports=s)},function(e,t,i){"use strict";(function(t){var s=i(155);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function r(e,t){if(e===t)return 0;for(var i=e.length,s=t.length,r=0,n=Math.min(i,s);r<n;++r)if(e[r]!==t[r]){i=e[r],s=t[r];break}return i<s?-1:s<i?1:0}function n(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=i(156),o=Object.prototype.hasOwnProperty,l=Array.prototype.slice,h="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function u(e){return!n(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=y,p=/\s*function\s+([^\(\s]*)\s*/;function m(e){if(a.isFunction(e)){if(h)return e.name;var t=e.toString().match(p);return t&&t[1]}}function f(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function _(e){if(h||!a.isFunction(e))return a.inspect(e);var t=m(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,i,s,r){throw new d.AssertionError({message:i,actual:e,expected:t,operator:s,stackStartFunction:r})}function y(e,t){e||g(e,!0,t,"==",d.ok)}function v(e,t,i,s){if(e===t)return!0;if(n(e)&&n(t))return 0===r(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(n(e)!==n(t))return!1;var o=(s=s||{actual:[],expected:[]}).actual.indexOf(e);return-1!==o&&o===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),function(e,t,i,s){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(i&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=b(e),n=b(t);if(r&&!n||!r&&n)return!1;if(r)return v(e=l.call(e),t=l.call(t),i);var o,h,c=x(e),u=x(t);if(c.length!==u.length)return!1;for(c.sort(),u.sort(),h=c.length-1;h>=0;h--)if(c[h]!==u[h])return!1;for(h=c.length-1;h>=0;h--)if(!v(e[o=c[h]],t[o],i,s))return!1;return!0}(e,t,i,s))}return i?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function E(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,i,s){var r;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof i&&(s=i,i=null),r=function(e){var t;try{e()}catch(e){t=e}return t}(t),s=(i&&i.name?" ("+i.name+").":".")+(s?" "+s:"."),e&&!r&&g(r,i,"Missing expected exception"+s);var n="string"==typeof s,o=!e&&r&&!i;if((!e&&a.isError(r)&&n&&E(r,i)||o)&&g(r,i,"Got unwanted exception"+s),e&&r&&i&&!E(r,i)||!e&&r)throw r}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return f(_(e.actual),128)+" "+e.operator+" "+f(_(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var i=new Error;if(i.stack){var s=i.stack,r=m(t),n=s.indexOf("\n"+r);if(n>=0){var a=s.indexOf("\n",n+1);s=s.substring(a+1)}this.stack=s}}},a.inherits(d.AssertionError,Error),d.fail=g,d.ok=y,d.equal=function(e,t,i){e!=t&&g(e,t,i,"==",d.equal)},d.notEqual=function(e,t,i){e==t&&g(e,t,i,"!=",d.notEqual)},d.deepEqual=function(e,t,i){v(e,t,!1)||g(e,t,i,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,i){v(e,t,!0)||g(e,t,i,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,i){v(e,t,!1)&&g(e,t,i,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,i,s){v(t,i,!0)&&g(t,i,s,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,i){e!==t&&g(e,t,i,"===",d.strictEqual)},d.notStrictEqual=function(e,t,i){e===t&&g(e,t,i,"!==",d.notStrictEqual)},d.throws=function(e,t,i){w(!0,e,t,i)},d.doesNotThrow=function(e,t,i){w(!1,e,t,i)},d.ifError=function(e){if(e)throw e},d.strict=s((function e(t,i){t||g(t,!0,i,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var x=Object.keys||function(e){var t=[];for(var i in e)o.call(e,i)&&t.push(i);return t}}).call(this,i(154))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,o,l=a(e),h=1;h<arguments.length;h++){for(var c in i=Object(arguments[h]))r.call(i,c)&&(l[c]=i[c]);if(s){o=s(i);for(var u=0;u<o.length;u++)n.call(i,o[u])&&(l[o[u]]=i[o[u]])}}return l}},function(e,t,i){(function(e){var s=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},s=0;s<t.length;s++)i[t[s]]=Object.getOwnPropertyDescriptor(e,t[s]);return i},r=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var s=arguments,n=s.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(i>=n)return e;switch(e){case"%s":return String(s[i++]);case"%d":return Number(s[i++]);case"%j":try{return JSON.stringify(s[i++])}catch(e){return"[Circular]"}default:return e}})),l=s[i];i<n;l=s[++i])f(l)||!b(l)?a+=" "+l:a+=" "+o(l);return a},t.deprecate=function(i,s){if(void 0!==e&&!0===e.noDeprecation)return i;if(void 0===e)return function(){return t.deprecate(i,s).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(s);e.traceDeprecation?console.trace(s):console.error(s),r=!0}return i.apply(this,arguments)}};var n,a={};function o(e,i){var s={seen:[],stylize:h};return arguments.length>=3&&(s.depth=arguments[2]),arguments.length>=4&&(s.colors=arguments[3]),m(i)?s.showHidden=i:i&&t._extend(s,i),y(s.showHidden)&&(s.showHidden=!1),y(s.depth)&&(s.depth=2),y(s.colors)&&(s.colors=!1),y(s.customInspect)&&(s.customInspect=!0),s.colors&&(s.stylize=l),c(s,e,s.depth)}function l(e,t){var i=o.styles[t];return i?"["+o.colors[i][0]+"m"+e+"["+o.colors[i][1]+"m":e}function h(e,t){return e}function c(e,i,s){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(s,e);return g(r)||(r=c(e,r,s)),r}var n=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(_(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(f(t))return e.stylize("null","null")}(e,i);if(n)return n;var a=Object.keys(i),o=function(e){var t={};return e.forEach((function(e,i){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),w(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(i);if(0===a.length){if(x(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(v(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(E(i))return e.stylize(Date.prototype.toString.call(i),"date");if(w(i))return u(i)}var h,b="",A=!1,S=["{","}"];(p(i)&&(A=!0,S=["[","]"]),x(i))&&(b=" [Function"+(i.name?": "+i.name:"")+"]");return v(i)&&(b=" "+RegExp.prototype.toString.call(i)),E(i)&&(b=" "+Date.prototype.toUTCString.call(i)),w(i)&&(b=" "+u(i)),0!==a.length||A&&0!=i.length?s<0?v(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),h=A?function(e,t,i,s,r){for(var n=[],a=0,o=t.length;a<o;++a)C(t,String(a))?n.push(d(e,t,i,s,String(a),!0)):n.push("");return r.forEach((function(r){r.match(/^\d+$/)||n.push(d(e,t,i,s,r,!0))})),n}(e,i,s,o,a):a.map((function(t){return d(e,i,s,o,t,A)})),e.seen.pop(),function(e,t,i){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(h,b,S)):S[0]+b+S[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,i,s,r,n){var a,o,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),C(s,r)||(a="["+r+"]"),o||(e.seen.indexOf(l.value)<0?(o=f(i)?c(e,l.value,null):c(e,l.value,i-1)).indexOf("\n")>-1&&(o=n?o.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),y(a)){if(n&&r.match(/^\d+$/))return o;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function f(e){return null===e}function _(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return b(e)&&"[object RegExp]"===A(e)}function b(e){return"object"==typeof e&&null!==e}function E(e){return b(e)&&"[object Date]"===A(e)}function w(e){return b(e)&&("[object Error]"===A(e)||e instanceof Error)}function x(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(i){if(y(n)&&(n=e.env.NODE_DEBUG||""),i=i.toUpperCase(),!a[i])if(new RegExp("\\b"+i+"\\b","i").test(n)){var s=e.pid;a[i]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",i,s,e)}}else a[i]=function(){};return a[i]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=m,t.isNull=f,t.isNullOrUndefined=function(e){return null==e},t.isNumber=_,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=b,t.isDate=E,t.isError=w,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(158);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),T[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=i(159),t._extend=function(e,t){if(!t||!b(t))return e;for(var i=Object.keys(t),s=i.length;s--;)e[i[s]]=t[i[s]];return e};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var i=new Error("Promise was rejected with a falsy value");i.reason=e,e=i}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(O&&e[O]){var t;if("function"!=typeof(t=e[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,i,s=new Promise((function(e,s){t=e,i=s})),r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);r.push((function(e,s){e?i(e):t(s)}));try{e.apply(this,r)}catch(e){i(e)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),O&&Object.defineProperty(t,O,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,s(e))},t.promisify.custom=O,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function i(){for(var i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);var r=i.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var n=this,a=function(){return r.apply(n,arguments)};t.apply(this,i).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(P,t,a)}))}return Object.setPrototypeOf(i,Object.getPrototypeOf(t)),Object.defineProperties(i,s(t)),i}}).call(this,i(157))},function(e,t){var i,s,r=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(e){i=n}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var l,h=[],c=!1,u=-1;function d(){c&&l&&(c=!1,l.length?h=l.concat(h):u=-1,h.length&&p())}function p(){if(!c){var e=o(d);c=!0;for(var t=h.length;t;){for(l=h,h=[];++u<t;)l&&l[u].run();u=-1,t=h.length}l=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new m(e,t)),1!==h.length||c||o(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){"use strict";e.exports=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.concurrencyCount=e,this.queue=[],this.inProgressCount=0,this.isRunning=!1}enqueueImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.queue[t]||(this.queue[t]=new Array),new Promise(((i,s)=>{this.queue[t].push({resolve:i,reject:s,imageUrl:e}),this._processNextQueueItem()})).then((()=>this._loadImage(e)))}start(){this.isRunning||(this.isRunning=!0,this._processNextQueueItem())}stop(){this.isRunning=!1}_loadImage(e){return new Promise(((t,i)=>{let s=new Image;s.onload=()=>{this.inProgressCount--,this._processNextQueueItem(),t(s)},s.onerror=e=>{this.inProgressCount--,this._processNextQueueItem(),i(e)},s.src=e}))}_processNextQueueItem(){if(this.inProgressCount>=this.concurrencyCount||!this.isRunning)return;let e=this.queue.find((e=>e&&e.length>0));if(!e)return;let t=e.shift();this.inProgressCount++,t.resolve()}}},function(e,t,i){"use strict";var s=i(0)(i(1)),r=i(9),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(s,n,a):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(21)),a=i(7),o=i(68);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}const h=r.FEATURE_DETECT.media;class c extends s.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(h)}constructor(e){super(e),this._onVideoLoaded=this._onVideoLoaded.bind(this),this._onVideoEnded=this._onVideoEnded.bind(this),this.featureDetect=h}enhanceMedia(){this._videoInterface=new n.default({el:this.el,anim:this.anim,loadKeyframe:{start:"a0t - 10vh",end:"a0b + 100vh",anchors:[this.el]},playKeyframe:!0,customViewports:{M:o.SASSKIT_VIEWPORTS.L},logLabel:"Video Stub",showLogs:!0}),this._videoInterface.init(),this._videoInterface.once(n.VIDEO_LOADED,this._onVideoLoaded),this._videoInterface.once(n.VIDEO_ENDED,this._onVideoEnded)}unenhanceMedia(){this._videoInterface.destroy()}_reset(){this._videoInterface.reset()}_play(e){this._videoInterface.play(e)}_pause(e){this._videoInterface.pause(e)}_onVideoLoaded(){const e=this._videoInterface.name;a.DevLogger.log(`${e}: video loaded`),this._play(0)}_onVideoEnded(){const e=this._videoInterface.name;a.DevLogger.log(`${e}: video ended`)}}e.exports=c},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(163)),n=s(i(164)),a=s(i(166)),o=s(i(167)),l=[r.default,n.default,a.default,o.default];t.default=l},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8));class n extends r.default{get src(){if(!this.media.el.currentSrc&&!this.media.el.src)for(let e of this.media.el.querySelectorAll("source"))if(this.media.el.canPlayType(e.type))return e.src;return this.media.el.currentSrc||this.media.el.src}}var a=n;t.default=a},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(72)),a=s(i(10)),o=s(i(24)),l=s(i(42)),h=s(i(17));const c=n.default.CAN_PLAY_THROUGH,{HAVE_NOTHING:u,HAVE_CURRENT_DATA:d,NETWORK_EMPTY:p}=HTMLMediaElement;class m extends r.default{constructor(e){super(e),this._loadCompleteEvent=e.loadCompleteEvent||c,this._onLoaded=this._onLoaded.bind(this),this._onError=this._onError.bind(this)}mounted(){"none"!==this.media.el.preload&&this.media.src&&(async()=>{try{await this.media.load(this.media.src)}catch(e){(0,l.default)(`auto load of ${this.media.src} failed or was aborted with err:${e}`)}})()}async load(e){if(void 0===e&&this.media.src&&(e=this.media.src),!e)throw new Error("No Media src was specified, can not fullfill load() request");return e!==this._currentLoadUrl&&(this.media.trigger(a.default.MEDIA_LOAD_START),this._currentLoadUrl=e,this._pendingPromise=new Promise(((t,i)=>{this._resolvePendingPromise=()=>{this._resolvePendingPromise=null,this._rejectPendingPromise=null,t()},this._rejectPendingPromise=()=>{this._resolvePendingPromise=null,this._rejectPendingPromise=null,i()},this.media.el.addEventListener(this._loadCompleteEvent,this._onLoaded),h.default.browser.firefox&&"canplaythrough"===this._loadCompleteEvent&&this.media.el.addEventListener("canplay",this._onLoaded),this.media.el.addEventListener(n.default.ERROR,this._onError),this.media.el.addEventListener(n.default.ABORT,this._onError),this.media.el.src=e,this.media.el.load()}))),this._pendingPromise}_clearLoadListeners(){this.media.el.removeEventListener(this._loadCompleteEvent,this._onLoaded),this.media.el.removeEventListener("canplay",this._onLoaded),this.media.el.removeEventListener(n.default.ERROR,this._onError),this.media.el.removeEventListener(n.default.ABORT,this._onError)}_onLoaded(){this._clearLoadListeners(),this.media.trigger(a.default.LOADING_STATE_CHANGE),this.media.trigger(a.default.MEDIA_LOAD_COMPLETE),this._resolvePendingPromise()}_onError(){this._clearLoadListeners(),this.media.trigger(a.default.MEDIA_LOAD_ERROR),this.media.trigger(a.default.LOADING_STATE_CHANGE),this._rejectPendingPromise()}abortLoad(){this._rejectPendingPromise&&this._rejectPendingPromise()}get loadingState(){return this.media.el.error?o.default.ERROR:this.media.el.networkState===p&&this.media.el.readyState===u?o.default.EMPTY:this.media.el.readyState<d?this.media.el.buffered.length&&0===this.media.el.buffered.start(0)&&this.media.el.buffered.end(0)===this.media.el.duration?o.default.LOADED:o.default.LOADING:o.default.LOADED}destroy(){this._clearLoadListeners(),super.destroy()}}var f=m;t.default=f},function(e,t,i){"use strict";var s=!1,r=window||self;try{s=!!r.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(e){}e.exports=s},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(25));const{HAVE_METADATA:a,HAVE_CURRENT_DATA:o}=HTMLVideoElement;class l extends r.default{constructor(e){super(e),this._initialize()}_initialize(){this.media.el.playsInline=!0,this.media.el.autoplay&&(this._autoPlayTimer=setTimeout((()=>this.media.play())))}async play(){this.media.el.readyState<a&&await this.media.load(),await this.media.el.play()}get playbackState(){return this.media.el.ended?n.default.ENDED:this.media.el.paused&&!this.media.el.ended?n.default.PAUSED:n.default.PLAYING}destroy(){clearTimeout(this._autoPlayTimer),super.destroy()}}var h=l;t.default=h},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(25)),a=s(i(24)),o=s(i(72)),l=s(i(10));const h=[o.default.LOADED_DATA,o.default.LOAD_START,o.default.CAN_PLAY,o.default.CAN_PLAY_THROUGH,o.default.PLAY,o.default.PLAYING,o.default.PAUSE,o.default.WAITING,o.default.SEEKING,o.default.SEEKED,o.default.ERROR,o.default.ENDED],c="[data-inline-media-controller={id}]";class u extends r.default{constructor(e){super(e),this._container=e.container||this.media.el.parentElement,this._playbackState=n.default.IDLE,this._loadingState=a.default.EMPTY,this._elementsToDecorate=[],this._container&&this._elementsToDecorate.push(this._container),this.media.id&&this._elementsToDecorate.push(...Array.from(document.querySelectorAll(c.replace("{id}",this.media.id))));for(const e of this._elementsToDecorate)e.classList.add(this._playbackState),e.classList.add(this._loadingState);this.updateState=this.updateState.bind(this),this._addEventListeners()}_addEventListeners(){for(let e of h)this.media.el.addEventListener(e,this.updateState);this.media.on(l.default.LOADING_STATE_CHANGE,this.updateState),this.media.on(l.default.PLAYBACK_STATE_CHANGE,this.updateState)}_removeEventListeners(){for(let e of h)this.media.el.removeEventListener(e,this.updateState);this.media.off(l.default.LOADING_STATE_CHANGE,this.updateState),this.media.off(l.default.PLAYBACK_STATE_CHANGE,this.updateState)}updateState(e){const t=this.media.playbackState,i=this._playbackState,s=this.media.loadingState,r=this._loadingState;if(this._playbackState=t,this._loadingState=s,t!==i){for(const e of this._elementsToDecorate)e.classList.add(t),e.classList.remove(i);this.media.trigger(l.default.PLAYBACK_STATE_CHANGE)}if(s!==r){for(const e of this._elementsToDecorate)e.classList.add(s),e.classList.remove(r);this.media.trigger(l.default.LOADING_STATE_CHANGE)}}destroy(){for(const e of this._elementsToDecorate)e.classList.remove(this._playbackState),e.classList.remove(this._loadingState);this._removeEventListeners(),super.destroy()}}var d=u;t.default=d},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=document);const i=e.querySelectorAll("[data-inline-media]"),s=[];for(let e of i){const i=e.dataset,a=i.inlineMediaPlugins?i.inlineMediaPlugins.split(",").map((e=>e.trim())):[],o=[];for(const e of a)if(!r.pluginCache[e]){if(!n.default[e])throw new Error(`Error Trying to use undefined Plugin named: ${e} . Ensure you call Media.addPlugin() first to register this custom plugin!`);o.push((async()=>{const t=(await n.default[e]()).default;r.default.addPlugin(e,t)}))}await Promise.all(o.map((async e=>e()))),s.push(new r.default(Object.assign({el:e,plugins:a.map((e=>r.pluginCache[e]))},t)))}return s};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=a(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=r?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(s,n,o):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(71)),n=s(i(169));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(a=function(e){return e?i:t})(e)}},function(e,t,i){"use strict";function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(s=function(e){return e?i:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=s(t);if(i&&i.has(e))return i.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,i&&i.set(e,r),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={AnimLoad:async()=>Promise.resolve().then((()=>r(i(74)))),AnimPlay:async()=>Promise.resolve().then((()=>r(i(75)))),FeatureObserver:async()=>Promise.resolve().then((()=>r(i(170)))),LoadTimeout:async()=>Promise.resolve().then((()=>r(i(76)))),PlayPauseButton:async()=>Promise.resolve().then((()=>r(i(77)))),ViewportSource:async()=>Promise.resolve().then((()=>r(i(173))))};t.default=n},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(25)),a=s(i(24)),o=s(i(10)),l=s(i(171)),h=s(i(172));const c=e=>e,u=e=>e?e.split(",").map((e=>e.trim())):null;class d extends r.default{constructor(e){super(e);const t=(t,i,s)=>{let r="inlineMedia"+t[0].toUpperCase()+t.slice(1);return i(this.media.el.dataset[r])||e[t]||s};this._disabledStates=new l.default({features:t("disabledWhen",u,[]),onActivate:this.disable.bind(this),onDeactivate:this.enable.bind(this)}),this._destroyStates=new l.default({features:t("destroyWhen",u,[]),onActivate:this.destroyMedia.bind(this)}),this._pausedStates=new l.default({features:t("pausedWhen",u,[]),onActivate:this.pauseMedia.bind(this)}),this._autoplayStates=new l.default({features:t("autoplayWhen",u,[]),onActivate:this.autoplayMedia.bind(this),onDeactivate:this.disableAutoplay.bind(this)});const i=e.featureDetect||{};var s;this.featureCallbacks=Object.entries(i).map((e=>{let[t,i]=e;return new h.default({featureClass:t,callback:i})})),this._featureElement=(s=t("featureElement",c,document.documentElement))instanceof HTMLElement?s:document.querySelector(s),this.featureSets=[this._autoplayStates,this._pausedStates,this._disabledStates,this._destroyStates],this._featuresUpdated=this._featuresUpdated.bind(this),this.play=!1,this._observer=new MutationObserver(this._featuresUpdated),this._observer.observe(this._featureElement,{attributes:!0,attributeFilter:["class"]}),this._featuresUpdated()}get loadingState(){return this._disabledStates.isDetected?a.default.DISABLED:void 0}get playbackState(){return this._disabledStates.isDetected?n.default.PAUSED:void 0}_featuresUpdated(){let e=this._featureElement.classList;this.featureSets.filter((t=>(t.updateFeatureState(e),t.detectionChanged))).forEach((e=>e.applyEffect())),this.featureCallbacks.forEach((t=>{t.updatePresence(e),t.isPresent&&t.presenceChanged&&t.triggerCallback(this.media)}))}autoplayMedia(){this.media.el.setAttribute("autoplay",!0),this.media.play()}disableAutoplay(){this.media.el.setAttribute("autoplay",!1)}pauseMedia(){this.media.el.pause()}destroyMedia(){this.media.destroy()}destroy(){this._observer.disconnect()}disable(){this.media.abortLoad(),this.media.el.pause(),this.play=c,this.media.trigger(o.default.LOADING_STATE_CHANGE),this.media.trigger(o.default.PLAYBACK_STATE_CHANGE)}enable(){this.play=!1,this.media.trigger(o.default.LOADING_STATE_CHANGE),this.media.trigger(o.default.PLAYBACK_STATE_CHANGE)}}var p=d;t.default=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const s=()=>{};var r=class{constructor(e){var t;this._features=new Set((t=e.features,Array.isArray(t)?t:t?[t]:[])),this._isDetected=!1,this._wasDetected=!1,this._onActivate=e.onActivate||s,this._onDeactivate=e.onDeactivate||s}get detectionChanged(){return this._isDetected!==this._wasDetected}get isDetected(){return this._isDetected}updateFeatureState(e){this._wasDetected=this._isDetected;for(let t of e)if(this._features.has(t))return void(this._isDetected=!0);this._isDetected=!1}applyEffect(){this._isDetected?this._onActivate():this._onDeactivate()}};t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=class{constructor(e){this.featureClass=e.featureClass,this._callback=e.callback,this._isPresent=!1,this._wasPresent=!1}get presenceChanged(){return this._isPresent!==this._wasPresent}get isPresent(){return this._isPresent}updatePresence(e){this._wasPresent=this._isPresent,this._isPresent=e.contains(this.featureClass)}triggerCallback(e){return this._callback(e)}};t.default=s},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(78)),a=s(i(175)),o=(s(i(42)),s(i(176)),s(i(24)));class l extends r.default{constructor(e){super(e),this._cachedPlaying=null,this._initialize()}_initialize(){this._onBreakpointChange=this._onBreakpointChange.bind(this);const e=Object.assign({callback:this._onBreakpointChange},this.options);this._breakpointDetect=e.anim?new a.default(e):new n.default(e),this._currentTime=0;const t=this.media.el.dataset;this._basePath=this.options.basePath||t.inlineMediaBasepath||"./",this._onBreakpointChange()}_onBreakpointChange(){this._currentBreakpoint=this._breakpointDetect.breakpoint;const e=window.devicePixelRatio>1?`${this._currentBreakpoint}_2x`:this._currentBreakpoint,t=`${this._basePath}${e}.mp4`;this._swapSrc(t)}get src(){return this._src}async _swapSrc(e){if(this._src=e,this.media.loadingState===o.default.EMPTY)return;const t=null!==this._cachedPlaying?this._cachedPlaying:!this.media.el.paused;return this.media.loadingState===o.default.LOADED&&(this._currentTime=this.media.el.currentTime),this._cachedPlaying=t,await this.media.load(`${e}#t=${this._currentTime}`),this._cachedPlaying=null,t?this.media.play():Promise.resolve()}destroy(){this._breakpointDetect.destroy(),super.destroy()}}t.default=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={small:0,medium:570,large:780,xlarge:1280}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(78)),n=s(i(43));class a extends r.default{constructor(e){super(e)}_initialize(){this._anim=this.options.anim,this._bpMap=this.options.animBreakpointMap||n.default,this._updateBreakpoint=this._updateBreakpoint.bind(this),this._callback=this.options.callback,this._addEventListeners(),this._updateBreakpoint()}_addEventListeners(){this._anim.on("ON_BREAKPOINT_CHANGE",this._updateBreakpoint)}_removeEventListeners(){this._anim.off("ON_BREAKPOINT_CHANGE",this._updateBreakpoint)}_updateBreakpoint(){const e=this._bpMap[this._anim.model.pageMetrics.breakpoint];let t=!1;this._currentBreakpoint&&this._currentBreakpoint!==e&&(t=!0),this._currentBreakpoint=e,t&&this._callback()}destroy(){super.destroy()}}t.default=a},function(e,t,i){"use strict";e.exports=i(73)("log")},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(17)),n=s(i(178)),a=s(i(26)),o=s(i(79)),l=i(7);class h extends n.default{constructor(e){super(e);const t=this.media.el.dataset;this._breakpointKeys=Object.entries(this._animBreakpointMap).reduce(((e,t)=>{let[i,s]=t;return e[s]=i,e}),{}),this._retinaEnabled=(0,a.default)(t,e,"retinaEnabled","true"),"string"==typeof this._retinaEnabled&&/\[.*?\]/.test(this._retinaEnabled)&&(this._retinaEnabled=JSON.parse(this._retinaEnabled)),this._fileType=(0,a.default)({},e,"fileType","mp4"),["webm","hevc"].includes(this._fileType)&&(this._fileType=r.default.browser.safari?"mov":"webm"),this._currentViewport=e.currentViewport,this._initializePostExtension()}_initialize(){}_initializePostExtension(){super._initialize()}_convertAnimViewportName(e){let t;return this._animBreakpointMap.hasOwnProperty(e)?t=this._animBreakpointMap[e]:l.DevLogger.warn(`${e} is not in the supplied viewport set ${JSON.stringify(this._animBreakpointMap)}`),t}_generateSrc(){let e;e=this._currentViewport?this._currentViewport:this._anim.model.pageMetrics.breakpoint?this._anim.model.pageMetrics.breakpoint:this._anim.model.getBreakpoint(),e=this._convertAnimViewportName(e);const t=this._breakpointKeys[e],i=!0===this._retinaEnabled||"true"===this._retinaEnabled||Array.isArray(this._retinaEnabled)&&this._retinaEnabled.includes(t),s=window.devicePixelRatio>1&&i?"_2x":"";return this._template.replace(o.default.VP,e).replace(o.default.RES,s)}}t.default=h},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(8)),n=s(i(26)),a=s(i(43)),o=s(i(79));class l extends r.default{constructor(e){super(e);const t=this.media.el.dataset;this._anim=(0,n.default)({},e,"anim",null),this._animBreakpointMap=(0,n.default)({},e,"animBreakpointMap",a.default),this._locale=(0,n.default)(t,{},"locale","us"),this._basePath=(0,n.default)({},e,"basePath",""),this._name=(0,n.default)(t,{},"name",""),this._retinaEnabled=(0,n.default)(t,e,"retinaEnabled",!0),this._fileType=(0,n.default)({},e,"fileType","mp4"),this._template="",this._initialize()}get src(){return this._generateSrc()}_initialize(){this._validateRequiredOptions(),this._generateVatPathTemplate()}_validateRequiredOptions(){const e={anim:this._anim,basePath:this._basePath,name:this._name};Object.keys(e).forEach(((t,i)=>{if(!e[t])throw new Error(`${t} is a required argument to generate a VAT media src path.`)}))}_generateVatPathTemplate(){let e=`/105/media/${this._locale}/${this._basePath}/${this._name}/${o.default.VP}${o.default.RES}.${this._fileType}`;this._template=e.replace(/\/{2,}/g,"/")}_convertAnimViewportName(e){return this._animBreakpointMap.hasOwnProperty(e)?this._animBreakpointMap[e]:e}_generateSrc(){const e=window.devicePixelRatio>1&&this._retinaEnabled?"_2x":"";let t=this._anim.model.pageMetrics.breakpoint?this._anim.model.pageMetrics.breakpoint:this._anim.model.getBreakpoint();return t=this._convertAnimViewportName(t),this._template.replace(o.default.VP,t).replace(o.default.RES,e)}}t.default=l},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=i(9),a=s(i(21));const o=n.FEATURE_DETECT.media;class l extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(o)}constructor(e){super(e),this._els={media:{videoContainer:this.el.querySelector(".media-video-container"),video:this.el.querySelector(".apps-video"),playPauseButton:this.el.querySelector(".play-pause-button")},parallax:{hardwareContainer:this.el.querySelector(".hardware-container"),copy:this.el.querySelector(".copy")}},this.el.style.setProperty("--copy-element-height",this._els.parallax.copy.getBoundingClientRect().height+"px"),this.featureDetect=o}enhanceMedia(){this._videoInterface=new a.default({el:this._els.media.videoContainer,anim:this.anim,playKeyframe:{start:"a0t - 100vh",end:"a1b",anchors:[this._els.parallax.hardwareContainer,this._els.media.playPauseButton]},playPauseButton:this._els.media.playPauseButton,logLabel:"Apps",showLogs:!0,resetOnExit:!0}),this._videoInterface.init()}unenhanceMedia(){this._videoInterface.destroy()}enhanceParallax(){super.enhanceParallax(),this._setupParallaxKeyframes()}_setupParallaxKeyframes(){this.addKeyframe({el:this._els.parallax.hardwareContainer,start:"(a0t + 50a0h) - 100vh",end:"(a1t + 50a1h) - 50vh",scale:[.69,1],breakpointMask:"LM",anchors:[this._els.parallax.hardwareContainer,this._els.parallax.copy]}),this.addKeyframe({el:this._els.parallax.hardwareContainer,start:"(a0t + 40a0h) - 90vh",end:"a0b - 100vh",scale:[.69,1],breakpointMask:"S",anchors:[this._els.parallax.hardwareContainer,this._els.parallax.copy]}),this.addKeyframe({el:this._els.parallax.copy,start:"t - 100vh",end:"t - 50vh",opacity:[0,1],y:[50,0],breakpointMask:"S"})}}e.exports=l},function(e,t,i){"use strict";const s=i(44),r=i(83),n=i(46),a=i(86),o=i(47),l=i(206),h=i(207),c={beforeCreate(){this.model.Item.Selector=".gallery-item",this.model.PrefersReducedMotion=document.documentElement.classList.contains("reduced-motion"),this.model.IsRTL="rtl"===document.documentElement.getAttribute("dir"),this.model.IsTouch="ontouchstart"in document.documentElement}},u=s.withMixins(c,r,l,h,n,a,o);u.IS_SUPPORTED=()=>document.documentElement.classList.contains("enhance-ar"),e.exports=u},function(e,t,i){"use strict";e.exports={PrefersReducedMotion:!1,IsRTL:!1,IsTouch:!1,Slide:{Selector:".item-container",duration:1},Fade:{duration:.5},Item:{Selector:".item-container .gallery-item",ConstructorFunction:i(182)},DotNav:{Selector:".dotnav"},PaddleNav:{Selector:".paddlenav"},ChapterPlayer:{defaultEase:e=>e},FadeCaptionOnChange:{ItemSelector:".captions-gallery [data-captions-gallery-item]"},TabNav:{ItemSelector:".tablist-wrapper li",RoamingTabIndexSelector:"a"},SwipeDrag:{DesktopSwipe:!1,movementRateMultiplier:1.5,velocityMultiplier:8},InitialIndexFromHashLink:{Enabled:!1,ScrollReset:!1},Events:{ITEM_CHANGE_INITIATED:"ITEM_CHANGE_INITIATED",ITEM_CHANGE_OCCURRED:"ITEM_CHANGE_OCCURRED",ITEM_CHANGE_COMPLETED:"ITEM_CHANGE_COMPLETED"}}},function(e,t,i){"use strict";const s=i(3).EventEmitterMicro,r={};"undefined"!=typeof window&&(r.draw=i(5),r.cancelDraw=i(45));e.exports=class extends s{constructor(e){super(),this.index=e.index,this.el=e.el,this._x=0,this._y=0,this._opacity=0,this._width=0,this._height=0,this._zIndex=0,this.id=this.el.getAttribute("id"),this.analyticsId=this.el.getAttribute("data-analytics-gallery-item-id")||this.el.getAttribute("id"),this.applyDraw=this.applyDraw.bind(this),this.measure()}measure(){const e=getComputedStyle(this.el);this._width=this.el.clientWidth,this._height=this.el.clientHeight,this._zIndex=parseInt(e.getPropertyValue("z-index")),this._opacity=parseFloat(e.getPropertyValue("opacity"))}select(){this.el.classList.add("current"),this.trigger("select",this)}deselect(){this.el.classList.remove("current"),this.trigger("deselect",this)}progress(e){}needsRedraw(){r.cancelDraw(this._rafID),this._rafID=r.draw(this.applyDraw,!0)}applyDraw(){this.el.style.zIndex=this._zIndex,this.el.style.opacity=this._opacity,this.el.style.transform=`translate(${this._x}px, ${this._y}px)`}get height(){return this._height}set height(e){this._height=e,this.needsRedraw()}get width(){return this._width}set width(e){this._width=e,this.needsRedraw()}get x(){return this._x}set x(e){this._x=e,this.needsRedraw()}get y(){return this._y}set y(e){this._y=e,this.needsRedraw()}get opacity(){return this._opacity}set opacity(e){this._opacity=e,this.needsRedraw()}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.needsRedraw()}}},function(e,t,i){"use strict";e.exports={beforeCreate(){Object.defineProperties(this,{currentItem:{configurable:!0,get:()=>this._items[this.wrappedIndex(this.currentIndex)]}})},wrappedIndex(e){return(e%=this._items.length)<0?this._items.length+e:e},getItemForTrigger(e){return this._items.find((t=>t.id===e))}}},function(e,t,i){"use strict";e.exports={itemsCreated(e){this.model.options.gum||this._isVue||(this.anim.on("ON_RESIZE_IMMEDIATE",this.onResizeImmediate),this.anim.on("ON_RESIZE_DEBOUNCED",this.onResizeDebounced),this.anim.on("ON_BREAKPOINT_CHANGE",this.onBreakpointChange),requestAnimationFrame(this.mounted))},destroy(){this.model.options.gum||this._isVue||(this.anim.off("ON_RESIZE_IMMEDIATE",this.onResizeImmediate),this.anim.off("ON_RESIZE_DEBOUNCED",this.onResizeDebounced),this.anim.off("ON_BREAKPOINT_CHANGE",this.onBreakpointChange))}}},function(e,t,i){"use strict";e.exports={beforeCreate(){document.body._animInfo&&(this.anim=document.body._animInfo.group.anim,this.model.pageMetrics=this.anim.model.pageMetrics)},addKeyframe(e){const t=e.el||this.el;return(e.group||this.anim).addKeyframe(t,e)},addDiscreteEvent(e){e.event=e.event||"Generic-Event-Name-"+tmpUUID++;let t=void 0!==e.end&&e.end!==e.start;const i=this.addKeyframe(e);return t?(e.onEnterOnce&&i.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&i.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&i.controller.on(e.event+":enter",e.onEnter),e.onExit&&i.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&i.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&i.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&i.controller.on(e.event,e.onEvent),e.onEventReverse&&i.controller.on(e.event+":reverse",e.onEventReverse)),i},addRAFLoop(e){let t=["start","end"];if(!t.every((t=>e.hasOwnProperty(t))))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+t.join(" "));const i=new RAFEmitter.create;i.on("update",e.onUpdate||noop),i.on("draw",e.onDraw||noop),i.on("draw",(()=>i.run()));const{onEnter:s,onExit:r}=e;return e.onEnter=()=>{i.run(),s&&s()},e.onExit=()=>{i.cancel(),r&&r()},this.addDiscreteEvent(e)},addContinuousEvent(e){e.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),e.event=e.event||"Generic-Event-Name-"+tmpUUID++;let t=this.addKeyframe(e);return t.controller.on(e.event,e.onDraw),t}}},function(e,t,i){"use strict";e.exports={beforeCreate(){this.selections={initiated:{current:null,previous:null},occurred:{current:null,previous:null},completed:{current:null,previous:null}}},onItemChangeInitiated(e){this.selections.initiated.previous=this.selections.initiated.current,this.selections.initiated.current=this.selections.initiated.next,this.selections.initiated.next=e.next},onItemChangeOccurred(e){this.selections.occurred.previous=e.previous=this.selections.occurred.current,this.selections.occurred.current=e.current},onItemChangeCompleted(e){this.selections.completed.previous=e.previous=this.selections.completed.current,this.selections.completed.current=e.current}}},function(e,t,i){"use strict";e.exports={createItems(e){if(this._items.length)this.itemsCreated();else{if(!this.model.Item.ConstructorFunction)throw new ReferenceError("MixinGallery::AutoCreateItems - this.model.Item.ConstructorFunction is null");if(0===this._items.length){this._items=[],Array.from(this.el.querySelectorAll(this.model.Item.Selector)).forEach(((e,t)=>{const i=new this.model.Item.ConstructorFunction({el:e,index:t});this._items.push(i)}));let e=this._items[this._items.length-1];for(let t=0;t<this._items.length;t++){const i=this._items[t];i.prev=e,i.next=this._items[t+1],e=i}e.next=this._items[0]}this.itemsCreated()}}}},function(e,t,i){"use strict";e.exports={mounted(){const e=this._items[this.wrappedIndex(this.currentIndex)],t=this;this.trigger(this.model.Events.ITEM_CHANGE_INITIATED,{gallery:t,next:e}),this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:t,current:e}),this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:t,current:e})}}},function(e,t,i){"use strict";var s=i(22),r=i(81),n="data-original-",a="tabindex",o=function(e,t){var i=e.getAttribute(n+t);i||(i=e.getAttribute(t)||"",e.setAttribute(n+t,i))};e.exports=function(e,t){if(r.isFocusableElement(e,t))o(e,a),e.setAttribute(a,"-1");else for(var i=r.getTabbableElements(e,t),n=i.length;n--;)o(i[n],a),i[n].setAttribute(a,"-1");o(e,s.HIDDEN),e.setAttribute(s.HIDDEN,"true")}},function(e,t,i){"use strict";e.exports={selectors:["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"].join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},function(e,t,i){"use strict";var s=i(192),r=i(22),n="data-original-",a="tabindex",o=function(e,t){var i=e.getAttribute(n+t);null!==i&&(""===i?s(e,t):e.setAttribute(t,i),s(e,n+t))};e.exports=function(e){o(e,a),o(e,r.HIDDEN);for(var t=e.querySelectorAll(`[${n+a}]`),i=t.length;i--;)o(t[i],a)}},function(e,t,i){"use strict";e.exports=function(e,t){let i;i=e instanceof NodeList?e:[].concat(e),t=Array.isArray(t)?t:[].concat(t),i.forEach((e=>{t.forEach((t=>{e.removeAttribute(t)}))}))}},function(e,t,i){"use strict";var s=i(85);e.exports=s.requestAnimationFrame("update")},function(e,t,i){"use strict";var s=i(195),r=function(e){this.rafEmitter=new s,this.rafEmitter.on(e,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},n=r.prototype;n.requestAnimationFrame=function(e){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2,this._currentFrameID},n.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),-1!==this._cancelFrameIdx&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},n._onRAFExecuted=function(e){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e)},e.exports=r},function(e,t,i){"use strict";var s=i(196),r=function(e){s.call(this,e)};(r.prototype=Object.create(s.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=r},function(e,t,i){"use strict";var s,r=i(3).EventEmitterMicro,n=i(197),a=i(200);function o(e){e=e||{},r.call(this),this.id=a.getNewID(),this.executor=e.executor||n,this._reset(),this._willRun=!1,this._didDestroy=!1}(s=o.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},s.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},s.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,e},s.willRun=function(){return this._willRun},s.isRunning=function(){return this._isRunning},s._subscribe=function(){return this.executor.subscribe(this)},s._unsubscribe=function(){return this.executor.unsubscribe(this)},s._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},s._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},s._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=o},function(e,t,i){"use strict";var s=i(23).SharedInstance,r=i(198);e.exports=s.share("ac-raf-executor:sharedRAFExecutorInstance","2.0.1",r)},function(e,t,i){"use strict";var s;function r(e){e=e||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}i(199),(s=r.prototype).subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},s.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},s.trigger=function(e,t){var i;for(i=0;i<this._subscriberArrayLength;i++)null!==this._subscribers[this._subscribersOrder[i]]&&!1===this._subscribers[this._subscribersOrder[i]]._didDestroy&&this._subscribers[this._subscribersOrder[i]].trigger(e,t)},s.destroy=function(){var e=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},s.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},s._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},s._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},s._onSubscribersAnimationFrameStart=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&!1===this._subscribers[this._subscribersOrder[t]]._didDestroy&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameStart(e)},s._onSubscribersAnimationFrameEnd=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&!1===this._subscribers[this._subscribersOrder[t]]._didDestroy&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameEnd(e)},s._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},s._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},s._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},e.exports=r},function(e,t){},function(e,t,i){"use strict";var s=i(23).SharedInstance,r=function(){this._currentID=0};r.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=s.share("ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance","1.0.3",r)},function(e,t,i){"use strict";var s=i(85);e.exports=s.requestAnimationFrame("draw")},function(e,t,i){"use strict";e.exports=function(e,t){e instanceof Promise?e.then(t):t()}},function(e,t,i){"use strict";e.exports=function(e){return"function"==typeof e?e:null}},function(e,t,i){"use strict";e.exports=function(e,t){const i=t.length;let s=0;!function r(){"function"==typeof t[s]&&e(t[s]),s++,s<i&&r()}()}},function(e,t,i){"use strict";e.exports=function(e,t,i){return Math.min(Math.max(e,t),i)}},function(e,t,i){"use strict";class s{constructor(e,t){this.el=e,this.input=this.el.querySelector("input[type=radio]"),this.linkedGalleryItemSelector=this.el.getAttribute("data-ac-gallery-trigger"),this.index=t}}e.exports={beforeCreate(){this.model.ColorNav={ItemSelector:".colornav-item"}},created(){this.colorNav={items:[],current:null}},itemsCreated(){const e=Array.from(this.el.querySelectorAll(this.model.ColorNav.ItemSelector));(this.colorNav.items=e.map(((e,t)=>new s(e,t)))).forEach((e=>{e.onSelected=t=>{this.lastInteractionEvent=t,t.preventDefault();let i=e.index-this.wrappedIndex(this.currentIndex),s=this.currentIndex+i;this.animateToItem(s)},e.input.addEventListener("change",e.onSelected),e.input.checked&&(this.currentIndex=e.index)}))},onItemChangeInitiated(){this.selections.initiated.next&&(this.colorNav.items[this.selections.initiated.next.index].input.checked=!0)}}},function(e,t,i){"use strict";const s=i(6),r=i(6),n=new RegExp(/{{LOCALE}}/,"g"),a=new RegExp(/\/{2,}/,"g");e.exports={beforeCreate(){this.model.QuickLookLink={LinkSelector:".quicklook-cta a",AcaClickAttr:"data-quicklook-aca-click",AcaTitleAttr:"data-quicklook-aca-title",UdzLocaleAttr:"data-quicklook-locale",UdzFileAttr:"data-quicklook-udz",AriaLabelAttr:"data-quicklook-aria-label"}},created(){this.quicklook={ctas:[]},this.basePath=this.el.dataset.basePath},itemsCreated(){this.quicklook.ctas=Array.from(this.el.querySelectorAll(this.model.QuickLookLink.LinkSelector))},onItemChangeOccurred(e){const t=this.el,i=e.current.el.id,o=t.querySelector(`[data-ac-gallery-trigger=${i}]`);s((()=>{const e=o.getAttribute(this.model.QuickLookLink.UdzLocaleAttr),t=o.getAttribute(this.model.QuickLookLink.AcaClickAttr),i=o.getAttribute(this.model.QuickLookLink.AcaTitleAttr),s=o.getAttribute(this.model.QuickLookLink.UdzFileAttr),l=o.getAttribute(this.model.QuickLookLink.AriaLabelAttr);r((()=>{const r=(this.basePath+s).replace(n,e);this.quicklook.ctas[0].href=r.replace(a,"/"),this.quicklook.ctas[0].setAttribute("aria-label",l),this.quicklook.ctas[0].setAttribute("data-analytics-click",t),this.quicklook.ctas[0].setAttribute("data-analytics-title",i)}))}))}}},function(e,t,i){"use strict";const s=i(44),r=i(209),n=i(215),a=i(47),o=i(216),l=i(46),h=i(82),c=i(86),u=i(217),d=i(218),p={beforeCreate(){this.model.PrefersReducedMotion=document.documentElement.classList.contains("reduce-motion"),this.model.IsRTL="rtl"===document.documentElement.getAttribute("dir"),this.model.IsTouch="ontouchstart"in document.documentElement,this.model.Item.Selector=".item-container .gallery-item",this.model.TabNav.ItemSelector=".tablist-wrapper li",this.model.InitialIndexFromHashLink.Enabled=!0,this.model.InitialIndexFromHashLink.ScrollReset=!0,this.model.IsReverse="reversed"===this.el.getAttribute("data-layout")}},m=s.withMixins(p,n,r,a,o,l,h,c,u,d);e.exports=m},function(e,t,i){"use strict";const s=i(210),r=i(22),n=i(88);e.exports={created(){this.tabNav={items:[],current:null}},itemsCreated(){Array.from(this.el.querySelectorAll(this.model.TabNav.ItemSelector)).forEach(((e,t)=>{const i=new a(e,t),s=this.getItemForTrigger(i.trigger);s||console.error(`MixinGallery '${this.el.id}': Could not match tav/dot nav item with trigger '${i.trigger}', to gallery any item. Double check to make sure the triggers match the item id's.`),i.onSelected=e=>{this.lastInteractionEvent=e,e.preventDefault();let i=t-this.wrappedIndex(this.currentIndex),s=this.currentIndex+i;this.animateToItem(s)},s.on("select",(()=>{e.classList.add("current"),i.anchorEl.classList.add("current")})),s.on("deselect",(()=>{e.classList.remove("current"),i.anchorEl.classList.remove("current")})),i.anchorEl.addEventListener("click",i.onSelected),this.tabNav.items.push(i)})),this._items.forEach(((e,t)=>{e.el.setAttribute("role",n.TABPANEL),e.el.setAttribute(r.LABELLEDBY,this.tabNav.items[t].anchorEl.id),this.tabNav.items[t].anchorEl.setAttribute(r.CONTROLS,e.el.id)}))},mounted(){const e=this.tabNav.items[0].el.parentElement;this.roamingTabIndex=new s(e,{selector:this.model.TabNav.RoamingTabIndexSelector})},onItemChangeCompleted(e){let t=this.tabNav.items.filter((t=>t.trigger===e.current.id))[0];this.setCurrentItem(t),this.roamingTabIndex.setSelectedItemByIndex(t.index,!0),document.activeElement.parentElement.parentElement===t.el.parentElement&&t.anchorEl.focus()},setCurrentItem(e){e!==this.tabNav.current&&(this.tabNav.current=e)}};class a{constructor(e,t){this.el=e,this.index=t,this.anchorEl=e.querySelector("a"),this.trigger=this.anchorEl.getAttribute("data-ac-gallery-trigger"),this.anchorEl.setAttribute("role",n.TAB)}}},function(e,t,i){"use strict";var s=i(22),r=i(88),n=i(89),a=i(90),o=i(91),l=i(212),h=l.prototype,c=function(e,t){t=t||{},l.call(this,e,{selector:t.selector||"*[role="+r.OPTION+"]",state:t.state||s.SELECTED})},u=c.prototype=Object.create(h);u._setTabbingByIndex=function(e){var t=this._navItems[e];o(t.getAttribute(this._state))?(this.focusedNavItemIndex=e,this.selectedNavitemIndex=e,this._enableElement(t)):this._disableElement(t)},u.setSelectedItemByIndex=function(e,t){isNaN(this.selectedNavitemIndex)||this._disableElement(this._navItems[this.selectedNavitemIndex]),h.setSelectedItemByIndex.call(this,e,t),this._enableElement(this._navItems[this.selectedNavitemIndex])},u.addNavItem=function(e){e&&e.nodeType&&this._navItems.indexOf(e)<0&&(o(e.getAttribute(s.DISABLED))||this._disableElement(e),this._navItems.push(e))},u._arrowDown=function(e,t){h._arrowDown.call(this,e,t,!0),this.selectOption(t)},u._enableElement=function(e){n(e),e.setAttribute(this._state,"true")},u._disableElement=function(e){a(e),e.setAttribute(this._state,"false")},u.selectOption=function(e){a(this._navItems[this.selectedNavitemIndex]),h.selectOption.call(this,e),n(this._navItems[this.focusedNavItemIndex])},e.exports=c},function(e,t,i){"use strict";e.exports=function(e,t,i){let s;"string"!=typeof i&&(i=i.toString()),s=e instanceof NodeList?e:[].concat(e),s.forEach((e=>{e.setAttribute(t,i)}))}},function(e,t,i){"use strict";var s=i(90),r=i(89),n=i(91),a=i(3).EventEmitterMicro,o=a.prototype,l=i(22),h=i(213),c=[l.BUSY,l.CHECKED,l.DISABLED,l.EXPANDED,l.HIDDEN,l.INVALID,l.PRESSED,l.SELECTED],u=function(e,t){a.call(this),this._options=t||{},this._selector=t.selector||".navitem",this._allowMultiSelection=t.multiSelection||!1;var i=c.indexOf(t.state)>-1?t.state:l.SELECTED;this.el=e,this._navItems=e.querySelectorAll(this._selector),this._navItems=Array.prototype.slice.call(this._navItems),this._state=i,this._navKeys={},this.selectOption=this.selectOption.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._setup()};u.ONSELECT="onSelect",u.ONFOCUS="onFocus";var d=u.prototype=Object.create(o);d._setup=function(){for(var e=[h.ARROW_DOWN,h.ARROW_RIGHT],t=[h.ARROW_UP,h.ARROW_LEFT],i=[h.ENTER,h.SPACEBAR],s=0;s<e.length;s++)this.addNavkey(e[s],this._arrowDown.bind(this,!0)),this.addNavkey(t[s],this._arrowDown.bind(this,null)),this.addNavkey(i[s],this.selectOption);this._setupNavItems()},d._setupNavItems=function(){if(this._navItems.length){for(var e=0;e<this._navItems.length;e++)this._setTabbingByIndex(e);void 0!==this.focusedNavItemIndex&&void 0!==this.selectedNavitemIndex||this.setSelectedItemByIndex(0,!0)}},d._setTabbingByIndex=function(e){var t=this._navItems[e];n(t.getAttribute(this._state))&&(this.focusedNavItemIndex=e,this.selectedNavitemIndex=e),n(t.getAttribute(l.DISABLED))?s(t):r(t)},d.start=function(){this._navItems.length<1||(this.el.addEventListener("keydown",this._handleKeyDown),this.el.addEventListener("click",this.selectOption))},d.stop=function(){this.el.removeEventListener("keydown",this._handleKeyDown),this.el.removeEventListener("click",this.selectOption)},d._handleKeyDown=function(e){if(e.ctrlKey||e.altKey||e.metaKey)return!0;this._navKeys[e.keyCode]&&this._navKeys[e.keyCode](e)},d._arrowDown=function(e,t,i){t.preventDefault(),this.previousNavItemIndex=this.focusedNavItemIndex,this.focusedNavItemIndex=this._calculateIndex(e,this.focusedNavItemIndex),this._navItems[this.focusedNavItemIndex].focus(),i||this.trigger(u.ONFOCUS,{event:t,index:this.focusedNavItemIndex,el:this._navItems[this.focusedNavItemIndex]})},d.selectOption=function(e,t){e.preventDefault();var i=this._navItems.indexOf(document.activeElement);i>-1&&document.activeElement!==this._navItems[this.focusedNavItemIndex]&&(this.focusedNavItemIndex=i),this._allowMultiSelection?this._toggleState():(this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"false"),this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"true")),this.selectedNavitemIndex=this.focusedNavItemIndex,t||this.trigger(u.ONSELECT,{event:e,index:this.selectedNavitemIndex,el:this._navItems[this.selectedNavitemIndex]})},d._toggleState=function(){var e=this._navItems[this.focusedNavItemIndex].getAttribute(this._state);n(e)?this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"false"):this._navItems[this.focusedNavItemIndex].setAttribute(this._state,"true")},d._calculateIndex=function(e,t){var i=t;if(!0===e){if(i=++i>=this._navItems.length?0:i,!n(this._navItems[i].getAttribute(l.DISABLED))||this._navItems[i].hasAttribute("disabled"))return i}else if(i=--i<0?this._navItems.length-1:i,!n(this._navItems[i].getAttribute(l.DISABLED))||this._navItems[i].hasAttribute("disabled"))return i;return this._calculateIndex(e,i)},d.updateNavItems=function(){var e=this.el.querySelectorAll(this._selector);this._navItems=Array.prototype.slice.call(e)},d.addNavItem=function(e){e&&e.nodeType&&this._navItems.indexOf(e)<0&&(n(e.getAttribute(l.DISABLED))||r(e),this._navItems.push(e))},d.setSelectedItemByIndex=function(e,t){this._allowMultiSelection||isNaN(this.selectedNavitemIndex)||this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"false"),this.focusedNavItemIndex=e,this.selectedNavitemIndex=e,this._navItems[this.selectedNavitemIndex].setAttribute(this._state,"true"),t||this.trigger(u.ONSELECT,{event:null,index:this.focusedNavItemIndex,el:this._navItems[this.focusedNavItemIndex]})},d.getSelectedItem=function(){return this._navItems[this.selectedNavitemIndex]},d.getFocusedItem=function(e){return this._navItems[this.focusedNavItemIndex]},d.addNavkey=function(e,t){"function"==typeof t&&"number"==typeof e?this._navKeys[e]=t:console.warn("incorrect types arguments were passed")},d.removeNavkey=function(e){delete this._navKeys[e]},d.destroy=function(){for(var e in o.destroy.call(this),this.stop(),this.el=null,this._options=null,this._selector=null,this.focusedNavItemIndex=null,this.selectedNavitemIndex=null,this._navItems=null,this._state=null,this.selectOption=null,this._handleKeyDown=null,this._navKeys)this._navKeys.hasOwnProperty(e)&&this.removeNavkey(e);this._navKeys=null},e.exports=u},function(e,t,i){"use strict";e.exports=i(214)},function(e,t,i){"use strict";e.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},function(e,t,i){"use strict";e.exports={mounted(){this.sign=this.model.IsRTL?-1:1,this.reversed=this.model.IsReverse?-1:1,this.getOffsets(),this.applySpreadAnimation(),this.transitioning=!1},animateToItem(e){const t=this.wrappedIndex(e);if(this.currentIndex===t||this.transitioning)return;const i=this.model.PrefersReducedMotion?".01s":"1s";this._items.forEach((s=>{const r=this.wrappedIndex(s.index-this.currentIndex),n=this.wrappedIndex(s.index-e),a=this._items.length-1,o=this._items.length,l=this.reversed*this.sign*n*parseInt(this.offsetX,10)+"px",h=n*parseInt(this.offsetY,10)+"px";s.el.classList.remove("collapsed"),s.el.classList.remove("moveUp"),s.el.classList.remove("moveDown"),s.el.style.transition=`transform ${i} cubic-bezier(0.26, 0.02, 0.27, .97)`,s.el.style.transform=`translate(${l},-${h})`,n===a&&0===r?(s.el.style.transition="none",s.el.style.animation=`animationChain ${i}`,s.el.onanimationend=()=>{s.el.style.animation="",s.el.style.zIndex=o-n}):0===n&&r===a?(s.el.style.transition="none",s.el.style.animation=`animationChain reverse ${i}`,s.el.onanimationend=()=>{s.el.style.animation="",s.el.style.zIndex=o-n}):s.el.ontransitionend=()=>{s.el.style.zIndex=o-n,this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:this,current:this._items[this.currentIndex],previous:this._items[t]})}})),this.currentIndex=t,this.trigger(this.model.Events.ITEM_CHANGE_OCCURRED,{gallery:this,current:this._items[this.currentIndex],previous:this._items[t]})},applySpreadAnimation(){this.model.PrefersReducedMotion||(this._keyframes={},this._items.forEach(((e,t)=>{e.el.classList.add("collapsed"),this._keyframes["keyframe-performance"]=this.anim.addKeyframe(e.el,{start:"t-150vh",end:"t",cssClass:"will-change",toggle:!0}),0===t?this._keyframes[`keyframe-${e.index}`]=this.anim.addKeyframe(e.el,{start:"t-75vh",cssClass:"moveDown"}):t>1&&(this._keyframes[`keyframe-${e.index}`]=this.anim.addKeyframe(e.el,{start:"t-75vh",cssClass:"moveUp"}))})))},getOffsets(){this.offsetX=window.getComputedStyle(this.el).getPropertyValue("--offsetX"),this.offsetY=window.getComputedStyle(this.el).getPropertyValue("--offsetY")},setZindex(e,t){e.style.zIndex=this._items.length-t},onBreakpointChange(){this.getOffsets()},onItemChangeOccurred(){this.transitioning=!0},onItemChangeCompleted(){this.transitioning=!1}}},function(e,t,i){"use strict";const s=(e,t)=>{t?e.removeAttribute("disabled"):e.setAttribute("disabled","true")};e.exports={mounted(){const e=this.el.querySelector(this.model.PaddleNav.Selector);this.paddleNav={previousEl:e.querySelector(".paddlenav-arrow-previous"),nextEl:e.querySelector(".paddlenav-arrow-next")},this.onPaddleNavSelected=this.onPaddleNavSelected.bind(this),[this.paddleNav.previousEl,this.paddleNav.nextEl].forEach((e=>{e.addEventListener("click",this.onPaddleNavSelected)}))},destroy(){[this.paddleNav.previousEl,this.paddleNav.nextEl].forEach((e=>{e.removeEventListener("click",this.onPaddleNavSelected)})),this.paddleNav=null},onPaddleNavSelected(e){let t=e.target.className.includes("previous")?-1:1;this.lastInteractionEvent=e;const i=this.currentIndex+1*t;this.animateToItem(i)},onItemChangeCompleted(e){const t=this.wrappedIndex(this.currentIndex+1)!==this.currentIndex;s(this.paddleNav.nextEl,t);const i=this.wrappedIndex(this.currentIndex+-1)!==this.currentIndex;s(this.paddleNav.previousEl,i)}}},function(e,t,i){"use strict";const s=i(5),r=i(45);e.exports={created(e){this.swipeDrag={movementRateMultiplier:this.model.SwipeDrag.movementRateMultiplier,velocityMultiplier:this.model.SwipeDrag.velocityMultiplier,dragDrawId:-1,waitingToReachTargetDrawId:-1,inputStart:{x:0,y:0},swipeVelocity:0,isDragging:!1},this._onStartDrag=this._onStartDrag.bind(this),this._onDrag=this._onDrag.bind(this),this._onStopDrag=this._onStopDrag.bind(this),this.waitingToReachTarget=this.waitingToReachTarget.bind(this)},mounted(){this.inputMoveEventName=this.model.IsTouch?"touchmove":"mousemove",this.inputUpEventName=this.model.IsTouch?"touchend":"mouseup",this.inputDownEvent=this.model.IsTouch?"touchstart":"mousedown",(this.model.IsTouch||this.model.SwipeDrag.DesktopSwipe)&&(this.el.removeEventListener(this.inputDownEvent,this._onStartDrag),this.el.addEventListener(this.inputDownEvent,this._onStartDrag))},_onStartDrag(e){r(this.swipeDrag.dragDrawId),r(this.swipeDrag.waitingToReachTargetDrawId);const t=e.target||e.relatedTarget;switch(!0){case"A"===t.tagName:case"BUTTON"===t.tagName:case!e.touches&&1!==e.which:return}this.clip&&this.clip.destroy(),this.lastInteractionEvent=e,this.swipeDrag.swipeVelocity=0,this.swipeDrag.isDragging=!1;const i=this.model.IsTouch?e.touches[0]:e;let{screenX:s,screenY:n}=i;this.swipeDrag.inputStart={x:s,y:n},window.addEventListener(this.inputMoveEventName,this._onDrag,{passive:!1}),window.addEventListener(this.inputUpEventName,this._onStopDrag)},_onDrag(e){this.swipeDrag.isDragging&&e.cancelable&&e.preventDefault();const t=this.model.IsTouch?e.touches[0]:e;let{screenX:i,screenY:n}=t,a=this.swipeDrag.inputStart.x-i,o=this.swipeDrag.inputStart.y-n;this.swipeDrag.inputStart={x:i,y:n},this.swipeDrag.isDragging||(this.swipeDrag.isDragging=Math.abs(a)>3&&Math.abs(a)>Math.abs(o)),this.swipeDrag.isDragging&&(this.target+=a*this.swipeDrag.movementRateMultiplier,this.swipeDrag.swipeVelocity=a*this.swipeDrag.velocityMultiplier,this.clampedIndex&&(this.model.IsRTL?this.target=Math.max(this.widthOfItem*this.sign*(this._items.length-1),Math.min(0,this.target)):this.target=Math.min(this.widthOfItem*(this._items.length-1),Math.max(0,this.target))),r(this.swipeDrag.dragDrawId),this.swipeDrag.dragDrawId=s((()=>this.draw(.3))))},_onStopDrag(e){if(window.removeEventListener(this.inputMoveEventName,this._onDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag),!this.swipeDrag.isDragging)return;let t=[this.currentIndex-1,this.currentIndex,this.currentIndex+1],i=0,n=Number.MAX_VALUE;for(let e=0,s=t.length;e<s;e++){let s=t[e]*this.widthOfItem,r=Math.abs(s-(this.position+this.swipeDrag.swipeVelocity)*this.sign);r<n&&(n=r,i=e)}this.lastInteractionEvent=e;let a=t[i];this.clampedIndex&&(a=this.wrappedIndex(a)),this.target=this.convertSlideIndexToHorizontalPosition(a),r(this.swipeDrag.dragDrawId),r(this.swipeDrag.waitingToReachTargetDrawId),this.swipeDrag.dragDrawId=s((()=>{this.trigger(this.model.Events.ITEM_CHANGE_INITIATED,{gallery:this,next:this._items[this.wrappedIndex(a)]}),this.draw(.2),this.waitingToReachTarget(a)}))},waitingToReachTarget(e){if(Math.abs(this.position-this.target)>.1)return void(this.swipeDrag.waitingToReachTargetDrawId=s((()=>this.waitingToReachTarget(e))));const t=this.selections.occurred.current;this.trigger(this.model.Events.ITEM_CHANGE_COMPLETED,{gallery:this,current:t})},destroy(){this.el.removeEventListener(this.inputDownEvent,this._onStartDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag)}}},function(e,t,i){"use strict";const s={_onStopDrag(e){if(window.removeEventListener(this.inputMoveEventName,this._onDrag),window.removeEventListener(this.inputUpEventName,this._onStopDrag),!this.swipeDrag.isDragging)return;const t=.6*this.widthOfItem;let i=(this.target+this.swipeDrag.swipeVelocity)*this.sign*this.reversed;if(Math.abs(i)<t)return;this.lastInteractionEvent=e,this.target=0;let s=this.currentIndex+1*Math.sign(i);this.clampedIndex&&(s=this.wrappedIndex(s)),this.currentIndex!==s&&this.animateToItem(s)},waitingToReachTarget(){},beforeCreate(){Object.defineProperties(this,{widthOfItem:{configurable:!0,get:()=>this._items[0].width}})},created(){this.target=0},convertSlideIndexToHorizontalPosition:e=>e,draw(){}};e.exports=s},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=s(i(6)),a=s(i(16));const o="a1t - 20vh",l="easeInOutQuint";class h extends r.default{constructor(e){super(e),this._els={icon:null,fill:null,headline:null},this._voFocusItems=[]}mounted(){super.mounted(),this._getElements()}_getElements(){this._els.icon=this.el.querySelector(".icon"),this._els.fill=this.el.querySelector(".battery-fill"),this._els.headline=this.el.querySelector(".headline"),this._els.copy=this.el.querySelector(".copy")}enhanceParallax(){this._parallaxScrollGroup=this.anim.createScrollGroup(this.el),this._parallaxScrollGroup.name="Battery - Parallax",this._parallaxScrollGroup.addKeyframe(this._els.headline,{start:"a0t - 100vh",end:`${o}`,"--wipe":[74,0,"%"],anchors:[this._els.icon,this._els.headline],breakpointMask:"ML",easeFunction:l}),this._parallaxScrollGroup.addKeyframe(this._els.fill,{start:"a0t - 100vh - 130h",end:`${o} - 12vh`,width:[10,"css(--p-width)"],anchors:[this._els.icon,this._els.headline],breakpointMask:"ML",easeFunction:"easeInOutCubic"}),this._parallaxScrollGroup.addKeyframe(this._els.headline,{start:"a0t - 100vh",end:"a0t - 48vh","--wipe":[74,0,"%"],anchors:[this._els.headline],breakpointMask:"S",easeFunction:l}),this._parallaxScrollGroup.addKeyframe(this._els.fill,{start:"t - 100vh - 100h",end:"a0t - 48vh + 5vh",width:[20,"css(--p-width)"],anchors:[this._els.headline],breakpointMask:"S",easeFunction:l}),this._parallaxScrollGroup.addKeyframe(this._els.copy,{start:"t - 80vh",end:"t - 60vh",opacity:[0,1],y:[50,0],easeFunction:"easeInQuad"}),this._voFocusItems.push(new a.default(this._els.copy,{start:"t - 60vh"}))}unenhanceParallax(){let e=Promise.resolve();this._parallaxScrollGroup&&this._parallaxScrollGroup.isEnabled&&(e=this._parallaxScrollGroup.remove()),e.then((0,n.default)((()=>{this._voFocusItems.forEach((e=>e.remove()))})))}static IS_SUPPORTED(){return document.documentElement.classList.contains("enhance-page-xp-parallax")}}e.exports=h},function(e,t,i){"use strict";var s=i(0)(i(1));const r="enhance-colors";class n extends s.default{constructor(e){super(e),this.featureDetect=r}mounted(){super.mounted(),this.getElements()}getElements(){this.headlineContainer=this.el.querySelector(".section-headline-container"),this.starlightPhone=this.el.querySelector(".overview-colors-finish-starlight"),this.midnightPhone=this.el.querySelector(".overview-colors-finish-midnight"),this.redPhone=this.el.querySelector(".overview-colors-finish-red")}enhanceParallax(){this.parallaxScrollGroup=this.anim.createScrollGroup(this.el),this.parallaxScrollGroup.name="Display - Colors";const e="a0t + 20vh",t="a0t + 20vh",i="a0t + 15vh";this.parallaxScrollGroup.addKeyframe(this.headlineContainer,{start:"a0t - 20vh",end:`${e}`,y:[null,-50],anchors:[this.el],breakpointMask:"L"}),this.parallaxScrollGroup.addKeyframe(this.redPhone,{start:"a0t - 20vh",end:`${e}`,y:[null,-200],anchors:[this.el],breakpointMask:"L"}),this.parallaxScrollGroup.addKeyframe(this.starlightPhone,{start:"a0t - 20vh",end:`${e}`,y:[null,-100],anchors:[this.el],breakpointMask:"L"}),this.parallaxScrollGroup.addKeyframe(this.headlineContainer,{start:"a0t - 20vh",end:`${t}`,y:[null,-50],anchors:[this.el],breakpointMask:"M"}),this.parallaxScrollGroup.addKeyframe(this.redPhone,{start:"a0t - 20vh",end:`${t}`,y:[null,-200],anchors:[this.el],breakpointMask:"M"}),this.parallaxScrollGroup.addKeyframe(this.starlightPhone,{start:"a0t - 20vh",end:`${t}`,y:[null,-100],anchors:[this.el],breakpointMask:"M"}),this.parallaxScrollGroup.addKeyframe(this.headlineContainer,{start:"a0t - 20vh",end:`${i}`,y:[null,-80],anchors:[this.el],breakpointMask:"S"}),this.parallaxScrollGroup.addKeyframe(this.redPhone,{start:"a0t - 20vh",end:`${i}`,y:[null,-160],anchors:[this.el],breakpointMask:"S"}),this.parallaxScrollGroup.addKeyframe(this.starlightPhone,{start:"a0t - 20vh",end:`${i}`,y:[null,-80],anchors:[this.el],breakpointMask:"S"})}onBreakpointChange(){this.isEnhanced("parallax")&&this.unenhanceCombined()}unenhanceCombined(){this.parallaxScrollGroup&&this.parallaxScrollGroup.isEnabled&&this.parallaxScrollGroup.remove(),this.destroy()}static IS_SUPPORTED(){return document.documentElement.classList.contains(r)}}e.exports=n},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=s(i(44)),a=s(i(222)),o=s(i(83)),l=s(i(47)),h=s(i(46)),c=s(i(80)),u=s(i(223));const d="enhance-compare-gallery",p="a0t - 50vh";class m extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(d)}constructor(e){super(e),this.featureDetect=d,this.copy=this.el.querySelector(".copy-animation"),this.galleries=this.el.querySelector(".galleries-container");const t={beforeCreate(){this.model.PrefersReducedMotion=document.documentElement.classList.contains("reduced-motion"),this.model.IsRTL="rtl"===document.documentElement.getAttribute("dir"),this.model.IsTouch="ontouchstart"in document.documentElement,this.model.Dropdown="[data-compare-select]",this.model.Item.Selector=".item-container .gallery-item",this.model.Fade.duration=.5}},i=n.default.withMixins(t,a.default,o.default,l.default,h.default,c.default,u.default),s=this.el.querySelector("[data-compare-gallery]");this.gallery=new i({el:s}),this.otherGalleries=[],this.supplementalCopy=this.el.querySelectorAll(".versus, .form-dropdown"),this.select=this.el.querySelector(this.gallery.model.Dropdown),this.itemContainer=this.el.querySelector(".item-container"),this.onSelectionChange=this.onSelectionChange.bind(this),this.onTextZoomResize=this.onTextZoomResize.bind(this),window.addEventListener("resize:text-zoom",this.onTextZoomResize),this.updateGalleryHeight(),this.anim.forceUpdate()}mounted(){super.mounted(),[...this.gum.getComponentsOfType("CompareGallery")].forEach((e=>{this.el!==e.el&&this.otherGalleries.push({gallery:e.gallery,select:e.select})}));this.gallery.on("ITEM_CHANGE_COMPLETED",(e=>{let t=e.current.index,i=this.anim.getGroupForTarget(this.gallery._items[t].el);i.isEnabled=!0,i.forceUpdate();let s=[...this.gallery._items];s.splice(t,1),s.forEach((e=>{e.el.style.opacity=0,e.el.dataset.animScrollGroup&&(this.anim.getGroupForTarget(e.el).isEnabled=!1)})),this.updateGalleryHeight()})),this.select.onchange=this.onSelectionChange}onResizeDebounced(e){this.destroyed||this.updateGalleryHeight()}onTextZoomResize(e){this.destroyed||this.updateGalleryHeight()}setSelection(e,t){e.selectedIndex!==t&&(e.selectedIndex=t)}onSelectionChange(e){let t=this.select.selectedIndex||e.currentTarget.selectedIndex;this.gallery.lastInteractionEvent=e,this.gallery.animateToItem(t),this.otherGalleries.forEach((e=>{let{gallery:i,select:s}=e;i.lastInteractionEvent=this.gallery.lastInteractionEvent,i.animateToItem(t),this.setSelection(s,t)}))}updateGalleryHeight(){let e=this.el.querySelector(`#gallery-item-${this.select.selectedIndex}`).offsetHeight,t=this.itemContainer.offsetHeight;if(!this.itemContainer.classList.contains("sized")){this.itemContainer.style.height=`${e}px`,this.itemContainer.classList.add("sized"),this.gallery._items.forEach((e=>{e.el.classList.remove("hidden-on-load-xp"),e.el.classList.contains("current")||(e.el.style.opacity=0,e.el.dataset.animScrollGroup&&(this.anim.getGroupForTarget(e.el).isEnabled=!1,e.el.querySelectorAll(".shared-copy-animation").forEach((e=>{e.style.opacity=0}))))}))}e!==t&&(this.itemContainer.style.height=`${e}px`)}enhanceParallax(){this._parallaxGroup=this.anim.createScrollGroup(this.el,{name:`${this.el.dataset.label} - Compare Gallery - Parallax`}),this.copy&&this._parallaxGroup.addKeyframe(this.copy,{start:"a0t - 100vh",end:`${p}`,opacity:[0,1],y:[50,0],anchors:[this.copy],easeFunction:"easeInQuad"}),this.el.classList.contains("inline-compare")&&(this._parallaxGroup.addKeyframe(this.el,{start:"a0t - 100vh",end:`${p} - 15vh`,opacity:[0,1],anchors:[this.el],breakpointMask:"ML"}),this._parallaxGroup.addKeyframe(this.el,{start:"a0t - 100vh",end:`${p} - 5vh`,opacity:[0,1],anchors:[this.el],breakpointMask:"S"})),this.supplementalCopy.forEach((e=>{this._parallaxGroup.addKeyframe(e,{start:"a0t - 100vh",end:`${p}`,y:[25,0],anchors:[this.el],breakpointMask:"ML"})}))}unenhanceParallax(){this._parallaxGroup&&this._parallaxGroup.remove()}}e.exports=m},function(e,t,i){"use strict";e.exports={beforeCreate(){this.clampedIndex=!0},wrappedIndex(e){return Math.max(0,Math.min(e,this._items.length-1))}}},function(e,t,i){"use strict";let s;try{s=i(87).observer.Gallery}catch(e){}e.exports={created(e){this.analytics={lastTrackedItem:null,observer:null,name:this.el.getAttribute("data-analytics-gallery-id")||this.el.getAttribute("id"),events:{UPDATE:"update",UPDATE_COMPLETE:"update:complete"}}},mounted(){s&&(name||(console.warn("No ID attribute found on the Mixin Gallery element - please add an ID",this),name="null"),this.analytics.observer=new s(this,{galleryName:this.analytics.name,beforeUpdateEvent:this.analytics.events.UPDATE,afterUpdateEvent:this.analytics.events.UPDATE_COMPLETE,trackAutoRotate:!1}))},onItemChangeCompleted(e){if(!e.previous||e.current===this.analytics.lastTrackedItem||e.current===e.previous&&!this.analytics.lastTrackedItem)return;this.analytics.lastTrackedItem=e.current;let t={incoming:{id:e.current.analyticsId},outgoing:{id:e.previous.analyticsId},interactionEvent:this.lastInteractionEvent},i=this.el.querySelector(this.model.Dropdown).id;this.lastInteractionEvent&&this.lastInteractionEvent.target.id===i&&this.trigger(this.analytics.events.UPDATE_COMPLETE,t)}}},function(e,t,i){"use strict";var s=i(0)(i(1));const r="enhance-page-xp-parallax",n="a0b - 100a0h",a="a0b - 50a1h - 50vh";class o extends s.default{constructor(e){super(e),this.featureDetect=r,this._els={headline:null,container:null,phone3:null,phone2:null,phone1:null}}mounted(){super.mounted(),this._getElements()}_getElements(){this._els.headline=this.el.querySelector(".headline"),this._els.container=this.el.querySelector(".device-lockup"),this._els.phone3=this.el.querySelector(".overview-display-retina-hd-3"),this._els.phone2=this.el.querySelector(".overview-display-retina-hd-2"),this._els.phone1=this.el.querySelector(".overview-display-retina-hd-1")}enhanceParallax(){this._parallaxScrollGroup=this.anim.createScrollGroup(this.el),this._parallaxScrollGroup.name="Display - Parallax",this._parallaxScrollGroup.addKeyframe(this._els.headline,{start:"a0t - 40vh",end:`${n}`,x:[-225,0],anchors:[this.el],breakpointMask:"L"}),this._parallaxScrollGroup.addKeyframe(this._els.container,{start:"a0t - 40vh",end:`${n}`,x:[25,0],y:[150,0],scale:[1.7,1],anchors:[this.el],breakpointMask:"L"}),this._parallaxScrollGroup.addKeyframe(this._els.phone3,{start:"a0t - 40vh",end:`${n}`,x:[235,0],anchors:[this.el],breakpointMask:"L"}),this._parallaxScrollGroup.addKeyframe(this._els.phone2,{start:"a0t - 40vh",end:`${n}`,x:[125,0],anchors:[this.el],breakpointMask:"L"}),this._parallaxScrollGroup.addKeyframe(this._els.phone3,{start:"a0t",end:`${a}`,x:[130,-10],anchors:[this.el,this._els.container],breakpointMask:"M"}),this._parallaxScrollGroup.addKeyframe(this._els.phone2,{start:"a0t",end:`${a}`,x:[10,0],anchors:[this.el,this._els.container],breakpointMask:"M"}),this._parallaxScrollGroup.addKeyframe(this._els.phone1,{start:"a0t",end:`${a}`,x:[-119,10],anchors:[this.el,this._els.container],breakpointMask:"M"}),this._parallaxScrollGroup.addKeyframe(this._els.container,{start:"a0t + css(padding-top, a0) - 75vh",end:"a0t",x:[0,-8],y:["-1 * (a1h + css(margin-bottom, a1)) + 40px",0],scale:["css(--device-scale-small, a1)",1],anchors:[this.el,this._els.headline],breakpointMask:"S"}),this._parallaxScrollGroup.addKeyframe(this._els.phone3,{start:"a0t",end:"a0t + 70vh",x:[0,-90],anchors:[this.el],breakpointMask:"S"}),this._parallaxScrollGroup.addKeyframe(this._els.phone1,{start:"a0t",end:"a0t + 70vh",x:[0,90],anchors:[this.el],breakpointMask:"S"})}unenhanceParallax(){this._parallaxScrollGroup&&this._parallaxScrollGroup.isEnabled&&this._parallaxScrollGroup.remove()}static IS_SUPPORTED(){return document.documentElement.classList.contains(r)}}e.exports=o},function(e,t,i){"use strict";var s=i(0)(i(1)),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=n(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}s.default=e,i&&i.set(e,s);return s}(i(20));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(n=function(e){return e?i:t})(e)}const a="enhance-clamshell";class o extends s.default{constructor(e){super(e),this.featureDetect=a,this.flowInstance=null,this.parallaxScrollGroup=null,this.flowContainer=this.el.querySelector("[data-flow]"),this.frontCopy=this.el.querySelector(".front-copy-container"),this.backCopy=this.el.querySelector(".back-copy-container"),this.setUnenhanceViewports()}enhanceMedia(){this.flowInstance=new r.default({component:this,el:this.flowContainer,playbackConfig:{start:"a0t - 70vh",end:"a0t + 50vh",ease:1,anchors:[".clamshell-section"]},loadMargin:"400vh"}),this.flowInstance.on(r.EVENT_LOAD_FAILURE,(()=>{this.destroyed||this.unenhanceCombined()}))}enhanceParallax(){this.parallaxScrollGroup=this.anim.createScrollGroup(this.el),this.parallaxScrollGroup.name="Flow - clamshell",this.parallaxScrollGroup.addKeyframe(this.frontCopy,{start:"a0t - 50vh",end:"a0t - 25vh",opacity:[0,1],anchors:[".clamshell-section"],breakpointMask:"L"}),this.parallaxScrollGroup.addKeyframe(this.frontCopy,{start:"a0t",end:"a0t + 15vh",y:[220,200],opacity:[1,0],anchors:[".clamshell-section"],breakpointMask:"L"}),this.parallaxScrollGroup.addKeyframe(this.backCopy,{start:"a0t + 13vh",end:"a0t + 25vh",opacity:[null,1],anchors:[".clamshell-section"],breakpointMask:"L"}),this.parallaxScrollGroup.addKeyframe(this.backCopy,{start:"a0t + 25vh",end:"a0t + 30vh",y:[null,-390],anchors:[".clamshell-section"],breakpointMask:"L"}),this.parallaxScrollGroup.addKeyframe(this.frontCopy,{start:"a0t - 50vh",end:"a0t - 25vh",opacity:[0,1],anchors:[".clamshell-section"],breakpointMask:"M"}),this.parallaxScrollGroup.addKeyframe(this.frontCopy,{start:"a0t",end:"a0t + 15vh",y:[160,140],opacity:[1,0],anchors:[".clamshell-section"],breakpointMask:"M"}),this.parallaxScrollGroup.addKeyframe(this.backCopy,{start:"a0t + 13vh",end:"a0t + 25vh",opacity:[null,1],anchors:[".clamshell-section"],breakpointMask:"M"}),this.parallaxScrollGroup.addKeyframe(this.backCopy,{start:"a0t + 25vh",end:"a0t + 30vh",y:[null,-274],anchors:[".clamshell-section"],breakpointMask:"M"}),this.parallaxScrollGroup.addKeyframe(this.frontCopy,{start:"a0t - 50vh",end:"a0t - 25vh",opacity:[0,1],anchors:[".clamshell-section"],breakpointMask:"S"}),this.parallaxScrollGroup.addKeyframe(this.frontCopy,{start:"a0t",end:"a0t + 15vh",y:[160,140],opacity:[null,0],anchors:[".clamshell-section"],breakpointMask:"S"}),this.parallaxScrollGroup.addKeyframe(this.backCopy,{start:"a0t + 13vh",end:"a0t + 25vh",opacity:[null,1],anchors:[".clamshell-section"],breakpointMask:"S"})}unenhanceCombined(){this.flowInstance&&this.flowInstance.destroy(),this.parallaxScrollGroup&&this.parallaxScrollGroup.remove(),this.destroy()}static IS_SUPPORTED(){return document.documentElement.classList.contains(a)}}e.exports=o},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(s,n,a):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(20)),a=i(7),o=s(i(16));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}const h="enhance-five-g",c={counter:".five-g-frame-float-counter",fiveGlogo:".headlines .logo",subhead:".headlines .subhead",flow:n.SELECTOR_FLOW,headlines:".headlines",allFasterBulletItems:".faster-list .fast-item",bodyCopy:"[data-copy-fade-in-animation]",hideBodyCopy:"[data-copy-out-animation]",fiveGCopy:"[data-five-g-copy]",a15:"[data-a15]",wipeIphone:"[data-wipe-iphone]",wipeCopy:"[data-wipe-copy]",staticHardware:".hardware-a15-bionic",staticHardwareParent:".column-iphone",wipeHardware:".wipe-hardware",wipeCover:".wipe-cover",stickyWrapper:"[data-sticky-wrapper]",flowContent:".content-five-g",stickyContent:".sticky-content"};class u extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(h)}constructor(e){super(e),this.featureDetect=h,this.setUnenhanceViewports(),this._getElements(),this._setCssVars()}_getElements(){this.element={};for(const[e,t]of Object.entries(c)){const i=0===e.indexOf("all")?"querySelectorAll":"querySelector";this.element[e]=this.el[i](t)}}_setCssVars(){if(this.element.fiveGCopy){let e=`calc(50vh - ${this.element.fiveGCopy.offsetHeight/2}px)`,t=this.element.stickyContent.offsetHeight;this.el.style.setProperty("--five-g-sticky-top",e),this.el.style.setProperty("--five-g-sticky-content-height",`${t}px`),this.anim.forceUpdate()}}enhanceMedia(){super.enhanceMedia(),this._setupFlow(),this._setupKeyframes()}_setupFlow(){this._flowPlayer=new n.default({component:this,el:this.element.flow}),this._flowPlayer.on(n.EVENT_LOAD_FAILURE,(()=>{a.DevLogger.log("five-g flow: load failed"),this.destroyed||this.unenhanceCombined()}))}_setupKeyframes(){this._kfGroup=this.anim.getGroupByName("Five-G");const{headlines:e,subhead:t,flow:i,allFasterBulletItems:s,bodyCopy:r,hideBodyCopy:n,fiveGCopy:a,a15:l,wipeIphone:h,staticHardware:c,staticHardwareParent:u,wipeHardware:d,wipeCover:p,wipeCopy:m,stickyWrapper:f,flowContent:_}=this.element;let g=this._kfGroup.addKeyframe(this._flowPlayer,{anchors:[this.el,i],start:"a1t + 25a1h - 100vh",end:"a1t + 50a1h - 50vh",progress:[0,1]}).jsonProps;g=this._kfGroup.addKeyframe(t,{anchors:g.anchors,start:"t - 100vh",end:"b - 100vh + 100h",scale:[1.75,1],y:["200h",0],easeFunction:"easeOutQuad"}).jsonProps,this._kfGroup.addKeyframe(e,{anchors:e,start:"a0t + 65a0h",end:"a0t + 120a0h",opacity:[1,0],y:[null,"-200px"]});const y="rtl"===document.documentElement.getAttribute("dir")?-1:1;let v=[];s.forEach(((e,t)=>{v[t]=this._kfGroup.addKeyframe(e,{anchors:[this.el,_],start:`a0t + a1h - 65vh + ${t} * h`,end:`a0t + a1h - 65vh + ${t} * h + 50vh`,x:[`w / 6 * ${t+1} * ${y}`,0],width:[0,"100%"],opacity:[0,1],easeFunction:"easeInOutQuad"}),new o.default(v[t])}));let b=this._kfGroup.addKeyframe(r,{anchors:[this.el,_],start:"S"===this.pageMetrics.breakpoint?"a0t + a1h + -8vh":"a0t + a1h + 1vh",end:"a0t + a1h + 41vh",opacity:[0,1],easeFunction:"easeOutQuad"});new o.default(b);const E="a0t + a1h + 66vh",w="a0t + a1h + 42vh";this._kfGroup.addKeyframe(l,{anchors:[this.el,_],start:"a0t + a1h + 28vh",cssClass:"show",toggle:!0});let x={anchors:[this.el,_],start:"a0t + a1h + 42vh",end:E,opacity:[null,1],easeFunction:"easeOutQuad"};this._kfGroup.addKeyframe(p,{...x,breakpointMask:["L","M"],end:E}),this._kfGroup.addKeyframe(p,{...x,breakpointMask:["S"],end:w});let A={anchors:[this.el,_],end:E,scale:[1,.94],easeFunction:"easeOutQuad"};this._kfGroup.addKeyframe(a,{...A,start:"a0t + a1h + 50vh",breakpointMask:["L","M"],end:E}),this._kfGroup.addKeyframe(a,{...A,start:"a0t + a1h + 19vh",breakpointMask:["S"],opacity:[1,0],end:w});let S={anchors:[this.el,_],start:E,cssClass:"show-wipe",toggle:!0};this._kfGroup.addKeyframe(l,{...S,breakpointMask:["L","M"],start:E}),this._kfGroup.addKeyframe(l,{...S,breakpointMask:["S"],start:w});let T={anchors:[this.el,_],start:E,cssClass:"hide-copy",toggle:!0};this._kfGroup.addKeyframe(n,{...T,breakpointMask:["L","M"],start:E}),this._kfGroup.addKeyframe(n,{...T,breakpointMask:["S"],start:w});const I={anchors:[this.el,_,a,f,d,c,u],start:"M"===this.pageMetrics.breakpoint?"a0t + a1h + 29vh":"a0t + a1h + 16vh",end:"a0t + a1h + 165vh"};this._kfGroup.addKeyframe(h,{...I,breakpointMask:["L","M"],x:[null,"-100w + a4w + (a5l - a6l)"]}),this._kfGroup.addKeyframe(h,{...I,start:"a0t + a1h + 25vh",breakpointMask:["S"],x:[null,"-100w + a4w"]}),this._kfGroup.addKeyframe(m,{...I,breakpointMask:["L","M"],scale:[.94,1]})}unenhanceCombined(){this._kfGroup&&this._kfGroup.remove(),this.destroy()}}e.exports=u},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=i(9),a=s(i(21));const o=n.FEATURE_DETECT.media;class l extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(o)}constructor(e){super(e),this._els={copy:this.el.querySelector(".copy-container"),hardware:this.el.querySelector(".hardware-container"),media:{playPauseButton:this.el.querySelector(".play-pause-button"),video:this.el.querySelector(".chip-gaming-video")}},this.featureDetect=o}enhanceMedia(){this._videoInterface=new a.default({anim:this.anim,el:this._els.media.video,playPauseButton:this._els.media.playPauseButton,logLabel:"Gaming",showLogs:!0,resetOnExit:!0}),this._videoInterface.init()}unenhanceMedia(){this._videoInterface.destroy()}enhanceParallax(){super.enhanceParallax(),this._setupParallaxKeyframes()}_setupParallaxKeyframes(){this._parallaxScrollGroup=this.anim.createScrollGroup(this._els.hardware,{name:"Chip  Gaming  Enhanced"}),this._parallaxScrollGroup.addKeyframe(this._els.copy,{easeFunction:"easeInQuad",end:"t - 60vh",opacity:[0,1],start:"t - 105vh",y:[50,0]}),this._parallaxScrollGroup.addKeyframe(this._els.hardware,{anchors:[this._els.copy],breakpointMask:"LM",easeFunction:"easeInQuad",end:"a0b - 30vh",start:"a0b - 70vh",y:[250,0]}),this._parallaxScrollGroup.addKeyframe(this._els.hardware,{breakpointMask:"S",easeFunction:"easeInQuad",end:"t - 60vh",start:"t - 200vh",y:[200,0]}),this._parallaxScrollGroup.addKeyframe(this._els.media.playPauseButton,{easeFunction:"easeInQuad",end:"t - 80vh",opacity:[0,1],start:"t - 85vh"})}}e.exports=l},function(e,t,i){"use strict";var s=i(0)(i(1));const r="enhance-gaming-compare";class n extends s.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(r)}constructor(e){super(e),this.compare=this.el.querySelector(".section-content"),this.featureDetect=r}enhanceParallax(){super.enhanceParallax(),this._setupParallaxKeyframes()}_setupParallaxKeyframes(){this.addKeyframe({easeFunction:"easeInQuad",el:this.compare,end:"t - 150vh",start:"t - 200vh",y:[140,-125]}),this.addKeyframe({breakpointMask:"LM",easeFunction:"easeInQuad",el:this.compare,end:"t - 50vh",start:"t - 125vh",opacity:[0,1]})}}e.exports=n},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=s(i(230)),a=s(i(231)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=u(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(s,n,a):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(20)),l=i(70),h=i(7),c=s(i(16));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(u=function(e){return e?i:t})(e)}const d="enhance-hero";class p extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(d)}constructor(e){super(e),this.featureDetect=d,this.setUnenhanceViewports(),this._els={container:document.querySelector(".section-hero"),layout:this.el,splash:this.el.querySelector(".splash"),flow:this.el.querySelector(o.SELECTOR_FLOW),zoomed:this.el.querySelector(".zoomed"),zoomedEndframe:this.el.querySelector(".endframe-zoomed"),zoomedFinal:this.el.querySelector(".lockup-zoomed"),overlay:this.el.querySelector(".overlay"),intro:this.el.querySelector(".intro"),logo:this.el.querySelector(".headline-enhanced"),logoTag:this.el.querySelector(".headline-enhanced h2"),subhead:this.el.querySelector(".subhead"),subheadA:this.el.querySelector(".subhead-1"),subheadB:this.el.querySelector(".subhead-2"),pricingHeader:this.el.querySelector(".pricing-head"),pricing:this.el.querySelector(".pricing"),pricingBody:this.el.querySelector(".pricing-body"),pricingFootnote:this.el.querySelector(".pricing-body .footnote a"),pricingCta:this.el.querySelector(".ctas"),ctaTag:this.el.querySelector(".ctas .event-cta"),quicklookTag:this.el.querySelector(".ctas .quicklook-cta a"),features:this.el.querySelector(".key-features"),lockup:this.el.querySelector(".lockup"),lockupScrim:this.el.querySelector(".lockup-scrim"),body:this.el.querySelector(".lockup .copy-block"),lockupTag:this.el.querySelector(".lockup .copy-block .copy"),final:this.el.querySelector(".lockup-picture")},this._featureItems=Array.from(this._els.features.querySelectorAll("[data-feature-item]")),this._assetRatio=n.default.getVar(this.el,"--bars-ratio"),this._totalColumns=n.default.getVar(this.el,"--bars-count-total"),this._gradientColors={navy:n.default.getVar(this._els.features,"--gradient-color-navy",!1),lime:n.default.getVar(this._els.features,"--gradient-color-lime",!1),lavender:n.default.getVar(this._els.features,"--gradient-color-lavender",!1),darkNavy:n.default.getVar(this._els.features,"--gradient-color-dark-navy",!1),purple:n.default.getVar(this._els.features,"--gradient-color-purple",!1),lightPurple:n.default.getVar(this._els.features,"--gradient-color-light-purple",!1),cream:n.default.getVar(this._els.features,"--gradient-color-cream",!1),orange:n.default.getVar(this._els.features,"--gradient-color-orange",!1)},this._voItems=[]}get group(){return this._group||(this._group=this.anim.createScrollGroup(this.el,{name:"Hero - Enhanced"})),this._group}enhanceMedia(){this._setupTextAnimations(),this._setupFlow(),this._setupFlowAnimations(),this._setupLockupAnimations(),this._els.layout.classList.add("ready")}unenhanceCombined(){this._flowPlayer&&this._flowPlayer.destroy(),this._chain&&this._chain.removeChain(),this.group&&this.group.remove(),this._voItems.length>0&&this._voItems.forEach((e=>e.remove())),this.destroy()}onResizeDebounced(){this.destroyed||this._scaleZoomedDevice()}_setupTextAnimations(){const{container:e,overlay:t,subheadA:i,subheadB:s,logoTag:r,pricingHeader:n,pricing:o,pricingFootnote:l,ctaTag:h,quicklookTag:u}=this._els;this._chain=new a.default({chainGroup:this.group,el:i,anchors:[e],start:"a0t + 75vh",end:"a0t + 135vh",cssClass:"active",toggle:!0}),this._chain.chain({gang:!0,duration:"20vh",opacity:[0,1]}),this._voItems.push(new c.default(this._chain.chainCurrent)),this._chain.chain({delay:"25vh",duration:"20vh",opacity:[1,0]}).chain({el:s,delay:"40vh",duration:"60vh",cssClass:"active",toggle:!0}).chain({gang:!0,duration:"20vh",opacity:[0,1]}),this._voItems.push(new c.default(this._chain.chainCurrent)),this._chain.chain({delay:"25vh",duration:"20vh",opacity:[1,0]});this._chain.chain({el:t,delay:"-5vh",duration:"10vh",opacity:[0,.9],toggle:!0}).chain({el:n,gang:!0,delay:"5vh",duration:"70vh",cssClass:"active",toggle:!0}).chain({el:o,gang:!0,duration:"70vh",cssClass:"active",toggle:!0}),this._chain.chain({el:n,gang:!0,duration:"20vh",opacity:[0,1]});let d=this._chain.chainCurrent.jsonProps;this._voItems.push(new c.default(r,{anchors:d.anchors,start:`${d.start} + 30vh`})),[l,h,u].forEach((e=>this._voItems.push(new c.default(e,{tabindex:0,anchors:d.anchors,start:`${d.start} + 30vh`})))),this._chain.chain({el:o,delay:"-10vh",duration:"20vh",opacity:[0,1]}).chain({el:n,delay:"20vh",duration:"20vh",opacity:[1,0]}).chain({el:o,gang:!0,duration:"20vh",opacity:[1,0]}).chain({el:t,delay:"-5vh",duration:"10vh",opacity:[.9,0],toggle:!0}),this._pricingDuration="70vh"}_setupFlow(){const{end:e,anchors:t}=this._chain.props;this._playbackKeyframeProps={start:"a0t - css(--r-globalnav-height, a0) * 1.5",end:`${e} - ${this._pricingDuration}`,anchors:t},this._flowPlayer=new o.default({component:this,el:this._els.flow,playbackConfig:this._playbackKeyframeProps,flowConfigOptions:{...l.DEFAULT_FLOW_OPTIONS,loadLimit:12}}),this._flowPlayer.on(o.EVENT_LOAD_FAILURE,(()=>{h.DevLogger.log("HeroFlow: load failed")}))}_setupFlowAnimations(){const{layout:e,zoomed:t,features:i}=this._els,{end:s,anchors:r}=this._playbackKeyframeProps;this.group.addKeyframe(e,{start:s,anchors:r,cssClass:"swapped",toggle:!0});const{barsRatio:a,barsCountTotal:o,zoomedAssetWidth:l,zoomedAssetHeight:h,flowH:u,flowEndframeHeight:d}=n.default.getCollection(this.el,["--bars-ratio","--bars-count-total","--zoomed-asset-width","--zoomed-asset-height","--flow-h","--flow-endframe-height"]);this._assetRatio=a,this._totalColumns=o,this._zoomedW=l,this._zoomedH=h,this._endframeH=d,this._endframeRatio=u/this._endframeH,n.default.setVar(this.el,{"--flow-v-ratio":this._endframeRatio}),this._scaleZoomedDevice(),this._chain.chain({el:t,delay:"-70vh",duration:"70vh",scale:["css(--zoom-scale)","css(--zoom-scale) * 0.9"]}).chain({el:t,delay:"",duration:"40vh",rotation:[0,"-90"],scale:[null,"css(--target-scale)"],y:[0,"css(--target-offset)"]}).chain({el:i,duration:"70vh",cssClass:"active",toggle:!0}),this._voItems.push(new c.default(this._chain.chainCurrent)),this._chain.chain({gang:!0,duration:"15vh",opacity:[0,1]}),this.group.addKeyframe(e,{start:this._chain.props.end,anchors:r,cssClass:"final",toggle:!0}).jsonProps;this._featureItems.forEach((e=>{this._chain.chain({el:e.querySelector("[data-feature-item-text]"),delay:"-5vh - 15vh",duration:"10vh + 15vh",opacity:[0,1]})})),this._chain.chain({el:i,delay:`- ${5*this._featureItems.length}vh - 15vh`,duration:"100vh",progress:[0,1]}),this._chain.chainCurrent.controller.on("draw",(e=>{let{tweenProps:t}=e;const i=t.progress.current;this._featureItems.forEach(((e,t)=>{n.default.setVar(e,{[`--gradient-${t}`]:this._composeGradient(t,i)})}))})),this._chain.chain({el:i,duration:"15vh",opacity:[1,0]}).chain({el:t,duration:"40vh",rotation:["-90",0],scale:["css(--target-scale)","css(--zoom-scale)"],y:["css(--target-offset)","css(--r-localnav-height)"]})}_setupLockupAnimations(){const{lockupScrim:e,lockup:t,lockupTag:i}=this._els;this._chain.chain({el:e,delay:"-5vh",duration:"5vh",scaleY:[0,1]}).chain({el:t,gang:!0,delay:"4vh",duration:"6vh",opacity:[0,1]}).chain({gang:!0,duration:"70vh",cssClass:"active"});let s=this._chain.chainCurrent.jsonProps;this._voItems.push(new c.default(i,{anchors:s.anchors,start:`${s.start} + 7vh`}))}_scaleZoomedDevice(){const e=this._els.flow.getBoundingClientRect().height/(this._zoomedH*this._endframeRatio),t=this._featureItems.length,i=this._zoomedW/this._assetRatio/this._totalColumns,s=`((100vh - css(--r-localnav-height)) / ${i*t})`,r=t%2==0?`${i/2} * ${s}`:0,{rLocalnavHeight:a,zoomedAssetHeight:o,lockupCropHeight:l}=n.default.getCollection(this._els.container,["--r-localnav-height","--zoomed-asset-height","--lockup-crop-height"]),h=.5*this.pageMetrics.windowHeight-.5*a+e*o*.5-e*l;n.default.setVar(this._els.container,{"--zoom-scale":e,"--target-scale":s,"--target-offset":r,"--lockup-margin":`${Math.min(0,-h)}px`}),this.anim.forceUpdate()}_composeGradient(e,t){const i=this._featureItems.length,s=e<i/2?e:i-e-1,r=800/Object.keys(this._gradientColors).length,n=-175+s/i*r+r-400*t;return["90deg",...Object.keys(this._gradientColors).map(((e,t)=>`${this._gradientColors[e]} ${n+t*r}%`))].join(", ")}}e.exports=p},function(e,t,i){"use strict";const s=/^[A-Za-z0-9-]*$/;class r{static setVar(e,t){for(const[i,s]of Object.entries(t))e.style.setProperty(i,s)}static getVar(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=window.getComputedStyle(e).getPropertyValue(t);return i?parseFloat(s):s}static renameVar(e){return s.test(e)?e.match(/\w+/g).map(((e,t)=>t>0?(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())(e):e.toLowerCase())).join(""):e}static getCollection(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t.reduce(((t,n)=>(t[s?r.renameVar(n):n]=r.getVar(e,n,i),t)),{})}}e.exports=r},function(e,t,i){"use strict";const s=(e,t,i)=>{const s=t.controller.element,r=t.jsonProps.anchors,n=i.chainGroup||e,a=i.el||s;return{...{...i,chainGroup:n,el:a,prevKf:t},start:i.gang?`${t.jsonProps.start}`:`${t.jsonProps.end}`,...r&&!i.anchors&&{anchors:r}}},r=e=>{const{delay:t,duration:i}=e;let s=e.start;t&&(s=`${s} + ${t}`);return{...e,start:s,...i&&{end:`${s} + ${i}`}}};e.exports=class{constructor(e){this._rootKf=this._currentKf=this._createBoundKeyframe(e)}get chainRoot(){return this._rootKf}get chainCurrent(){return this._currentKf}get chain(){return this._currentKf&&this._currentKf.chain}get props(){return this._currentKf&&this._currentKf.jsonProps}get destroyed(){return this._rootKf.destroyed}update(e){this.chainRoot&&(this.chainRoot.overwriteProps(e),this._updateNext(this.chainRoot))}removeChain(){this.chainRoot&&this._removeNext(this.chainRoot)}_createBoundKeyframe(e){const{chainGroup:t,el:i}=e,n=t,a=i,o=r(e),l=n.addKeyframe(a,o);return this._currentKf=l,this._currentKf.chainRoot=this.chainRoot,this._currentKf.update=this.update.bind(this),this._currentKf.removeChain=this.removeChain.bind(this),l.chain=e=>{const t=s(e.chainGroup||n,l,e),i=this._createBoundKeyframe(t);return l._next={kf:i,...t},i},l}_updateNext(e){for(;e._next;){const t=e._next,i=s(t.chainGroup,e,t),n=r(i);(e=t.kf).overwriteProps(n)}}_removeNext(e){const t=e._next&&e._next.kf;e.remove(),e=null,t&&this._removeNext(t)}}},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=i(9),a=s(i(21));const o=n.FEATURE_DETECT.media;class l extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(o)}constructor(e){super(e),this._els={media:{playPauseButton:this.el.querySelector(".play-pause-button"),videoContainer:this.el.querySelector(".media-video-container"),video:this.el.querySelector(".camera-video-video")}},this.featureDetect=o}enhanceMedia(){this._videoInterface=new a.default({anim:this.anim,el:this._els.media.videoContainer,playPauseButton:this._els.media.playPauseButton,playKeyframe:{start:"a0t - 100vh",end:"a1b",anchors:[this._els.media.videoContainer,this._els.media.playPauseButton]},logLabel:"Low Light",showLogs:!0,resetOnExit:!0}),this._videoInterface.init()}unenhanceMedia(){this._videoInterface.destroy()}}e.exports=l},function(e,t,i){"use strict";var s=i(0),r=s(i(19)),n=s(i(5)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(s,n,a):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(41)),o=i(9);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}class h extends r.default{static IS_SUPPORTED(){return!0}constructor(e){super(e);const t=document.documentElement.classList;this._isEnhanced={base:t.contains(o.FEATURE_DETECT.base),parallax:t.contains(o.FEATURE_DETECT.parallax),media:t.contains(o.FEATURE_DETECT.media)},this._unenhanceParallax=this._unenhanceParallax.bind(this),this._unenhanceMedia=this._unenhanceMedia.bind(this),this._onTextZoomResize=this._onTextZoomResize.bind(this)}get isEnhanced(){return this._isEnhanced}mounted(){this._isEnhanced.parallax&&this._applyTextZoomListener()}onBreakpointChange(){this._unenhanceMedia()}_unenhanceParallax(){this._isEnhanced.parallax&&(a.turnOffFeatureDetectClass(o.FEATURE_DETECT.parallax),this._removeTextZoomListener(),this.trigger(o.UNENHANCE_EVENTS.parallax),this._isEnhanced.parallax=!1,(0,n.default)((()=>this.anim.forceUpdate())))}_unenhanceMedia(){this._isEnhanced.media&&(a.turnOffFeatureDetectClass(o.FEATURE_DETECT.media),this.trigger(o.UNENHANCE_EVENTS.media),this._isEnhanced.media=!1,(0,n.default)((()=>this.anim.forceUpdate())))}_applyTextZoomListener(){document.documentElement.classList.contains("text-zoom")?this._unenhanceParallax():window.addEventListener("resize:text-zoom",this._onTextZoomResize)}_removeTextZoomListener(){window.removeEventListener("resize:text-zoom",this._onTextZoomResize)}_onTextZoomResize(e){e.detail.originalSize<e.detail.currentSize&&this._unenhanceParallax()}}e.exports=h},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=i(9),a=s(i(21)),o=s(i(16));const l=n.FEATURE_DETECT.media,h="a0t + 50a0h - ((100vh + css(--r-localnav-height)) / 2)";class c extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(l)}constructor(e){super(e),this._els={media:{videoContainer:this.el.querySelector(".media-video-container"),video:this.el.querySelector(".photographic-styles-video"),playPauseButton:this.el.querySelector(".play-pause-button")},parallax:{hardwareContainer:this.el.querySelector(".hardware-container"),caption:this.el.querySelector(".caption")}},this.featureDetect=l,this._voFocusItems=[]}enhanceMedia(){this._videoInterface=new a.default({el:this._els.media.videoContainer,anim:this.anim,playKeyframe:{start:h,end:"a1b",anchors:[this._els.parallax.hardwareContainer,this._els.media.playPauseButton]},playPauseButton:this._els.media.playPauseButton,logLabel:"Photographic Styles",showLogs:!0,pauseOnExit:!0}),this._videoInterface.init(),this._setupPlaybackControlsKeyframes(),this._setupMediaResetKeyframes()}_setupPlaybackControlsKeyframes(){this.addKeyframe({el:this._els.media.playPauseButton,start:h,cssClass:"active-controls",toggle:!0,anchors:[this._els.parallax.hardwareContainer]})}_setupMediaResetKeyframes(){this.addKeyframe({el:this._els.media.video,start:"t-105vh",end:"a0b",event:`${this._els.media.video.dataset.inlineMediaName}:reset`,anchors:[this._els.media.playPauseButton]}).controller.on(`${this._els.media.video.dataset.inlineMediaName}:reset:exit`,(()=>{this._videoInterface.reset()}))}enhanceParallax(){super.enhanceParallax(),this._setupParallaxKeyframes()}unenhanceParallax(){this._voFocusItems.forEach((e=>e.remove()))}_setupParallaxKeyframes(){this.addKeyframe({el:this._els.parallax.hardwareContainer,start:"a0t - 90vh",end:h,scale:[2,1],anchors:[this._els.parallax.hardwareContainer]}),this.addKeyframe({el:this._els.parallax.caption,start:h,end:"a0t + 50a0h - ((100vh + css(--r-localnav-height)) / 2)+ 100px",opacity:[0,1],y:[20,0],anchors:[this._els.parallax.hardwareContainer]}),this._voFocusItems.push(new o.default(this._els.media.video,{start:h+"+ 2px",anchors:[this._els.parallax.hardwareContainer]})),this._voFocusItems.push(new o.default(this._els.media.playPauseButton,{start:"max(b - 100vh + 30px, "+h+" + 2px)",anchors:[this._els.parallax.hardwareContainer],tabindex:0})),this._voFocusItems.push(new o.default(this._els.parallax.caption,{start:"max(b - 100vh + 30px)"}))}}e.exports=c},function(e,t,i){"use strict";var s=i(0)(i(1));const r="enhance-photo-grid";class n extends s.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(r)}constructor(e){super(e),this.copy=null,this.rowOneEl=null,this.rowTwoEl=null,this.scaleEl=null,this.featureDetect=r,this.setUnenhanceViewports()}mounted(){this._getElements(),super.mounted()}_getElements(){this.copy=this.el.querySelector(".photos-copy"),this.rowOneEl=this.el.querySelector("[data-row-1]"),this.rowTwoEl=this.el.querySelector("[data-row-2]"),this.scaleEl=this.el.querySelector("[data-scale-wrapper]")}enhanceParallax(){super.enhanceParallax(),this._setupParallaxKeyframes()}_setupParallaxKeyframes(){this.addKeyframe({easeFunction:"easeInQuad",el:this.copy,end:"t - 50vh",opacity:[0,1],start:"t - 100vh"}),this.addKeyframe({el:this.el,start:"t - 200vh",end:"b + 200vh",cssClass:"will-change",toggle:!0}),this.addKeyframe({el:this.rowTwoEl,start:"a0t - 100vh",end:"a0t",scale:[1.1,1],breakpointMask:"LMS",anchors:[this.el]}),this.addKeyframe({el:this.rowOneEl,start:"a0t - 50vh",end:"a0b",x:["-400px","400px"],breakpointMask:"L",anchors:[this.el]}),this.addKeyframe({el:this.rowOneEl,start:"a0t - 50vh",end:"a0b",x:["-320px","320px"],breakpointMask:"M",anchors:[this.el]}),this.addKeyframe({el:this.rowOneEl,start:"a0t",end:"a0b",x:["-188px","188px"],breakpointMask:"S",anchors:[this.el]}),this.addKeyframe({el:this.scaleEl,start:"a0t",end:"a0t + 100vh",scale:[2,1],breakpointMask:"LMS",anchors:[this.el]}),this.addKeyframe({el:this.rowTwoEl,start:"a0t + 100vh",end:"a0b",x:["0px","-233px"],breakpointMask:"L",anchors:[this.el]}),this.addKeyframe({el:this.rowTwoEl,start:"a0t + 100vh",end:"a0b",x:["0px","-161px"],breakpointMask:"M",anchors:[this.el]}),this.addKeyframe({el:this.rowTwoEl,start:"a0t + 100vh",end:"a0b",x:["0","-50vh"],breakpointMask:"S",anchors:[this.el]})}}e.exports=n},function(e,t,i){"use strict";var s=i(0),r=s(i(84)),n=s(i(1));const a="enhance-privacy";class o extends n.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(a)}constructor(e){super(e),this.featureDetect=a,this._kfs={arr:[],group:this.anim.createScrollGroup(this.el)},this._kfs.group.name="Section - Privacy: Enhanced XP : Dots"}mounted(){super.mounted(),this._getElements(),this._setupIconAnimation(),this._setupTextString(),this._setTextAnimationSize(),this._setupTextClip(),this._addKfs()}onResizeDebounced(){this.isEnhanced("parallax")&&this._setTextAnimationSize()}_getElements(){this._fadeElements=this.el.querySelectorAll("[data-fade-in]"),this._wrapper=this.el.querySelector("[data-headline-wrapper]"),this._headline=this.el.querySelector("[data-headline]"),this._textWrapper=this.el.querySelector("[data-headline-animation-wrapper]"),this._headlineAnimated=this.el.querySelector("[data-headline-animation]"),this._iconAnimated=this.el.querySelector("[data-anim-icon]")}_setupIconAnimation(){this._iconDuration=window.getComputedStyle(this._iconAnimated,null).getPropertyValue("animation-duration"),this._iconKeyframes=parseInt(this._iconDuration),this._iconFrame=0}_setupTextString(){this._originalString=this._headline.textContent,this._stringArray=[],this._stringIndex=0}_addKfs(){this._addTextKf(),this._addIconKf()}_addTextKf(){let e=this.anim.addKeyframe(this.el,{start:"a0t - 90vh",end:"a0t - 40vh",anchors:[this._textWrapper],_index:[0,1]});this._kfs.arr.push(e),e.controller.on("draw",(e=>{let t=e.tweenProps._index.current;this.clip.draw(t)}))}_addIconKf(){let e=this.anim.addKeyframe(this.el,{start:"a0t - 90vh",end:"a0t - 40vh",anchors:[this._textWrapper],_percent:[0,100]});this._kfs.arr.push(e),e.controller.on("draw",(e=>{let t=e.tweenProps._percent.current,i=100/this._iconKeyframes,s=Math.round(t/i);this._iconFrame!==s&&(this._iconAnimated.style.animationDelay=`-${s}s`),this._iconFrame=s}))}_addFadeElementsKf(){this._fadeElements.forEach((e=>{const t=this.anim.addKeyframe(e,{start:"t - 100vh",end:"t - 80vh",opacity:["0","1"],y:["9vh","0"],easeFunction:"easeOutQuad"});this._kfs.arr.push(t)}))}_setTextAnimationSize(){let e=this._headline.offsetHeight,t=this._headline.offsetWidth;this._textWrapper.style.height=e+"px",this._textWrapper.style.width=t+"px"}_setupTextClip(){this._setupStringArray(),this.clip=new r.default(1,{draw:e=>{let t=this._stringArray.length,i=Math.floor(e*(t-1-(s=0))+s);var s;i!==this._stringIndex&&(this._headlineAnimated.textContent=this._stringArray[i]),this._stringIndex=i}})}_setupStringArray(){let e=this._originalString,t=e.length;this._stringArray[t+1]=e;for(let e=t;e>-1;e--){let t=this._stringArray[e+1],n=t.substring(e-1,e),a=(s=e-1,r=" "===n?n:"",(i=t).substr(0,s)+r+i.substr(s+1));this._stringArray[e]=a}var i,s,r;this._headlineAnimated.textContent=this._stringArray[0]}unenhanceParallax(){this._kfs.group&&this._kfs.group.remove(),this.unenhanceFeatureClass()}}e.exports=o},function(e,t,i){"use strict";var s=i(0)(i(16));const r=i(19);e.exports=class extends r{static IS_SUPPORTED(){return document.documentElement.classList.contains("enhance-page-xp")}constructor(e){super(e),this._voFocus={copy:{},link:{}}}mounted(){this._pageXp=this.gum.getComponentOfType("PageXp",document.body),this._pageXp.isEnhanced.base&&this._setupVoFocus()}_setupVoFocus(){const e=this.el,t=this.el.querySelector(".ribbon-link"),i=[document.body];this._voFocus.copy=new s.default(e,{start:"a0t",anchors:i,tabindex:-1}),this._voFocus.link=new s.default(t,{start:"a0t",anchors:i,tabindex:0})}}},function(e,t,i){"use strict";var s=i(0)(i(1));const r="enhance-smart-hdr";class n extends s.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(r)}constructor(e){super(e),this.snapshotScaleEl=null,this.featureDetect=r,this.transitionScrollGroup=null}mounted(){this._getElements(),super.mounted()}_getElements(){this.snapshotScaleEl=this.el.querySelector(".snapshot"),this.snapshot=this.snapshotScaleEl.querySelector("picture"),this.snapshotLayout=this.el.querySelector(".snapshot-layout"),this.subHeadline=this.el.querySelector(".subheadline"),this.subHeadlineCopy=this.el.querySelector(".subheadline-copy")}enhanceParallax(){super.enhanceParallax(),this._setupParallaxKeyframes(),this.setupCopyTransition()}setupCopyTransition(){this.transitionScrollGroup=this.anim.createScrollGroup(this.el),this.transitionScrollGroup.name="Camera - Subheadline",this.transitionScrollGroup.addKeyframe(this.subHeadline,{start:"a0t-70vh",end:"a0t-30vh",opacity:[0,1],anchors:[this.snapshotLayout],breakpointMask:"LM"}),this.transitionScrollGroup.addKeyframe(this.subHeadlineCopy,{start:"a0t-70vh",end:"a0t-30vh",opacity:[0,1],anchors:[this.snapshotLayout],breakpointMask:"LM"}),this.transitionScrollGroup.addKeyframe(this.subHeadlineCopy,{start:"a0t-10vh",end:"a0t+10vh",opacity:[0,1],anchors:[this.snapshotLayout],breakpointMask:"S"})}_setupParallaxKeyframes(){this.addKeyframe({el:this.snapshot,start:"t - 100vh",end:"t + 50h - 50vh",scale:[1.1,1],breakpointMask:"LMS",anchors:[this.snapshotScaleEl]})}unenhanceCombined(){this.transitionScrollGroup&&this.transitionScrollGroup.remove(),this.destroy()}}e.exports=n},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=s(i(240));s(i(243));const a="enhance-spills";class o extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(a)}constructor(e){super(e),this.featureDetect=a,this._els={view:this.el.querySelector("[data-view]"),scene:this.el.querySelector(".scene"),device:this.el.querySelector(".device-picture"),subhead:this.el.querySelector(".lockup .subhead"),body:this.el.querySelector(".lockup .body")}}enhanceParallax(){this._scene=new n.default(this._els.view,this.pageMetrics),this._setupKeyframes()}unenhanceParallax(){this._scene.destroyed||this._scene.destroy(),this._parallaxKeyframe&&this._parallaxKeyframe.remove(),this._gui&&this._gui._gui.destroy(),this.destroyed||this.destroy()}onResizeDebounced(){this.isEnhanced("parallax")&&this._scene.resize(this.pageMetrics)}get group(){return this._group||(this._group=this.anim.createScrollGroup(this.el,{name:"Durability - Spills - Enhanced"})),this._group}_setupGui(){}_setupKeyframes(){this.group.addKeyframe(this._els.device,{anchors:[this._els.scene],start:"a0b - h - 100vh",end:"a0b - h - 80vh",y:[100,0],easeFunction:"easeOutQuad"}).jsonProps,this.group.addEvent(this.el,{start:"t - 65vh",event:"spills",onEventOnce:()=>{this._scene.released=1,this._scene.start()}});const e=this.group.addKeyframe(this._els.subhead,{anchors:[this._els.subhead],start:"a0t - 130vh",end:"a0t - 80vh",opacity:[0,1],y:[50,0],easeFunction:"easeInQuad"}).jsonProps;this.group.addKeyframe(this._els.body,{...e,start:`${e.start} + 20vh`,end:e.end})}}e.exports=o},function(e,t,i){"use strict";var s=i(0)(i(11)),r=i(241),n=i(48),a=i(242),o=i(7);e.exports=class{constructor(e,t){this._pageMetrics=t,this._shapes=[],this._clearedShapes=[],this._released=0,this._container=e||document,this._device=e.querySelector("[data-device]"),this._sourceDroplet=e.querySelector("[data-droplet]"),this._dropletContainer=e.querySelector("[data-droplet-container]"),this._devicePolygon,this._shapeCount=15,this._minScale=.2,this._maxScale=.4,this._fps=100,this._showGuides=!1,this._setupShapes(),this._progress=0,this._raf=new s.default,this._raf.on("update",this.update.bind(this))}set shapeCount(e){this._shapeCount=e,this.reset()}set minScale(e){this._minScale=e,this.reset()}set maxScale(e){this._maxScale=e,this.reset()}set fps(e){this._fps=e}set showGuides(e){this._showGuides=e}set released(e){this._released=e}get released(){return this._released}get releasedShapes(){return Math.floor(this._shapes.length*this._released-1)}start(){this._rafActive||(this._raf.run(),this._rafActive=!0)}update(){this._progress++,this._detectCollisions(this._progress),this._rafActive?this._clearedShapes.length<this._shapes.length-1?this._fps<100?setTimeout((()=>this._raf.run()),1e3/this._fps):this._raf.run():(this._clear(),o.DevLogger.info("spills: all done!")):o.DevLogger.info("spills: paused")}resize(e){const{breakpoint:t,previousBreakpoint:i}=e;if(""!==i&&i!==t&&0===this._released)return this._clear(),void this._setupShapes();this._devicePolygon.x=this._container.offsetWidth/2,this._devicePolygon.y=this._container.offsetHeight-this._device.offsetHeight/2;const s=this._shapes.slice(0,this._shapes.length-1);if(0!==s.length&&0!==this._released){this._boundsPaddingS="S"===this._pageMetrics.breakpoint?50:0;for(let e of s)e.x=Math.max(Math.min(e.x,this._container.offsetWidth+this._boundsPaddingS-n.HANDLE_RADIUS),n.HANDLE_RADIUS),e.y=Math.min(e.y,this._container.offsetHeight-n.HANDLE_RADIUS)}}destroy(){if(!this.destroyed)for(this.destroyed=!0,this._raf.destroy(),this._clear();this._container.firstChild;)this._container.removeChild(this._container.firstChild)}_clear(){this._shapes=[],this._clearedShapes=[],this._progress=0,this._released=0,this._rafActive=!1}_setupEvents(){this._container.tabIndex=1,this._container.addEventListener("keydown",(e=>this._onKeyDown(e)))}_setupShapes(){let e=parseInt(window.getComputedStyle(this._sourceDroplet).width,10)/2,t=Math.max(7,Math.min(15,Math.floor(window.innerWidth/e))),i=1;const s=window.innerWidth/t;"S"===this._pageMetrics.breakpoint&&(this._minScale=.15,this._maxScale=.25);for(let e=0;e<this._shapeCount;e++){let r=this._sourceDroplet.cloneNode(!0);r.dataset.droplet=e,this._dropletContainer.appendChild(r);let o=new n.SATPolygon({el:r,vertices:(0,a.teardrop)(),showGuides:this._showGuides,scale:Math.max(this._minScale,Math.min(this._maxScale,Math.random()))});this._shapes.push(o);const l=Math.random()*s*.3-Math.random()*s*.3;o.x=i*s+l,i=i<t?i+1:1;const h=.5*o.el.getBoundingClientRect().height;o.y=-(h+Math.random()*this._container.offsetHeight*.8)}const r=this._device.querySelector("canvas");r&&this._device.removeChild(r);let o=new n.SATPolygon({el:this._device,vertices:(0,a.roundedTopRectangle)(this._device.offsetWidth,this._device.offsetHeight),showGuides:this._showGuides,mass:200});o.x=this._container.offsetWidth/2,o.y=this._container.offsetHeight-this._device.offsetHeight/2,this._shapes.push(o),this._devicePolygon=o}_detectCollisions(){let e,t;for(let e=0;e<this.releasedShapes;e++)this._shapes[e].collisionInfo=null,this._shapes[e].highlight=!1;for(let i=0;i<this.releasedShapes;i++)if(e=this._shapes[i],this._checkBounds(e),this._clearedShapes.includes(e))e.highlight=!0;else{for(let s=i+1;s<this.releasedShapes;s++){if(t=this._shapes[s],t.collisionInfo||this._clearedShapes.includes(t)){t.highlight=!0;continue}const i=r.SAT.test(e,t);if(i){e.collisionInfo=i.testAB,t.collisionInfo=i.testBA;let s={x:t.x-e.x,y:t.y-e.y},r=Math.sqrt(s.x*s.x+s.y*s.y),n={x:0===r?0:s.x/r,y:0===r?0:s.y/r},a={x:e.vx-t.vx,y:e.vy-t.vy},o=a.x*n.x+a.y*n.y;if(o*=.3,o<0)break;let l=2*o/(e.mass+t.mass),h=l*n.x,c=l*n.y;e.vx-=t.mass*h,e.vy-=t.mass*c,t.vx+=e.mass*h,t.vy+=e.mass*c}}e.vy+=.2,e.update(this._progress),e.y>this._container.offsetHeight+e.el.getBoundingClientRect().height&&(this._clearedShapes.push(e),e.el.parentNode.removeChild(e.el))}}_checkBounds(e){const t=e.el.getBoundingClientRect().width/2,i=this._container.offsetWidth,s=.1*Math.abs(e.vx);e.x<t-(20+this._boundsPaddingS)?(e.vx=s,e.x=t-(20+this._boundsPaddingS)):e.x>i+(20+this._boundsPaddingS)-t&&(e.vx=-s,e.x=i+(20+this._boundsPaddingS)-t);const n=this._shapes[this._shapes.length-1],a=r.SAT.test(e,n);if(a){const t=a.testAB.vector.y,i=e.y>n.y-.4*n.offsetHeight?.1:.65;e.vx=(e.x<n.x?-8:8)*i,e.vy=Math.max(4,Math.abs(12*t))*Math.sign(t)*.3,e._drawShape("red")}}_onKeyDown(e){32===e.keyCode&&(e.preventDefault(),this._rafActive=!this._rafActive,this._rafActive&&(o.DevLogger.info("play"),this.update()))}}},function(e,t,i){"use strict";var s=i(48);class r{constructor(){this.shapeA=null,this.shapeB=null,this.distance=0,this.vector=new s.SATPoint,this.separation=new s.SATPoint}get direction(){return{x:-1*Math.round(this.separation.x),y:-1*Math.round(this.separation.y)}}}class n{static test(e,t){let i=n.polygonPolygonTest(e,t);if(!i)return null;let s=n.polygonPolygonTest(t,e);return s?{testAB:i,testBA:s}:null}static polygonPolygonTest(e,t){let i=Number.MAX_VALUE,a=new r;a.shapeA=e,a.shapeB=t;let o=e.getTransformedVerts(),l=t.getTransformedVerts(),h=new s.SATPoint(e.x-t.x,e.y-t.y);for(let e=0;e<o.length;e++){let t=n.getPerpendicularAxis(o,e),s=n.projectVertsForMinMax(t,o),r=n.projectVertsForMinMax(t,l),c=n.vectorDotProduct(t,h);if(s.min+=c,s.max+=c,s.min-r.max>0||r.min-s.max>0)return null;let u=-1*(r.max-s.min),d=Math.abs(u);d<i&&(i=d,a.distance=u,a.vector=t)}return a.separation=new s.SATPoint(a.vector.x*a.distance,a.vector.y*a.distance),a}static projectVertsForMinMax(e,t){let i=n.vectorDotProduct(e,t[0]),s=i;for(let r=1;r<t.length;r++){let a=n.vectorDotProduct(e,t[r]);a<i&&(i=a),a>s&&(s=a)}return{min:i,max:s}}static vectorDotProduct(e,t){return e.x*t.x+e.y*t.y}static getPerpendicularAxis(e,t){let i=e[t],r=t>=e.length-1?e[0]:e[t+1],n=new s.SATPoint(-(r.y-i.y),r.x-i.x);return n.normalize(),n}}e.exports={SATCollisionInfo:r,SAT:n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.teardrop=t.roundedTopRectangle=t.radians=t.degrees=void 0;var s=i(48);const r=e=>e*(Math.PI/180);t.radians=r;t.degrees=e=>e*(180/Math.PI);const n=400,a=500,o=(e,t)=>{const i=Math.sqrt(e*e+t*t);return Math.asin(e/i*Math.sin(r(90)))};t.roundedTopRectangle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;const i=.5*Math.sqrt(e*e+t*t),l=o(e,t);return[new s.SATPoint(Math.cos(r(260)-l)*i*.875,Math.sin(r(260)-l)*i*.875),new s.SATPoint(Math.cos(r(270)-l)*i*.9,Math.sin(r(270)-l)*i*.9),new s.SATPoint(Math.cos(r(278)-l)*i*.87,Math.sin(r(278)-l)*i*.87),new s.SATPoint(Math.cos(r(262)+l)*i*.87,Math.sin(r(262)+l)*i*.87),new s.SATPoint(Math.cos(r(270)+l)*i*.9,Math.sin(r(270)+l)*i*.9),new s.SATPoint(Math.cos(r(280)+l)*i*.875,Math.sin(r(280)+l)*i*.875),new s.SATPoint(Math.cos(r(90)-l)*i,Math.sin(r(90)-l)*i),new s.SATPoint(Math.cos(r(90)+l)*i,Math.sin(r(90)+l)*i)]};t.teardrop=()=>{const e=160;return[new s.SATPoint(Math.cos(r(270))*e*.85,Math.sin(r(270))*e*.85),new s.SATPoint(Math.cos(r(10))*e*.48,Math.sin(r(10))*e*.48),new s.SATPoint(Math.cos(r(40))*e*.6,Math.sin(r(40))*e*.6),new s.SATPoint(Math.cos(r(65))*e*.65,Math.sin(r(65))*e*.65),new s.SATPoint(Math.cos(r(90))*e*.68,Math.sin(r(90))*e*.68),new s.SATPoint(Math.cos(r(115))*e*.65,Math.sin(r(115))*e*.65),new s.SATPoint(Math.cos(r(140))*e*.6,Math.sin(r(140))*e*.55),new s.SATPoint(Math.cos(r(170))*e*.48,Math.sin(r(170))*e*.48)]}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(i(244));const n={init:.5,start:0,end:1,increment:.01,onChange:e=>{console.log(e)}};var a=class{constructor(e){this._gui=e.gui||new r.default.GUI,e.folders&&this.setupGui(e.folders)}get gui(){return this._gui}setProperty(e,t,i){const{init:s,start:r,end:a,increment:o,onChange:l}={...n,...i[t]};e.add({[t]:s},t,r,a,o).onChange(l).name(t)}setFolder(e,t){const i=this._gui.addFolder(e);i.open();const s=t[e];Object.keys(s).forEach((e=>{this.setProperty(i,e,s)}))}setupGui(e){Object.keys(e).forEach((t=>{this.setFolder(t,e)}))}};t.default=a},function(e,t,i){"use strict";function s(e,t){var i=e.__state.conversionName.toString(),s=Math.round(e.r),r=Math.round(e.g),n=Math.round(e.b),a=e.a,o=Math.round(e.h),l=e.s.toFixed(1),h=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===i||"SIX_CHAR_HEX"===i){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===i?"rgb("+s+","+r+","+n+")":"CSS_RGBA"===i?"rgba("+s+","+r+","+n+","+a+")":"HEX"===i?"0x"+e.hex.toString(16):"RGB_ARRAY"===i?"["+s+","+r+","+n+"]":"RGBA_ARRAY"===i?"["+s+","+r+","+n+","+a+"]":"RGB_OBJ"===i?"{r:"+s+",g:"+r+",b:"+n+"}":"RGBA_OBJ"===i?"{r:"+s+",g:"+r+",b:"+n+",a:"+a+"}":"HSV_OBJ"===i?"{h:"+o+",s:"+l+",v:"+h+"}":"HSVA_OBJ"===i?"{h:"+o+",s:"+l+",v:"+h+",a:"+a+"}":"unknown format"}i.r(t),i.d(t,"color",(function(){return de})),i.d(t,"controllers",(function(){return pe})),i.d(t,"dom",(function(){return me})),i.d(t,"gui",(function(){return fe})),i.d(t,"GUI",(function(){return _e}));var r=Array.prototype.forEach,n=Array.prototype.slice,a={BREAK:{},extend:function(e){return this.each(n.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(i){this.isUndefined(t[i])||(e[i]=t[i])}.bind(this))}),this),e},defaults:function(e){return this.each(n.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(i){this.isUndefined(e[i])&&(e[i]=t[i])}.bind(this))}),this),e},compose:function(){var e=n.call(arguments);return function(){for(var t=n.call(arguments),i=e.length-1;i>=0;i--)t=[e[i].apply(this,t)];return t[0]}},each:function(e,t,i){if(e)if(r&&e.forEach&&e.forEach===r)e.forEach(t,i);else if(e.length===e.length+0){var s,n=void 0;for(n=0,s=e.length;n<s;n++)if(n in e&&t.call(i,e[n],n)===this.BREAK)return}else for(var a in e)if(t.call(i,e[a],a)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,i){var s=void 0;return function(){var r=this,n=arguments;function a(){s=null,i||e.apply(r,n)}var o=i||!s;clearTimeout(s),s=setTimeout(a,t),o&&e.apply(r,n)}},toArray:function(e){return e.toArray?e.toArray():n.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},o=[{litmus:a.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:s},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:s},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:s},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:s}}},{litmus:a.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:a.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:a.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(a.isNumber(e.r)&&a.isNumber(e.g)&&a.isNumber(e.b)&&a.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(a.isNumber(e.r)&&a.isNumber(e.g)&&a.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(a.isNumber(e.h)&&a.isNumber(e.s)&&a.isNumber(e.v)&&a.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(a.isNumber(e.h)&&a.isNumber(e.s)&&a.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],l=void 0,h=void 0,c=function(){h=!1;var e=arguments.length>1?a.toArray(arguments):arguments[0];return a.each(o,(function(t){if(t.litmus(e))return a.each(t.conversions,(function(t,i){if(l=t.read(e),!1===h&&!1!==l)return h=l,l.conversionName=i,l.conversion=t,a.BREAK})),a.BREAK})),h},u=void 0,d={hsv_to_rgb:function(e,t,i){var s=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),n=i*(1-t),a=i*(1-r*t),o=i*(1-(1-r)*t),l=[[i,o,n],[a,i,n],[n,i,o],[n,a,i],[o,n,i],[i,n,a]][s];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,i){var s=Math.min(e,t,i),r=Math.max(e,t,i),n=r-s,a=void 0;return 0===r?{h:NaN,s:0,v:0}:(a=e===r?(t-i)/n:t===r?2+(i-e)/n:4+(e-t)/n,(a/=6)<0&&(a+=1),{h:360*a,s:n/r,v:r/255})},rgb_to_hex:function(e,t,i){var s=this.hex_with_component(0,2,e);return s=this.hex_with_component(s,1,t),s=this.hex_with_component(s,0,i)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,i){return i<<(u=8*t)|e&~(255<<u)}},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},f=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_=function e(t,i,s){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,s)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(s):void 0},g=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},y=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},v=function(){function e(){if(m(this,e),this.__state=c.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return f(e,[{key:"toString",value:function(){return s(this)}},{key:"toHexString",value:function(){return s(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function b(e,t,i){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||v.recalculateRGB(this,t,i),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(v.recalculateRGB(this,t,i),this.__state.space="RGB"),this.__state[t]=e}})}function E(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||v.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(v.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}v.recalculateRGB=function(e,t,i){if("HEX"===e.__state.space)e.__state[t]=d.component_from_hex(e.__state.hex,i);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");a.extend(e.__state,d.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},v.recalculateHSV=function(e){var t=d.rgb_to_hsv(e.r,e.g,e.b);a.extend(e.__state,{s:t.s,v:t.v}),a.isNaN(t.h)?a.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},v.COMPONENTS=["r","g","b","h","s","v","hex","a"],b(v.prototype,"r",2),b(v.prototype,"g",1),b(v.prototype,"b",0),E(v.prototype,"h"),E(v.prototype,"s"),E(v.prototype,"v"),Object.defineProperty(v.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(v.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=d.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var w=function(){function e(t,i){m(this,e),this.initialValue=t[i],this.domElement=document.createElement("div"),this.object=t,this.property=i,this.__onChange=void 0,this.__onFinishChange=void 0}return f(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),x={};a.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){a.each(e,(function(e){x[e]=t}))}));var A=/(\d+(\.\d+)?)px/;function S(e){if("0"===e||a.isUndefined(e))return 0;var t=e.match(A);return a.isNull(t)?0:parseFloat(t[1])}var T={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,i){var s=i,r=t;a.isUndefined(r)&&(r=!0),a.isUndefined(s)&&(s=!0),e.style.position="absolute",r&&(e.style.left=0,e.style.right=0),s&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,i,s){var r=i||{},n=x[t];if(!n)throw new Error("Event type "+t+" not supported.");var o=document.createEvent(n);switch(n){case"MouseEvents":var l=r.x||r.clientX||0,h=r.y||r.clientY||0;o.initMouseEvent(t,r.bubbles||!1,r.cancelable||!0,window,r.clickCount||1,0,0,l,h,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=o.initKeyboardEvent||o.initKeyEvent;a.defaults(r,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(t,r.bubbles||!1,r.cancelable,window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode);break;default:o.initEvent(t,r.bubbles||!1,r.cancelable||!0)}a.defaults(o,s),e.dispatchEvent(o)},bind:function(e,t,i,s){var r=s||!1;return e.addEventListener?e.addEventListener(t,i,r):e.attachEvent&&e.attachEvent("on"+t,i),T},unbind:function(e,t,i,s){var r=s||!1;return e.removeEventListener?e.removeEventListener(t,i,r):e.detachEvent&&e.detachEvent("on"+t,i),T},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var i=e.className.split(/ +/);-1===i.indexOf(t)&&(i.push(t),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return T},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var i=e.className.split(/ +/),s=i.indexOf(t);-1!==s&&(i.splice(s,1),e.className=i.join(" "))}else e.className=void 0;return T},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return S(t["border-left-width"])+S(t["border-right-width"])+S(t["padding-left"])+S(t["padding-right"])+S(t.width)},getHeight:function(e){var t=getComputedStyle(e);return S(t["border-top-width"])+S(t["border-bottom-width"])+S(t["padding-top"])+S(t["padding-bottom"])+S(t.height)},getOffset:function(e){var t=e,i={left:0,top:0};if(t.offsetParent)do{i.left+=t.offsetLeft,i.top+=t.offsetTop,t=t.offsetParent}while(t);return i},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},I=function(e){function t(e,i){m(this,t);var s=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),r=s;return s.__prev=s.getValue(),s.__checkbox=document.createElement("input"),s.__checkbox.setAttribute("type","checkbox"),T.bind(s.__checkbox,"change",(function(){r.setValue(!r.__prev)}),!1),s.domElement.appendChild(s.__checkbox),s.updateDisplay(),s}return g(t,e),f(t,[{key:"setValue",value:function(e){var i=_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),i}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(w),C=function(e){function t(e,i,s){m(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),n=s,o=r;if(r.__select=document.createElement("select"),a.isArray(n)){var l={};a.each(n,(function(e){l[e]=e})),n=l}return a.each(n,(function(e,t){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",e),o.__select.appendChild(i)})),r.updateDisplay(),T.bind(r.__select,"change",(function(){var e=this.options[this.selectedIndex].value;o.setValue(e)})),r.domElement.appendChild(r.__select),r}return g(t,e),f(t,[{key:"setValue",value:function(e){var i=_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),i}},{key:"updateDisplay",value:function(){return T.isActive(this.__select)?this:(this.__select.value=this.getValue(),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(w),O=function(e){function t(e,i){m(this,t);var s=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),r=s;function n(){r.setValue(r.__input.value)}return s.__input=document.createElement("input"),s.__input.setAttribute("type","text"),T.bind(s.__input,"keyup",n),T.bind(s.__input,"change",n),T.bind(s.__input,"blur",(function(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())})),T.bind(s.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),s.updateDisplay(),s.domElement.appendChild(s.__input),s}return g(t,e),f(t,[{key:"updateDisplay",value:function(){return T.isActive(this.__input)||(this.__input.value=this.getValue()),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(w);function P(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var M=function(e){function t(e,i,s){m(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),n=s||{};return r.__min=n.min,r.__max=n.max,r.__step=n.step,a.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=P(r.__impliedStep),r}return g(t,e),f(t,[{key:"setValue",value:function(e){var i=e;return void 0!==this.__min&&i<this.__min?i=this.__min:void 0!==this.__max&&i>this.__max&&(i=this.__max),void 0!==this.__step&&i%this.__step!=0&&(i=Math.round(i/this.__step)*this.__step),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,i)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=P(e),this}}]),t}(w);var k=function(e){function t(e,i,s){m(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,s));r.__truncationSuspended=!1;var n=r,o=void 0;function l(){n.__onFinishChange&&n.__onFinishChange.call(n,n.getValue())}function h(e){var t=o-e.clientY;n.setValue(n.getValue()+t*n.__impliedStep),o=e.clientY}function c(){T.unbind(window,"mousemove",h),T.unbind(window,"mouseup",c),l()}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),T.bind(r.__input,"change",(function(){var e=parseFloat(n.__input.value);a.isNaN(e)||n.setValue(e)})),T.bind(r.__input,"blur",(function(){l()})),T.bind(r.__input,"mousedown",(function(e){T.bind(window,"mousemove",h),T.bind(window,"mouseup",c),o=e.clientY})),T.bind(r.__input,"keydown",(function(e){13===e.keyCode&&(n.__truncationSuspended=!0,this.blur(),n.__truncationSuspended=!1,l())})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return g(t,e),f(t,[{key:"updateDisplay",value:function(){var e,i,s;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),i=this.__precision,s=Math.pow(10,i),Math.round(e*s)/s),_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(M);function D(e,t,i,s,r){return s+(e-t)/(i-t)*(r-s)}var L=function(e){function t(e,i,s,r,n){m(this,t);var a=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,{min:s,max:r,step:n})),o=a;function l(e){e.preventDefault();var t=o.__background.getBoundingClientRect();return o.setValue(D(e.clientX,t.left,t.right,o.__min,o.__max)),!1}function h(){T.unbind(window,"mousemove",l),T.unbind(window,"mouseup",h),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function c(e){var t=e.touches[0].clientX,i=o.__background.getBoundingClientRect();o.setValue(D(t,i.left,i.right,o.__min,o.__max))}function u(){T.unbind(window,"touchmove",c),T.unbind(window,"touchend",u),o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),T.bind(a.__background,"mousedown",(function(e){document.activeElement.blur(),T.bind(window,"mousemove",l),T.bind(window,"mouseup",h),l(e)})),T.bind(a.__background,"touchstart",(function(e){if(1!==e.touches.length)return;T.bind(window,"touchmove",c),T.bind(window,"touchend",u),c(e)})),T.addClass(a.__background,"slider"),T.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return g(t,e),f(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",_(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(M),R=function(e){function t(e,i,s){m(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i)),n=r;return r.__button=document.createElement("div"),r.__button.innerHTML=void 0===s?"Fire":s,T.bind(r.__button,"click",(function(e){return e.preventDefault(),n.fire(),!1})),T.addClass(r.__button,"button"),r.domElement.appendChild(r.__button),r}return g(t,e),f(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(w),F=function(e){function t(e,i){m(this,t);var s=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));s.__color=new v(s.getValue()),s.__temp=new v(0);var r=s;s.domElement=document.createElement("div"),T.makeSelectable(s.domElement,!1),s.__selector=document.createElement("div"),s.__selector.className="selector",s.__saturation_field=document.createElement("div"),s.__saturation_field.className="saturation-field",s.__field_knob=document.createElement("div"),s.__field_knob.className="field-knob",s.__field_knob_border="2px solid ",s.__hue_knob=document.createElement("div"),s.__hue_knob.className="hue-knob",s.__hue_field=document.createElement("div"),s.__hue_field.className="hue-field",s.__input=document.createElement("input"),s.__input.type="text",s.__input_textShadow="0 1px 1px ",T.bind(s.__input,"keydown",(function(e){13===e.keyCode&&p.call(this)})),T.bind(s.__input,"blur",p),T.bind(s.__selector,"mousedown",(function(){T.addClass(this,"drag").bind(window,"mouseup",(function(){T.removeClass(r.__selector,"drag")}))})),T.bind(s.__selector,"touchstart",(function(){T.addClass(this,"drag").bind(window,"touchend",(function(){T.removeClass(r.__selector,"drag")}))}));var n,o=document.createElement("div");function l(e){_(e),T.bind(window,"mousemove",_),T.bind(window,"touchmove",_),T.bind(window,"mouseup",u),T.bind(window,"touchend",u)}function h(e){g(e),T.bind(window,"mousemove",g),T.bind(window,"touchmove",g),T.bind(window,"mouseup",d),T.bind(window,"touchend",d)}function u(){T.unbind(window,"mousemove",_),T.unbind(window,"touchmove",_),T.unbind(window,"mouseup",u),T.unbind(window,"touchend",u),f()}function d(){T.unbind(window,"mousemove",g),T.unbind(window,"touchmove",g),T.unbind(window,"mouseup",d),T.unbind(window,"touchend",d),f()}function p(){var e=c(this.value);!1!==e?(r.__color.__state=e,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function f(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}function _(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__saturation_field.getBoundingClientRect(),i=e.touches&&e.touches[0]||e,s=i.clientX,n=i.clientY,a=(s-t.left)/(t.right-t.left),o=1-(n-t.top)/(t.bottom-t.top);return o>1?o=1:o<0&&(o=0),a>1?a=1:a<0&&(a=0),r.__color.v=o,r.__color.s=a,r.setValue(r.__color.toOriginal()),!1}function g(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=r.__hue_field.getBoundingClientRect(),i=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return i>1?i=1:i<0&&(i=0),r.__color.h=360*i,r.setValue(r.__color.toOriginal()),!1}return a.extend(s.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),a.extend(s.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:s.__field_knob_border+(s.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),a.extend(s.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),a.extend(s.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),a.extend(o.style,{width:"100%",height:"100%",background:"none"}),U(o,"top","rgba(0,0,0,0)","#000"),a.extend(s.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(n=s.__hue_field).style.background="",n.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",n.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",n.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.extend(s.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:s.__input_textShadow+"rgba(0,0,0,0.7)"}),T.bind(s.__saturation_field,"mousedown",l),T.bind(s.__saturation_field,"touchstart",l),T.bind(s.__field_knob,"mousedown",l),T.bind(s.__field_knob,"touchstart",l),T.bind(s.__hue_field,"mousedown",h),T.bind(s.__hue_field,"touchstart",h),s.__saturation_field.appendChild(o),s.__selector.appendChild(s.__field_knob),s.__selector.appendChild(s.__saturation_field),s.__selector.appendChild(s.__hue_field),s.__hue_field.appendChild(s.__hue_knob),s.domElement.appendChild(s.__input),s.domElement.appendChild(s.__selector),s.updateDisplay(),s}return g(t,e),f(t,[{key:"updateDisplay",value:function(){var e=c(this.getValue());if(!1!==e){var t=!1;a.each(v.COMPONENTS,(function(i){if(!a.isUndefined(e[i])&&!a.isUndefined(this.__color.__state[i])&&e[i]!==this.__color.__state[i])return t=!0,{}}),this),t&&a.extend(this.__color.__state,e)}a.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var i=this.__color.v<.5||this.__color.s>.5?255:0,s=255-i;a.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+i+","+i+","+i+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,U(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),a.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+i+","+i+","+i+")",textShadow:this.__input_textShadow+"rgba("+s+","+s+","+s+",.7)"})}}]),t}(w),N=["-moz-","-o-","-webkit-","-ms-",""];function U(e,t,i,s){e.style.background="",a.each(N,(function(r){e.style.cssText+="background: "+r+"linear-gradient("+t+", "+i+" 0%, "+s+" 100%); "}))}var G=function(e,t){var i=t||document,s=document.createElement("style");s.type="text/css",s.innerHTML=e;var r=i.getElementsByTagName("head")[0];try{r.appendChild(s)}catch(e){}},K='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',B=function(e,t){var i=e[t];return a.isArray(arguments[2])||a.isObject(arguments[2])?new C(e,t,arguments[2]):a.isNumber(i)?a.isNumber(arguments[2])&&a.isNumber(arguments[3])?a.isNumber(arguments[4])?new L(e,t,arguments[2],arguments[3],arguments[4]):new L(e,t,arguments[2],arguments[3]):a.isNumber(arguments[4])?new k(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new k(e,t,{min:arguments[2],max:arguments[3]}):a.isString(i)?new O(e,t):a.isFunction(i)?new R(e,t,""):a.isBoolean(i)?new I(e,t):null};var j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},V=function(){function e(){m(this,e),this.backgroundElement=document.createElement("div"),a.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),T.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),a.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;T.bind(this.backgroundElement,"click",(function(){t.hide()}))}return f(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),a.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",T.unbind(e.domElement,"webkitTransitionEnd",t),T.unbind(e.domElement,"transitionend",t),T.unbind(e.domElement,"oTransitionEnd",t)};T.bind(this.domElement,"webkitTransitionEnd",t),T.bind(this.domElement,"transitionend",t),T.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-T.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-T.getHeight(this.domElement)/2+"px"}}]),e}(),H=function(e){if(e&&"undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");G(H);var z="Default",q=function(){try{return!!window.localStorage}catch(e){return!1}}(),$=void 0,W=!0,X=void 0,Y=!1,Q=[],Z=function e(t){var i=this,s=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),T.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],s=a.defaults(s,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),s=a.defaults(s,{resizable:s.autoPlace,hideable:s.autoPlace}),a.isUndefined(s.load)?s.load={preset:z}:s.preset&&(s.load.preset=s.preset),a.isUndefined(s.parent)&&s.hideable&&Q.push(this),s.resizable=a.isUndefined(s.parent)&&s.resizable,s.autoPlace&&a.isUndefined(s.scrollable)&&(s.scrollable=!0);var r,n=q&&"true"===localStorage.getItem(re(this,"isLocal")),o=void 0,l=void 0;if(Object.defineProperties(this,{parent:{get:function(){return s.parent}},scrollable:{get:function(){return s.scrollable}},autoPlace:{get:function(){return s.autoPlace}},closeOnTop:{get:function(){return s.closeOnTop}},preset:{get:function(){return i.parent?i.getRoot().preset:s.load.preset},set:function(e){i.parent?i.getRoot().preset=e:s.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),i.revert()}},width:{get:function(){return s.width},set:function(e){s.width=e,he(i,e)}},name:{get:function(){return s.name},set:function(e){s.name=e,l&&(l.innerHTML=s.name)}},closed:{get:function(){return s.closed},set:function(t){s.closed=t,s.closed?T.addClass(i.__ul,e.CLASS_CLOSED):T.removeClass(i.__ul,e.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return s.load}},useLocalStorage:{get:function(){return n},set:function(e){q&&(n=e,e?T.bind(window,"unload",o):T.unbind(window,"unload",o),localStorage.setItem(re(i,"isLocal"),e))}}}),a.isUndefined(s.parent)){if(this.closed=s.closed||!1,T.addClass(this.domElement,e.CLASS_MAIN),T.makeSelectable(this.domElement,!1),q&&n){i.useLocalStorage=!0;var h=localStorage.getItem(re(this,"gui"));h&&(s.load=JSON.parse(h))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,T.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),s.closeOnTop?(T.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(T.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),T.bind(this.__closeButton,"click",(function(){i.closed=!i.closed}))}else{void 0===s.closed&&(s.closed=!0);var c=document.createTextNode(s.name);T.addClass(c,"controller-name"),l=J(i,c);T.addClass(this.__ul,e.CLASS_CLOSED),T.addClass(l,"title"),T.bind(l,"click",(function(e){return e.preventDefault(),i.closed=!i.closed,!1})),s.closed||(this.closed=!1)}s.autoPlace&&(a.isUndefined(s.parent)&&(W&&(X=document.createElement("div"),T.addClass(X,"dg"),T.addClass(X,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(X),W=!1),X.appendChild(this.domElement),T.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||he(i,s.width)),this.__resizeHandler=function(){i.onResizeDebounced()},T.bind(window,"resize",this.__resizeHandler),T.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),T.bind(this.__ul,"transitionend",this.__resizeHandler),T.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),s.resizable&&le(this),o=function(){q&&"true"===localStorage.getItem(re(i,"isLocal"))&&localStorage.setItem(re(i,"gui"),JSON.stringify(i.getSaveObject()))},this.saveToLocalStorageIfPossible=o,s.parent||((r=i.getRoot()).width+=1,a.defer((function(){r.width-=1})))};function J(e,t,i){var s=document.createElement("li");return t&&s.appendChild(t),i?e.__ul.insertBefore(s,i):e.__ul.appendChild(s),e.onResize(),s}function ee(e){T.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&T.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function te(e,t){var i=e.__preset_select[e.__preset_select.selectedIndex];i.innerHTML=t?i.value+"*":i.value}function ie(e,t){var i=e.getRoot(),s=i.__rememberedObjects.indexOf(t.object);if(-1!==s){var r=i.__rememberedObjectIndecesToControllers[s];if(void 0===r&&(r={},i.__rememberedObjectIndecesToControllers[s]=r),r[t.property]=t,i.load&&i.load.remembered){var n=i.load.remembered,a=void 0;if(n[e.preset])a=n[e.preset];else{if(!n.Default)return;a=n.Default}if(a[s]&&void 0!==a[s][t.property]){var o=a[s][t.property];t.initialValue=o,t.setValue(o)}}}}function se(e,t,i,s){if(void 0===t[i])throw new Error('Object "'+t+'" has no property "'+i+'"');var r=void 0;if(s.color)r=new F(t,i);else{var n=[t,i].concat(s.factoryArgs);r=B.apply(e,n)}s.before instanceof w&&(s.before=s.before.__li),ie(e,r),T.addClass(r.domElement,"c");var o=document.createElement("span");T.addClass(o,"property-name"),o.innerHTML=r.property;var l=document.createElement("div");l.appendChild(o),l.appendChild(r.domElement);var h=J(e,l,s.before);return T.addClass(h,Z.CLASS_CONTROLLER_ROW),r instanceof F?T.addClass(h,"color"):T.addClass(h,p(r.getValue())),function(e,t,i){if(i.__li=t,i.__gui=e,a.extend(i,{options:function(t){if(arguments.length>1){var s=i.__li.nextElementSibling;return i.remove(),se(e,i.object,i.property,{before:s,factoryArgs:[a.toArray(arguments)]})}if(a.isArray(t)||a.isObject(t)){var r=i.__li.nextElementSibling;return i.remove(),se(e,i.object,i.property,{before:r,factoryArgs:[t]})}},name:function(e){return i.__li.firstElementChild.firstElementChild.innerHTML=e,i},listen:function(){return i.__gui.listen(i),i},remove:function(){return i.__gui.remove(i),i}}),i instanceof L){var s=new k(i.object,i.property,{min:i.__min,max:i.__max,step:i.__step});a.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=i[e],r=s[e];i[e]=s[e]=function(){var e=Array.prototype.slice.call(arguments);return r.apply(s,e),t.apply(i,e)}})),T.addClass(t,"has-slider"),i.domElement.insertBefore(s.domElement,i.domElement.firstElementChild)}else if(i instanceof k){var r=function(t){if(a.isNumber(i.__min)&&a.isNumber(i.__max)){var s=i.__li.firstElementChild.firstElementChild.innerHTML,r=i.__gui.__listening.indexOf(i)>-1;i.remove();var n=se(e,i.object,i.property,{before:i.__li.nextElementSibling,factoryArgs:[i.__min,i.__max,i.__step]});return n.name(s),r&&n.listen(),n}return t};i.min=a.compose(r,i.min),i.max=a.compose(r,i.max)}else i instanceof I?(T.bind(t,"click",(function(){T.fakeEvent(i.__checkbox,"click")})),T.bind(i.__checkbox,"click",(function(e){e.stopPropagation()}))):i instanceof R?(T.bind(t,"click",(function(){T.fakeEvent(i.__button,"click")})),T.bind(t,"mouseover",(function(){T.addClass(i.__button,"hover")})),T.bind(t,"mouseout",(function(){T.removeClass(i.__button,"hover")}))):i instanceof F&&(T.addClass(t,"color"),i.updateDisplay=a.compose((function(e){return t.style.borderLeftColor=i.__color.toString(),e}),i.updateDisplay),i.updateDisplay());i.setValue=a.compose((function(t){return e.getRoot().__preset_select&&i.isModified()&&te(e.getRoot(),!0),t}),i.setValue)}(e,h,r),e.__controllers.push(r),r}function re(e,t){return document.location.href+"."+t}function ne(e,t,i){var s=document.createElement("option");s.innerHTML=t,s.value=t,e.__preset_select.appendChild(s),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function ae(e,t){t.style.display=e.useLocalStorage?"block":"none"}function oe(e){var t=e.__save_row=document.createElement("li");T.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),T.addClass(t,"save-row");var i=document.createElement("span");i.innerHTML="&nbsp;",T.addClass(i,"button gears");var s=document.createElement("span");s.innerHTML="Save",T.addClass(s,"button"),T.addClass(s,"save");var r=document.createElement("span");r.innerHTML="New",T.addClass(r,"button"),T.addClass(r,"save-as");var n=document.createElement("span");n.innerHTML="Revert",T.addClass(n,"button"),T.addClass(n,"revert");var o=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?a.each(e.load.remembered,(function(t,i){ne(e,i,i===e.preset)})):ne(e,z,!1),T.bind(o,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(o),t.appendChild(i),t.appendChild(s),t.appendChild(r),t.appendChild(n),q){var l=document.getElementById("dg-local-explain"),h=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(re(0,"isLocal"))&&h.setAttribute("checked","checked"),ae(e,l),T.bind(h,"change",(function(){e.useLocalStorage=!e.useLocalStorage,ae(e,l)}))}var c=document.getElementById("dg-new-constructor");T.bind(c,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||$.hide()})),T.bind(i,"click",(function(){c.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),$.show(),c.focus(),c.select()})),T.bind(s,"click",(function(){e.save()})),T.bind(r,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),T.bind(n,"click",(function(){e.revert()}))}function le(e){var t=void 0;function i(i){return i.preventDefault(),e.width+=t-i.clientX,e.onResize(),t=i.clientX,!1}function s(){T.removeClass(e.__closeButton,Z.CLASS_DRAG),T.unbind(window,"mousemove",i),T.unbind(window,"mouseup",s)}function r(r){return r.preventDefault(),t=r.clientX,T.addClass(e.__closeButton,Z.CLASS_DRAG),T.bind(window,"mousemove",i),T.bind(window,"mouseup",s),!1}e.__resize_handle=document.createElement("div"),a.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),T.bind(e.__resize_handle,"mousedown",r),T.bind(e.__closeButton,"mousedown",r),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function he(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function ce(e,t){var i={};return a.each(e.__rememberedObjects,(function(s,r){var n={},o=e.__rememberedObjectIndecesToControllers[r];a.each(o,(function(e,i){n[i]=t?e.initialValue:e.getValue()})),i[r]=n})),i}function ue(e){0!==e.length&&j.call(window,(function(){ue(e)})),a.each(e,(function(e){e.updateDisplay()}))}Z.toggleHide=function(){Y=!Y,a.each(Q,(function(e){e.domElement.style.display=Y?"none":""}))},Z.CLASS_AUTO_PLACE="a",Z.CLASS_AUTO_PLACE_CONTAINER="ac",Z.CLASS_MAIN="main",Z.CLASS_CONTROLLER_ROW="cr",Z.CLASS_TOO_TALL="taller-than-window",Z.CLASS_CLOSED="closed",Z.CLASS_CLOSE_BUTTON="close-button",Z.CLASS_CLOSE_TOP="close-top",Z.CLASS_CLOSE_BOTTOM="close-bottom",Z.CLASS_DRAG="drag",Z.DEFAULT_WIDTH=245,Z.TEXT_CLOSED="Close Controls",Z.TEXT_OPEN="Open Controls",Z._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||Z.toggleHide()},T.bind(window,"keydown",Z._keydownHandler,!1),a.extend(Z.prototype,{add:function(e,t){return se(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return se(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;a.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&X.removeChild(this.domElement);var e=this;a.each(this.__folders,(function(t){e.removeFolder(t)})),T.unbind(window,"keydown",Z._keydownHandler,!1),ee(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var i=new Z(t);this.__folders[e]=i;var s=J(this,i.domElement);return T.addClass(s,"folder"),i},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],ee(e);var t=this;a.each(e.__folders,(function(t){e.removeFolder(t)})),a.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=T.getOffset(e.__ul).top,i=0;a.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(i+=T.getHeight(t))})),window.innerHeight-t-20<i?(T.addClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(T.removeClass(e.domElement,Z.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&a.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:a.debounce((function(){this.onResize()}),50),remember:function(){if(a.isUndefined($)&&(($=new V).domElement.innerHTML=K),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;a.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&oe(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&he(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ce(this)),e.folders={},a.each(this.__folders,(function(t,i){e.folders[i]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ce(this),te(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ce(this,!0)),this.load.remembered[e]=ce(this),this.preset=e,ne(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){a.each(this.__controllers,(function(t){this.getRoot().load.remembered?ie(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),a.each(this.__folders,(function(e){e.revert(e)})),e||te(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&ue(this.__listening)},updateDisplay:function(){a.each(this.__controllers,(function(e){e.updateDisplay()})),a.each(this.__folders,(function(e){e.updateDisplay()}))}});var de={Color:v,math:d,interpret:c},pe={Controller:w,BooleanController:I,OptionController:C,StringController:O,NumberController:M,NumberControllerBox:k,NumberControllerSlider:L,FunctionController:R,ColorController:F},me={dom:T},fe={GUI:Z},_e=Z,ge={color:de,controllers:pe,dom:me,gui:fe,GUI:_e};t.default=ge},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=i(246),a=s(i(16));const o="a0t - 50vh";class l extends r.default{constructor(e){super(e),this._els={icon:null,headline:null,subhead:null,copy:null},this._voFocusItems=[]}mounted(){super.mounted(),this._getElements()}_getElements(){this._els.icon=this.el.querySelector(".shared-icon-animation"),this._els.headline=Array.from(this.el.querySelectorAll(".shared-headline-animation")),this._els.subhead=this.el.querySelectorAll(".shared-subhead-animation"),this._els.copy=this.el.querySelectorAll(".shared-copy-animation")}enhanceParallax(){let e=this.anim.getGroupForTarget(this.el);if(this.el.dataset.animScrollGroup?this._parallaxScrollGroup=e:(this._parallaxScrollGroup=this.anim.createScrollGroup(this.el),this._parallaxScrollGroup.name=e.name+" - Parallax (Shared)"),this._els.icon&&(this._parallaxScrollGroup.addKeyframe(this._els.icon,{start:"a0t - 110vh",end:`${o}`,scale:[1.5,1],anchors:[this._els.icon],easeFunction:"easeInQuad",breakpointMask:"ML"}),this._parallaxScrollGroup.addKeyframe(this._els.icon,{start:"a0t - 110vh",end:"a0t - 45vh",scale:[1.5,1],anchors:[this._els.icon],easeFunction:"easeInQuad",breakpointMask:"S"})),this._els.icon&&this._els.headline){let e=this._els.headline.shift();this._parallaxScrollGroup.addKeyframe(e,{start:"a0t - 110vh",end:`${o}`,scale:[1.5,1],y:["50h",0],breakpointMask:"ML",anchors:[this._els.icon],easeFunction:"easeInQuad"}),this._parallaxScrollGroup.addKeyframe(e,{start:"a0t - 110vh",end:"a0t - 45vh",scale:[1.5,1],y:["50h",0],breakpointMask:"S",anchors:[this._els.icon],easeFunction:"easeInQuad"})}this._els.headline&&this._els.headline.forEach((e=>{this._parallaxScrollGroup.addKeyframe(e,{start:"a0t - 110vh",end:`${o}`,scale:[1.5,1],anchors:[e],easeFunction:"easeInQuad"})})),this._els.subhead&&this._els.subhead.forEach((e=>{this.anim.addKeyframe(e,{start:"t - 80vh",end:"t - 50vh",opacity:[0,1],y:[50,0],easeFunction:"easeInQuad",breakpointMask:"ML"}),this.anim.addKeyframe(e,{start:"t - 80vh",end:"t - 60vh",opacity:[0,1],y:[25,0],easeFunction:"easeInQuad",breakpointMask:"S"}),this.anim.addKeyframe(e,{start:"t - 20vh",end:"t",opacity:[1,0],breakpointMask:"S"}),this._voFocusItems.push(new a.default(e,{start:"t - 60vh"}))})),this._els.copy&&this._els.copy.forEach((e=>{this.anim.addKeyframe(e,{start:"t - 100vh",end:"t - 50vh",opacity:[0,1],y:[50,0],easeFunction:"easeInQuad"})}))}unenhanceParallax(){let e=Promise.resolve();(0,n.update)((()=>(0,n.draw)((()=>{this._parallaxScrollGroup&&this._parallaxScrollGroup.isEnabled&&(e=this._parallaxScrollGroup.remove())})))),e.then((0,n.update)((()=>{this._voFocusItems.forEach((e=>e.remove()))})))}static IS_SUPPORTED(){return document.documentElement.classList.contains("enhance-page-xp-parallax")}}e.exports=l},function(e,t,i){"use strict";e.exports={RAFEmitter:i(11),ThrottledRAFEmitter:i(247),update:i(6),external:i(40),draw:i(5),cancelUpdate:i(65),cancelExternal:i(248),cancelDraw:i(45),RAFExecutor:i(63),sharedRAFExecutorInstance:i(61)}},function(e,t,i){"use strict";var s,r=i(11),n=i(3).EventEmitterMicro;function a(e,t){n.call(this),t=t||{},this._fps=e||0,this._delta=0,this._currentFps=0,this._rafEmitter=t.rafEmitter||new r,this._lastThrottledTime=0,this._didEmitFrameData=!1,this._rafEmitterEvent=null,this._shouldDraw=!1,this._boundOnRAFEmitterUpdate=this._onRAFEmitterUpdate.bind(this),this._boundOnRAFEmitterDraw=this._onRAFEmitterDraw.bind(this),this._boundOnRAFEmitterStop=this._onRAFEmitterStop.bind(this),this._rafEmitter.on("update",this._boundOnRAFEmitterUpdate),this._rafEmitter.on("draw",this._boundOnRAFEmitterDraw),this._rafEmitter.on("stop",this._boundOnRAFEmitterStop)}(s=a.prototype=Object.create(n.prototype)).setFps=function(e){return e!==this._fps&&(this._fps=e,!0)},s.getFps=function(){return this._fps},s.run=function(){return this._rafEmitter.run()},s.cancel=function(){return this._rafEmitter.cancel()},s.willRun=function(){return this._rafEmitter.willRun()},s.isRunning=function(){return this._rafEmitter.isRunning()},s.destroy=function(){var e=this._rafEmitter.destroy();return n.prototype.destroy.call(this),this._rafEmitter=null,this._boundOnRAFEmitterUpdate=null,this._boundOnRAFEmitterDraw=null,this._boundOnRAFEmitterStop=null,this._rafEmitterEvent=null,e},s._onRAFEmitterUpdate=function(e){if(0===this._lastThrottledTime&&(this._lastThrottledTime=this._rafEmitter.executor.lastFrameTime),this._delta=e.time-this._lastThrottledTime,!this._fps)throw new TypeError("FPS is not defined.");this._currentFps=1e3/this._delta,this._currentFps>this._fps?this._rafEmitter.run():(this._rafEmitterEvent=Object.assign({},e),this._rafEmitterEvent.delta=this._delta,this._rafEmitterEvent.fps=this._currentFps,this._lastThrottledTime=this._rafEmitterEvent.time,this._shouldDraw=!0,this._didEmitFrameData||(this.trigger("start",this._rafEmitterEvent),this._didEmitFrameData=!0),this.trigger("update",this._rafEmitterEvent))},s._onRAFEmitterDraw=function(){this._shouldDraw&&(this._shouldDraw=!1,this.trigger("draw",this._rafEmitterEvent))},s._onRAFEmitterStop=function(){this._lastThrottledTime=0,this._didEmitFrameData=!1,this.trigger("stop",this._rafEmitterEvent)},e.exports=a},function(e,t,i){"use strict";var s=i(15);e.exports=s.cancelAnimationFrame("external")},function(e,t,i){"use strict";var s=i(0),r=s(i(1)),n=s(i(250)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=l(t);if(i&&i.has(e))return i.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=r?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(s,n,a):s[n]=e[n]}s.default=e,i&&i.set(e,s);return s}(i(20)),o=i(7);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(l=function(e){return e?i:t})(e)}const h="enhance-touch-id",c="animation-loaded",u={animationContainer:".animation-container",touchIdAnimation:".touch-id-animation",headlineScalingAnimation:".headline-scaling-animation",fadeInAnimation:".fade-in-animation",intro:".intro",headline:".headline",hardwareWrapper:".hardware",hardwareBg:".hardware-bg",flow:a.SELECTOR_FLOW,copyContainer:".copy-container",copyContents:".copy-container .copy"},d="(a0t + css(margin-top, a2))";class p extends r.default{static IS_SUPPORTED(){return document.documentElement.classList.contains(h)}constructor(e){super(e),this.featureDetect=h,this.setUnenhanceViewports(),this._getElements()}_getElements(){this.element={};for(const[e,t]of Object.entries(u)){const i=0===e.indexOf("all")?"querySelectorAll":"querySelector";this.element[e]=this.el[i](t)}}enhanceMedia(){this._loadLottieAnimation(),this._setupFlow(),this._setupKeyframes()}_loadLottieAnimation(){this.lottieAnimation=new n.default(this.element.touchIdAnimation,{pageMetrics:this.pageMetrics,breakpoints:{X:"L",M:"L",S:"L"}}),this.lottieAnimation.load().then((()=>{this.element.touchIdAnimation.classList.add(c)})).catch((e=>{o.DevLogger.error("err: ",e),this.unenhanceCombined()}))}_setupFlow(){this._playbackKeyframeProps={start:`${d} + 3vh`,end:`${d} + 20vh`,anchors:[this.el,this.element.headlineScalingAnimation,this.element.animationContainer]},this._flowPlayer=new a.default({component:this,el:this.element.flow,playbackConfig:this._playbackKeyframeProps}),this._flowPlayer.on(a.EVENT_LOAD_FAILURE,(()=>{o.DevLogger.warn("TouchIDFlow: load failed")}))}_setupKeyframes(){const{animationContainer:e,headlineScalingAnimation:t,headline:i,fadeInAnimation:s,touchIdAnimation:r,hardwareWrapper:n,hardwareBg:a,copyContainer:o,copyContents:l}=this.element;this._kfGroup=this.anim.createScrollGroup(this.el,{name:"Touch ID - Enhanced"});let h=this._kfGroup.addKeyframe(t,{anchors:[this.el],start:"a0t - 100vh",end:"a0t - 0vh",scale:[2,1],easeFunction:"easeOutQuad"}).jsonProps;h=this._kfGroup.addKeyframe(s,{anchors:[...h.anchors,t],start:"a1t - 100vh + 80a1h",end:"a1t - 100vh + 90a1h",opacity:[0,1]}).jsonProps,this._kfGroup.addKeyframe(this.lottieAnimation,{anchors:[...h.anchors,e],start:`${h.end} - 10vh`,end:`${d} - 2vh`,progress:[.01,1]}),this._kfGroup.addKeyframe(r,{anchors:[...h.anchors,e],start:`${h.end} - 5vh`,end:`${d} - 5vh`,opacity:[0,1],scale:[.5,1],y:["-h",0]}),this._kfGroup.addKeyframe(i,{anchors:[...h.anchors,e],start:`${d} - 15vh`,end:`${d}`,y:[0,"-20h"],opacity:[1,0],easeFunction:"easeInQuad"}),this._kfGroup.addKeyframe(r,{anchors:[...h.anchors,e],start:`${d}`,end:`${d} + 5vh`,opacity:[1,0]}),this._kfGroup.addKeyframe(n,{anchors:[...h.anchors,e],start:`${d} - 5vh`,end:`${d}`,opacity:[0,1]}),h=this._kfGroup.addKeyframe(a,{anchors:[...h.anchors,e],start:`${d} - 10vh`,end:`${d} - 5vh`,opacity:[0,1]}).jsonProps,this._kfGroup.addKeyframe(o,h),this._kfGroup.addKeyframe(l,{anchors:h.anchors,start:`${h.start} + 5vh`,end:`${h.start} + 25vh`,opacity:[0,1],y:[20,0]})}unenhanceCombined(){this._kfGroup&&this._kfGroup.remove(),this._flowPlayer&&this._flowPlayer.destroy(),this.destroy()}}e.exports=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ANIMATION_COMPLETE=void 0;var s=i(3),r=i(251),n=i(7);const a={svgSelector:"svg",animationName:"",appendDensity:!0},o="DOMLoaded",l="data_failed",h="complete",c="destroy",u="ANIMATION_COMPLETE";t.ANIMATION_COMPLETE=u;class d extends s.EventEmitterMicro{constructor(e,t){super(),this._container=e,this._opts={...a,...t,path:this._container.dataset.lottiePath},this._lottieAnim=null,this._endframe=0,this._hasPlayed=!1,this._loadedResolver=null,this._loadedPromise=new Promise(((e,t)=>{this._loadedResolver=e})),this._onProgressDraw=this._onProgressDraw.bind(this),this._onComplete=this._onComplete.bind(this)}get assetPath(){const{path:e,pageMetrics:t,breakpoints:i,appendDensity:s}=this._opts;if(!e)return n.DevLogger.warn(`No asset path 'data-lottie-path' found on ${this._container}`),"";return`${e}${(0,r.getBreakpointFromMap)(t.breakpoint,i,s)}.json`}get name(){return this._opts.animationName}get container(){return this._container}get svg(){return this.lottie&&this.lottie.renderer?this.lottie.renderer.svgElement:null}get lottie(){return this._lottieAnim}get hasLoaded(){return this._endframe>0}get hasPlayed(){return this._hasPlayed}set progress(e){this._onProgressDraw(e)}destroy(){return new Promise(((e,t)=>{this.lottie.addEventListener(c,e),this.lottie.destroy(this.name),this._hasPlayed=!1}))}load(){if(!lottie)return Promise.reject("lottie dependency not loaded");const e=this._lottieAnim=lottie.loadAnimation({container:this._container,path:this.assetPath,renderer:"svg",autoplay:!1,loop:!1,name:this.name,rendererSettings:{viewBoxOnly:!0}});return e.addEventListener(h,this._onComplete,{once:!0}),new Promise(((t,i)=>{e.addEventListener(o,(()=>{this._endframe=e.totalFrames-1,this._loadedResolver(),t()})),e.addEventListener(l,(e=>{e="lottie asset load failure",n.DevLogger.log(e),i(e)}))}))}play(e){this.hasLoaded&&(this._hasPlayed&&(this.progress=0,this._hasPlayed=!1),e&&(this.progress=e),this.lottie.play())}playOnLoaded(){this._loadedPromise.then((()=>this.play()))}pause(){this.lottie.pause()}goToEnd(){this.lottie.goToAndPlay(this._endframe,!0)}_onProgressDraw(e){let t=e;e.tweenProps&&(t=e.tweenProps.progress.current);const i=this._endframe*t;this.lottie.goToAndStop(i,!0)}_onComplete(){this.trigger(u),this._hasPlayed=!0}}t.default=d},function(e,t,i){"use strict";const s={X:"X",L:"L",M:"M",S:"S"},r={X:"xlarge",L:"large",M:"medium",S:"small"};e.exports={getBreakpointFromMap:function(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1441;document.documentElement.clientWidth>=n&&(e="X"),e=(t=Object.assign(s,t))[e];const a=i?"_2x":"";return`${r[e]}${a}`}}},,,,,,,,,,,function(e,t,i){"use strict";i.r(t),i.d(t,"create",(function(){return n})),i.d(t,"clone",(function(){return a})),i.d(t,"copy",(function(){return o})),i.d(t,"fromValues",(function(){return l})),i.d(t,"set",(function(){return h})),i.d(t,"identity",(function(){return c})),i.d(t,"transpose",(function(){return u})),i.d(t,"invert",(function(){return d})),i.d(t,"adjoint",(function(){return p})),i.d(t,"determinant",(function(){return m})),i.d(t,"multiply",(function(){return f})),i.d(t,"translate",(function(){return _})),i.d(t,"scale",(function(){return g})),i.d(t,"rotate",(function(){return y})),i.d(t,"rotateX",(function(){return v})),i.d(t,"rotateY",(function(){return b})),i.d(t,"rotateZ",(function(){return E})),i.d(t,"fromTranslation",(function(){return w})),i.d(t,"fromScaling",(function(){return x})),i.d(t,"fromRotation",(function(){return A})),i.d(t,"fromXRotation",(function(){return S})),i.d(t,"fromYRotation",(function(){return T})),i.d(t,"fromZRotation",(function(){return I})),i.d(t,"fromRotationTranslation",(function(){return C})),i.d(t,"fromQuat2",(function(){return O})),i.d(t,"getTranslation",(function(){return P})),i.d(t,"getScaling",(function(){return M})),i.d(t,"getRotation",(function(){return k})),i.d(t,"fromRotationTranslationScale",(function(){return D})),i.d(t,"fromRotationTranslationScaleOrigin",(function(){return L})),i.d(t,"fromQuat",(function(){return R})),i.d(t,"frustum",(function(){return F})),i.d(t,"perspectiveNO",(function(){return N})),i.d(t,"perspective",(function(){return U})),i.d(t,"perspectiveZO",(function(){return G})),i.d(t,"perspectiveFromFieldOfView",(function(){return K})),i.d(t,"orthoNO",(function(){return B})),i.d(t,"ortho",(function(){return j})),i.d(t,"orthoZO",(function(){return V})),i.d(t,"lookAt",(function(){return H})),i.d(t,"targetTo",(function(){return z})),i.d(t,"str",(function(){return q})),i.d(t,"frob",(function(){return $})),i.d(t,"add",(function(){return W})),i.d(t,"subtract",(function(){return X})),i.d(t,"multiplyScalar",(function(){return Y})),i.d(t,"multiplyScalarAndAdd",(function(){return Q})),i.d(t,"exactEquals",(function(){return Z})),i.d(t,"equals",(function(){return J})),i.d(t,"mul",(function(){return ee})),i.d(t,"sub",(function(){return te}));var s=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function n(){var e=new r(16);return r!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new r(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function l(e,t,i,s,n,a,o,l,h,c,u,d,p,m,f,_){var g=new r(16);return g[0]=e,g[1]=t,g[2]=i,g[3]=s,g[4]=n,g[5]=a,g[6]=o,g[7]=l,g[8]=h,g[9]=c,g[10]=u,g[11]=d,g[12]=p,g[13]=m,g[14]=f,g[15]=_,g}function h(e,t,i,s,r,n,a,o,l,h,c,u,d,p,m,f,_){return e[0]=t,e[1]=i,e[2]=s,e[3]=r,e[4]=n,e[5]=a,e[6]=o,e[7]=l,e[8]=h,e[9]=c,e[10]=u,e[11]=d,e[12]=p,e[13]=m,e[14]=f,e[15]=_,e}function c(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function u(e,t){if(e===t){var i=t[1],s=t[2],r=t[3],n=t[6],a=t[7],o=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=n,e[11]=t[14],e[12]=r,e[13]=a,e[14]=o}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function d(e,t){var i=t[0],s=t[1],r=t[2],n=t[3],a=t[4],o=t[5],l=t[6],h=t[7],c=t[8],u=t[9],d=t[10],p=t[11],m=t[12],f=t[13],_=t[14],g=t[15],y=i*o-s*a,v=i*l-r*a,b=i*h-n*a,E=s*l-r*o,w=s*h-n*o,x=r*h-n*l,A=c*f-u*m,S=c*_-d*m,T=c*g-p*m,I=u*_-d*f,C=u*g-p*f,O=d*g-p*_,P=y*O-v*C+b*I+E*T-w*S+x*A;return P?(P=1/P,e[0]=(o*O-l*C+h*I)*P,e[1]=(r*C-s*O-n*I)*P,e[2]=(f*x-_*w+g*E)*P,e[3]=(d*w-u*x-p*E)*P,e[4]=(l*T-a*O-h*S)*P,e[5]=(i*O-r*T+n*S)*P,e[6]=(_*b-m*x-g*v)*P,e[7]=(c*x-d*b+p*v)*P,e[8]=(a*C-o*T+h*A)*P,e[9]=(s*T-i*C-n*A)*P,e[10]=(m*w-f*b+g*y)*P,e[11]=(u*b-c*w-p*y)*P,e[12]=(o*S-a*I-l*A)*P,e[13]=(i*I-s*S+r*A)*P,e[14]=(f*v-m*E-_*y)*P,e[15]=(c*E-u*v+d*y)*P,e):null}function p(e,t){var i=t[0],s=t[1],r=t[2],n=t[3],a=t[4],o=t[5],l=t[6],h=t[7],c=t[8],u=t[9],d=t[10],p=t[11],m=t[12],f=t[13],_=t[14],g=t[15];return e[0]=o*(d*g-p*_)-u*(l*g-h*_)+f*(l*p-h*d),e[1]=-(s*(d*g-p*_)-u*(r*g-n*_)+f*(r*p-n*d)),e[2]=s*(l*g-h*_)-o*(r*g-n*_)+f*(r*h-n*l),e[3]=-(s*(l*p-h*d)-o*(r*p-n*d)+u*(r*h-n*l)),e[4]=-(a*(d*g-p*_)-c*(l*g-h*_)+m*(l*p-h*d)),e[5]=i*(d*g-p*_)-c*(r*g-n*_)+m*(r*p-n*d),e[6]=-(i*(l*g-h*_)-a*(r*g-n*_)+m*(r*h-n*l)),e[7]=i*(l*p-h*d)-a*(r*p-n*d)+c*(r*h-n*l),e[8]=a*(u*g-p*f)-c*(o*g-h*f)+m*(o*p-h*u),e[9]=-(i*(u*g-p*f)-c*(s*g-n*f)+m*(s*p-n*u)),e[10]=i*(o*g-h*f)-a*(s*g-n*f)+m*(s*h-n*o),e[11]=-(i*(o*p-h*u)-a*(s*p-n*u)+c*(s*h-n*o)),e[12]=-(a*(u*_-d*f)-c*(o*_-l*f)+m*(o*d-l*u)),e[13]=i*(u*_-d*f)-c*(s*_-r*f)+m*(s*d-r*u),e[14]=-(i*(o*_-l*f)-a*(s*_-r*f)+m*(s*l-r*o)),e[15]=i*(o*d-l*u)-a*(s*d-r*u)+c*(s*l-r*o),e}function m(e){var t=e[0],i=e[1],s=e[2],r=e[3],n=e[4],a=e[5],o=e[6],l=e[7],h=e[8],c=e[9],u=e[10],d=e[11],p=e[12],m=e[13],f=e[14],_=e[15];return(t*a-i*n)*(u*_-d*f)-(t*o-s*n)*(c*_-d*m)+(t*l-r*n)*(c*f-u*m)+(i*o-s*a)*(h*_-d*p)-(i*l-r*a)*(h*f-u*p)+(s*l-r*o)*(h*m-c*p)}function f(e,t,i){var s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],l=t[5],h=t[6],c=t[7],u=t[8],d=t[9],p=t[10],m=t[11],f=t[12],_=t[13],g=t[14],y=t[15],v=i[0],b=i[1],E=i[2],w=i[3];return e[0]=v*s+b*o+E*u+w*f,e[1]=v*r+b*l+E*d+w*_,e[2]=v*n+b*h+E*p+w*g,e[3]=v*a+b*c+E*m+w*y,v=i[4],b=i[5],E=i[6],w=i[7],e[4]=v*s+b*o+E*u+w*f,e[5]=v*r+b*l+E*d+w*_,e[6]=v*n+b*h+E*p+w*g,e[7]=v*a+b*c+E*m+w*y,v=i[8],b=i[9],E=i[10],w=i[11],e[8]=v*s+b*o+E*u+w*f,e[9]=v*r+b*l+E*d+w*_,e[10]=v*n+b*h+E*p+w*g,e[11]=v*a+b*c+E*m+w*y,v=i[12],b=i[13],E=i[14],w=i[15],e[12]=v*s+b*o+E*u+w*f,e[13]=v*r+b*l+E*d+w*_,e[14]=v*n+b*h+E*p+w*g,e[15]=v*a+b*c+E*m+w*y,e}function _(e,t,i){var s,r,n,a,o,l,h,c,u,d,p,m,f=i[0],_=i[1],g=i[2];return t===e?(e[12]=t[0]*f+t[4]*_+t[8]*g+t[12],e[13]=t[1]*f+t[5]*_+t[9]*g+t[13],e[14]=t[2]*f+t[6]*_+t[10]*g+t[14],e[15]=t[3]*f+t[7]*_+t[11]*g+t[15]):(s=t[0],r=t[1],n=t[2],a=t[3],o=t[4],l=t[5],h=t[6],c=t[7],u=t[8],d=t[9],p=t[10],m=t[11],e[0]=s,e[1]=r,e[2]=n,e[3]=a,e[4]=o,e[5]=l,e[6]=h,e[7]=c,e[8]=u,e[9]=d,e[10]=p,e[11]=m,e[12]=s*f+o*_+u*g+t[12],e[13]=r*f+l*_+d*g+t[13],e[14]=n*f+h*_+p*g+t[14],e[15]=a*f+c*_+m*g+t[15]),e}function g(e,t,i){var s=i[0],r=i[1],n=i[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function y(e,t,i,r){var n,a,o,l,h,c,u,d,p,m,f,_,g,y,v,b,E,w,x,A,S,T,I,C,O=r[0],P=r[1],M=r[2],k=Math.hypot(O,P,M);return k<s?null:(O*=k=1/k,P*=k,M*=k,n=Math.sin(i),o=1-(a=Math.cos(i)),l=t[0],h=t[1],c=t[2],u=t[3],d=t[4],p=t[5],m=t[6],f=t[7],_=t[8],g=t[9],y=t[10],v=t[11],b=O*O*o+a,E=P*O*o+M*n,w=M*O*o-P*n,x=O*P*o-M*n,A=P*P*o+a,S=M*P*o+O*n,T=O*M*o+P*n,I=P*M*o-O*n,C=M*M*o+a,e[0]=l*b+d*E+_*w,e[1]=h*b+p*E+g*w,e[2]=c*b+m*E+y*w,e[3]=u*b+f*E+v*w,e[4]=l*x+d*A+_*S,e[5]=h*x+p*A+g*S,e[6]=c*x+m*A+y*S,e[7]=u*x+f*A+v*S,e[8]=l*T+d*I+_*C,e[9]=h*T+p*I+g*C,e[10]=c*T+m*I+y*C,e[11]=u*T+f*I+v*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function v(e,t,i){var s=Math.sin(i),r=Math.cos(i),n=t[4],a=t[5],o=t[6],l=t[7],h=t[8],c=t[9],u=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*r+h*s,e[5]=a*r+c*s,e[6]=o*r+u*s,e[7]=l*r+d*s,e[8]=h*r-n*s,e[9]=c*r-a*s,e[10]=u*r-o*s,e[11]=d*r-l*s,e}function b(e,t,i){var s=Math.sin(i),r=Math.cos(i),n=t[0],a=t[1],o=t[2],l=t[3],h=t[8],c=t[9],u=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*r-h*s,e[1]=a*r-c*s,e[2]=o*r-u*s,e[3]=l*r-d*s,e[8]=n*s+h*r,e[9]=a*s+c*r,e[10]=o*s+u*r,e[11]=l*s+d*r,e}function E(e,t,i){var s=Math.sin(i),r=Math.cos(i),n=t[0],a=t[1],o=t[2],l=t[3],h=t[4],c=t[5],u=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*r+h*s,e[1]=a*r+c*s,e[2]=o*r+u*s,e[3]=l*r+d*s,e[4]=h*r-n*s,e[5]=c*r-a*s,e[6]=u*r-o*s,e[7]=d*r-l*s,e}function w(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function x(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t,i){var r,n,a,o=i[0],l=i[1],h=i[2],c=Math.hypot(o,l,h);return c<s?null:(o*=c=1/c,l*=c,h*=c,r=Math.sin(t),a=1-(n=Math.cos(t)),e[0]=o*o*a+n,e[1]=l*o*a+h*r,e[2]=h*o*a-l*r,e[3]=0,e[4]=o*l*a-h*r,e[5]=l*l*a+n,e[6]=h*l*a+o*r,e[7]=0,e[8]=o*h*a+l*r,e[9]=l*h*a-o*r,e[10]=h*h*a+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function S(e,t){var i=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function T(e,t){var i=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t){var i=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function C(e,t,i){var s=t[0],r=t[1],n=t[2],a=t[3],o=s+s,l=r+r,h=n+n,c=s*o,u=s*l,d=s*h,p=r*l,m=r*h,f=n*h,_=a*o,g=a*l,y=a*h;return e[0]=1-(p+f),e[1]=u+y,e[2]=d-g,e[3]=0,e[4]=u-y,e[5]=1-(c+f),e[6]=m+_,e[7]=0,e[8]=d+g,e[9]=m-_,e[10]=1-(c+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function O(e,t){var i=new r(3),s=-t[0],n=-t[1],a=-t[2],o=t[3],l=t[4],h=t[5],c=t[6],u=t[7],d=s*s+n*n+a*a+o*o;return d>0?(i[0]=2*(l*o+u*s+h*a-c*n)/d,i[1]=2*(h*o+u*n+c*s-l*a)/d,i[2]=2*(c*o+u*a+l*n-h*s)/d):(i[0]=2*(l*o+u*s+h*a-c*n),i[1]=2*(h*o+u*n+c*s-l*a),i[2]=2*(c*o+u*a+l*n-h*s)),C(e,t,i),e}function P(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function M(e,t){var i=t[0],s=t[1],r=t[2],n=t[4],a=t[5],o=t[6],l=t[8],h=t[9],c=t[10];return e[0]=Math.hypot(i,s,r),e[1]=Math.hypot(n,a,o),e[2]=Math.hypot(l,h,c),e}function k(e,t){var i=new r(3);M(i,t);var s=1/i[0],n=1/i[1],a=1/i[2],o=t[0]*s,l=t[1]*n,h=t[2]*a,c=t[4]*s,u=t[5]*n,d=t[6]*a,p=t[8]*s,m=t[9]*n,f=t[10]*a,_=o+u+f,g=0;return _>0?(g=2*Math.sqrt(_+1),e[3]=.25*g,e[0]=(d-m)/g,e[1]=(p-h)/g,e[2]=(l-c)/g):o>u&&o>f?(g=2*Math.sqrt(1+o-u-f),e[3]=(d-m)/g,e[0]=.25*g,e[1]=(l+c)/g,e[2]=(p+h)/g):u>f?(g=2*Math.sqrt(1+u-o-f),e[3]=(p-h)/g,e[0]=(l+c)/g,e[1]=.25*g,e[2]=(d+m)/g):(g=2*Math.sqrt(1+f-o-u),e[3]=(l-c)/g,e[0]=(p+h)/g,e[1]=(d+m)/g,e[2]=.25*g),e}function D(e,t,i,s){var r=t[0],n=t[1],a=t[2],o=t[3],l=r+r,h=n+n,c=a+a,u=r*l,d=r*h,p=r*c,m=n*h,f=n*c,_=a*c,g=o*l,y=o*h,v=o*c,b=s[0],E=s[1],w=s[2];return e[0]=(1-(m+_))*b,e[1]=(d+v)*b,e[2]=(p-y)*b,e[3]=0,e[4]=(d-v)*E,e[5]=(1-(u+_))*E,e[6]=(f+g)*E,e[7]=0,e[8]=(p+y)*w,e[9]=(f-g)*w,e[10]=(1-(u+m))*w,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function L(e,t,i,s,r){var n=t[0],a=t[1],o=t[2],l=t[3],h=n+n,c=a+a,u=o+o,d=n*h,p=n*c,m=n*u,f=a*c,_=a*u,g=o*u,y=l*h,v=l*c,b=l*u,E=s[0],w=s[1],x=s[2],A=r[0],S=r[1],T=r[2],I=(1-(f+g))*E,C=(p+b)*E,O=(m-v)*E,P=(p-b)*w,M=(1-(d+g))*w,k=(_+y)*w,D=(m+v)*x,L=(_-y)*x,R=(1-(d+f))*x;return e[0]=I,e[1]=C,e[2]=O,e[3]=0,e[4]=P,e[5]=M,e[6]=k,e[7]=0,e[8]=D,e[9]=L,e[10]=R,e[11]=0,e[12]=i[0]+A-(I*A+P*S+D*T),e[13]=i[1]+S-(C*A+M*S+L*T),e[14]=i[2]+T-(O*A+k*S+R*T),e[15]=1,e}function R(e,t){var i=t[0],s=t[1],r=t[2],n=t[3],a=i+i,o=s+s,l=r+r,h=i*a,c=s*a,u=s*o,d=r*a,p=r*o,m=r*l,f=n*a,_=n*o,g=n*l;return e[0]=1-u-m,e[1]=c+g,e[2]=d-_,e[3]=0,e[4]=c-g,e[5]=1-h-m,e[6]=p+f,e[7]=0,e[8]=d+_,e[9]=p-f,e[10]=1-h-u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function F(e,t,i,s,r,n,a){var o=1/(i-t),l=1/(r-s),h=1/(n-a);return e[0]=2*n*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n*l,e[6]=0,e[7]=0,e[8]=(i+t)*o,e[9]=(r+s)*l,e[10]=(a+n)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*n*2*h,e[15]=0,e}function N(e,t,i,s,r){var n,a=1/Math.tan(t/2);return e[0]=a/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(n=1/(s-r),e[10]=(r+s)*n,e[14]=2*r*s*n):(e[10]=-1,e[14]=-2*s),e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var U=N;function G(e,t,i,s,r){var n,a=1/Math.tan(t/2);return e[0]=a/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(n=1/(s-r),e[10]=r*n,e[14]=r*s*n):(e[10]=-1,e[14]=-s),e}function K(e,t,i,s){var r=Math.tan(t.upDegrees*Math.PI/180),n=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),o=Math.tan(t.rightDegrees*Math.PI/180),l=2/(a+o),h=2/(r+n);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=h,e[6]=0,e[7]=0,e[8]=-(a-o)*l*.5,e[9]=(r-n)*h*.5,e[10]=s/(i-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*i/(i-s),e[15]=0,e}function B(e,t,i,s,r,n,a){var o=1/(t-i),l=1/(s-r),h=1/(n-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*h,e[11]=0,e[12]=(t+i)*o,e[13]=(r+s)*l,e[14]=(a+n)*h,e[15]=1,e}var j=B;function V(e,t,i,s,r,n,a){var o=1/(t-i),l=1/(s-r),h=1/(n-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=h,e[11]=0,e[12]=(t+i)*o,e[13]=(r+s)*l,e[14]=n*h,e[15]=1,e}function H(e,t,i,r){var n,a,o,l,h,u,d,p,m,f,_=t[0],g=t[1],y=t[2],v=r[0],b=r[1],E=r[2],w=i[0],x=i[1],A=i[2];return Math.abs(_-w)<s&&Math.abs(g-x)<s&&Math.abs(y-A)<s?c(e):(d=_-w,p=g-x,m=y-A,n=b*(m*=f=1/Math.hypot(d,p,m))-E*(p*=f),a=E*(d*=f)-v*m,o=v*p-b*d,(f=Math.hypot(n,a,o))?(n*=f=1/f,a*=f,o*=f):(n=0,a=0,o=0),l=p*o-m*a,h=m*n-d*o,u=d*a-p*n,(f=Math.hypot(l,h,u))?(l*=f=1/f,h*=f,u*=f):(l=0,h=0,u=0),e[0]=n,e[1]=l,e[2]=d,e[3]=0,e[4]=a,e[5]=h,e[6]=p,e[7]=0,e[8]=o,e[9]=u,e[10]=m,e[11]=0,e[12]=-(n*_+a*g+o*y),e[13]=-(l*_+h*g+u*y),e[14]=-(d*_+p*g+m*y),e[15]=1,e)}function z(e,t,i,s){var r=t[0],n=t[1],a=t[2],o=s[0],l=s[1],h=s[2],c=r-i[0],u=n-i[1],d=a-i[2],p=c*c+u*u+d*d;p>0&&(c*=p=1/Math.sqrt(p),u*=p,d*=p);var m=l*d-h*u,f=h*c-o*d,_=o*u-l*c;return(p=m*m+f*f+_*_)>0&&(m*=p=1/Math.sqrt(p),f*=p,_*=p),e[0]=m,e[1]=f,e[2]=_,e[3]=0,e[4]=u*_-d*f,e[5]=d*m-c*_,e[6]=c*f-u*m,e[7]=0,e[8]=c,e[9]=u,e[10]=d,e[11]=0,e[12]=r,e[13]=n,e[14]=a,e[15]=1,e}function q(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function $(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function W(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e}function X(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function Y(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e}function Q(e,t,i,s){return e[0]=t[0]+i[0]*s,e[1]=t[1]+i[1]*s,e[2]=t[2]+i[2]*s,e[3]=t[3]+i[3]*s,e[4]=t[4]+i[4]*s,e[5]=t[5]+i[5]*s,e[6]=t[6]+i[6]*s,e[7]=t[7]+i[7]*s,e[8]=t[8]+i[8]*s,e[9]=t[9]+i[9]*s,e[10]=t[10]+i[10]*s,e[11]=t[11]+i[11]*s,e[12]=t[12]+i[12]*s,e[13]=t[13]+i[13]*s,e[14]=t[14]+i[14]*s,e[15]=t[15]+i[15]*s,e}function Z(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function J(e,t){var i=e[0],r=e[1],n=e[2],a=e[3],o=e[4],l=e[5],h=e[6],c=e[7],u=e[8],d=e[9],p=e[10],m=e[11],f=e[12],_=e[13],g=e[14],y=e[15],v=t[0],b=t[1],E=t[2],w=t[3],x=t[4],A=t[5],S=t[6],T=t[7],I=t[8],C=t[9],O=t[10],P=t[11],M=t[12],k=t[13],D=t[14],L=t[15];return Math.abs(i-v)<=s*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-b)<=s*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-E)<=s*Math.max(1,Math.abs(n),Math.abs(E))&&Math.abs(a-w)<=s*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-x)<=s*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(l-A)<=s*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(h-S)<=s*Math.max(1,Math.abs(h),Math.abs(S))&&Math.abs(c-T)<=s*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-I)<=s*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(d-C)<=s*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-O)<=s*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(m-P)<=s*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(f-M)<=s*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(_-k)<=s*Math.max(1,Math.abs(_),Math.abs(k))&&Math.abs(g-D)<=s*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(y-L)<=s*Math.max(1,Math.abs(y),Math.abs(L))}var ee=f,te=X}]);