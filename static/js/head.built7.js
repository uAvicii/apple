!function t(e,o,n){function s(r,a){if(!o[r]){if(!e[r]){var u="function"==typeof require&&require;if(!a&&u)return u(r,!0);if(i)return i(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[r]={exports:{}};e[r][0].call(d.exports,(function(t){return s(e[r][1][t]||t)}),d,d.exports,t,e,o,n)}return o[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,o){"use strict";e.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],2:[function(t,e,o){"use strict";var n=t(1),s=t(3);function i(){var t=n.getWindow(),e=n.getDocument(),o=n.getNavigator();return!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||o.maxTouchPoints>0||o.msMaxTouchPoints>0)}e.exports=s(i),e.exports.original=i},{1:1,3:3}],3:[function(t,e,o){"use strict";e.exports=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}},{}],4:[function(t,e,o){},{}],5:[function(t,e,o){"use strict";var n=function(t,e){this._target=t,this._tests={},this.addTests(e)},s=n.prototype;s.addTests=function(t){this._tests=Object.assign(this._tests,t)},s._supports=function(t){return void 0!==this._tests[t]&&("function"==typeof this._tests[t]&&(this._tests[t]=this._tests[t]()),this._tests[t])},s._addClass=function(t,e){e=e||"no-",this._supports(t)?this._target.classList.add(t):this._target.classList.add(e+t)},s.htmlClass=function(){var t;for(t in this._target.classList.remove("no-js"),this._target.classList.add("js"),this._tests)this._tests.hasOwnProperty(t)&&this._addClass(t)},e.exports=n},{}],6:[function(t,e,o){"use strict";function n(t,e){this._target=t||document.body,this._attr=e||"data-focus-method",this._focusMethod=this._lastFocusMethod=!1,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this),this._bindEvents()}var s=n.prototype;s._bindEvents=function(){this._target.addEventListener("keydown",this._onKeyDown,!0),this._target.addEventListener("mousedown",this._onMouseDown,!0),this._target.addEventListener("touchstart",this._onTouchStart,!0),this._target.addEventListener("focus",this._onFocus,!0),this._target.addEventListener("blur",this._onBlur,!0),window.addEventListener("blur",this._onWindowBlur)},s._onKeyDown=function(t){this._focusMethod="key"},s._onMouseDown=function(t){"touch"!==this._focusMethod&&(this._focusMethod="mouse")},s._onTouchStart=function(t){this._focusMethod="touch"},s._onFocus=function(t){this._focusMethod||(this._focusMethod=this._lastFocusMethod),t.target.setAttribute(this._attr,this._focusMethod),this._lastFocusMethod=this._focusMethod,this._focusMethod=!1},s._onBlur=function(t){t.target.removeAttribute(this._attr)},s._onWindowBlur=function(t){this._focusMethod=!1},e.exports=n},{}],7:[function(t,e,o){"use strict";t(4);var n=t(5),s=t(8);e.exports=new n(document.documentElement,s),e.exports.FeatureDetect=n;var i=t(6);document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){new i}))},{4:4,5:5,6:6,8:8}],8:[function(t,e,o){"use strict";var n=t(2);e.exports={touch:n,"progressive-image":!0}},{2:2}],9:[function(t,e,o){"use strict";e.exports={PICTURE_DATA_DOWNLOAD_AREA_KEYFRAME:"data-download-area-keyframe",PICTURE_DATA_LAZY:"data-lazy",PICTURE_DATA_EMPTY_SOURCE:"data-empty",PICTURE_DATA_LOADED:"data-picture-loaded",PICTURE_CLASS_LOADED:"loaded"}},{}],10:[function(t,e,o){"use strict";const n=t(9).PICTURE_CLASS_LOADED,s=t(9).PICTURE_DATA_LOADED,i=t(9).PICTURE_DATA_EMPTY_SOURCE;e.exports=(window.__pictureElementInstancesLoaded=new Map,void(window.__lp=function(t){const e=t.target.parentElement;e.querySelector("[".concat(i,"]"))?t.stopImmediatePropagation():(e.classList.add("".concat(n)),e.setAttribute("".concat(s),""),window.__pictureElementInstancesLoaded.set(e.id,e),t.target.onload=null)}))},{9:9}],11:[function(t,e,o){"use strict";const n=t(9).PICTURE_DATA_LAZY,s=t(9).PICTURE_DATA_EMPTY_SOURCE,i=t(9).PICTURE_DATA_DOWNLOAD_AREA_KEYFRAME;e.exports=class{constructor(t={}){this.options=t,this._init()}_init(){this._pictures=Array.from(document.querySelectorAll("*[".concat(n,"]"))),this.AnimSystem=this._findAnim(),null!==this.AnimSystem&&(this._injectSources(),this._addKeyframesToImages(),this._addMethodsToPictures())}_addMethodsToPictures(){this._pictures.forEach(t=>{t.forceLoad=()=>{this._downloadImage(t)}})}_injectSources(){this._pictures.forEach(t=>{const e=t.nextElementSibling;if(e&&"NOSCRIPT"===e.nodeName){const o=t.querySelector("img"),n=e.textContent.match(/<source .+ \/>/g);n&&o.insertAdjacentHTML("beforebegin",n.join(""))}})}_defineKeyframeOptions(t){const e=t.getAttribute(i)||"{}";return Object.assign({},{start:"t - 200vh",end:"b + 100vh",event:"PictureLazyLoading"},JSON.parse(e))}_addKeyframesToImages(){this._pictures.forEach(t=>{t.__scrollGroup=this.AnimSystem.getGroupForTarget(document.body),this.AnimSystem.getGroupForTarget(t)&&(t.__scrollGroup=this.AnimSystem.getGroupForTarget(t));let e=this._defineKeyframeOptions(t);t.__scrollGroup.addKeyframe(t,e).controller.once("PictureLazyLoading:enter",()=>{this._imageIsInLoadRange(t)})})}_imageIsInLoadRange(t){t.querySelector("img")&&this._downloadImage(t)}_downloadImage(t){const e=t.querySelector("[".concat(s,"]"));e&&t.removeChild(e)}_findAnim(){var t=Array.from(document.querySelectorAll("[data-anim-group],[data-anim-scroll-group],[data-anim-time-group]"));return t.map(t=>t._animInfo?t._animInfo.group:null).filter(t=>null!==t),t[0]&&t[0]._animInfo?t[0]._animInfo.group.anim:(console.error("PictureLazyLoading: AnimSystem not found, please initialize anim before instantiating"),null)}}},{9:9}],12:[function(t,e,o){"use strict";const n=t(11),s=t(10);e.exports={PictureLazyLoading:n,PictureHead:s}},{10:10,11:11}],13:[function(t,e,o){"use strict";const n=t(7);t(12).PictureHead,n.htmlClass()},{12:12,7:7}]},{},[13]);