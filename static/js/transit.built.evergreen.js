!function(){function e(t,n,i){function r(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return r(n?n:e)},h,h.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}return e}()({1:[function(e,t,n){"use strict";var i=e("./helpers/TabManager"),r=e("./helpers/hideSiblingElements"),s=e("./helpers/showSiblingElements"),o=function(e,t){t=t||{},this._tabbables=null,this._excludeHidden=t.excludeHidden,this._firstTabbableElement=t.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=e,this._handleOnFocus=this._handleOnFocus.bind(this)},a=o.prototype;a.start=function(){this.updateTabbables(),r(this.el,null,this._excludeHidden),this._firstTabbableElement?this.el.contains(document.activeElement)||this._firstTabbableElement.focus():console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=document.activeElement,document.addEventListener("focus",this._handleOnFocus,!0)},a.stop=function(){s(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},a.updateTabbables=function(){this._tabbables=i.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},a._handleOnFocus=function(e){if(this.el.contains(e.target))this._relatedTarget=e.target;else{if(e.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},a.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},t.exports=o},{"./helpers/TabManager":3,"./helpers/hideSiblingElements":5,"./helpers/showSiblingElements":8}],2:[function(e,t,n){"use strict";var i=e("./maps/keyMap"),r=0,s=["button","checkbox","listbox","option","menuitem","menuitemradio","menuitemcheckbox","tab"],o=e("@marcom/ac-console/warn"),a=function(){this._elements={},this._callbacks={},this._bindEvents(),this._proxies={},this._setup()},c=a.prototype;c._bindEvents=function(){this._handleKeydown=this._handleKeydown.bind(this),this._handleHover=this._handleHover.bind(this)},c._setup=function(){this._addProxy("click",this._clickProxy),this._addProxy("hover",this._hoverProxy)},c._addProxy=function(e,t){this._proxies[e]=this._proxies[e]||[],this._proxies[e].push(t)},c._removeProxy=function(e,t){if(this._proxies[e]){var n=this._proxies[e].indexOf(t);n>-1&&this._proxies[e].splice(n,1),0===this._proxies[e].length&&delete this._proxies[e]}},c.addEventListener=function(e,t,n){this._proxies[t]&&(this._proxies[t].forEach(function(i){i.call(this,e,t,n)}.bind(this)),e.addEventListener(t,n))},c.removeEventListener=function(e,t,n){this._proxies[t]&&(this._proxies[t].forEach(function(i){i.call(this,e,t,n,!0)}.bind(this)),e.removeEventListener(t,n))},c._clickProxy=function(e,t,n,i){var r=e.getAttribute("role");s.indexOf(r)<0&&o("element's role is not set to any of the following "+s.join(", ")),i?(e.removeEventListener("keydown",this._handleKeydown),this._removeCallback(e,t,n)):(e.addEventListener("keydown",this._handleKeydown),this._addCallback(e,t,n))},c._hoverProxy=function(e,t,n,i){i?(e.removeEventListener("focus",this._handleHover,!0),e.removeEventListener("blur",this._handleHover,!0),n&&this._removeCallback(e,t,n)):(e.addEventListener("focus",this._handleHover,!0),e.addEventListener("blur",this._handleHover,!0),n&&this._addCallback(e,t,n))},c._handleKeydown=function(e){return!!(e.ctrlKey||e.altKey||e.metaKey)||void(e.keyCode!==i.SPACEBAR&&e.keyCode!==i.ENTER||this._executeCallback(e,"click"))},c._handleHover=function(e){"focus"===e.type?e.currentTarget.classList.add("hover"):e.currentTarget.classList.remove("hover"),this._executeCallback(e,"hover")},c._executeCallback=function(e,t){var n=this._getCallbacksByElement(e.currentTarget,t);if(n)for(var i=0;i<n.length;i++)n[i](e)},c._addCallback=function(e,t,n){var i=this._getIDByElement(e)||this._generateId();this._elements[i]=e,n instanceof Function&&(this._callbacks[i]=this._callbacks[i]||{},this._callbacks[i][t]=this._callbacks[i][t]||[],this._callbacks[i][t].push(n))},c._removeCallback=function(e,t,n){var i=this._getIDByElement(e),r=this._callbacks[i];if(r&&r[t]){var s=r[t].indexOf(n);r[t].splice(s,1),0===r[t].length&&(delete r[t],this._isEmpty(r)&&(delete this._callbacks[i],delete this._elements[i]))}},c._getIDByElement=function(e){for(var t in this._elements)if(this._elements.hasOwnProperty(t)&&this._elements[t]===e)return t},c._getCallbacksByElement=function(e,t){var n=this._getIDByElement(e);if(n)return this._callbacks[n][t]},c._generateId=function(){return(++r).toString()},c._isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.exports=new a},{"./maps/keyMap":11,"@marcom/ac-console/warn":40}],3:[function(e,t,n){"use strict";var i=e("./../maps/focusableElement"),r=function(){this.focusableSelectors=i.selectors},s=r.prototype;s.isFocusableElement=function(e,t,n){if(t&&!this._isDisplayed(e))return!1;var r=i.nodeName[e.nodeName];return r?!e.disabled:!e.contentEditable||(n=n||parseFloat(e.getAttribute("tabindex")),!isNaN(n))},s.isTabbableElement=function(e,t){if(t&&!this._isDisplayed(e))return!1;var n=e.getAttribute("tabindex");return n=parseFloat(n),isNaN(n)?this.isFocusableElement(e,t,n):n>=0},s._isDisplayed=function(e){var t=e.getBoundingClientRect();return(0!==t.top||0!==t.left||0!==t.width||0!==t.height)&&"hidden"!==window.getComputedStyle(e).visibility},s.getTabbableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),i=n.length,r=[],s=0;s<i;s++)this.isTabbableElement(n[s],t)&&r.push(n[s]);return r},s.getFocusableElements=function(e,t){for(var n=e.querySelectorAll(this.focusableSelectors),i=n.length,r=[],s=0;s<i;s++)this.isFocusableElement(n[s],t)&&r.push(n[s]);return r},t.exports=new r},{"./../maps/focusableElement":10}],4:[function(e,t,n){"use strict";var i=e("./../maps/ariaMap"),r=e("./TabManager"),s="data-original-",o="tabindex",a=function(e,t){var n=e.getAttribute(s+t);n||(n=e.getAttribute(t)||"",e.setAttribute(s+t,n))};t.exports=function(e,t){if(r.isFocusableElement(e,t))a(e,o),e.setAttribute(o,"-1");else for(var n=r.getTabbableElements(e,t),s=n.length;s--;)a(n[s],o),n[s].setAttribute(o,"-1");a(e,i.HIDDEN),e.setAttribute(i.HIDDEN,"true")}},{"./../maps/ariaMap":9,"./TabManager":3}],5:[function(e,t,n){"use strict";var i=e("./hide");t.exports=function r(e,t,n){t=t||document.body;for(var s=e,o=e;s=s.previousElementSibling;)i(s,n);for(;o=o.nextElementSibling;)i(o,n);e.parentElement&&e.parentElement!==t&&r(e.parentElement,t,n)}},{"./hide":4}],6:[function(e,t,n){"use strict";var i=function(e,t){var n=void 0;n=e instanceof NodeList?e:[].concat(e),t=Array.isArray(t)?t:[].concat(t),n.forEach(function(e){t.forEach(function(t){e.removeAttribute(t)})})};t.exports=i},{}],7:[function(e,t,n){"use strict";var i=e("./removeAttributes"),r=e("./../maps/ariaMap"),s="data-original-",o="tabindex",a=function(e,t){var n=e.getAttribute(s+t);null!==n&&(""===n?i(e,t):e.setAttribute(t,n),i(e,s+t))};t.exports=function(e){a(e,o),a(e,r.HIDDEN);for(var t=e.querySelectorAll("["+(s+o)+"]"),n=t.length;n--;)a(t[n],o)}},{"./../maps/ariaMap":9,"./removeAttributes":6}],8:[function(e,t,n){"use strict";var i=e("./show");t.exports=function r(e,t){t=t||document.body;for(var n=e,s=e;n=n.previousElementSibling;)i(n);for(;s=s.nextElementSibling;)i(s);e.parentElement&&e.parentElement!==t&&r(e.parentElement,t)}},{"./show":7}],9:[function(e,t,n){"use strict";t.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},{}],10:[function(e,t,n){"use strict";var i=["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"];t.exports={selectors:i.join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},{}],11:[function(e,t,n){"use strict";t.exports=e("@marcom/ac-keyboard/keyMap")},{"@marcom/ac-keyboard/keyMap":141}],12:[function(e,t,n){"use strict";var i=e("./ac-ajax/Ajax"),r=e("./ac-ajax/Request");t.exports=new i,t.exports.Ajax=i,t.exports.Request=r},{"./ac-ajax/Ajax":13,"./ac-ajax/Request":14}],13:[function(e,t,n){"use strict";var i=e("./Request"),r=e("./XDomain-request"),s=e("./URLParser"),o=function(){};o._Request=i,o.prototype={_defaults:{method:"get",timeout:5e3},_extend:function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},_getOptions:function(e,t){return this._extend({},this._defaults,t,e)},_isCrossDomainRequest:function(e){var t=new s,n=t.parse(window.location.href).origin,i=t.parse(e).origin;return t.destroy(),i!==n},create:function(e){return new i(e)},cors:function(e){var t=window.XDomainRequest&&document.documentMode<10?r:i;return new t(e)},get:function(e){var t;return e=this._getOptions({method:"get"},e),t=this._isCrossDomainRequest(e.url)?this.cors(e):this.create(e),t.send()},getJSON:function(e){return this.get(e).then(function(e){return JSON.parse(e.responseText)})},head:function(e){return e=this._getOptions({method:"head"},e),this.create(e).send()},isCrossDomainRequest:function(e){return this._isCrossDomainRequest(e)},post:function(e){return e=this._getOptions({method:"post"},e),this.create(e).send()}},t.exports=o},{"./Request":14,"./URLParser":15,"./XDomain-request":16}],14:[function(e,t,n){"use strict";var i=function(e){this._initialize(e)};i.create=function(){var e=function(){};return e.prototype=i.prototype,new e},i.prototype={_addReadyStateChangeHandler:function(){this.xhr.onreadystatechange=function(e){4===this.xhr.readyState&&(clearTimeout(this._timeout),this.xhr.status>=200&&this.xhr.status<300?this.resolve(this.xhr):this.reject(this.xhr))}.bind(this)},_getPromise:function(){this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this))},_getTransport:function(){return new XMLHttpRequest},_initialize:function(e){var t=this._validateConfiguration(e);if(t)throw t;this._configuration=e;var n=this._configuration.method.toUpperCase();this.xhr=this._getTransport(),this._getPromise(),this.xhr.open(n,this._configuration.url),this._setRequestHeaders(e.headers),this._addReadyStateChangeHandler()},_sendXHR:function(){this.xhr&&(this._configuration&&this._configuration.data?this.xhr.send(this._configuration.data):this.xhr.send())},_setRequestHeaders:function(e){e&&e.forEach(function(e){this.xhr.setRequestHeader(e.name,e.value)},this)},_setTimeout:function(e){e||(this._configuration&&this._configuration.timeout?e=this._configuration.timeout:(clearTimeout(this._timeout),this._timeout=null)),null!==this._timeout&&clearTimeout(this._timeout),e>0&&(this._timeout=setTimeout(function(){this.xhr.abort(),this.reject()}.bind(this),e))},_timeout:null,_validateConfiguration:function(e){if(!e)return"Must provide a configuration object";var t=[],n=e.headers;if(e.url||t.push("Must provide a url"),e.method||t.push("Must provide a method"),n){if(!Array.isArray(n))return"Must provide an array of headers";this._validateHeaders(n,t)}return t.join(", ")},_validateHeaders:function(e,t){for(var n=0,i=e.length;n<i;n++)if(!e[n].hasOwnProperty("name")||!e[n].hasOwnProperty("value")){t.push("Must provide a name and value key for all headers");break}},promise:null,reject:null,resolve:null,send:function(){return this._setTimeout(),this._sendXHR(),this.promise},xhr:null},t.exports=i},{}],15:[function(e,t,n){"use strict";var i=function(){this.parser=null},r=i.prototype;r.parse=function(e){var t,n,i,r,s;if("string"!=typeof e)throw new TypeError(e+" must be a string");return this.parser||(this.parser=document.createElement("a")),this._qualifyPath(e),i=this.parser.hostname,n=this.parser.protocol,r=this._normalizePort(this.parser),t=this.parser.origin||this._constructOriginString(this.parser,r),s=this.parser.search,{originalPath:e,qualifiedPath:this.parser.href,protocol:n,hostname:i,origin:t,port:r,search:s}},r.destroy=function(){this.parser=null},r._constructOriginString=function(e,t){var n=t?":"+t:"";return e.protocol+"//"+e.hostname+n},r._normalizePort=function(e){return"80"===e.port||"443"===e.port||"0"===e.port?"":e.port},r._qualifyPath=function(e){this.parser.href=e,this.parser.href=this.parser.href},t.exports=i},{}],16:[function(e,t,n){"use strict";var i=e("./Request"),r=function(e){i.apply(this,arguments)};r.prototype=i.create(),r.prototype._getTransport=function(){return new XDomainRequest},r.prototype._addReadyStateChangeHandler=function(){this.xhr.ontimeout=function(){this.reject(this.xhr)}.bind(this),this.xhr.onerror=function(){this.reject(this.xhr)}.bind(this),this.xhr.onload=function(){this.resolve(this.xhr)}.bind(this)},r.prototype._setTimeout=function(e){e||this._configuration&&this._configuration.timeout&&(e=this._configuration.timeout),e>0&&(this.xhr.timeout=e)},r.prototype._sendXHR=function(){setTimeout(function(){i.prototype._sendXHR.call(this)}.bind(this),0)},t.exports=r},{"./Request":14}],17:[function(e,t,n){"use strict";function i(e,t){s.call(this),this.options=o(a,t||{}),this.src=e,this.data=null,this.error=null,this.priority=this.options.priority,this.status="idle",this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this)}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-object/defaults"),a={priority:5};r=i.prototype=Object.create(s.prototype),r.load=function(){"idle"===this.status&&(this.status="pending",this._load())},r.destroy=function(){s.prototype.destroy.call(this),this.status="destroyed",this.data=null},r._load=function(){this.data={src:this.src},window.setTimeout(this._onLoad.bind(this),20)},r._onLoad=function(){"destroyed"!==this.status&&(this.status="loaded",this.trigger("loaded",this))},r._onError=function(e){"destroyed"!==this.status&&(this.error=e,this.status="error",this.trigger("error",this))},t.exports=i},{"@marcom/ac-event-emitter-micro":93,"@marcom/ac-object/defaults":168}],18:[function(e,t,n){"use strict";function i(e,t){s.apply(this,arguments)}var r,s=e("../Asset");r=i.prototype=Object.create(s.prototype),r._load=function(){this.data=new Image,this.data.addEventListener("load",this._onLoad),this.data.addEventListener("error",this._onError),this.data.src=this.src},r.destroy=function(){this.data&&(this.data.removeEventListener("load",this._onLoad),this.data.removeEventListener("error",this._onError)),this.status="destroyed",this.data=null},t.exports=i},{"../Asset":17}],19:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Promise");var i,r=e("@marcom/ac-object/defaults"),s=e("./XHR/ArrayBuffer"),o=e("./XHR/JSON"),a=e("../Asset"),c=e("../AssetGroup"),u={manifestTimeout:5e3,chunkTimeout:1e4},h=function(e,t){var n=r(u,t||{});a.call(this,e,n),e.lastIndexOf("/")!==e.length-1&&(e+="/");var i="j";this._manifestPath=e+"manifest."+i+"son",this._chunks=[],this._loadChunks=this._loadChunks.bind(this),this._onChunksLoaded=this._onChunksLoaded.bind(this),this._manifestLoader=null,this._chunkLoader=null};i=h.prototype=Object.create(a.prototype),i._load=function(){this._loadManifest().then(this._loadChunks).then(this._onChunksLoaded)["catch"](this._onError)},i._loadManifest=function(){var e=new o(this._manifestPath,{timeout:this.options.manifestTimeout}),t=new c(e,{privateQueue:this.options.queue});return t.load(),this._manifestLoader=t,new Promise(function(e,n){t.once("load",function(t){e(t.latest)}),t.once("error",function(e){n(e.latest.error)})})},i._loadChunks=function(e){this._manifest=e.data,this._manifestLoader.destroy(),this._manifestLoader=null;var t=[];this._manifest.files.forEach(function(e,n){t.push(this._getOrCreateChunkObject(e,n))},this);var n=new c(t,{privateQueue:this.options.queue,failFast:!0}),i=new Promise(function(e,t){n.once("load",e),n.once("error",function(e){t(e.latest.error)})});return n.load(),this._chunkLoader=n,i},i._getOrCreateChunkObject=function(e,t){var n=this.options.chunkTimeout?{timeout:this.options.chunkTimeout}:null;if(!this._chunks[t]){var i=e.path;if(i.match(/(^http(s?))/)){if(this.src.match(/(^http(s?))/)){var r=i.indexOf("/",10),o=this.src.indexOf("/",10);i=this.src.substring(0,o)+i.substring(r)}}else i=this.src+"/"+i;this._chunks[t]=new s(i,n)}return this._chunks[t]},i._onChunksLoaded=function(){for(var e=this._chunks.length,t=[],n=0;n<e;n++)t.push(this._chunks[n].data),this._chunks[n].off();this.data=new Blob(t,{type:this._manifest.mimeType}),t=this._chunks=null,this._chunkLoader.destroy(),this._chunkLoader=null,this._onLoad()},i.pause=function(){this._manifestLoader&&this._manifestLoader.pause(),this._chunkLoader&&this._chunkLoader.pause()},i.resume=function(){this._manifestLoader&&this._manifestLoader.resume(),this._chunkLoader&&this._chunkLoader.resume()},i.destroy=function(){this.pause(),this._manifestLoader&&this._manifestLoader.destroy(),this._chunkLoader&&this._chunkLoader.destroy(),this._chunks=null,a.prototype.destroy.call(this)},t.exports=h},{"../Asset":17,"../AssetGroup":24,"./XHR/ArrayBuffer":22,"./XHR/JSON":23,"@marcom/ac-object/defaults":168,"@marcom/ac-polyfills/Promise":void 0}],20:[function(e,t,n){"use strict";function i(e,t){s.apply(this,arguments),this.options=t||{},this._binary=this.options.binary||this._createAssetType()}var r,s=e("../Asset"),o=e("./SplitFile");r=i.prototype=Object.create(s.prototype),r._canUseBlob=function(){return void 0!==window.Blob&&void 0!==window.URL&&"function"==typeof window.URL.createObjectURL},r._createAssetType=function(){if(this._canUseBlob())return new o(this.src,this.options)},r._load=function(){this._binary.on("loaded",this._onLoad),this._binary.on("error",this._onError),this._binary.load()},r._onLoad=function(e){this.data=e,this.data instanceof window.Blob&&(this.data=this.options.element,this.data||(this.data=document.createElement("video")),this.data.getAttribute("type")!==e.type&&this.data.setAttribute("type",e.type),this.data.src=window.URL.createObjectURL(e)),s.prototype._onLoad.call(this,this.data)},r.pause=function(){this._binary.pause()},r.destroy=function(){this._binary.destroy(),s.prototype.destroy.call(this)},t.exports=i},{"../Asset":17,"./SplitFile":19}],21:[function(e,t,n){"use strict";function i(e,t){var n=a(c,t||{});o.call(this,e,n),this._request=this._createRequest(),this._request.xhr.responseType=this.options.responseType}var r,s=e("@marcom/ac-ajax"),o=e("../Asset"),a=e("@marcom/ac-object/defaults"),c={timeout:3e4,responseType:""};r=i.prototype=Object.create(o.prototype),r.destroy=function(){return"idle"!==this.status&&"loaded"!==this.status||(this._request=null),"pending"===this.status?(this._request.xhr.abort(),void o.prototype.destroy.call(this)):void o.prototype.destroy.call(this)},r._createRequest=function(){return s.create({url:this.src,method:"GET",timeout:this.options.timeout,responseType:this.options.responseType})},r._load=function(){this._request.send().then(this._onLoad)["catch"](this._onError)},r._onLoad=function(e){this.data=this.data||e.response,this._request=null,o.prototype._onLoad.call(this)},t.exports=i},{"../Asset":17,"@marcom/ac-ajax":12,"@marcom/ac-object/defaults":168}],22:[function(e,t,n){"use strict";function i(e,t){var n=o(t||{},a);s.call(this,e,n)}var r,s=e("../XHR"),o=e("@marcom/ac-object/extend"),a={responseType:"arraybuffer"};r=i.prototype=Object.create(s.prototype),t.exports=i},{"../XHR":21,"@marcom/ac-object/extend":169}],23:[function(e,t,n){"use strict";function i(e,t){s.apply(this,arguments)}var r,s=e("../XHR");r=i.prototype=Object.create(s.prototype),r._onLoad=function(e){try{this.data=JSON.parse(e.response||e.responseText)}catch(t){this._onError(t)}s.prototype._onLoad.call(this,e)},t.exports=i},{"../XHR":21}],24:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Promise");var i=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=e("@marcom/ac-object/defaults"),s=e("./utils/enqueueAsset"),o=e("./utils/selectQueue"),a=e("./queue"),c={failFast:!0,privateQueue:!1,privateQueueThreads:a.DEFAULT_THREADS},u=function(e,t){i.call(this),this.options=r(c,t||{}),this._onGroupError=this._onGroupError.bind(this),this._onAssetError=this._onAssetError.bind(this),this._onScheduled=this._onScheduled.bind(this),this._onProgress=this._onProgress.bind(this),this._onComplete=this._onComplete.bind(this),this.errors=[],this._queue=o(this.options.privateQueue,this.options.privateQueueThreads),this._assets=[].concat(e),this._loaded=[],this._errored=[],this._enqueued=[],this._dequeued=[],this._pending=[],this._isRunning=!1,this._isComplete=!1,this._isErrored=!1,this._destroyPending=!1},h=u.prototype=Object.create(i.prototype);h.load=function(){var e=this._assets.map(function(e){var t={asset:e,success:this._onProgress,failure:this._onAssetError,scheduled:this._onScheduled},n=s(this._queue,t,this.options.failFast);return this._enqueued.push(n),n.promise},this);Promise.all(e).then(this._onComplete)["catch"](this._onGroupError),this._isRunning=!0,this._queue.start();var t=new Promise(function(e,t){this.once("load",e),this.options.failFast&&this.once("error",e)}.bind(this));return t},h.isRunning=function(){return this._isRunning},h.count=function(){return this._enqueued.length},h.pending=function(){return this._pending.length},h.loadedCount=function(){return this._loaded.length},h.isComplete=function(){return this._isComplete},h.isErrored=function(){return this._isErrored},h.pause=function(){this.isComplete()||this.isErrored()||!this.isRunning()||(this._dequeueItems(),this._pauseAssets(),this._isRunning=!1)},h.resume=function(){this.isComplete()||this.isErrored()||this.isRunning()||this._destroyPending||(this._reenqueueItems(),this._resumeAssets(),this._isRunning=!0)},h.destroy=function(){this._destroyPending||(i.prototype.destroy.call(this),this.pause(),this._destroyPending=!0,this._assets.forEach(function(e){e.destroy()}),0===this.pending()&&this._destroy())},h.trigger=function(){this._destroyPending||i.prototype.trigger.apply(this,arguments)},h._destroy=function(){this.privateQueue&&(this._queue.destroy(),this._queue=null,this.options.privateQueue=null),this.errors=null,this._assets=null,this._loaded=null,this._errored=null,this._enqueued=null,this._dequeued=null,this._pending=null},h._pauseAssets=function(){this._assets.forEach(function(e){"function"==typeof e.pause&&e.pause()})},h._resumeAssets=function(){this._assets.forEach(function(e){"function"==typeof e.resume&&e.resume()})},h._onProgress=function(e){if(!this.isErrored()){var t=this._pending.indexOf(e),n=this._pending.splice(t,1)[0];if(n&&"loaded"===n.asset.status&&this._loaded.push(n.asset),this._destroyPending)return void(0===this.pending()&&this._destroy());var i=this._makeDataObject(e.asset);this.trigger("progress",i)}},h._onScheduled=function(e){var t=this._enqueued.indexOf(e);t>-1&&(this._enqueued.splice(t,1),this._pending.push(e))},h._onComplete=function(e){this._isRunning=!1,this._isComplete=!0;var t=this._makeDataObject(this._loaded[this._loaded.length-1]);this.trigger("load",t)},h._onAssetError=function(e){this.errors.push(e.error),this._errored.push(e);var t=this._pending.indexOf(e);this._pending.splice(t,1);var n=this._makeDataObject(e.asset);this.trigger("error",n)},h._onGroupError=function(e){this.options.failFast&&(this.pause(),this._isErrored=!0,this._isRunning=!1,this._isComplete=!1)},h._makeDataObject=function(e){var t=this.errors.length;this.errors.map(function(e){return this._assets.indexOf(e)},this);return{latest:e,assets:this._assets,error:!!(t>0),errored:this.errors}},h._dequeueItems=function(){this._enqueued.forEach(function(e){this._queue.dequeueQueueItem(e.queueItem),this._dequeued.push(e)},this),this._enqueued=[]},h._reenqueueItems=function(){this._dequeued.forEach(function(e){this._queue.enqueueQueueItem(e.queueItem),this._enqueued.push(e)},this),this._dequeued=[]},t.exports=u},{"./queue":29,"./utils/enqueueAsset":30,"./utils/selectQueue":31,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-object/defaults":168,"@marcom/ac-polyfills/Promise":void 0}],25:[function(e,t,n){"use strict";t.exports.assetLoader=e("./assetLoader"),t.exports.types=e("./assetTypes"),t.exports.AssetGroup=e("./AssetGroup"),t.exports.createAsset=e("./createAsset")},{"./AssetGroup":24,"./assetLoader":26,"./assetTypes":27,"./createAsset":28}],26:[function(e,t,n){"use strict";function i(e,t){return e=[].concat(e),e.map(function(e){return c(e,t)})}function r(e,t){var n=h(t||{});return n.privateQueue=u(n.privateQueue,n.privateQueueThreads),e=i(e,n.privateQueue),new o(e,n)}var s=e("./queue"),o=e("./AssetGroup"),a=e("./assetTypes"),c=e("./createAsset"),u=e("./utils/selectQueue"),h=e("@marcom/ac-object/clone");t.exports={count:function(){return s.getInstance().count()},pending:function(){return s.getInstance().pending()},pause:function(){return s.getInstance().pause()},stop:function(){return s.getInstance().stop()},clear:function(){return s.getInstance().clear()},isEmpty:function(){return s.getInstance().isEmpty()},load:function(e,t){var n=r(e,t);return n.load()},resume:function(){return s.getInstance().start()},setThreads:function(e){s.setThreads(e)},createAssets:function(e,t){return i(e,t)},createAssetGroup:function(e,t){return r(e,t)},types:a}},{"./AssetGroup":24,"./assetTypes":27,"./createAsset":28,"./queue":29,"./utils/selectQueue":31,"@marcom/ac-object/clone":166}],27:[function(e,t,n){"use strict";var i=e("./Asset/XHR"),r=e("./Asset/SplitFile"),s=e("./Asset/Img"),o=e("./Asset/Video"),a=e("./Asset/XHR/ArrayBuffer"),c=e("./Asset/XHR/JSON");t.exports={XHR_ASSET:i,JSON_ASSET:c,SPLITFILE_ASSET:r,IMG_ASSET:s,VIDEO_ASSET:o,ARRAY_BUFFER_ASSET:a}},{"./Asset/Img":18,"./Asset/SplitFile":19,"./Asset/Video":20,"./Asset/XHR":21,"./Asset/XHR/ArrayBuffer":22,"./Asset/XHR/JSON":23}],28:[function(e,t,n){"use strict";function i(e){return e=e.replace(/([?#].*)$/,""),a[e.split(".").pop()]}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e("./assetTypes"),o=e("./Asset"),a={txt:s.XHR_ASSET,xml:s.XHR_ASSET,csv:s.XHR_ASSET,json:s.JSON_ASSET,png:s.IMG_ASSET,jpg:s.IMG_ASSET,gif:s.IMG_ASSET,svg:s.IMG_ASSET,splitfile:s.SPLITFILE_ASSET};t.exports=function(e,t){var n={};return o.prototype.isPrototypeOf(e)?src:("string"==typeof e&&(n.src=e,n.type=i(e)),"object"===("undefined"==typeof e?"undefined":r(e))&&(n=e,"string"==typeof n.type&&(n.type=i(n.type)),n.type||(n.type=i(n.src))),n.options||(n.options={}),t&&(n.options.queue=t),new n.type(n.src,n.options))}},{"./Asset":17,"./assetTypes":27}],29:[function(e,t,n){"use strict";function i(e){return e=e||c,new a(e)}function r(e){return e=e||u,o||(o=i(e)),o}function s(e){u=e}var o,a=e("@marcom/ac-queue").LiveQueue,c=4,u=c;t.exports={getInstance:function(e){return r(e)},setThreads:function(e){s(e)},newInstance:function(e){return i(e)},isLiveQueue:function(e){return e instanceof a},DEFAULT_THREADS:c}},{"@marcom/ac-queue":189}],30:[function(e,t,n){"use strict";function i(e,t){"function"==typeof e[t]&&e[t](e)}e("@marcom/ac-polyfills/Promise"),t.exports=function(e,t,n){var r=function(e,i){t.scheduled(t),t.asset.once("loaded",function(n){e(t)}),t.asset.once("error",function(r){return n?i(r):void e(t)}),t.asset.load()},s=function(){return new Promise(r)},o=new Promise(function(e,r){t.asset.once("loaded",function(n){i(t,"success"),e(n)}),t.asset.once("error",function(s){return t.error=s,i(t,"failure"),n?r(s):void e(t)})});return t.queueItem=e.enqueue(s,t.asset.priority),t.promise=o,t}},{"@marcom/ac-polyfills/Promise":void 0}],31:[function(e,t,n){"use strict";var i=e("../queue");t.exports=function(e,t){return t=t||i.DEFAULT_THREADS,i.isLiveQueue(e)?e:e===!0?i.newInstance(t):i.getInstance()}},{"../queue":29}],32:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var i=e("./className/add");t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.add)return void n.classList.add.apply(n.classList,t);for(e=0;e<t.length;e++)i(n,t[e])}},{"./className/add":33,"@marcom/ac-polyfills/Array/prototype.slice":void 0,"@marcom/ac-polyfills/Element/prototype.classList":void 0}],33:[function(e,t,n){"use strict";var i=e("./contains");t.exports=function(e,t){i(e,t)||(e.className+=" "+t)}},{"./contains":34}],34:[function(e,t,n){"use strict";var i=e("./getTokenRegExp");t.exports=function(e,t){return i(t).test(e.className)}},{"./getTokenRegExp":35}],35:[function(e,t,n){"use strict";t.exports=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")}},{}],36:[function(e,t,n){"use strict";var i=e("./contains"),r=e("./getTokenRegExp");t.exports=function(e,t){i(e,t)&&(e.className=e.className.replace(r(t),"$1").trim())}},{"./contains":34,"./getTokenRegExp":35}],37:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var i=e("./className/remove");t.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(t);if(n.classList&&n.classList.remove)return void n.classList.remove.apply(n.classList,t);for(e=0;e<t.length;e++)i(n,t[e])}},{"./className/remove":36,"@marcom/ac-polyfills/Array/prototype.slice":void 0,"@marcom/ac-polyfills/Element/prototype.classList":void 0}],38:[function(e,t,n){"use strict";var i="f7c9180f-5c45-47b4-8de4-428015f096c0",r=!1,s=window||self;try{r=!!s.localStorage.getItem(i)}catch(o){}t.exports=r},{}],39:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("../enabled");t.exports=function(e){return function(){if(r&&"object"===i(window.console)&&"function"==typeof console[e])return console[e].apply(console,Array.prototype.slice.call(arguments,0))}}},{"../enabled":38}],40:[function(e,t,n){"use strict";t.exports=e("./internal/expose")("warn")},{"./internal/expose":39}],41:[function(e,t,n){"use strict";t.exports={DOMEmitter:e("./ac-dom-emitter/DOMEmitter")}},{"./ac-dom-emitter/DOMEmitter":42}],42:[function(e,t,n){"use strict";function i(e){null!==e&&(this.el=e,this._bindings={},this._delegateFuncs={},this._eventEmitter=new o)}var r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("ac-event-emitter").EventEmitter,a=e("./DOMEmitterEvent"),c={
addEventListener:e("@marcom/ac-dom-events/addEventListener"),removeEventListener:e("@marcom/ac-dom-events/removeEventListener"),dispatchEvent:e("@marcom/ac-dom-events/dispatchEvent")},u={querySelectorAll:e("@marcom/ac-dom-traversal/querySelectorAll"),matchesSelector:e("@marcom/ac-dom-traversal/matchesSelector")},h="dom-emitter";r=i.prototype,r.on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},r.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},r.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},r.has=function(e,t,n,i){var r,s;if("string"==typeof t?(r=t,s=n):(s=t,i=n),r){var o=this._getDelegateFuncBindingIdx(e,r,s,i,!0);return o>-1}return!(!this._eventEmitter||!this._eventEmitter.has.apply(this._eventEmitter,arguments))},r.trigger=function(e,t,n,i){e=this._parseEventNames(e),e=this._cleanStringData(e);var r,s,o,a=e.length;for("string"==typeof t?(r=this._cleanStringData(t),s=n):(s=t,i=n),o=0;o<a;o++)this._triggerDOMEvents(e[o],s,r);return this},r.emitterTrigger=function(e,t,n){if(!this._eventEmitter)return this;e=this._parseEventNames(e),e=this._cleanStringData(e),t=new a(t,this);var i,r=e.length;for(i=0;i<r;i++)this._eventEmitter.trigger(e[i],t,n);return this},r.propagateTo=function(e,t){return this._eventEmitter.propagateTo(e,t),this},r.stopPropagatingTo=function(e){return this._eventEmitter.stopPropagatingTo(e),this},r.stopImmediatePropagation=function(){return this._eventEmitter.stopImmediatePropagation(),this},r.destroy=function(){this._triggerInternalEvent("willdestroy"),this.off();var e;for(e in this)this.hasOwnProperty(e)&&(this[e]=null)},r._parseEventNames=function(e){return e?e.split(" "):[e]},r._onListenerEvent=function(e,t){var n=new a(t,this);this._eventEmitter.trigger(e,n,!1)},r._setListener=function(e){this._bindings[e]=this._onListenerEvent.bind(this,e),c.addEventListener(this.el,e,this._bindings[e])},r._removeListener=function(e){c.removeEventListener(this.el,e,this._bindings[e]),this._bindings[e]=null},r._triggerInternalEvent=function(e,t){this.emitterTrigger(h+":"+e,t)},r._normalizeArgumentsAndCall=function(e,t){var n={};if(0===e.length)return void t.call(this,n);if("string"==typeof e[0]||null===e[0])return e=this._cleanStringData(e),n.events=e[0],"string"==typeof e[1]?(n.delegateQuery=e[1],n.callback=e[2],n.context=e[3]):(n.callback=e[1],n.context=e[2]),void t.call(this,n);var i,r,s=":",o=e[0];for(i in o)o.hasOwnProperty(i)&&(n={},r=this._cleanStringData(i.split(s)),n.events=r[0],n.delegateQuery=r[1],n.callback=o[i],n.context=e[1],t.call(this,n))},r._registerDelegateFunc=function(e,t,n,i,r){var s=this._delegateFunc.bind(this,e,t,n,r);return this._delegateFuncs[t]=this._delegateFuncs[t]||{},this._delegateFuncs[t][e]=this._delegateFuncs[t][e]||[],this._delegateFuncs[t][e].push({func:i,context:r,delegateFunc:s}),s},r._cleanStringData=function(e){var t=!1;"string"==typeof e&&(e=[e],t=!0);var n,i,r,s=[],o=e.length;for(n=0;n<o;n++){if(i=e[n],"string"==typeof i){if(""===i||" "===i)continue;for(r=i.length;" "===i[0];)i=i.slice(1,r),r--;for(;" "===i[r-1];)i=i.slice(0,r-1),r--}s.push(i)}return t?s[0]:s},r._unregisterDelegateFunc=function(e,t,n,i){if(this._delegateFuncs[t]&&this._delegateFuncs[t][e]){var r,s=this._getDelegateFuncBindingIdx(e,t,n,i);return s>-1&&(r=this._delegateFuncs[t][e][s].delegateFunc,this._delegateFuncs[t][e].splice(s,1),0===this._delegateFuncs[t][e].length&&(this._delegateFuncs[t][e]=null)),r}},r._unregisterDelegateFuncs=function(e,t){if(this._delegateFuncs[t]&&(null===e||this._delegateFuncs[t][e]))if(null!==e)this._unbindDelegateFunc(e,t);else{var n;for(n in this._delegateFuncs[t])this._delegateFuncs[t].hasOwnProperty(n)&&this._unbindDelegateFunc(n,t)}},r._unbindDelegateFunc=function(e,t){for(var n,i,r=0;this._delegateFuncs[t][e]&&this._delegateFuncs[t][e][r];)n=this._delegateFuncs[t][e][r],i=this._delegateFuncs[t][e][r].length,this._off({events:e,delegateQuery:t,callback:n.func,context:n.context}),this._delegateFuncs[t][e]&&i===this._delegateFuncs[t][e].length&&r++;n=i=null},r._unregisterDelegateFuncsByEvent=function(e){var t;for(t in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(t)&&this._unregisterDelegateFuncs(e,t)},r._delegateFunc=function(e,t,n,i,r){if(this._targetHasDelegateAncestor(r.target,t)){var o=Array.prototype.slice.call(arguments,0),a=o.slice(4,o.length);i=i||window,"object"===s(r.detail)&&(a[0]=r.detail),n.apply(i,a)}},r._targetHasDelegateAncestor=function(e,t){for(var n=e;n&&n!==this.el&&n!==document.documentElement;){if(u.matchesSelector(n,t))return!0;n=n.parentNode}return!1},r._on=function(e){var t=e.events,n=e.callback,i=e.delegateQuery,r=e.context,s=e.unboundCallback||n;t=this._parseEventNames(t),t.forEach(function(e,t,n,i,r){this.has(r)||this._setListener(r),"string"==typeof i&&(e=this._registerDelegateFunc(r,i,e,t,n)),this._triggerInternalEvent("willon",{evt:r,callback:e,context:n,delegateQuery:i}),this._eventEmitter.on(r,e,n),this._triggerInternalEvent("didon",{evt:r,callback:e,context:n,delegateQuery:i})}.bind(this,n,s,r,i)),t=n=s=i=r=null},r._off=function(e){var t=e.events,n=e.callback,i=e.delegateQuery,r=e.context,s=e.unboundCallback||n;if("undefined"!=typeof t)t=this._parseEventNames(t),t.forEach(function(e,t,n,i,r){if("string"!=typeof i||"function"!=typeof t||(e=this._unregisterDelegateFunc(r,i,t,n)))return"string"==typeof i&&"undefined"==typeof e?void this._unregisterDelegateFuncs(r,i):void("string"==typeof r&&"undefined"==typeof e&&(this._unregisterDelegateFuncsByEvent(r),"string"==typeof i)||(this._triggerInternalEvent("willoff",{evt:r,callback:e,context:n,delegateQuery:i}),this._eventEmitter.off(r,e,n),this._triggerInternalEvent("didoff",{evt:r,callback:e,context:n,delegateQuery:i}),this.has(r)||this._removeListener(r)))}.bind(this,n,s,r,i)),t=n=s=i=r=null;else{this._eventEmitter.off();var o;for(o in this._bindings)this._bindings.hasOwnProperty(o)&&this._removeListener(o);for(o in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(o)&&(this._delegateFuncs[o]=null)}},r._once=function(e){var t=e.events,n=e.callback,i=e.delegateQuery,r=e.context;t=this._parseEventNames(t),t.forEach(function(e,t,n,i){return"string"==typeof n?this._handleDelegateOnce(i,e,t,n):(this.has(i)||this._setListener(i),this._triggerInternalEvent("willonce",{evt:i,callback:e,context:t,delegateQuery:n}),this._eventEmitter.once.call(this,i,e,t),void this._triggerInternalEvent("didonce",{evt:i,callback:e,context:t,delegateQuery:n}))}.bind(this,n,r,i)),t=n=i=r=null},r._handleDelegateOnce=function(e,t,n,i){return this._triggerInternalEvent("willonce",{evt:e,callback:t,context:n,delegateQuery:i}),this._on({events:e,context:n,delegateQuery:i,callback:this._getDelegateOnceCallback.bind(this,e,t,n,i),unboundCallback:t}),this._triggerInternalEvent("didonce",{evt:e,callback:t,context:n,delegateQuery:i}),this},r._getDelegateOnceCallback=function(e,t,n,i){var r=Array.prototype.slice.call(arguments,0),s=r.slice(4,r.length);t.apply(n,s),this._off({events:e,delegateQuery:i,callback:t,context:n})},r._getDelegateFuncBindingIdx=function(e,t,n,i,r){var s=-1;if(this._delegateFuncs[t]&&this._delegateFuncs[t][e]){var o,a,c=this._delegateFuncs[t][e].length;for(o=0;o<c;o++)if(a=this._delegateFuncs[t][e][o],r&&"undefined"==typeof n&&(n=a.func),a.func===n&&a.context===i){s=o;break}}return s},r._triggerDOMEvents=function(e,t,n){var i=[this.el];n&&(i=u.querySelectorAll(n,this.el));var r,s=i.length;for(r=0;r<s;r++)c.dispatchEvent(i[r],e,{bubbles:!0,cancelable:!0,detail:t})},t.exports=i},{"./DOMEmitterEvent":43,"@marcom/ac-dom-events/addEventListener":44,"@marcom/ac-dom-events/dispatchEvent":45,"@marcom/ac-dom-events/removeEventListener":47,"@marcom/ac-dom-traversal/matchesSelector":89,"@marcom/ac-dom-traversal/querySelectorAll":90,"ac-event-emitter":273}],43:[function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s={preventDefault:e("@marcom/ac-dom-events/preventDefault"),stopPropagation:e("@marcom/ac-dom-events/stopPropagation"),target:e("@marcom/ac-dom-events/target")},o=function(e,t){this._domEmitter=t,this.originalEvent=e||{},this._originalTarget=s.target(this.originalEvent),this.target=this._originalTarget||this._domEmitter.el,this.currentTarget=this._domEmitter.el,this.timeStamp=this.originalEvent.timeStamp||Date.now(),this._isDOMEvent(this.originalEvent)?"object"===r(this.originalEvent.detail)&&(this.data=this.originalEvent.detail):e&&(this.data=this.originalEvent,this.originalEvent={})};i=o.prototype,i.preventDefault=function(){s.preventDefault(this.originalEvent)},i.stopPropagation=function(){s.stopPropagation(this.originalEvent)},i.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this._domEmitter.stopImmediatePropagation()},i._isDOMEvent=function(e){return!!(this._originalTarget||"undefined"!==document.createEvent&&"undefined"!=typeof CustomEvent&&e instanceof CustomEvent)},t.exports=o},{"@marcom/ac-dom-events/preventDefault":46,"@marcom/ac-dom-events/stopPropagation":49,"@marcom/ac-dom-events/target":50}],44:[function(e,t,n){"use strict";var i=e("./utils/addEventListener"),r=e("./shared/getEventType");t.exports=function(e,t,n,s){return t=r(e,t),i(e,t,n,s)}},{"./shared/getEventType":48,"./utils/addEventListener":51}],45:[function(e,t,n){"use strict";var i=e("./utils/dispatchEvent"),r=e("./shared/getEventType");t.exports=function(e,t,n){return t=r(e,t),i(e,t,n)}},{"./shared/getEventType":48,"./utils/dispatchEvent":52}],46:[function(e,t,n){"use strict";t.exports=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1}},{}],47:[function(e,t,n){"use strict";var i=e("./utils/removeEventListener"),r=e("./shared/getEventType");t.exports=function(e,t,n,s){return t=r(e,t),i(e,t,n,s)}},{"./shared/getEventType":48,"./utils/removeEventListener":53}],48:[function(e,t,n){"use strict";var i=e("@marcom/ac-prefixer/getEventType");t.exports=function(e,t){var n,r;return n="tagName"in e?e.tagName:e===window?"window":"document",r=i(t,n),r?r:t}},{"@marcom/ac-prefixer/getEventType":175}],49:[function(e,t,n){"use strict";t.exports=function(e){e=e||window.event,e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},{}],50:[function(e,t,n){"use strict";t.exports=function(e){return e=e||window.event,"undefined"!=typeof e.target?e.target:e.srcElement}},{}],51:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){return e.addEventListener?e.addEventListener(t,n,!!i):e.attachEvent("on"+t,n),e}},{}],52:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/CustomEvent"),t.exports=function(e,t,n){var i;return e.dispatchEvent?(i=n?new CustomEvent(t,n):new CustomEvent(t),e.dispatchEvent(i)):(i=document.createEventObject(),n&&"detail"in n&&(i.detail=n.detail),e.fireEvent("on"+t,i)),e}},{"@marcom/ac-polyfills/CustomEvent":void 0}],53:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){return e.removeEventListener?e.removeEventListener(t,n,!!i):e.detachEvent("on"+t,n),e}},{}],54:[function(e,t,n){"use strict";t.exports=function(e){var t;if(e=e||window,e===window){if(t=window.pageXOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollLeft}},{}],55:[function(e,t,n){"use strict";t.exports=function(e){var t;if(e=e||window,e===window){if(t=window.pageYOffset)return t;e=document.documentElement||document.body.parentNode||document.body}return e.scrollTop}},{}],56:[function(e,t,n){"use strict";t.exports=8},{}],57:[function(e,t,n){"use strict";t.exports=11},{}],58:[function(e,t,n){"use strict";t.exports=9},{}],59:[function(e,t,n){"use strict";t.exports=10},{}],60:[function(e,t,n){"use strict";t.exports=1},{}],61:[function(e,t,n){"use strict";t.exports=3},{}],62:[function(e,t,n){"use strict";t.exports={createDocumentFragment:e("./createDocumentFragment"),filterByNodeType:e("./filterByNodeType"),hasAttribute:e("./hasAttribute"),indexOf:e("./indexOf"),insertAfter:e("./insertAfter"),insertBefore:e("./insertBefore"),insertFirstChild:e("./insertFirstChild"),insertLastChild:e("./insertLastChild"),isComment:e("./isComment"),isDocument:e("./isDocument"),isDocumentFragment:e("./isDocumentFragment"),isDocumentType:e("./isDocumentType"),isElement:e("./isElement"),isNode:e("./isNode"),isNodeList:e("./isNodeList"),isTextNode:e("./isTextNode"),remove:e("./remove"),replace:e("./replace"),COMMENT_NODE:e("./COMMENT_NODE"),DOCUMENT_FRAGMENT_NODE:e("./DOCUMENT_FRAGMENT_NODE"),DOCUMENT_NODE:e("./DOCUMENT_NODE"),DOCUMENT_TYPE_NODE:e("./DOCUMENT_TYPE_NODE"),ELEMENT_NODE:e("./ELEMENT_NODE"),TEXT_NODE:e("./TEXT_NODE")}},{"./COMMENT_NODE":56,"./DOCUMENT_FRAGMENT_NODE":57,"./DOCUMENT_NODE":58,"./DOCUMENT_TYPE_NODE":59,"./ELEMENT_NODE":60,"./TEXT_NODE":61,"./createDocumentFragment":63,"./filterByNodeType":64,"./hasAttribute":65,"./indexOf":66,"./insertAfter":67,"./insertBefore":68,"./insertFirstChild":69,"./insertLastChild":70,"./isComment":73,"./isDocument":74,"./isDocumentFragment":75,"./isDocumentType":76,"./isElement":77,"./isNode":78,"./isNodeList":79,"./isTextNode":80,"./remove":81,"./replace":82}],63:[function(e,t,n){"use strict";t.exports=function(e){var t,n=document.createDocumentFragment();if(e)for(t=document.createElement("div"),t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild);return n}},{}],64:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Array/prototype.filter");var i=e("./internal/isNodeType"),r=e("./ELEMENT_NODE");t.exports=function(e,t){return t=t||r,e=Array.prototype.slice.call(e),e.filter(function(e){return i(e,t)})}},{"./ELEMENT_NODE":60,"./internal/isNodeType":71,"@marcom/ac-polyfills/Array/prototype.filter":void 0,"@marcom/ac-polyfills/Array/prototype.slice":void 0}],65:[function(e,t,n){"use strict";t.exports=function(e,t){return"hasAttribute"in e?e.hasAttribute(t):null!==e.attributes.getNamedItem(t)}},{}],66:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf"),e("@marcom/ac-polyfills/Array/prototype.slice");var i=(e("./internal/validate"),e("./filterByNodeType"));t.exports=function(e,t){var n,r=e.parentNode;return r?(n=r.childNodes,n=t!==!1?i(n,t):Array.prototype.slice.call(n),n.indexOf(e)):0}},{"./filterByNodeType":64,"./internal/validate":72,"@marcom/ac-polyfills/Array/prototype.indexOf":void 0,"@marcom/ac-polyfills/Array/prototype.slice":void 0}],67:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e,t){return i.insertNode(e,!0,"insertAfter"),i.childNode(t,!0,"insertAfter"),i.hasParentNode(t,"insertAfter"),t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)}},{"./internal/validate":72}],68:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e,t){return i.insertNode(e,!0,"insertBefore"),i.childNode(t,!0,"insertBefore"),i.hasParentNode(t,"insertBefore"),t.parentNode.insertBefore(e,t)}},{"./internal/validate":72}],69:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e,t){return i.insertNode(e,!0,"insertFirstChild"),i.parentNode(t,!0,"insertFirstChild"),t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}},{"./internal/validate":72}],70:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e,t){return i.insertNode(e,!0,"insertLastChild"),i.parentNode(t,!0,"insertLastChild"),t.appendChild(e)}},{"./internal/validate":72}],71:[function(e,t,n){"use strict";var i=e("../isNode");t.exports=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:t.indexOf(e.nodeType)!==-1)}},{"../isNode":78}],72:[function(e,t,n){"use strict";var i=e("./isNodeType"),r=e("../COMMENT_NODE"),s=e("../DOCUMENT_FRAGMENT_NODE"),o=e("../ELEMENT_NODE"),a=e("../TEXT_NODE"),c=[o,a,r,s],u=" must be an Element, TextNode, Comment, or Document Fragment",h=[o,a,r],l=" must be an Element, TextNode, or Comment",m=[o,s],f=" must be an Element, or Document Fragment",d=" must have a parentNode";t.exports={parentNode:function(e,t,n,r){if(r=r||"target",(e||t)&&!i(e,m))throw new TypeError(n+": "+r+f)},childNode:function(e,t,n,r){if(r=r||"target",(e||t)&&!i(e,h))throw new TypeError(n+": "+r+l)},insertNode:function(e,t,n,r){if(r=r||"node",(e||t)&&!i(e,c))throw new TypeError(n+": "+r+u)},hasParentNode:function(e,t,n){if(n=n||"target",!e.parentNode)throw new TypeError(t+": "+n+d)}}},{"../COMMENT_NODE":56,"../DOCUMENT_FRAGMENT_NODE":57,"../ELEMENT_NODE":60,"../TEXT_NODE":61,"./isNodeType":71}],73:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./COMMENT_NODE");t.exports=function(e){return i(e,r)}},{"./COMMENT_NODE":56,"./internal/isNodeType":71}],74:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./DOCUMENT_NODE");t.exports=function(e){return i(e,r)}},{"./DOCUMENT_NODE":58,"./internal/isNodeType":71}],75:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./DOCUMENT_FRAGMENT_NODE");t.exports=function(e){return i(e,r)}},{"./DOCUMENT_FRAGMENT_NODE":57,"./internal/isNodeType":71}],76:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./DOCUMENT_TYPE_NODE");t.exports=function(e){return i(e,r)}},{"./DOCUMENT_TYPE_NODE":59,"./internal/isNodeType":71}],77:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./ELEMENT_NODE");t.exports=function(e){return i(e,r)}},{"./ELEMENT_NODE":60,"./internal/isNodeType":71}],78:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],79:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=/^\[object (HTMLCollection|NodeList|Object)\]$/;t.exports=function(e){return!!e&&("number"==typeof e.length&&(!!("object"!==i(e[0])||e[0]&&e[0].nodeType)&&r.test(Object.prototype.toString.call(e))))}},{}],80:[function(e,t,n){"use strict";var i=e("./internal/isNodeType"),r=e("./TEXT_NODE");t.exports=function(e){return i(e,r)}},{"./TEXT_NODE":61,"./internal/isNodeType":71}],81:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e){return i.childNode(e,!0,"remove"),e.parentNode?e.parentNode.removeChild(e):e}},{"./internal/validate":72}],82:[function(e,t,n){"use strict";var i=e("./internal/validate");t.exports=function(e,t){return i.insertNode(e,!0,"insertFirstChild","newNode"),i.childNode(t,!0,"insertFirstChild","oldNode"),i.hasParentNode(t,"insertFirstChild","oldNode"),t.parentNode.replaceChild(e,t)}},{"./internal/validate":72}],83:[function(e,t,n){"use strict";t.exports={getStyle:e("./getStyle"),setStyle:e("./setStyle")}},{"./getStyle":84,"./setStyle":86}],84:[function(e,t,n){"use strict";var i=e("@marcom/ac-prefixer/getStyleProperty"),r=e("@marcom/ac-prefixer/stripPrefixes");t.exports=function(){var e,t,n,s,o=Array.prototype.slice.call(arguments),a=o.shift(o),c=window.getComputedStyle(a),u={};for("string"!=typeof o[0]&&(o=o[0]),s=0;s<o.length;s++)e=o[s],t=i(e),t?(e=r(t),n=c[t],n&&"auto"!==n||(n=null),n&&(n=r(n))):n=null,u[e]=n;return u}},{"@marcom/ac-prefixer/getStyleProperty":177,"@marcom/ac-prefixer/stripPrefixes":185}],85:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){var t,n,r;if(!e&&0!==e)return"";if(Array.isArray(e))return e+"";if("object"===("undefined"==typeof e?"undefined":i(e))){for(t="",n=Object.keys(e),r=0;r<n.length;r++)t+=n[r]+"("+e[n[r]]+") ";return t.trim()}return e}},{}],86:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("@marcom/ac-prefixer/getStyleCSS"),s=e("@marcom/ac-prefixer/getStyleProperty"),o=e("./internal/normalizeValue");t.exports=function(e,t){var n,a,c,u,h,l="";if("object"!==("undefined"==typeof t?"undefined":i(t)))throw new TypeError("setStyle: styles must be an Object");for(a in t)u=o(t[a]),u||0===u?(n=r(a,u),n!==!1&&(l+=" "+n)):(c=s(a),"removeAttribute"in e.style?e.style.removeAttribute(c):e.style[c]="");return l.length&&(h=e.style.cssText,";"!==h.charAt(h.length-1)&&(h+=";"),h+=l,e.style.cssText=h),e}},{"./internal/normalizeValue":85,"@marcom/ac-prefixer/getStyleCSS":176,"@marcom/ac-prefixer/getStyleProperty":177}],87:[function(e,t,n){"use strict";t.exports=window.Element?function(e){return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}(Element.prototype):null},{}],88:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var i=e("@marcom/ac-dom-nodes/isNode"),r=e("@marcom/ac-dom-nodes/COMMENT_NODE"),s=e("@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE"),o=e("@marcom/ac-dom-nodes/DOCUMENT_NODE"),a=e("@marcom/ac-dom-nodes/ELEMENT_NODE"),c=e("@marcom/ac-dom-nodes/TEXT_NODE"),u=function(e,t){return!!i(e)&&("number"==typeof t?e.nodeType===t:t.indexOf(e.nodeType)!==-1)},h=[a,o,s],l=" must be an Element, Document, or Document Fragment",m=[a,c,r],f=" must be an Element, TextNode, or Comment",d=" must be a string";t.exports={parentNode:function(e,t,n,i){if(i=i||"node",(e||t)&&!u(e,h))throw new TypeError(n+": "+i+l)},childNode:function(e,t,n,i){if(i=i||"node",(e||t)&&!u(e,m))throw new TypeError(n+": "+i+f)},selector:function(e,t,n,i){if(i=i||"selector",(e||t)&&"string"!=typeof e)throw new TypeError(n+": "+i+d)}}},{"@marcom/ac-dom-nodes/COMMENT_NODE":56,"@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE":57,"@marcom/ac-dom-nodes/DOCUMENT_NODE":58,"@marcom/ac-dom-nodes/ELEMENT_NODE":60,"@marcom/ac-dom-nodes/TEXT_NODE":61,"@marcom/ac-dom-nodes/isNode":78,"@marcom/ac-polyfills/Array/prototype.indexOf":void 0}],89:[function(e,t,n){"use strict";var i=e("@marcom/ac-dom-nodes/isElement"),r=e("./internal/validate"),s=e("./internal/nativeMatches"),o=e("./shims/matchesSelector");t.exports=function(e,t){return r.selector(t,!0,"matchesSelector"),!!i(e)&&(s?s.call(e,t):o(e,t))}},{"./internal/nativeMatches":87,"./internal/validate":88,"./shims/matchesSelector":91,"@marcom/ac-dom-nodes/isElement":77}],90:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice");var i=e("./internal/validate"),r=e("./shims/querySelectorAll"),s="querySelectorAll"in document;t.exports=function(e,t){return t=t||document,i.parentNode(t,!0,"querySelectorAll","context"),i.selector(e,!0,"querySelectorAll"),s?Array.prototype.slice.call(t.querySelectorAll(e)):r(e,t)}},{"./internal/validate":88,"./shims/querySelectorAll":92,"@marcom/ac-polyfills/Array/prototype.slice":void 0}],91:[function(e,t,n){"use strict";var i=e("../querySelectorAll");t.exports=function(e,t){var n,r=e.parentNode||document,s=i(t,r);for(n=0;n<s.length;n++)if(s[n]===e)return!0;return!1}},{"../querySelectorAll":90}],92:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var i=e("@marcom/ac-dom-nodes/isElement"),r=e("@marcom/ac-dom-nodes/isDocumentFragment"),s=e("@marcom/ac-dom-nodes/remove"),o="_ac_qsa_",a=function(e,t){var n;if(t===document)return!0;for(n=e;(n=n.parentNode)&&i(n);)if(n===t)return!0;return!1},c=function(e){"recalc"in e?e.recalc(!1):document.recalc(!1),window.scrollBy(0,0)};t.exports=function(e,t){var n,i=document.createElement("style"),u=o+(Math.random()+"").slice(-6),h=[];for(t=t||document,document[u]=[],r(t)?t.appendChild(i):document.documentElement.firstChild.appendChild(i),i.styleSheet.cssText="*{display:recalc;}"+e+'{ac-qsa:expression(document["'+u+'"] && document["'+u+'"].push(this));}',c(t);document[u].length;)n=document[u].shift(),n.style.removeAttribute("ac-qsa"),h.indexOf(n)===-1&&a(n,t)&&h.push(n);return document[u]=null,s(i),c(t),h}},{"@marcom/ac-dom-nodes/isDocumentFragment":75,"@marcom/ac-dom-nodes/isElement":77,"@marcom/ac-dom-nodes/remove":81,"@marcom/ac-polyfills/Array/prototype.indexOf":void 0}],93:[function(e,t,n){"use strict";t.exports={EventEmitterMicro:e("./ac-event-emitter-micro/EventEmitterMicro")}},{"./ac-event-emitter-micro/EventEmitterMicro":94}],94:[function(e,t,n){"use strict";function i(){this._events={}}var r=i.prototype;r.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].unshift(t)},r.once=function(e,t){function n(r){i.off(e,n),void 0!==r?t(r):t()}var i=this;this.on(e,n)},r.off=function(e,t){if(this.has(e)){if(1===arguments.length)return this._events[e]=null,void delete this._events[e];var n=this._events[e].indexOf(t);n!==-1&&this._events[e].splice(n,1)}},r.trigger=function(e,t){if(this.has(e))for(var n=this._events[e].length-1;n>=0;n--)void 0!==t?this._events[e][n](t):this._events[e][n]()},r.has=function(e){return e in this._events!=!1&&0!==this._events[e].length},r.destroy=function(){for(var e in this._events)this._events[e]=null;this._events=null},t.exports=i},{}],95:[function(e,t,n){"use strict";t.exports={canvasAvailable:e("./canvasAvailable"),continuousScrollEventsAvailable:e("./continuousScrollEventsAvailable"),cookiesAvailable:e("./cookiesAvailable"),cssLinearGradientAvailable:e("./cssLinearGradientAvailable"),cssPropertyAvailable:e("./cssPropertyAvailable"),cssViewportUnitsAvailable:e("./cssViewportUnitsAvailable"),elementAttributeAvailable:e("./elementAttributeAvailable"),eventTypeAvailable:e("./eventTypeAvailable"),isDesktop:e("./isDesktop"),isHandheld:e("./isHandheld"),isRetina:e("./isRetina"),isTablet:e("./isTablet"),localStorageAvailable:e("./localStorageAvailable"),mediaElementsAvailable:e("./mediaElementsAvailable"),mediaQueriesAvailable:e("./mediaQueriesAvailable"),prefersReducedMotion:e("./prefersReducedMotion"),sessionStorageAvailable:e("./sessionStorageAvailable"),svgAvailable:e("./svgAvailable"),threeDTransformsAvailable:e("./threeDTransformsAvailable"),touchAvailable:e("./touchAvailable"),webGLAvailable:e("./webGLAvailable")}},{"./canvasAvailable":96,"./continuousScrollEventsAvailable":97,"./cookiesAvailable":98,"./cssLinearGradientAvailable":99,"./cssPropertyAvailable":100,"./cssViewportUnitsAvailable":101,"./elementAttributeAvailable":102,"./eventTypeAvailable":103,"./isDesktop":105,"./isHandheld":106,"./isRetina":107,"./isTablet":108,"./localStorageAvailable":109,"./mediaElementsAvailable":110,"./mediaQueriesAvailable":111,"./prefersReducedMotion":112,"./sessionStorageAvailable":113,"./svgAvailable":114,"./threeDTransformsAvailable":115,"./touchAvailable":116,"./webGLAvailable":117}],96:[function(e,t,n){"use strict";var i=e("./helpers/globals"),r=e("@marcom/ac-function/once"),s=function(){var e=i.getDocument(),t=e.createElement("canvas");return!("function"!=typeof t.getContext||!t.getContext("2d"))};t.exports=r(s),t.exports.original=s},{"./helpers/globals":104,"@marcom/ac-function/once":137}],97:[function(e,t,n){"use strict";function i(){return!s()||r.os.ios&&r.os.version.major>=8||r.browser.chrome}var r=e("@marcom/useragent-detect"),s=e("./touchAvailable").original,o=e("@marcom/ac-function/once");t.exports=o(i),t.exports.original=i},{"./touchAvailable":116,"@marcom/ac-function/once":137,"@marcom/useragent-detect":272}],98:[function(e,t,n){"use strict";function i(){var e=!1,t=r.getDocument(),n=r.getNavigator();try{"cookie"in t&&n.cookieEnabled&&(t.cookie="ac_feature_cookie=1",e=t.cookie.indexOf("ac_feature_cookie")!==-1,t.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(i){}return e}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137}],99:[function(e,t,n){"use strict";function i(){var e=["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"];return e.some(function(e){return!!r("background-image",e)})}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"@marcom/ac-function/once":137,"@marcom/ac-prefixer/getStyleValue":178}],100:[function(e,t,n){"use strict";function i(e,t){return"undefined"!=typeof t?!!r(e,t):!!s(e)}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-prefixer/getStyleProperty"),o=e("@marcom/ac-function/memoize");t.exports=o(i),t.exports.original=i},{"@marcom/ac-function/memoize":136,"@marcom/ac-prefixer/getStyleProperty":177,"@marcom/ac-prefixer/getStyleValue":178}],101:[function(e,t,n){"use strict";function i(){return!!r("margin","1vw 1vh")}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"@marcom/ac-function/once":137,"@marcom/ac-prefixer/getStyleValue":178}],102:[function(e,t,n){"use strict";function i(e,t){var n,i=r.getDocument();return t=t||"div",n=i.createElement(t),e in n}var r=e("./helpers/globals"),s=e("@marcom/ac-function/memoize");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/memoize":136}],103:[function(e,t,n){"use strict";function i(e,t){return!!r(e,t)}var r=e("@marcom/ac-prefixer/getEventType"),s=e("@marcom/ac-function/memoize");t.exports=s(i),t.exports.original=i},{"@marcom/ac-function/memoize":136,"@marcom/ac-prefixer/getEventType":175}],104:[function(e,t,n){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],105:[function(e,t,n){"use strict";function i(){var e=o.getWindow();return!s()&&!e.orientation||r.windows}var r=e("@marcom/useragent-detect").os,s=e("./touchAvailable").original,o=e("./helpers/globals"),a=e("@marcom/ac-function/once");t.exports=a(i),t.exports.original=i},{"./helpers/globals":104,"./touchAvailable":116,"@marcom/ac-function/once":137,"@marcom/useragent-detect":272}],106:[function(e,t,n){"use strict";function i(){return!r()&&!s()}var r=e("./isDesktop").original,s=e("./isTablet").original,o=e("@marcom/ac-function/once");t.exports=o(i),t.exports.original=i},{"./isDesktop":105,"./isTablet":108,"@marcom/ac-function/once":137}],107:[function(e,t,n){"use strict";var i=e("./helpers/globals");t.exports=function(){var e=i.getWindow();return"devicePixelRatio"in e&&e.devicePixelRatio>=1.5}},{"./helpers/globals":104}],108:[function(e,t,n){"use strict";function i(){var e=s.getWindow(),t=e.screen.width;return e.orientation&&e.screen.height<t&&(t=e.screen.height),!r()&&t>=a}var r=e("./isDesktop").original,s=e("./helpers/globals"),o=e("@marcom/ac-function/once"),a=600;t.exports=o(i),t.exports.original=i},{"./helpers/globals":104,"./isDesktop":105,"@marcom/ac-function/once":137}],109:[function(e,t,n){"use strict";function i(){var e=r.getWindow(),t=!1;try{t=!(!e.localStorage||null===e.localStorage.non_existent)}catch(n){}return t}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137}],110:[function(e,t,n){"use strict";function i(){var e=r.getWindow();return"HTMLMediaElement"in e}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137}],111:[function(e,t,n){"use strict";function i(){var e=r.getWindow(),t=e.matchMedia("only all");return!(!t||!t.matches)}e("@marcom/ac-polyfills/matchMedia");var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137,"@marcom/ac-polyfills/matchMedia":void 0}],112:[function(e,t,n){"use strict";function i(){var e=r.getWindow(),t=e.matchMedia("(prefers-reduced-motion)");return!(!t||!t.matches)}var r=e("./helpers/globals");t.exports=i},{"./helpers/globals":104
}],113:[function(e,t,n){"use strict";function i(){var e=r.getWindow(),t=!1;try{"sessionStorage"in e&&"function"==typeof e.sessionStorage.setItem&&(e.sessionStorage.setItem("ac_feature","test"),t=!0,e.sessionStorage.removeItem("ac_feature","test"))}catch(n){}return t}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137}],114:[function(e,t,n){"use strict";function i(){var e=r.getDocument();return!!e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137}],115:[function(e,t,n){"use strict";function i(){return!(!r("perspective","1px")||!r("transform","translateZ(0)"))}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"@marcom/ac-function/once":137,"@marcom/ac-prefixer/getStyleValue":178}],116:[function(e,t,n){"use strict";function i(){var e=r.getWindow(),t=r.getDocument(),n=r.getNavigator();return!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch||n.maxTouchPoints>0||n.msMaxTouchPoints>0)}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137}],117:[function(e,t,n){"use strict";function i(){var e=r.getDocument(),t=e.createElement("canvas");return"function"==typeof t.getContext&&!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(i),t.exports.original=i},{"./helpers/globals":104,"@marcom/ac-function/once":137}],118:[function(e,t,n){"use strict";function i(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-raf-executor/sharedRAFExecutorInstance"),a=e("@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance");r=i.prototype=Object.create(s.prototype),r.run=function(){return!this._willRun&&(this._willRun=!0,this.executor.subscribe(this),!0)},r.cancel=function(){var e=!1;return this._willRun&&(this.executor.unsubscribe(this),this._willRun=!1,e=!0),this._reset(),e},r.destroy=function(){var e=this.cancel();return this.executor.unsubscribe(this),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=i},{"@marcom/ac-event-emitter-micro":93,"@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance":193,"@marcom/ac-raf-executor/sharedRAFExecutorInstance":202}],119:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Promise"),e("@marcom/ac-polyfills/JSON"),t.exports={createFlow:e("./ac-flow/flow/factory"),Player:e("./ac-flow/flow/Player")}},{"./ac-flow/flow/Player":122,"./ac-flow/flow/factory":133,"@marcom/ac-polyfills/JSON":void 0,"@marcom/ac-polyfills/Promise":void 0}],120:[function(e,t,n){"use strict";function i(e,t,n,i){r.call(this),this._compositor=new u(t,n,i),this.options=e||{}}var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("./compositor/decorator/Keyframe"),o=e("./compositor/decorator/Superframe"),a=e("./compositor/decorator/SuperKeyframe"),c=e("./compositor/decorator/Cache"),u=e("./compositor/Sequence"),h=i.prototype=new r(null);h._gotoImageFrame=function(e){return this._rendering?Promise.resolve():this._currentFrame===e?Promise.resolve():(this._rendering=!0,this._compositor.compositeFrames(this._currentFrame,e).then(function(){this._rendering=!1,this._currentFrame=e}.bind(this)))},h.init=function(){var e;return"CANVAS"===this.options.element.nodeName?e=this.options.element:(e=document.createElement("canvas"),this.options.element.appendChild(e)),this.gotoFrame=this._gotoImageFrame,this._compositor.init(e).then(this._decorateCompositor.bind(this))},h.resumeLoading=function(){return this._compositor.resumeLoading()},h.pauseLoading=function(){this._compositor.pauseLoading()},h._decorateCompositor=function(){var e,t,n=this._compositor;return n?(e=this._compositor._diffRender.flowData,t=this._compositor.canvas,e.superframeFrequency&&(n=new o(n,e.superframeFrequency)),e.version>=4&&(n=new s(n)),e.version>=4&&e.superframeFrequency&&(n=new a(n)),this.options.keyframeCache&&(n=new c(n,this.options.keyframeCache)),n===this._compositor?Promise.resolve():(this._compositor=n,this._compositor.init(t))):Promise.reject()},h._destroy=function(){this.off(),this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(h,{_currentFrame:{value:0,enumerable:!1,writable:!0},frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0}}),t.exports=i},{"./compositor/Sequence":123,"./compositor/decorator/Cache":124,"./compositor/decorator/Keyframe":125,"./compositor/decorator/SuperKeyframe":126,"./compositor/decorator/Superframe":127,"@marcom/ac-event-emitter-micro":93}],121:[function(e,t,n){"use strict";var i=e("@marcom/ac-asset-loader/assetLoader"),r=e("./data/provider/Async"),s=function(e,t,n){this._manifestUrl=e,this._keyframeUrls=t,this._imageUrlPattern=n,this.state={manifestLoaded:!1,keyframesLoaded:!1,diffsLoaded:!1,diffCountLoaded:0,totalDiffs:null},this.assets={keyframes:null,manifest:null,diffs:null},this._promises={},this._loaders={},this._activeLoaders=[],this._resumeQueue=[],this._paused=!0,this._shouldPause=!1,this._boundOnManifestLoaded=this._onManifestLoaded.bind(this),this._boundOnKeyframesLoaded=this._onKeyframesLoaded.bind(this),this._boundOnDiffsLoaded=this._onDiffsLoaded.bind(this)},o=s.prototype;o.setManifestUrl=function(e){return this._manifestUrl=e,this},o.setKeyframeUrls=function(e){return this._keyframeUrls=e,this},o.setImageUrlPattern=function(e){return this._imageUrlPattern=e,this},o.pause=function(){this._shouldPause=!0;var e,t=this._activeLoaders.length;for(e=0;e<t;e++)this._activeLoaders[e].pause();this._paused=!0},o.destroy=function(){var e,t,n;this.pause();for(e in this._loaders)this._loaders.hasOwnProperty(e)&&this._loaders[e].destroy();for(t in this._promises)this._promises.hasOwnProperty(t)&&"pending"===this._promises[t].status()&&this._promises[t].reject();for(n in this)this.hasOwnProperty(n)&&(this[n]=null)},o.load=function(){if(this._paused&&(this._activeLoaders.length>0||this._resumeQueue.length>0))return this._resume(),!0},o._resume=function(){this._shouldPause=!1;var e,t=this._activeLoaders.length;for(e=0;e<t;e++)this._activeLoaders[e].load();var n,i=this._resumeQueue.length;for(n=0;n<i;n++)this._resumeQueue[n].call(this);this._resumeQueue=[],this._paused=!1},o.loadManifest=function(){return this._shouldPause?void this._resumeQueue.push(this.loadManifest):this.assets.manifest?this.assets.manifest:(this._paused=!1,this._loaders.manifest=new r(this._getManifestAssetsData()),this._activeLoaders.push(this._loaders.manifest),this._loaders.manifest.load().then(this._boundOnManifestLoaded))},o.loadKeyframes=function(){var e;return this._shouldPause&&this._resumeQueue.push(this.loadKeyframes),this.assets.keyframes?e=Promise.resolve(this.assets.keyframes):(this._paused=!1,this._loaders.keyframes=i.createAssetGroup(this._getKeyframesAssetsData()),this._activeLoaders.push(this._loaders.keyframes),e=this._loaders.keyframes.load().then(this._boundOnKeyframesLoaded)),this._promises.keyframes=e,this._promises.keyframes},o.loadDiffs=function(){var e;return this._shouldPause&&this._resumeQueue.push(this.loadDiffs),this.assets.diffs?e=this._promises.diffs.resolve(this.assets.diffs):(this._paused=!1,this._loaders.diffs=i.createAssetGroup(this._getDiffsAssetsData()),this._activeLoaders.push(this._loaders.diffs),e=this._loaders.diffs.load().then(this._boundOnDiffsLoaded)),this._promises.diffs=e,this._promises.diffs},o._getManifestAssetsData=function(){return this._manifestUrl},o._getKeyframesAssetsData=function(){return this._keyframeUrls},o._getDiffsAssetsData=function(){var e,t,n=this.assets.manifest.imagesRequired,i=[],r=this._imageUrlPattern.match(/#/g).length;for(e=1;e<=n;e++)t="0000"+e,t=t.substring(t.length-r),i.push(this._imageUrlPattern.replace(/#{2,}/g,t));return i},o._onManifestLoaded=function(e){if(this.assets)return this.assets.manifest=e,this.state.manifestLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.manifest),this.assets.manifest},o._onKeyframesLoaded=function(e){if(this.assets)return this.assets.keyframes=e,this.state.keyframeLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.keyframes),Promise.resolve(this.assets.keyframes)},o._onDiffsLoaded=function(e){if(this.assets)return this.assets.diffs=e,this.state.diffsLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.diffs),Promise.resolve(this.assets.diffs)},o._removeFromActiveLoaders=function(e){var t,n=this._activeLoaders.length;for(t=0;t<n;t++)if(this._activeLoaders[t]===e)return void this._activeLoaders.splice(t,1)},t.exports=s},{"./data/provider/Async":131,"@marcom/ac-asset-loader/assetLoader":26}],122:[function(e,t,n){"use strict";function i(e,t){this.element=t,this._domEmitter=new r(t),this._frameRate=30,this.paused=!0,this.loop=!1,this._destroyed=!1,this._flow=e,this._rafEmitter=new s,this._rafDrawSet=!1,this._shouldAdvanceToTimeGlobal=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1,this._boundAdvanceTimeToGlobal=this._advanceToTimeGlobal.bind(this),this._onBoundGlobalTimeUpdate=this._onGlobalTimeUpdate.bind(this),this._onBoundLocalTimeUpdate=this._onLocalTimeUpdate.bind(this),this._rafEmitter.on("draw",this._onDraw.bind(this))}var r=e("@marcom/ac-dom-emitter").DOMEmitter,s=e("@marcom/ac-raf-emitter/RAFEmitter"),o=i.prototype;o._timeToFrame=function(e){var t;return t=Math.round(e/this.duration*this._flow.frameCount),t%=this._flow.frameCount+1,t<0?this._flow.frameCount+t:t},o._advanceToTimeGlobal=function(e){if(this._rafDrawSet){this._prevTime=this._prevTime||e.time,this._currentTime+=(e.time-this._prevTime)/1e3*this.playbackRate,this._prevTime=e.time,this._pauseAfterRender=!1;var t=this._timeToFrame(this._currentTime);if(this.loop?this._currentTime=(this.duration+this._currentTime)%this.duration:this.playbackRate>0&&this._currentTime>this.duration?(t=this._flow.frameCount,this._currentTime=this.duration,this._pauseAfterRender=!0):this.playbackRate<0&&this._currentTime<0&&(t=0,this._currentTime=0,this._pauseAfterRender=!0),!this.paused&&!this.seeking)return this._flow.gotoFrame(t).then(this._onBoundGlobalTimeUpdate)}},o._onGlobalTimeUpdate=function(){this.trigger("timeupdate"),this._pauseAfterRender?(this.paused=!0,this.trigger("ended")):this._bindAdvanceToTimeGlobal()},o._onLocalTimeUpdate=function(){this.seeking=!1,this.trigger("timeupdate"),this.trigger("seeked"),this._bindAdvanceToTimeGlobal()},o._advanceToTimeLocal=function(e){this.seeking||(this.seeking=!0,this.trigger("seeking"),this._currentTime=1*e,this._prevTime=null,this._cancelFrame(),this._flow.gotoFrame(this._timeToFrame(e)).then(this._onBoundLocalTimeUpdate))},o._onLoaded=function(){this.trigger("loaded"),this.trigger("canplaythrough")},o._nullProperties=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(e[t]=null);return e},o.destroy=function(){this._rafEmitter.destroy(),this.trigger("destroy"),this.pause(),this.off(),this._flow.destroy(),this._flow=this._nullProperties(this._flow),this._nullProperties(this)},o.load=function(){if(!this._flow.resumeLoading())return this.trigger("loadstart"),this._flow.init().then(function(e){var t=function(){this._onLoaded()}.bind(this),n=function(){this._destroyed===!1&&this.trigger("error")}.bind(this);return e?e.then(t,n):void t()}.bind(this))},o.pauseLoading=function(){this._flow.pauseLoading()},o.play=function(){return this.paused&&(this.paused=!1,this.trigger("play"),this._prevTime=null,this._bindAdvanceToTimeGlobal()),this},o.pause=function(){return this.paused||(this.paused=!0,this._cancelFrame(),this.trigger("pause")),this},o.on=function(){this._domEmitter.on.apply(this._domEmitter,arguments)},o.once=function(){this._domEmitter.once.apply(this._domEmitter,arguments)},o.trigger=function(){this._domEmitter.trigger.apply(this._domEmitter,arguments)},o.off=function(){this._domEmitter.off.apply(this._domEmitter,arguments)},o._cancelFrame=function(){this._rafEmitter.cancel(),this._rafDrawSet=!1},o._onDraw=function(e){this._shouldAdvanceToTimeGlobal?this._advanceToTimeGlobal(e):this._shouldGlobalTimeUpdate?this._onGlobalTimeUpdate(e):this._shouldLocalTimeUpdate&&this._onLocalTimeUpdate(e),this._shouldLocalTimeUpdate=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1},o._bindAdvanceToTimeGlobal=function(){this._rafDrawSet=!0,this._shouldAdvanceToTimeGlobal=!0,this._rafEmitter.run()},o._bindGlobalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldGlobalTimeUpdate=!0,this._rafEmitter.run()},o._bindLocalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldLocalTimeUpdate=!0,this._rafEmitter.run()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(o,{_currentTime:{value:0,enumerable:!1,writable:!0},_playbackRate:{value:1,enumerable:!1,writable:!0},currentTime:{get:function(){return 1*this._currentTime},set:o._advanceToTimeLocal,enumerable:!0},frameRate:{get:function(){return this._frameRate},set:function(e){isFinite(e)&&(this._frameRate=e,this.trigger("durationchange"))},enumerable:!0},playbackRate:{get:function(){return 1*this._playbackRate},set:function(e){isFinite(e)&&(this._playbackRate=1*e,this.trigger("ratechange"))},enumerable:!0},duration:{get:function(){return this._flow.frameCount/this.frameRate},enumerable:!0}}),t.exports=i},{"@marcom/ac-dom-emitter":41,"@marcom/ac-raf-emitter/RAFEmitter":118}],123:[function(e,t,n){"use strict";function i(e,t,n){this._keyframes=t,this._imageUrlPattern=n,this._loadController=new s(e,t,n)}var r=e("../diff/Render"),s=e("../LoadController"),o=i.prototype;o._initDiffRender=function(e){this._images=e.assets.map(function(e){return e.data}),this.canvas.height=this._images[0].height,this.canvas.width=this._images[0].width,this.applyFrame(this._images[0])},o.init=function(e){return this.canvas=e||document.createElement("canvas"),this.context=e.getContext("2d"),this._loadController.loadKeyframes().then(this._initDiffRender.bind(this)).then(this._loadController.loadManifest.bind(this._loadController)).then(this.createDiffRender.bind(this))},o.resumeLoading=function(){return this._loadController.load()},o.pauseLoading=function(){this._loadController.pause()},o.createDiffRender=function(e){return this._diffRender=new r(e,this._imageUrlPattern,this._loadController),this._diffRender.init()},o.applyFrame=function(e){var t=this.context;t.drawImage(e,0,0)},o.calculateRenderCount=function(e,t){var n=0;return Math.abs(t-e)>=t?(e=1,n=1):Math.abs(t-e)>=this.frameCount-t&&this._images[1]&&(e=this.frameCount-2,n=1),t>0&&t<this.frameCount-1?Math.abs(e-t)+n:n},o.compositeFrames=function(e,t){t=this.frameCount<t?this.frameCount-1:t<0?0:t,e=this.frameCount-2<e?this.frameCount-2:e<0?0:e;var n;if(Math.abs(t-e)>=t?(e=1,this.applyFrame(this._images[0])):Math.abs(t-e)>=this.frameCount-t&&this._images[1]&&(e=this.frameCount-2,this.applyFrame(this._images[1])),n=e>t?-1:e<t?1:0,t>0&&t<this.frameCount-1)for(;e!==t;)this._diffRender.renderDiff(this.canvas,e),e+=n;return Promise.resolve(e)},o.destroy=function(){this._loadController.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(o,{frameCount:{get:function(){return this._diffRender.frames.length+2},enumerable:!0},canvas:{get:function(){return this._canvas},set:function(e){return this._canvas=e},enumerable:!0},mainCompositor:{get:function(){for(var e=this;e._compositor;)e=e._compositor;return e},enumerable:!0}}),t.exports=i},{"../LoadController":121,"../diff/Render":132}],124:[function(e,t,n){"use strict";function i(e,t){this._compositor=e,this._keyframeInterval=t||8,this._keyframes=[]}var r=i.prototype;r._getClosestKeyframe=function(e){var t=e%this._keyframeInterval,n=Math.floor(e/this._keyframeInterval)+(t>this._keyframeInterval/2?1:0);return n},r._getFrameFromKeyframe=function(e){return e*this._keyframeInterval},r._saveKeyframe=function(e){var t,n=Math.floor(e/this._keyframeInterval);e%this._keyframeInterval!==0||this._keyframes[n]||(t=document.createElement("canvas"),t.width=this._compositor.canvas.width,t.height=this._compositor.canvas.height,t.getContext("2d").drawImage(this._compositor.canvas,0,0),this._keyframes[n]=t)},r.init=function(e){return this._compositor.init.apply(this._compositor,arguments)},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},r.calculateRenderCount=function(e,t){return e=this._getFrameFromKeyframe(this._getClosestKeyframe(t)),this._compositor.calculateRenderCount(e,t)+1},r.compositeFrames=function(e,t){var n=this._getClosestKeyframe(t);return this._keyframes[n]&&this._compositor.calculateRenderCount(e,t)>this.calculateRenderCount(e,t)?(e=this._getFrameFromKeyframe(n),this.applyFrame(this._keyframes[n]),this._compositor.compositeFrames(e,t).then(function(){})):this._compositor.compositeFrames(e,t).then(function(){},null,this._saveKeyframe.bind(this))},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0}}),t.exports=i},{}],125:[function(e,t,n){"use strict";function i(e){this._compositor=e,this._flowDataProvider=this.mainCompositor._loadController._loaders.manifest}var r=e("../../keyframe/Render"),s=i.prototype;s.init=function(e){return this._keyframeDiffRender=new r(this._flowDataProvider._data,this.mainCompositor._imageUrlPattern),this._keyframeDiffRender.init()},s.resumeLoading=function(){return this._compositor.resumeLoading()},s.pauseLoading=function(){return this._compositor.pauseLoading()},s.applyFrame=function(e){return this._compositor.applyFrame.apply(this._compositor,arguments)},s.applyKeyframe=function(e,t){this._keyframeDiffRender.renderKeyframe(this.canvas,e,t)},s.compositeFrames=function(e,t){return this._isKeyframeDiff(t-1)?(this.applyKeyframe(t-1),Promise.resolve(e-1)):this._compositor.compositeFrames.apply(this._compositor,arguments)},s._isKeyframeDiff=function(e){return e in this._keyframeDiffRender._loader._keyframes},s.calculateRenderCount=function(e,t){return this._compositor.calculateRenderCount.apply(this._compositor,arguments)},s.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(s,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=i},{"../../keyframe/Render":135}],126:[function(e,t,n){"use strict";function i(e){this._compositor=e,this._frames=this.mainCompositor._loadController._loaders.manifest._data.frames,this._superframeInterval=this.mainCompositor._diffRender.flowData.superframeFrequency}var r=i.prototype;r.init=function(e){return this._compositor.init.apply(this._compositor,arguments)},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(e){return this._compositor.applyFrame.apply(this._compositor,arguments)},r.applyKeyframe=function(e,t){this._compositor.applyKeyframe.apply(this._compositor,arguments)},r.compositeFrames=function(e,t){var n,i;return t<1||t>this.frameCount-2?this._compositor.compositeFrames.apply(this._compositor,arguments):this._isKeyframeDiff(t-1)?(n=1===Math.abs(e-t),this.applyKeyframe(t-1,n),Promise.resolve(e-1)):Math.abs(t-e)>this._superframeInterval&&(i=this._getShortestRender(e,t),this._isKeyframeDiff(i-1)||i<=0||i>=this.frameCount-2)?this._compositeFromSuperKeyframe(i,t):this._compositor.compositeFrames.apply(this._compositor,[e,t])},r._getShortestRender=function(e,t){var n=this._compositor.calculateRenderCount,i=this._getClosestSuperKeyframe(t-1),r=n.apply(this._compositor,[i,t])+1,s=n.apply(this._compositor,[e,t]);return r<=s?i:e},r._compositeFromSuperKeyframe=function(e,t){var n=this.canvas.getContext("2d"),i=e<=0?this.mainCompositor._images[0]:e>=this.frameCount-2?this.mainCompositor._images[1]:this._frames[e-1].image;return n.drawImage(i,0,0),this._compositor.compositeFrames.call(this._compositor,e,t)},r._getClosestSuperFrame=function(e){return Math.round(e/this._superframeInterval)*this._superframeInterval},r._getClosestSuperKeyframe=function(e){var t,n,i,r,s=this._frames.length;if(e<s+1&&e>0){for(r=e-1;r>=0;){if("keyframe"===this._frames[r].type){t=r+1;break}r-=1}for(r=e+1;r<=s-1;){if("keyframe"===this._frames[r].type){n=r+1;break}r+=1}}return t=t?t:0,n=n?n:this.frameCount,i=e-t<n-e?t:n},r._isKeyframeDiff=function(e){return this._compositor._isKeyframeDiff.apply(this._compositor,arguments)},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=i},{}],127:[function(e,t,n){"use strict";function i(e,t){this._compositor=e,this._superframeInterval=t||4}var r=i.prototype;r._getClosestSuperframe=function(e){return Math.round(e/this._superframeInterval)*this._superframeInterval},r.init=function(e){this._screenCanvas=e},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},r.calculateRenderCount=function(e,t){var n=this._getClosestSuperframe(e);return Math.abs(n-t)>this._superframeInterval/2?(e=n+(e>t?-1:1)*this._superframeInterval,this.calculateRenderCount(e,t)+1):Math.abs(n-t)+1},r.compositeFrames=function(e,t){var n,i;return(t<=0||t>=this.frameCount-2)&&this._compositor.compositeFrames(e,t),e>this.frameCount-2?e=this.frameCount-2:e<=0&&(e=1),i=this._getClosestSuperframe(e),n=this._compositor.calculateRenderCount(e,t)>this.calculateRenderCount(e,t)?this._compositor.compositeFrames(i,i).then(function(){var n=i+(e>t?-1:1)*this._superframeInterval;this._compositor.compositeFrames(i,n).then(function(){return this.compositeFrames(n,t)}.bind(this))}.bind(this)):this._compositor.compositeFrames(e,t).then(function(){}.bind(this)),n.then(function(){}.bind(this)),n},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=i},{}],128:[function(e,t,n){"use strict";function i(e,t){this.location=e,this.length=t}t.exports=i},{}],129:[function(e,t,n){"use strict";function i(){}t.exports=i},{}],130:[function(e,t,n){"use strict";var i,r=e("./Manifest"),s=e("./Block"),o={parseData:function(e){i=0;var t=e.frames.map(this._parseFrame,this);return Object.create(r.prototype,{version:{value:e.version},framecount:{value:e.frameCount},blockSize:{value:e.blockSize},imagesRequired:{value:e.imagesRequired},reversible:{value:e.reversible},superframeFrequency:{value:e.superframeFrequency},frames:{value:t}})},_valueForCharAt:function(e,t){var n=e.charCodeAt(t);return n>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:43===n?62:47===n?63:void 0},_createNumberFromBase64Range:function(e,t,n){for(var i,r=0;n--;)i=this._valueForCharAt(e,t++),r+=i<<6*n;return r},_parseFrame:function(e){var t,n,i,r=[],o=e.value,a=e.startImageIndex,c=e.startBlockIndex;if("keyframe"===e.type)return r.type="keyframe",r.width=e.width,r.height=e.height,r.x=e.x,r.y=e.y,r;for(t=0;t<o.length;t+=5)i=this._createNumberFromBase64Range(o,t,3),n=this._createNumberFromBase64Range(o,t+3,2),r.push(Object.create(s.prototype,{location:{value:i,enumerable:!0},length:{value:n,enumerable:!0},block:{value:(c+=n)-n,enumerable:!0},startImageIndex:{value:a,enumerable:!0}}));return r}};t.exports=o},{"./Block":128,"./Manifest":129}],131:[function(e,t,n){"use strict";function i(e){this.url=e}var r=e("@marcom/ac-asset-loader/assetLoader"),s=e("../processor"),o=i.prototype;o.load=function(){return r.load(this.url).then(function(e){var t;return e&&e.latest&&e.latest.data&&(t=s.parseData(e.latest.data),this._data=t),t}.bind(this))},t.exports=i},{"../processor":130,"@marcom/ac-asset-loader/assetLoader":26}],132:[function(e,t,n){"use strict";function i(e,t,n){this.flowData=e,this.flowData.imageUrlPattern=t,this._loadController=n}var r=i.prototype;r._storeImages=function(e){var t=e.assets.length;this.images=e.assets.map(function(e){return e.data}),this._blocksPerFullDiff=[],this._blockCountUpToIndex=[];for(var n=0,i=0;i<t;i++)this._blocksPerFullDiff[i]=this.images[i].width/this.flowData.blockSize*(this.images[i].height/this.flowData.blockSize),n+=this._blocksPerFullDiff[i],this._blockCountUpToIndex[i]=n},r._applyDiffRange=function(e,t){for(var n,i,r=t.block,s=t.length,o=e.canvas.width/this.flowData.blockSize,a=t.startImageIndex,c=this.images[a].width,u=r%this._blockCountUpToIndex[a],h=c/this.flowData.blockSize,l=u%h*this.flowData.blockSize,m=Math.floor(u/(h||1))*this.flowData.blockSize,f=t.location%o*this.flowData.blockSize,d=Math.floor(t.location/o)*this.flowData.blockSize;s;)n=Math.min(s*this.flowData.blockSize,e.canvas.width-f,c-l),i=n/this.flowData.blockSize,e.drawImage(this.images[a],l,m,n,this.flowData.blockSize,f,d,n,this.flowData.blockSize),s-=i,s&&((l+=n)>=c&&(l=0,m+=this.flowData.blockSize),(f+=n)>=e.canvas.width&&(f=0,d+=this.flowData.blockSize),r+=i)},r.init=function(){return this._loadController.loadDiffs().then(this._storeImages.bind(this))},r.renderDiff=function(e,t){var n=e.getContext("2d");t-=1;for(var i=0,r=this.frames[t].length;i<r;i++)this._applyDiffRange(n,this.frames[t][i])},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frames:{get:function(){return this.flowData.frames},set:function(e){this.flowData.frames=e},enumerable:!0}}),t.exports=i},{}],133:[function(e,t,n){"use strict";var i=e("@marcom/ac-object/defaults"),r=e("./Flow"),s=e("./Player"),o={keyframeCache:8,preload:!0},a={fileFormat:"jpg",baseName:"flow",imageUrlPattern:"###",startframeFileFormat:null,endframeFileFormat:null,basePath:null,manifestPath:null,manifestFileFormat:"json",diffPath:null,framePath:null},c=function(e){return e.lastIndexOf("/")!==e.length-1&&(e+="/"),e},u=function(e){var t=e.basePath?c(e.basePath):null,n=e.framePath?c(e.framePath):null,i=e.diffPath?c(e.diffPath):null,r=e.manifestPath?c(e.manifestPath):null,s=e.baseName+"_",o={};return o.startframe=(n||t)+s+"startframe."+(e.startframeFileFormat||e.fileFormat),o.endframe=(n||t)+s+"endframe."+(e.endframeFileFormat||e.fileFormat),o.imageUrlPattern=(i||t)+s+e.imageUrlPattern+"."+e.fileFormat,o.manifest=(r||t)+s+"manifest."+e.manifestFileFormat,o},h=function(e,t){var n=u(t),i=[n.startframe,n.endframe];return new r(e,n.manifest,i,n.imageUrlPattern)},l=function(e,t){var n=e||{},r=t||{};n=i(o,e),r=i(a,t),n.element||(e.element=document.createElement("canvas"));var c=h(n,r),u=new s(c,n.element);return n.preload&&u.load(),u};t.exports=l},{"./Flow":120,"./Player":122,"@marcom/ac-object/defaults":168}],134:[function(e,t,n){"use strict";function i(e,t){var n,i=e.match(/#/g).length;this._keyframes={},e=e.replace(/([^#]+)(#+)(\..*)/,"$1key_$2$3"),this._imageUrls=[],t.frames&&t.frames.forEach(function(t,r){"keyframe"===t.type&&(n="0000"+r,n=n.substring(n.length-i),this._imageUrls.push(e.replace(/#+/g,n)),this._keyframes[r]=t)}.bind(this))}var r=e("@marcom/ac-asset-loader/assetLoader"),s=i.prototype;s.load=function(){return this._imageUrls.length>0?r.load(this._imageUrls):Promise.resolve()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(s,{keyframes:{get:function(){return this._keyframes},enumerable:!0}}),t.exports=i},{"@marcom/ac-asset-loader/assetLoader":26}],135:[function(e,t,n){"use strict";function i(e,t){this.flowData=e,this.flowData.imageUrlPattern=t}var r=e("./Loader"),s=i.prototype;s._storeImages=function(e){var t,n=0;if(e&&e.assets.length>0)for(var i in this._loader._keyframes)this._loader._keyframes.hasOwnProperty(i)&&(t=e.assets[n],this._loader._keyframes[i].image=t.data,n+=1)},s.init=function(){return this._loader=new r(this.flowData.imageUrlPattern,this.flowData),this._loader.load().then(this._storeImages.bind(this))},s.renderKeyframe=function(e,t,n){var i=e.getContext("2d"),r=this._loader.keyframes[t],s=r.image,o=r.x,a=r.y,c=r.width,u=r.height;n===!0?i.drawImage(s,o,a,c,u,o,a,c,u):this.flowData.reversible?i.drawImage(s,0,0):i.drawImage(s,o,a,c,u)},t.exports=i},{"./Loader":134}],136:[function(e,t,n){"use strict";var i=function(){var e,t="";for(e=0;e<arguments.length;e++)e>0&&(t+=","),t+=arguments[e];return t};t.exports=function(e,t){t=t||i;var n=function r(){var n=arguments,i=t.apply(this,n);return i in r.cache||(r.cache[i]=e.apply(this,n)),r.cache[i]};return n.cache={},n}},{}],137:[function(e,t,n){"use strict";t.exports=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}}},{}],138:[function(e,t,n){"use strict";function i(e){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=e||document,s(this._context,u,this._DOMKeyDown,!0),s(this._context,h,this._DOMKeyUp,!0),r.call(this)}var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("@marcom/ac-dom-events/utils/addEventListener"),o=e("@marcom/ac-dom-events/utils/removeEventListener"),a=e("@marcom/ac-object/create"),c=e("./internal/KeyEvent"),u="keydown",h="keyup",l=i.prototype=a(r.prototype);l.onDown=function(e,t){return this.on(u+":"+e,t)},l.onceDown=function(e,t){return this.once(u+":"+e,t)},l.offDown=function(e,t){return this.off(u+":"+e,t)},l.onUp=function(e,t){return this.on(h+":"+e,t)},l.onceUp=function(e,t){return this.once(h+":"+e,t)},l.offUp=function(e,t){return this.off(h+":"+e,t)},l.isDown=function(e){return e+="",this._keysDown[e]||!1},l.isUp=function(e){return!this.isDown(e)},l.destroy=function(){return o(this._context,u,this._DOMKeyDown,!0),o(this._context,h,this._DOMKeyUp,!0),this._keysDown=null,this._context=null,r.prototype.destroy.call(this),this},l._DOMKeyDown=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyDown(n),this.trigger(u+":"+n,t)},l._DOMKeyUp=function(e){var t=this._normalizeKeyboardEvent(e),n=t.keyCode+="";this._trackKeyUp(n),this.trigger(h+":"+n,t)},l._normalizeKeyboardEvent=function(e){
return new c(e)},l._trackKeyUp=function(e){this._keysDown[e]&&(this._keysDown[e]=!1)},l._trackKeyDown=function(e){this._keysDown[e]||(this._keysDown[e]=!0)},t.exports=i},{"./internal/KeyEvent":140,"@marcom/ac-dom-events/utils/addEventListener":51,"@marcom/ac-dom-events/utils/removeEventListener":53,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-object/create":167}],139:[function(e,t,n){"use strict";var i=e("./Keyboard");t.exports=new i},{"./Keyboard":138}],140:[function(e,t,n){"use strict";function i(e){this.originalEvent=e;var t;for(t in e)r.indexOf(t)===-1&&"function"!=typeof e[t]&&(this[t]=e[t]);this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}var r=["keyLocation"];i.prototype={preventDefault:function(){return"function"!=typeof this.originalEvent.preventDefault?void(this.originalEvent.returnValue=!1):this.originalEvent.preventDefault()},stopPropagation:function(){return this.originalEvent.stopPropagation()}},t.exports=i},{}],141:[function(e,t,n){"use strict";t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},{}],142:[function(e,t,n){"use strict";var i=e("./ac-media-object/factories/createVideo"),r=e("./ac-media-object/factories/createFlow");t.exports={createFlow:r,createVideo:i}},{"./ac-media-object/factories/createFlow":143,"./ac-media-object/factories/createVideo":144}],143:[function(e,t,n){"use strict";var i=e("./../views/FlowView"),r=e("@marcom/ac-object/clone");t.exports=function(e,t,n){function s(e){throw new Error(e)}var o,a=r(n||{},!0);return a.type="flow",t?t.basePath||s("Please provide a valid mediaSrc object with a basePath property."):s("Please provide both a valid container element and a valid mediaSrc object as arguments."),a.mediaObjectView?o=a.mediaObjectView:(o=new i(e,t,a),o.options.mediaObjectView=o),o}},{"./../views/FlowView":147,"@marcom/ac-object/clone":166}],144:[function(e,t,n){"use strict";var i=e("./../views/VideoView"),r=e("./../views/InlinePolyfillVideoView"),s=e("@marcom/ac-feature").isHandheld,o=e("@marcom/ac-feature").isTablet,a=e("@marcom/ac-object/clone");t.exports=function(e,t,n){function c(e){throw new Error(e)}var u,h=a(n||{},!0);return h.type="video",t?t.basePath||c("Please provide a valid mediaSrc object with a basePath property."):c("Please provide both a valid container element and a valid mediaSrc object as arguments."),h.mediaObjectView?u=h.mediaObjectView:(u=h.iosInline&&!window.matchMedia("(-webkit-video-playable-inline)").matches&&(s()||o())?new r(e,t,h):new i(e,t,h),u.options.mediaObjectView=u),u}},{"./../views/InlinePolyfillVideoView":148,"./../views/VideoView":149,"@marcom/ac-feature":95,"@marcom/ac-object/clone":166}],145:[function(e,t,n){"use strict";function i(e){r.apply(this,arguments)}var r=e("@marcom/ac-mvc-model").Model,s=e("@marcom/ac-object"),o=i.prototype=s.create(r.prototype);o.defaultAttributes={type:"video",paused:!0,ended:!1,ready:!1,loadStart:!1,loaded:!1,error:!1,destroyed:!1,currentTime:0,playbackRate:1,duration:0,preload:!1,autoplay:!1,frameRate:24,enhanced:!1,looping:!1},o.getType=function(){return this.get("type")},o.getPaused=function(){return this.get("paused")},o.getEnded=function(){return this.get("ended")},o.getReady=function(){return this.get("ready")},o.getDestroyed=function(){return this.get("destroyed")},o.getLoadStart=function(){return this.get("loadedStart")},o.getLoaded=function(){return this.get("loaded")},o.getError=function(){return this.get("error")},o.getCurrentTime=function(){return this.get("currentTime")},o.getPlaybackRate=function(){return this.get("playbackRate")},o.getDuration=function(){return this.get("duration")},o.getPreload=function(){return this.get("preload")},o.getAutoplay=function(){return this.get("autoplay")},o.getFrameRate=function(){return this.get("frameRate")},o.getEnhanced=function(){return this.get("enhanced")},o.getLooping=function(){return this.get("looping")},o.setPaused=function(e){this.set({paused:e})},o.setEnded=function(e){this.set({ended:e})},o.setReady=function(e){this.set({ready:e})},o.setDestroyed=function(e){this.set({destroyed:e})},o.setDuration=function(e){this.set({duration:e})},o.setLoadStart=function(e){this.set({loadStart:e})},o.setLoaded=function(e){this.set({loaded:e})},o.setError=function(e){this.set({error:e})},o.setCurrentTime=function(e){this.set({currentTime:e})},o.setPlaybackRate=function(e){this.set({playbackRate:e})},o.setPreload=function(e){this.set({preload:e})},o.setAutoplay=function(e){this.set({autoplay:e})},o.setFrameRate=function(e){this.set({frameRate:e})},o.setEnhanced=function(e){this.set({enhanced:e})},o.setLooping=function(e){this.set({looping:e})},t.exports=i},{"@marcom/ac-mvc-model":161,"@marcom/ac-object":165}],146:[function(e,t,n){"use strict";var i=e("./../models/MediaModel"),r=e("@marcom/ac-mvc-view").View,s=e("@marcom/ac-object"),o=function(e,t,n){r.call(this,{element:e}),this.options=s.clone(n||{},!0),this.mediaSrc=t||"",this.model=this.options.model||new i(this.options),this._onLoadStartChange=this._onLoadStartChange.bind(this),this._onLoadedChange=this._onLoadedChange.bind(this),this._onPausedChange=this._onPausedChange.bind(this),this._onReadyChange=this._onReadyChange.bind(this),this._onErrorChange=this._onErrorChange.bind(this),this._onEnhancedChange=this._onEnhancedChange.bind(this),this._onCurrentTimeChange=this._onCurrentTimeChange.bind(this),this._onPlaybackRateChange=this._onPlaybackRateChange.bind(this),this._onDestroyedChange=this._onDestroyedChange.bind(this),this._onEndedChange=this._onEndedChange.bind(this),this._respondToPlay=this._respondToPlay.bind(this),this._respondToPause=this._respondToPause.bind(this),this._respondToTimeUpdate=this._respondToTimeUpdate.bind(this),this._respondToEnded=this._respondToEnded.bind(this),this._respondToDurationChange=this._respondToDurationChange.bind(this),this._respondToRateChange=this._respondToRateChange.bind(this),this._init()},a=o.prototype=s.create(r.prototype);a._init=function(){this._createMediaElement(),this._createMediaEmitter(),this._createMediaLoader(),this._bindEvents(),this._config()},a._createMediaElement=function(){},a._createMediaEmitter=function(){},a._createMediaLoader=function(){},a._config=function(){this.options.preload===!0&&(this._setPreload(!0),this.load()),this.options.autoplay===!0&&this._setAutoplay(!0),this.options.looping===!0&&this._setLooping(!0),this.options.frameRate&&this._setFrameRate(this.options.frameRate)},a._bindEvents=function(){this._bindViewEvents(),this._bindModelEvents()},a.destroy=function(){if(!this.getDestroyed()){this._destroy(),this._setDestroyed(!0),this.model.off(),this.off();for(var e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&(this[e]=null)}},a._bindModelEvents=function(){this.model.on("change:loadStart",this._onLoadStartChange),this.model.on("change:loaded",this._onLoadedChange),this.model.on("change:paused",this._onPausedChange),this.model.on("change:ready",this._onReadyChange),this.model.on("change:error",this._onErrorChange),this.model.on("change:enhanced",this._onEnhancedChange),this.model.on("change:currentTime",this._onCurrentTimeChange),this.model.on("change:playbackRate",this._onPlaybackRateChange),this.model.on("change:destroyed",this._onDestroyedChange),this.model.on("change:ended",this._onEndedChange)},a._onLoadStartChange=function(){this.trigger("loadstart")},a._onLoadedChange=function(){this.trigger("loaded")},a._onPausedChange=function(e){e.value===!0?(this.trigger("pause"),this.el.classList.remove("mediaobject-playing")):(this.trigger("play"),this.el.classList.remove("mediaobject-ended"),this.el.classList.add("mediaobject-playing"))},a._onReadyChange=function(){this.trigger("ready")},a._onErrorChange=function(){this.trigger("error")},a._onEnhancedChange=function(){this.el.classList.add("mediaobject-enhanced"),this.mediaElement.classList.add("mediaobject-element"),this.trigger("enhanced")},a._onCurrentTimeChange=function(){this.trigger("timeupdate")},a._onPlaybackRateChange=function(){this.trigger("ratechange")},a._onDestroyedChange=function(){this.el.classList.remove("mediaobject-playing"),this.el.classList.remove("mediaobject-ended"),this.el.classList.remove("mediaobject-enhanced"),this.el.classList.add("mediaobject-destroyed"),this.trigger("destroyed")},a._onEndedChange=function(e){e.value===!0&&this.trigger("ended")},a._bindViewEvents=function(){this.mediaEmitter&&(this.mediaEmitter.on("play",this._respondToPlay),this.mediaEmitter.on("pause",this._respondToPause),this.mediaEmitter.on("timeupdate",this._respondToTimeUpdate),this.mediaEmitter.on("ended",this._respondToEnded),this.mediaEmitter.on("durationchange",this._respondToDurationChange),this.mediaEmitter.on("ratechange",this._respondToRateChange))},a._respondToPlay=function(){this.model.set({ended:!1,paused:!1})},a._respondToPause=function(){this.model.setPaused(!0)},a._respondToTimeUpdate=function(){var e=0;if(this.mediaElement.currentTime)e=this.mediaElement.currentTime;else{if(!this.mediaEmitter.currentTime)return;e=this.mediaEmitter.currentTime}this.getCurrentTime()!==e&&this.model.set({currentTime:e})},a._respondToEnded=function(){this.model.set({ended:!0,paused:!0}),this.el.classList.remove("mediaobject-playing"),this.el.classList.add("mediaobject-ended")},a._respondToDurationChange=function(){var e=0;if(this.mediaElement.duration)e=this.mediaElement.duration;else{if(!this.mediaEmitter.duration)return;e=this.mediaEmitter.duration}this.model.set({duration:e})},a._respondToRateChange=function(){var e=0;if(this.mediaElement.playbackRate)e=this.mediaElement.playbackRate;else{if(!this.mediaEmitter.playbackRate)return;e=this.mediaEmitter.playbackRate}this.model.set({playbackRate:e})},a.enhance=function(){},a.play=function(){},a.pause=function(){},a.reset=function(){},a.setCurrentTime=function(e){},a.setPlaybackRate=function(e){},a.goToFrame=function(e){var t=e/this.model.frameRate;return this.setCurrentTime(t)},a.goToPercent=function(e){var t=e*this.getDuration();return this.setCurrentTime(t)},a._setReady=function(e){this.model.setReady(e)},a._setLoadStart=function(e){this.model.setLoadStart(e)},a._setLoaded=function(e){this.model.setLoaded(e)},a._setError=function(e){this.model.setError(e)},a._setDuration=function(e){this.model.setDuration(e)},a._setPreload=function(e){this.model.setPreload(e)},a._setAutoplay=function(e){this.model.setAutoplay(e)},a._setFrameRate=function(e){this.model.setFrameRate(e)},a._setEnhanced=function(e){this.model.setEnhanced(e)},a._setDestroyed=function(e){this.model.setDestroyed(e)},a._setLooping=function(e){},a._destroy=function(){},a.getType=function(){return this.model.getType()},a.getPaused=function(){return this.model.getPaused()},a.getEnded=function(){return this.model.getEnded()},a.getReady=function(){return this.model.getReady()},a.getLoadStart=function(){return this.model.getLoadStart()},a.getLoaded=function(){return this.model.getLoaded()},a.getError=function(){return this.model.getError()},a.getDuration=function(){return this.model.getDuration()},a.getEnhanced=function(){return this.model.getEnhanced()},a.getCurrentTime=function(){return this.model.getCurrentTime()},a.getCurrentFrame=function(){return Math.floor(this.getCurrentTime()*this.options.frameRate)},a.getCurrentPercent=function(){return this.model.getCurrentTime()/this.getDuration()||0},a.getPlaybackRate=function(){return this.model.getPlaybackRate()},a.getFrameRate=function(){return this.model.getFrameRate()},a.getPreload=function(){return this.model.getPreload()},a.getAutoplay=function(){return this.model.getAutoplay()},a.getLooping=function(){return this.model.getLooping()},a.getDestroyed=function(){return!this.model||this.model.getDestroyed()},t.exports=o},{"./../models/MediaModel":145,"@marcom/ac-mvc-view":163,"@marcom/ac-object":165}],147:[function(e,t,n){"use strict";var i=e("./BaseView"),r=e("@marcom/ac-dom-nodes"),s=e("@marcom/ac-flow").createFlow,o=e("@marcom/ac-raf-emitter/draw"),a=function(e,t,n){i.call(this,e,t,n),this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this),this._onReady=this._onReady.bind(this)},c=a.prototype=Object.create(i.prototype);c._createMediaElement=function(){this.mediaElement=document.createElement("canvas")},c._createMediaEmitter=function(){this.flowOptions={element:this.mediaElement,preload:!1,keyframeCache:this.options.keyframeCache||!1},this.mediaEmitter=s(this.flowOptions,this.mediaSrc)},c._createMediaLoader=function(){this.mediaLoader=this.mediaEmitter},c.load=function(){this._setLoadStart(!0),this.mediaLoader.once("loaded",this._onLoad),this.mediaLoader.once("error",this._onError),this.mediaEmitter.once("canplaythrough",this._onReady),this.loaded||this.mediaLoader.load()["catch"](this._onError)},c._onLoad=function(){this._setLoaded(!0)},c._onError=function(){this.model&&this._setError(!0)},c._onReady=function(){this._setReady(!0),this._setDuration(this.mediaEmitter.duration),this.setPlaybackRate(this.getPlaybackRate()),this._totalFrames=this._getTotalFrames(),this.getAutoplay()&&(this.getEnhanced===!1&&this.enhance(),this.play())},c._getTotalFrames=function(){return this.getDuration()*this.getFrameRate()},c.enhance=function(){this._setEnhanced(!0),o(function(){this.mediaElement&&this._inject()}.bind(this))},c._inject=function(){r.insertFirstChild(this.mediaElement,this.el)},c._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.destroy()},c._remove=function(){r.remove(this.mediaElement)},c.play=function(){this.model.getPaused()!==!1&&(this.mediaEmitter.currentTime>=this.getDuration()&&this.setCurrentTime(0),this.getReady()&&null!==this.mediaEmitter&&this.mediaEmitter.play())},c.pause=function(){this.model.getPaused()!==!0&&this.mediaEmitter.pause()},c.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},c.setCurrentTime=function(e){e<0&&(e=0),e>this.getDuration()&&(e=this.getDuration()),this.mediaEmitter.currentTime=e},c.setPlaybackRate=function(e){this.mediaEmitter.playbackRate=e},c._setLooping=function(e){this.mediaEmitter.loop=e,this.model.setLooping(e)},t.exports=a},{"./BaseView":146,"@marcom/ac-dom-nodes":62,"@marcom/ac-flow":119,"@marcom/ac-raf-emitter/draw":200}],148:[function(e,t,n){"use strict";var i=e("./VideoView"),r=i.prototype,s=e("@marcom/ac-raf-emitter/RAFEmitter"),o=function(e,t,n){i.call(this,e,t,n),this._polyfillRAFEmitter=n.polyfillRAFEmitter||new s,this._boundHandlePolyfillRAFEmitterDraw=this._handlePolyfillRAFEmitterDraw.bind(this),this._polyfillRAFEmitter.on("draw",this._boundHandlePolyfillRAFEmitterDraw)},a=o.prototype=Object.create(i.prototype);a._initInlineVideo=function(){r._initInlineVideo.apply(this,arguments),this._shouldLoop=!1},a._destroy=function(){r._destroy.apply(this,arguments),this._polyfillRAFEmitter&&(this._polyfillRAFEmitter.destroy(),this._polyfillRAFEmitter=null)},a.play=function(){this.model.getPaused()!==!1&&(this.model.setPaused(!1),this._polyfillRAFEmitter.run())},a.pause=function(){this.model.getPaused()!==!0&&(this.model.setPaused(!0),this._polyfillRAFEmitter.cancel())},a.setCurrentTime=function(e){r.setCurrentTime.apply(this,arguments),this._polyfillRAFEmitter.run()},a._handlePolyfillRAFEmitterDraw=function(e){var t=this.model.getCurrentTime(),n=this.model.getPlaybackRate(),i=this.mediaElement.duration,r=e.delta/1e3*n;if(!this.model.getPaused()){t+=r;var s=t<=0,o=t>=i,a=n>=0,c=n<0;if(s&&(t=0),o&&(t=i),this._shouldLoop)return this._shouldLoop=!1,void(a?this.setCurrentTime(r):this.setCurrentTime(i-r));this.setCurrentTime(t),(s&&c||o&&a)&&(this.model.getLooping()?this._shouldLoop=!0:(this.pause(),this.model.setEnded(!0)))}},t.exports=o},{"./VideoView":149,"@marcom/ac-raf-emitter/RAFEmitter":196}],149:[function(e,t,n){"use strict";var i=e("./BaseView"),r=i.prototype,s=e("@marcom/ac-raf-emitter/draw"),o=e("@marcom/ac-dom-nodes"),a=e("@marcom/ac-dom-emitter").DOMEmitter,c=e("@marcom/ac-dom-styles"),u=e("@marcom/ac-asset-loader").assetLoader,h=e("@marcom/ac-useragent"),l=e("@marcom/ac-feature").isHandheld,m=e("@marcom/ac-feature").isTablet,f=function(e,t,n){this.srcForVideoEl=null,this._cannotPlayInlineVideo=null,this._onLoaded=this._onLoaded.bind(this),this._onReady=this._onReady.bind(this),i.call(this,e,t,n),n.iosInline&&this._initInlineVideo()},d=f.prototype=Object.create(i.prototype);d.inlineClassName="mediaobject-ios-inline-video",d.inlineAttribute="playsinline",d._cannotPlayInlineVideo=null,d._initInlineVideo=function(){this.mediaElement.hasAttribute("controls")&&this.mediaElement.removeAttribute("controls"),this.mediaElement.setAttribute(this.inlineAttribute,""),this.mediaElement.classList.add(this.inlineClassName)},d._createMediaElement=function(){this.mediaElement=document.createElement("video"),this._muteMediaElement(this.mediaElement)},d._muteMediaElement=function(e){e.setAttribute("muted",""),e.muted=!0},d._createMediaEmitter=function(){this.mediaEmitter=new a(this.mediaElement)},d._createMediaLoader=function(){var e;if(this.mediaSrc.basePath=this._forceTrailingSlash(this.mediaSrc.basePath),this.mediaSrc.splitFileLoading){e=this.mediaSrc.basePath;var t={src:e,type:"splitfile"};this.mediaLoader=u.createAssetGroup(t)}else this.mediaSrc.fileFormat=this._checkFileFormat(this.mediaSrc.fileFormat),e=this.mediaSrc.basePath+this.mediaSrc.filename+this.mediaSrc.fileFormat,this.srcForVideoEl=e},d._forceTrailingSlash=function(e){return e&&e.lastIndexOf("/")!==e.length-1&&(e+="/"),e},d._checkFileFormat=function(e){return e&&0!==e.lastIndexOf(".")&&(e="."+e),e},d.load=function(){if(this._setLoadStart(!0),this.mediaSrc.splitFileLoading){var e=function(e){var t=window.URL.createObjectURL(e.latest.data);this.mediaEmitter&&(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=t,this.mediaElement.load(),this.mediaLoader.destroy()}.bind(this);this.mediaLoader.load().then(e)["catch"](this._setError.bind(this,!0))}else this.cannotPlayInlineVideo()||(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=this.srcForVideoEl,this.cannotPlayInlineVideo()?this._onLoaded():(this.mediaElement.addEventListener("error",this._setError.bind(this,!0)),this.mediaElement.load())},d._onLoaded=function(){this._setLoaded(!0)},d.cannotPlayInlineVideo=function(){if(null!==this._cannotPlayInlineVideo)return this._cannotPlayInlineVideo;var e="iOS"===h.os&&l(),t="iOS"===h.os&&m()&&h.version<8;return this._cannotPlayInlineVideo=e||t,this._cannotPlayInlineVideo},d._onReady=function(){this._setReady(!0),this.getAutoplay()&&(this.getEnhanced()||this.enhance(),this.play())},d.enhance=function(){this._setEnhanced(!0),s(function(){"VIDEO"===this.mediaElement.tagName&&(o.insertLastChild(this.mediaElement,this.el),c.setStyle(this.mediaElement,{visibility:"hidden"}),s(function(){this.mediaElement&&(this.setPlaybackRate(this.getPlaybackRate()),c.setStyle(this.mediaElement,{visibility:"visible"}))}.bind(this)))}.bind(this))},d._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.off(),this.mediaLoader&&this.mediaLoader.destroy()},d._remove=function(){o.remove(this.mediaElement)},d._onEndedChange=function(e){r._onEndedChange.call(this,e),this.model.getPaused()||this.mediaElement.pause(),"iOS"===h.os&&l()&&e.value===!0&&this.mediaElement.webkitExitFullScreen()},d.play=function(){if(this.model.getPaused()!==!1){var e=this.mediaElement.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e.then(function(){})["catch"](function(){})}},d.pause=function(){this.model.getPaused()!==!0&&this.mediaElement.pause()},d.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},d.setCurrentTime=function(e){this.mediaElement.duration&&(this.model.setCurrentTime(e),this.mediaElement.currentTime=e)},d.setPlaybackRate=function(e){this.mediaElement.playbackRate=e},d._setLooping=function(e){this.mediaElement.loop=e,this.model.setLooping(e)},t.exports=f},{"./BaseView":146,"@marcom/ac-asset-loader":25,"@marcom/ac-dom-emitter":41,"@marcom/ac-dom-nodes":62,"@marcom/ac-dom-styles":83,"@marcom/ac-feature":95,"@marcom/ac-raf-emitter/draw":200,"@marcom/ac-useragent":206}],150:[function(e,t,n){"use strict";t.exports={Modal:e("./ac-modal-basic/Modal"),Renderer:e("./ac-modal-basic/Renderer"),classNames:e("./ac-modal-basic/classNames"),dataAttributes:e("./ac-modal-basic/dataAttributes")}},{"./ac-modal-basic/Modal":151,"./ac-modal-basic/Renderer":152,"./ac-modal-basic/classNames":153,"./ac-modal-basic/dataAttributes":154}],151:[function(e,t,n){"use strict";function i(e,t){u.call(this),this.options=o.defaults(l,e),this.renderer=new h(t),this.opened=!1,this._keysToClose=[c.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}var r={addEventListener:e("@marcom/ac-dom-events/addEventListener"),removeEventListener:e("@marcom/ac-dom-events/removeEventListener"),target:e("@marcom/ac-dom-events/target")},s={getScrollX:e("@marcom/ac-dom-metrics/getScrollX"),getScrollY:e("@marcom/ac-dom-metrics/getScrollY")},o={create:e("@marcom/ac-object/create"),defaults:e("@marcom/ac-object/defaults")},a=e("@marcom/ac-keyboard"),c=e("@marcom/ac-keyboard/keyMap"),u=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,h=e("./Renderer"),l={retainScrollPosition:!1},m=i.prototype=o.create(u.prototype);m.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},m.close=function(e){var t,n;if(this.opened){if(e&&"click"===e.type&&(t=r.target(e),n=this.renderer.options.dataAttributes.close,!t.hasAttribute(n)))return;this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close")}},m.render=function(){this.renderer.render()},m.appendContent=function(e,t){this.renderer.appendContent(e,t)},m.removeContent=function(e){this.renderer.removeContent(e)},m.destroy=function(){this._removeEvents(),this.renderer.destroy();for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},m.addKeyToClose=function(e){var t=this._keysToClose.indexOf(e);t===-1&&(this._keysToClose.push(e),this._bindKeyToClose(e))},m.removeKeyToClose=function(e){var t=this._keysToClose.indexOf(e);t!==-1&&this._keysToClose.splice(t,1),this._releaseKeyToClose(e)},m._bindKeyToClose=function(e){var t=this._attachedKeysToClose.indexOf(e);t===-1&&(a.onUp(e,this.close),this._attachedKeysToClose.push(e))},m._releaseKeyToClose=function(e){var t=this._attachedKeysToClose.indexOf(e);t!==-1&&(a.offUp(e,this.close),this._attachedKeysToClose.splice(t,1))},m._removeEvents=function(){this.renderer.modalElement&&r.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},m._attachEvents=function(){this.renderer.modalElement&&r.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},m._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},m._saveScrollPosition=function(){this._scrollX=s.getScrollX(),this._scrollY=s.getScrollY()},t.exports=i},{"./Renderer":152,"@marcom/ac-dom-events/addEventListener":44,"@marcom/ac-dom-events/removeEventListener":47,"@marcom/ac-dom-events/target":50,"@marcom/ac-dom-metrics/getScrollX":54,"@marcom/ac-dom-metrics/getScrollY":55,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-keyboard":139,"@marcom/ac-keyboard/keyMap":141,"@marcom/ac-object/create":167,"@marcom/ac-object/defaults":168}],152:[function(e,t,n){"use strict";var i={add:e("@marcom/ac-classlist/add"),remove:e("@marcom/ac-classlist/remove")},r={defaults:e("@marcom/ac-object/defaults")},s={remove:e("@marcom/ac-dom-nodes/remove"),isElement:e("@marcom/ac-dom-nodes/isElement")},o=e("./classNames"),a=e("./dataAttributes"),c={modalElement:null,contentElement:null,closeButton:null,classNames:o,dataAttributes:a},u=function(e){e=e||{},this.options=r.defaults(c,e),this.options.classNames=r.defaults(c.classNames,e.classNames),this.options.dataAttributes=r.defaults(c.dataAttributes,e.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton},h=u.prototype;h.render=function(){return s.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),s.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),this.closeButton!==!1&&(s.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},h.renderCloseButton=function(e){var t;return e=e||this.options.classNames.closeButton,t=this._renderElement("button",e),t.setAttribute(this.options.dataAttributes.close,""),t},h.renderModalElement=function(e){return e=e||this.options.classNames.modalElement,this._renderElement("div",e)},h.renderContentElement=function(e){return e=e||this.options.classNames.contentElement,this._renderElement("div",e)},h.appendContent=function(e,t){s.isElement(e)&&(void 0===arguments[1]?this.contentElement.appendChild(e):s.isElement(t)&&t.appendChild(e))},h.removeContent=function(e){e?this.modalElement.contains(e)&&s.remove(e):this._emptyContent()},h.open=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);i.add.apply(null,e),i.add.apply(null,t)},h.close=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement),t=[this.modalElement].concat(this.options.classNames.modalOpen);i.remove.apply(null,e),i.remove.apply(null,t)},h.destroy=function(){var e=[document.documentElement].concat(this.options.classNames.documentElement);this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),i.remove.apply(null,e);for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)},h._renderElement=function(e,t){var n=document.createElement(e),r=[n];return t&&(r=r.concat(t)),i.add.apply(null,r),n},h._emptyContent=function(){this.contentElement.innerHTML=""},t.exports=u},{"./classNames":153,"./dataAttributes":154,"@marcom/ac-classlist/add":32,"@marcom/ac-classlist/remove":37,"@marcom/ac-dom-nodes/isElement":77,"@marcom/ac-dom-nodes/remove":81,"@marcom/ac-object/defaults":168}],153:[function(e,t,n){"use strict";t.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},{}],154:[function(e,t,n){"use strict";t.exports={close:"data-modal-close"}},{}],155:[function(e,t,n){"use strict";t.exports={Modal:e("./ac-modal/Modal"),createStandardModal:e("./ac-modal/factory/createStandardModal"),createFullViewportModal:e("./ac-modal/factory/createFullViewportModal")}},{"./ac-modal/Modal":156,"./ac-modal/factory/createFullViewportModal":157,"./ac-modal/factory/createStandardModal":158}],156:[function(e,t,n){"use strict";function i(e){s.call(this),this.options=e||{},this._modal=new r(e,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.modalElement.setAttribute("aria-label","Modal"),this.modalElement.setAttribute("aria-modal","true"),this.modalElement.setAttribute("tabindex","-1"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new o(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}var r=e("@marcom/ac-modal-basic").Modal,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-accessibility/CircularTab"),a=i.prototype=Object.create(s.prototype);a.open=function(){this._modal.open(),this.opened=this._modal.opened},a.close=function(){this._modal.close()},a.appendContent=function(e){this._modal.appendContent(e)},a.removeContent=function(e){this._modal.removeContent(e)},a.destroy=function(){this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null;for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},a.addKeyToClose=function(e){this._modal.addKeyToClose(e)},a.removeKeyToClose=function(e){this._modal.removeKeyToClose(e)},a._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},a._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},a._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},a._onWillOpen=function(){this.trigger("willopen")},a._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},a._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},a._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},a._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,setTimeout(function(){this.modalElement.focus()}.bind(this),300),this._circularTab.start()},a._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},t.exports=i},{"@marcom/ac-accessibility/CircularTab":1,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-modal-basic":150}],157:[function(e,t,n){"use strict";function i(e,t){var n=new r(o),i=t||{};return e&&n.appendContent(e),i.removeContainerPadding&&n.modalElement.classList.add("remove-container-padding"),n}var r=e("../Modal"),s=e("@marcom/ac-modal-basic").classNames,o={retainScrollPosition:!0,renderer:{classNames:{documentElement:[s.documentElement].concat("has-modal-full-viewport"),modalElement:[s.modalElement].concat("modal-full-viewport")}}};t.exports=i},{"../Modal":156,"@marcom/ac-modal-basic":150}],158:[function(e,t,n){"use strict";function i(e){var t=new r(c);e&&t.appendContent(e);var n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div");return a.add(n,"content-table"),a.add(i,"content-cell"),a.add(s,"content-wrapper"),a.add(u,"content-padding","large-8","medium-10"),t.modalElement.setAttribute(o.close,""),s.setAttribute(o.close,""),i.setAttribute(o.close,""),n.appendChild(i),i.appendChild(s),s.appendChild(u),t.modalElement.appendChild(n),u.appendChild(t.contentElement),u.appendChild(t.closeButton),t}var r=e("../Modal"),s=e("@marcom/ac-modal-basic").classNames,o=e("@marcom/ac-modal-basic").dataAttributes,a={
add:e("@marcom/ac-classlist/add")},c={renderer:{classNames:{documentElement:[s.documentElement].concat("has-modal-standard"),modalElement:[s.modalElement].concat("modal-standard")}}};t.exports=i},{"../Modal":156,"@marcom/ac-classlist/add":32,"@marcom/ac-modal-basic":150}],159:[function(e,t,n){"use strict";t.exports={CID:e("./ac-mvc-cid/CID")}},{"./ac-mvc-cid/CID":160}],160:[function(e,t,n){"use strict";function i(){this._idCount=0}var r=e("@marcom/ac-shared-instance").SharedInstance,s="ac-mvc-cid:CID",o="1.0.0",a=i.prototype;a._cidPrefix="cid",a.getNewCID=function(){var e=this._cidPrefix+"-"+this._idCount;return this._idCount++,e},t.exports=r.share(s,o,i)},{"@marcom/ac-shared-instance":203}],161:[function(e,t,n){"use strict";t.exports={Model:e("./ac-mvc-model/Model")}},{"./ac-mvc-model/Model":162}],162:[function(e,t,n){"use strict";function i(e){s.call(this),this.attributes=o(this.defaultAttributes,e||{}),this.cid=c.getNewCID(),this.attributes[this.idAttribute]&&(this.id=this.attributes[this.idAttribute])}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-object/defaults"),a=e("@marcom/ac-object/create"),c=e("@marcom/ac-mvc-cid").CID,u=s.prototype,h=i.prototype=a(u);h.defaultAttributes={},h.idAttribute="id",h.get=function(e){if(this.attributes)return this.attributes[e]},h.set=function(e,t){if(this.attributes){var n,i,s,o={},a=!1;for(n in e)if(e.hasOwnProperty(n)){if(s=this.get(n),s===e[n]||"object"===("undefined"==typeof s?"undefined":r(s))&&"object"===r(e[n])&&JSON.stringify(s)===JSON.stringify(e[n]))continue;a=!0,this.attributes[n]=e[n],i={value:e[n],previous:s},o[n]=i,this._triggerChange(n,i,t)}a&&this._trigger("change",o,t)}},h.hasAttribute=function(e){return!!this.attributes&&void 0!==this.attributes[e]},h.eachAttribute=function(e,t){if(this.attributes){var n;for(n in this.attributes)this.attributes.hasOwnProperty(n)&&e.call(t,{attribute:n,value:this.attributes[n]})}},h.destroy=function(){this.trigger("destroy"),u.destroy.call(this);var e;for(e in this)this.hasOwnProperty(e)&&(this[e]=null)},h._trigger=function(e,t,n){n=n||{},n.silent!==!0&&this.trigger(e,t)},h._triggerChange=function(e,t,n){return this._trigger("change:"+e,t,n)},t.exports=i},{"@marcom/ac-event-emitter-micro":93,"@marcom/ac-mvc-cid":159,"@marcom/ac-object/create":167,"@marcom/ac-object/defaults":168}],163:[function(e,t,n){"use strict";t.exports={View:e("./ac-mvc-view/View")}},{"./ac-mvc-view/View":164}],164:[function(e,t,n){"use strict";function i(e){var t,n,i;this.options=a.defaults(this.defaultOptions,e||{}),this.cid=o.getNewCID(),this.model=this.options.model,this.options.template&&(this.template=this.options.template),t=this.options.tagName||this.tagName,n=this.options.element,i=this.options.className||this.className,n||(n=document.createElement(t)),s.call(this,n),i&&this.addClassName(i),this.options.events&&this.delegateEvents(this.options.events)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e("@marcom/ac-dom-emitter").DOMEmitter,o=e("@marcom/ac-mvc-cid").CID,a={create:e("@marcom/ac-object/create"),defaults:e("@marcom/ac-object/defaults")},c={insertLastChild:e("@marcom/ac-dom-nodes/insertLastChild"),remove:e("@marcom/ac-dom-nodes/remove")},u=e("@marcom/ac-classlist/add"),h=e("@marcom/ac-classlist/remove"),l=i.prototype=a.create(s.prototype);l.tagName="div",l.defaultOptions={},l.getTagName=function(){return this.el.tagName.toLowerCase()},l.appendTo=function(e){return c.insertLastChild(this.el,e),this},l.render=function(){},l.addClassName=function(e){return this._manipulateClassName(e,u)},l.removeClassName=function(e){return this._manipulateClassName(e,h)},l.destroy=function(){this.emitterTrigger("destroy"),this.off(),c.remove(this.el);var e;for(e in this)this.hasOwnProperty(e)&&(this[e]=null)},l.delegateEvents=function(e,t){t=t||this;var n,i;for(n in e)e.hasOwnProperty(n)&&(i=e[n],"string"==typeof i&&(e[n]=this[e[n]]));return this.on(e,t),this},l._manipulateClassName=function(e,t){var n;if("string"==typeof e)n=e.split(" ");else{if("object"!==("undefined"==typeof e?"undefined":r(e))||!Array.isArray(e))return this;n=e.slice()}return n.unshift(this.el),t.apply(this.el,n),this},t.exports=i},{"@marcom/ac-classlist/add":32,"@marcom/ac-classlist/remove":37,"@marcom/ac-dom-emitter":41,"@marcom/ac-dom-nodes/insertLastChild":70,"@marcom/ac-dom-nodes/remove":81,"@marcom/ac-mvc-cid":159,"@marcom/ac-object/create":167,"@marcom/ac-object/defaults":168}],165:[function(e,t,n){"use strict";t.exports={clone:e("./clone"),create:e("./create"),defaults:e("./defaults"),extend:e("./extend"),getPrototypeOf:e("./getPrototypeOf"),isDate:e("./isDate"),isEmpty:e("./isEmpty"),isRegExp:e("./isRegExp"),toQueryParameters:e("./toQueryParameters")}},{"./clone":166,"./create":167,"./defaults":168,"./extend":169,"./getPrototypeOf":170,"./isDate":171,"./isEmpty":172,"./isRegExp":173,"./toQueryParameters":174}],166:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e("@marcom/ac-polyfills/Array/isArray");var r=e("./extend"),s=Object.prototype.hasOwnProperty,o=function a(e,t){var n;for(n in t)s.call(t,n)&&(null===t[n]?e[n]=null:"object"===i(t[n])?(e[n]=Array.isArray(t[n])?[]:{},a(e[n],t[n])):e[n]=t[n]);return e};t.exports=function(e,t){return t?o({},e):r({},e)}},{"./extend":169,"@marcom/ac-polyfills/Array/isArray":void 0}],167:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){};t.exports=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e||"object"!==("undefined"==typeof e?"undefined":i(e)))throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(e):(r.prototype=e,new r)}},{}],168:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("./extend");t.exports=function(e,t){if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new TypeError("defaults: must provide a defaults object");if(t=t||{},"object"!==("undefined"==typeof t?"undefined":i(t)))throw new TypeError("defaults: options must be a typeof object");return r({},e,t)}},{"./extend":169}],169:[function(e,t,n){"use strict";e("@marcom/ac-polyfills/Array/prototype.forEach");var i=Object.prototype.hasOwnProperty;t.exports=function(){var e,t;return e=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),t=e.shift(),e.forEach(function(e){if(null!=e)for(var n in e)i.call(e,n)&&(t[n]=e[n])}),t}},{"@marcom/ac-polyfills/Array/prototype.forEach":void 0}],170:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.prototype.hasOwnProperty;t.exports=function(e){if(Object.getPrototypeOf)return Object.getPrototypeOf(e);if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new Error("Requested prototype of a value that is not an object.");if("object"===i(this.__proto__))return e.__proto__;var t,n=e.constructor;if(r.call(e,"constructor")){if(t=n,!delete e.constructor)return null;n=e.constructor,e.constructor=t}return n?n.prototype:null}},{}],171:[function(e,t,n){"use strict";t.exports=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},{}],172:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.prototype.hasOwnProperty;t.exports=function(e){var t;if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object");for(t in e)if(r.call(e,t))return!1;return!0}},{}],173:[function(e,t,n){"use strict";t.exports=function(e){return!!window.RegExp&&e instanceof RegExp}},{}],174:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("@marcom/ac-url/joinSearchParams");t.exports=function(e){if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new TypeError("toQueryParameters error: argument is not an object");return r(e,!1)}},{"@marcom/ac-url/joinSearchParams":205}],175:[function(e,t,n){"use strict";var i=e("./utils/eventTypeAvailable"),r=e("./shared/camelCasedEventTypes"),s=e("./shared/windowFallbackEventTypes"),o=e("./shared/prefixHelper"),a={};t.exports=function c(e,t){var n,u,h;if(t=t||"div",e=e.toLowerCase(),t in a||(a[t]={}),u=a[t],e in u)return u[e];if(i(e,t))return u[e]=e;if(e in r)for(h=0;h<r[e].length;h++)if(n=r[e][h],i(n.toLowerCase(),t))return u[e]=n;for(h=0;h<o.evt.length;h++)if(n=o.evt[h]+e,i(n,t))return o.reduce(h),u[e]=n;return"window"!==t&&s.indexOf(e)?u[e]=c(e,"window"):u[e]=!1}},{"./shared/camelCasedEventTypes":179,"./shared/prefixHelper":181,"./shared/windowFallbackEventTypes":184,"./utils/eventTypeAvailable":186}],176:[function(e,t,n){"use strict";var i=e("./shared/stylePropertyCache"),r=e("./getStyleProperty"),s=e("./getStyleValue");t.exports=function(e,t){var n;if(e=r(e),!e)return!1;if(n=i[e].css,"undefined"!=typeof t){if(t=s(e,t),t===!1)return!1;n+=":"+t+";"}return n}},{"./getStyleProperty":177,"./getStyleValue":178,"./shared/stylePropertyCache":182}],177:[function(e,t,n){"use strict";var i=e("./shared/stylePropertyCache"),r=e("./shared/getStyleTestElement"),s=e("./utils/toCSS"),o=e("./utils/toDOM"),a=e("./shared/prefixHelper"),c=function(e,t){var n=s(e),r=t!==!1&&s(t);return i[e]=i[t]=i[n]=i[r]={dom:t,css:r},t};t.exports=function(e){var t,n,s,u;if(e+="",e in i)return i[e].dom;for(s=r(),e=o(e),n=e.charAt(0).toUpperCase()+e.substring(1),t="filter"===e?["WebkitFilter","filter"]:(e+" "+a.dom.join(n+" ")+n).split(" "),u=0;u<t.length;u++)if("undefined"!=typeof s.style[t[u]])return 0!==u&&a.reduce(u-1),c(e,t[u]);return c(e,!1)}},{"./shared/getStyleTestElement":180,"./shared/prefixHelper":181,"./shared/stylePropertyCache":182,"./utils/toCSS":187,"./utils/toDOM":188}],178:[function(e,t,n){"use strict";var i=e("./getStyleProperty"),r=e("./shared/styleValueAvailable"),s=e("./shared/prefixHelper"),o=e("./shared/stylePropertyCache"),a={},c=/(\([^\)]+\))/gi,u=/([^ ,;\(]+(\([^\)]+\))?)/gi;t.exports=function(e,t){var n;return t+="",!!(e=i(e))&&(r(e,t)?t:(n=o[e].css,t=t.replace(u,function(t){var i,o,u,h;if("#"===t[0]||!isNaN(t[0]))return t;if(o=t.replace(c,""),u=n+":"+o,u in a)return a[u]===!1?"":t.replace(o,a[u]);for(i=s.css.map(function(e){return e+t}),i=[t].concat(i),h=0;h<i.length;h++)if(r(e,i[h]))return 0!==h&&s.reduce(h-1),a[u]=i[h].replace(c,""),i[h];return a[u]=!1,""}),t=t.trim(),""!==t&&t))}},{"./getStyleProperty":177,"./shared/prefixHelper":181,"./shared/stylePropertyCache":182,"./shared/styleValueAvailable":183}],179:[function(e,t,n){"use strict";t.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],180:[function(e,t,n){"use strict";var i;t.exports=function(){return i?(i.style.cssText="",i.removeAttribute("style")):i=document.createElement("_"),i},t.exports.resetElement=function(){i=null}},{}],181:[function(e,t,n){"use strict";var i=["-webkit-","-moz-","-ms-"],r=["Webkit","Moz","ms"],s=["webkit","moz","ms"],o=function(){this.initialize()},a=o.prototype;a.initialize=function(){this.reduced=!1,this.css=i,this.dom=r,this.evt=s},a.reduce=function(e){this.reduced||(this.reduced=!0,this.css=[this.css[e]],this.dom=[this.dom[e]],this.evt=[this.evt[e]])},t.exports=new o},{}],182:[function(e,t,n){"use strict";t.exports={}},{}],183:[function(e,t,n){"use strict";var i,r,s=e("./stylePropertyCache"),o=e("./getStyleTestElement"),a=!1,c=function(){var e;if(!a){a=!0,i="CSS"in window&&"supports"in window.CSS,r=!1,e=o();try{e.style.width="invalid"}catch(t){r=!0}}};t.exports=function(e,t){var n,a;if(c(),i)return e=s[e].css,CSS.supports(e,t);if(a=o(),n=a.style[e],r)try{a.style[e]=t}catch(u){return!1}else a.style[e]=t;return a.style[e]&&a.style[e]!==n},t.exports.resetFlags=function(){a=!1}},{"./getStyleTestElement":180,"./stylePropertyCache":182}],184:[function(e,t,n){"use strict";t.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],185:[function(e,t,n){"use strict";var i=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi;t.exports=function(e){return e=String.prototype.replace.call(e,i,""),e.charAt(0).toLowerCase()+e.substring(1)}},{}],186:[function(e,t,n){"use strict";var i={window:window,document:document};t.exports=function(e,t){var n;return e="on"+e,t in i||(i[t]=document.createElement(t)),n=i[t],e in n||"setAttribute"in n&&(n.setAttribute(e,"return;"),"function"==typeof n[e])}},{}],187:[function(e,t,n){"use strict";var i=/^(webkit|moz|ms)/gi;t.exports=function(e){return"cssfloat"===e.toLowerCase()?"float":(i.test(e)&&(e="-"+e),e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}},{}],188:[function(e,t,n){"use strict";var i=/-([a-z])/g;t.exports=function(e){return"float"===e.toLowerCase()?"cssFloat":(e=e.replace(i,function(e,t){return t.toUpperCase()}),"Ms"===e.substr(0,2)&&(e="ms"+e.substring(2)),e)}},{}],189:[function(e,t,n){"use strict";t.exports={Queue:e("./ac-queue/Queue"),QueueItem:e("./ac-queue/QueueItem"),LiveQueue:e("./ac-queue/LiveQueue")}},{"./ac-queue/LiveQueue":190,"./ac-queue/Queue":191,"./ac-queue/QueueItem":192}],190:[function(e,t,n){"use strict";function i(e){this._queue=new r,this._maxProcesses=e||1,this._availableSlots=this._maxProcesses,this._rafId=0,this._isRunning=!1,this._boundFunctions={_run:this._run.bind(this),_releaseSlot:this._releaseSlot.bind(this)}}e("@marcom/ac-polyfills/Promise"),e("@marcom/ac-polyfills/requestAnimationFrame"),e("@marcom/ac-polyfills/Function/prototype.bind");var r=e("./Queue"),s=e("./QueueItem"),o=i.prototype;o.start=function(){this._isRunning&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(this._boundFunctions._run),this._isRunning=!0},o.pause=function(){this._isRunning&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._isRunning=!1},o.stop=function(){this.pause(),this.clear()},o.enqueue=function(e,t){if("function"!=typeof e)throw new Error("LiveQueue can only enqueue functions");void 0===t&&(t=r.PRIORITY_DEFAULT);var n=new s(e,t);return this.enqueueQueueItem(n)},o.enqueueQueueItem=function(e){return this._queue.enqueueQueueItem(e),this._isRunning&&0===this._rafId&&this.start(),e},o.dequeueQueueItem=function(e){return this._queue.dequeueQueueItem(e)},o.clear=function(){this._queue=new r},o.destroy=function(){this.pause(),this._isRunning=!1,this._queue=null,this._boundFunctions=null},o.count=function(){return this._queue.count()+this.pending()},o.pending=function(){return this._maxProcesses-this._availableSlots},o.isEmpty=function(){return 0===this.count()},o._run=function(){if(this._isRunning&&(this._rafId=requestAnimationFrame(this._boundFunctions._run),!this._queue.isEmpty()&&0!==this._availableSlots)){var e=this._queue.dequeue(),t=e.data();this._isPromise(t)&&(this._retainSlot(),t.then(this._boundFunctions._releaseSlot,this._boundFunctions._releaseSlot)),this._stopRunningIfDone()}},o._retainSlot=function(){this._availableSlots--},o._releaseSlot=function(){this._availableSlots++,this._stopRunningIfDone()},o._stopRunningIfDone=function(){0!=this._rafId&&0===this._queue.count()&&this._availableSlots==this._maxProcesses&&(cancelAnimationFrame(this._rafId),this._rafId=0)},o._isPromise=function(e){return!(!e||"function"!=typeof e.then)},t.exports=i},{"./Queue":191,"./QueueItem":192,"@marcom/ac-polyfills/Function/prototype.bind":void 0,"@marcom/ac-polyfills/Promise":void 0,"@marcom/ac-polyfills/requestAnimationFrame":void 0}],191:[function(e,t,n){"use strict";function i(){this._items=[]}var r=e("./QueueItem"),s=i.prototype;s.enqueue=function(e,t){void 0===t&&(t=i.PRIORITY_DEFAULT);var n=new r(e,t);return this.enqueueQueueItem(n)},s.enqueueQueueItem=function(e){return this._items.indexOf(e)===-1&&this._items.push(e),e},s.dequeue=function(){this._heapSort();var e=this._items.length-1,t=this._items[0];return this._items[0]=this._items[e],this._items.pop(),t},s.dequeueQueueItem=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1),e},s.peek=function(){return 0==this.count()?null:(this._heapSort(),this._items[0])},s.isEmpty=function(){return 0===this._items.length},s.count=function(){return this._items.length},s.toString=function(){for(var e=["Queue total items: "+this.count()+"\n"],t=0;t<this.count();++t)e.push(this._items[t].toString()+"\n");return e.join("")},s._heapSort=function(){for(var e=0,t=this._items.length-1;t>=0;t--)for(var n=t;n>0;){e++;var i=Math.floor((n-1)/2);if(this._items[n].compareTo(this._items[i])>=0)break;var r=this._items[n];this._items[n]=this._items[i],this._items[i]=r,n=i}},i.PRIORITY_LOW=10,i.PRIORITY_DEFAULT=5,i.PRIORITY_HIGH=1,t.exports=i},{"./QueueItem":192}],192:[function(e,t,n){"use strict";function i(e,t){this.priority=t,this.data=e,this.insertionOrder=r++}var r=0,s=i.prototype;s.compareTo=function(e){return this.priority<e.priority?-1:this.priority>e.priority?1:this.insertionOrder<e.insertionOrder?-1:1},s.toString=function(){return"QueueItem {priority:"+this.priority+",\tdata:"+this.data+"\tinsertionOrder:"+this.insertionOrder+"}"},t.exports=i},{}],193:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r="ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance",s="1.0.3",o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share(r,s,o)},{"@marcom/ac-shared-instance":203}],194:[function(e,t,n){"use strict";function i(e){e=e||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}e("@marcom/ac-polyfills/performance/now");var r;r=i.prototype,r.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.trigger=function(e,t){var n;for(n=0;n<this._subscriberArrayLength;n++)null!==this._subscribers[this._subscribersOrder[n]]&&this._subscribers[this._subscribersOrder[n]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[n]].trigger(e,t)},r.destroy=function(){var e=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onSubscribersAnimationFrameStart=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameStart(e)},r._onSubscribersAnimationFrameEnd=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameEnd(e)},r._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=i},{"@marcom/ac-polyfills/performance/now":void 0}],195:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r="ac-raf-executor:sharedRAFExecutorInstance",s="2.0.1",o=e("./RAFExecutor");t.exports=i.share(r,s,o)},{"./RAFExecutor":194,"@marcom/ac-shared-instance":203}],196:[function(e,t,n){"use strict";function i(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-raf-executor/sharedRAFExecutorInstance"),a=e("@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance");r=i.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=i},{"@marcom/ac-event-emitter-micro":93,"@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance":193,"@marcom/ac-raf-executor/sharedRAFExecutorInstance":195}],197:[function(e,t,n){"use strict";var i=e("./SingleCallRAFEmitter"),r=function(e){this.rafEmitter=new i,this.rafEmitter.on(e,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(e){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2,this._currentFrameID},s.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx!==-1&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},s._onRAFExecuted=function(e){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e)},t.exports=r},{"./SingleCallRAFEmitter":199}],198:[function(e,t,n){"use strict";var i=e("./RAFInterface"),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].requestAnimationFrame},s.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{"./RAFInterface":197}],199:[function(e,t,n){"use strict";var i=e("./RAFEmitter"),r=function(e){i.call(this,e)},s=r.prototype=Object.create(i.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{"./RAFEmitter":196}],200:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("draw")},{"./RAFInterfaceController":198}],201:[function(e,t,n){"use strict";function i(e){e=e||{},this._reset(),this._willRun=!1,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}e("@marcom/ac-polyfills/performance/now");var r;r=i.prototype,r.subscribe=function(e){return!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberCount++,this._run(),!0)},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.trigger=function(e,t){var n;for(n in this._subscribers)this._subscribers.hasOwnProperty(n)&&null!==this._subscribers[n]&&this._subscribers[n]._didDestroy===!1&&this._subscribers[n].trigger(e,t)},r.destroy=function(){var e=this._cancel();return this._subscribers=null,this._nextFrameSubscribers=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=requestAnimationFrame(this._boundOnAnimationFrame)),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onSubscribersAnimationFrameStart=function(e){var t;for(t in this._subscribers)this._subscribers.hasOwnProperty(t)&&null!==this._subscribers[t]&&this._subscribers[t]._didDestroy===!1&&this._subscribers[t]._onAnimationFrameStart(e)},r._onSubscribersAnimationFrameEnd=function(e){var t;for(t in this._subscribers)this._subscribers.hasOwnProperty(t)&&null!==this._subscribers[t]&&this._subscribers[t]._didDestroy===!1&&this._subscribers[t]._onAnimationFrameEnd(e)},r._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=i},{"@marcom/ac-polyfills/performance/now":void 0}],202:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r="ac-raf-executor:sharedRAFExecutorInstance",s="1.0.3",o=e("./RAFExecutor");t.exports=i.share(r,s,o)},{"./RAFExecutor":201,"@marcom/ac-shared-instance":203}],203:[function(e,t,n){"use strict";t.exports={SharedInstance:e("./ac-shared-instance/SharedInstance")}},{"./ac-shared-instance/SharedInstance":204}],204:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=window,s="AC",o="SharedInstance",a=r[s],c=function(){var e={};return{get:function(t,n){var i=null;return e[t]&&e[t][n]&&(i=e[t][n]),i},set:function(t,n,i){return e[t]||(e[t]={}),"function"==typeof i?e[t][n]=new i:e[t][n]=i,e[t][n]},share:function(e,t,n){var i=this.get(e,t);return i||(i=this.set(e,t,n)),i},remove:function(t,n){var r="undefined"==typeof n?"undefined":i(n);if("string"===r||"number"===r){if(!e[t]||!e[t][n])return;return void(e[t][n]=null)}e[t]&&(e[t]=null)}}}();a||(a=r[s]={}),
a[o]||(a[o]=c),t.exports=a[o]},{}],205:[function(e,t,n){"use strict";t.exports=function(e,t){var n="&",i="";if(e){var r=Object.keys(e),s=r.length-1;r.forEach(function(t,r){var o=e[t];t=t.trim(),o=o&&"string"==typeof o?o.trim():o,o=null===o?"":"="+o;var a=t+o+(r===s?"":n);i=i?i.concat(a):a})}return i&&t!==!1?"?"+i:i}},{}],206:[function(e,t,n){"use strict";var i={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=e("./parseUserAgent")(i)},{"./parseUserAgent":209}],207:[function(e,t,n){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{name:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{name:"",major:0,minor:0,patch:0}}}},{}],208:[function(e,t,n){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(e){return e.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===e.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Opera")===-1},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(e){return e.ua.indexOf("Safari")>-1&&e.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(e){return e.ua.indexOf("IE")>-1||e.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var e=!1;return document.documentMode&&(e=parseInt(document.documentMode,10)),e}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(e){return e.platform.indexOf("Win")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(e){return e.platform.indexOf("Mac")>-1}},{name:"ios",test:function(e){return e.ua.indexOf("iPhone")>-1||e.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(e){return e.platform.indexOf("Linux")>-1&&e.ua.indexOf("Android")===-1}},{name:"fireos",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android"},{name:"chromeos",userAgent:"CrOS"}]}},{}],209:[function(e,t,n){"use strict";function i(e){return new RegExp(e+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function r(e,t){if("function"==typeof e.parseVersion)return e.parseVersion(t);var n=e.version||e.userAgent;"string"==typeof n&&(n=[n]);for(var r,s=n.length,o=0;o<s;o++)if(r=t.match(i(n[o])),r&&r.length>1)return r[1].replace(/_/g,".")}function s(e,t,n){for(var i,s,o=e.length,a=0;a<o;a++)if("function"==typeof e[a].test?e[a].test(n)===!0&&(i=e[a].name):n.ua.indexOf(e[a].userAgent)>-1&&(i=e[a].name),i){if(t[i]=!0,s=r(e[a],n.ua),"string"==typeof s){var c=s.split(".");t.version.name=s,c&&c.length>0&&(t.version.major=parseInt(c[0]||0),t.version.minor=parseInt(c[1]||0),t.version.patch=parseInt(c[2]||0))}else"edge"===i&&(t.version.name="12.0.0",t.version.major="12",t.version.minor="0",t.version.patch="0");return"function"==typeof e[a].parseDocumentMode&&(t.version.documentMode=e[a].parseDocumentMode()),t}return t}function o(e){var t={};return t.browser=s(c.browser,a.browser,e),t.os=s(c.os,a.os,e),t}var a=e("./defaults"),c=e("./dictionary");t.exports=o},{"./defaults":207,"./dictionary":208}],210:[function(e,t,n){"use strict";function i(e){r.call(this),this._initializeElement(e),o()&&(this._updateViewport=this._updateViewport.bind(this),s(window,"resize",this._updateViewport),s(window,"orientationchange",this._updateViewport),this._retinaQuery=window.matchMedia(u),this._updateRetina(),this._retinaQuery.addListener&&(this._updateRetina=this._updateRetina.bind(this),this._retinaQuery.addListener(this._updateRetina))),this._updateViewport()}e("@marcom/ac-polyfills/Function/prototype.bind"),e("@marcom/ac-polyfills/Object/keys"),e("@marcom/ac-polyfills/Object/create");var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("@marcom/ac-dom-events/utils/addEventListener"),o=e("@marcom/ac-feature/mediaQueriesAvailable"),a="viewport-emitter",c="::before",u="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",h=i.prototype=Object.create(r.prototype);h.viewport=!1,h.retina=!1,h._initializeElement=function(e){var t;e=e||a,t=document.getElementById(e),t||(t=document.createElement("div"),t.id=e,t=document.body.appendChild(t)),this._el=t},h._getElementContent=function(){var e;return"currentStyle"in this._el?e=this._el.currentStyle["x-content"]:(this._invalidateStyles(),e=window.getComputedStyle(this._el,c).content),e&&(e=e.replace(/["']/g,"")),!!e&&e},h._updateViewport=function(){var e,t=this.viewport;this.viewport=this._getElementContent(),this.viewport&&(this.viewport=this.viewport.split(":").pop()),t&&this.viewport!==t&&(e={from:t,to:this.viewport},this.trigger("change",e),this.trigger("from:"+t,e),this.trigger("to:"+this.viewport,e))},h._updateRetina=function(e){var t=this.retina;this.retina=this._retinaQuery.matches,t!==this.retina&&this.trigger("retinachange",{from:t,to:this.retina})},h._invalidateStyles=function(){document.documentElement.clientWidth,this._el.innerHTML=" "===this._el.innerHTML?"":" ",document.documentElement.clientWidth},t.exports=i},{"@marcom/ac-dom-events/utils/addEventListener":51,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-feature/mediaQueriesAvailable":111,"@marcom/ac-polyfills/Function/prototype.bind":void 0,"@marcom/ac-polyfills/Object/create":void 0,"@marcom/ac-polyfills/Object/keys":void 0}],211:[function(e,t,n){"use strict";var i=e("./ViewportEmitter");t.exports=new i},{"./ViewportEmitter":210}],212:[function(e,t,n){"use strict";t.exports={majorVersionNumber:"3.x"}},{}],213:[function(e,t,n){"use strict";function i(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("./sharedRAFExecutorInstance"),a=e("./sharedRAFEmitterIDGeneratorInstance");r=i.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=i},{"./sharedRAFEmitterIDGeneratorInstance":221,"./sharedRAFExecutorInstance":222,"@marcom/ac-event-emitter-micro":93}],214:[function(e,t,n){"use strict";function i(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}var r,s=e("@marcom/ac-event-emitter-micro/EventEmitterMicro");r=i.prototype,r.frameRequestedPhase="requested",r.startPhase="start",r.runPhases=["update","external","draw"],r.endPhase="end",r.disabledPhase="disabled",r.beforePhaseEventPrefix="before:",r.afterPhaseEventPrefix="after:",r.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.getSubscribeID=function(){return this._totalSubscribeCount+=1},r.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=i},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":94}],215:[function(e,t,n){"use strict";var i=e("./SingleCallRAFEmitter"),r=function(e){this.phase=e,this.rafEmitter=new i,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(e,t){return t===!0&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},{"./SingleCallRAFEmitter":217}],216:[function(e,t,n){"use strict";var i=e("./RAFInterface"),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].requestAnimationFrame},s.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new i(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{"./RAFInterface":215}],217:[function(e,t,n){"use strict";var i=e("./RAFEmitter"),r=function(e){i.call(this,e)},s=r.prototype=Object.create(i.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{"./RAFEmitter":213}],218:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.cancelAnimationFrame("update")},{"./RAFInterfaceController":216}],219:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("draw")},{"./RAFInterfaceController":216}],220:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("external")},{"./RAFInterfaceController":216}],221:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},{"../.release-info.js":212,"@marcom/ac-shared-instance":203}],222:[function(e,t,n){"use strict";var i=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,s=e("./RAFExecutor");t.exports=i.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},{"../.release-info.js":212,"./RAFExecutor":214,"@marcom/ac-shared-instance":203}],223:[function(e,t,n){"use strict";var i=e("./RAFInterfaceController");t.exports=i.requestAnimationFrame("update")},{"./RAFInterfaceController":216}],224:[function(e,t,n){"use strict";t.exports={version:"3.3.5",major:"3.x",majorMinor:"3.3"}},{}],225:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,c=e("./Model/AnimSystemModel"),u=e("./Keyframes/Keyframe"),h=e("./Keyframes/KeyframeCSSClass"),l=e("./Keyframes/KeyframeDiscreteEvent"),m=e("./ScrollGroup"),f=e("./TimeGroup"),d=e("./TweenGroup"),p=e("./.release-info"),y={};"undefined"!=typeof window&&(y.update=e("@marcom/ac-raf-emitter/update"),y.cancelUpdate=e("@marcom/ac-raf-emitter/cancelUpdate"),y.external=e("@marcom/ac-raf-emitter/external"),y.draw=e("@marcom/ac-raf-emitter/draw"));var v=null,_=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(v)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";return v=e,e.groups=[],e.scrollSystems=[],e.timeSystems=[],e.tweenGroup=null,e._forceUpdateRAFId=-1,e.initialized=!1,e.model=c,e.version=p.version,e._resolveReady=function(){},e.ready=new Promise(function(t){return e._resolveReady=t}),e.onScroll=e.onScroll.bind(e),e.onResizedDebounced=e.onResizedDebounced.bind(e),e.onResizeImmediate=e.onResizeImmediate.bind(e),e}return s(t,e),o(t,[{key:"initialize",value:function(){return this.initialized||"undefined"==typeof window?this.ready:(this.initialized=!0,this.timeSystems=[],this.scrollSystems=[],this.groups=[],this.setupEvents(),this.initializeResizeFilter(),this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes(),this.tweenGroup=new d(null,this),this.groups.push(this.tweenGroup),this._resolveReady(),this.ready)}},{key:"remove",value:function(){var e=this;return this.initialized?Promise.all(this.groups.map(function(e){return e.remove()})).then(function(){e.groups=null,e.scrollSystems=null,e.timeSystems=null,window.clearTimeout(c.RESIZE_TIMEOUT),window.removeEventListener("scroll",e.onScroll),window.removeEventListener("resize",e.onResizeImmediate),e._events={},e.initialized=!1,e.ready=new Promise(function(t){return e._resolveReady=t})}):(this.ready=new Promise(function(t){return e._resolveReady=t}),Promise.resolve())}},{key:"destroy",value:function(){return this.remove()}},{key:"createTimeGroup",value:function(e){var t=new f(e,this);return this.groups.push(t),this.timeSystems.push(t),this.trigger(c.EVENTS.ON_GROUP_CREATED,t),t}},{key:"createScrollGroup",value:function(e){if(!e)throw"AnimSystem scroll based groups must supply an HTMLElement";var t=new m(e,this);return this.groups.push(t),this.scrollSystems.push(t),this.trigger(c.EVENTS.ON_GROUP_CREATED,t),t}},{key:"removeGroup",value:function(e){var t=this;return Promise.all(e.keyframeControllers.map(function(t){return e.removeKeyframeController(t)})).then(function(){var n=t.groups.indexOf(e);n!==-1&&t.groups.splice(n,1),n=t.scrollSystems.indexOf(e),n!==-1&&t.scrollSystems.splice(n,1),n=t.timeSystems.indexOf(e),n!==-1&&t.timeSystems.splice(n,1),e.destroy()})}},{key:"createDOMGroups",value:function(){var e=this;document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(function(t){return e.createScrollGroup(t)}),document.querySelectorAll("[data-anim-time-group]").forEach(function(t){return e.createTimeGroup(t)}),this.trigger(c.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}},{key:"createDOMKeyframes",value:function(){var e=this,t=[];["data-anim-keyframe",u.DATA_ATTRIBUTE,h.DATA_ATTRIBUTE,l.DATA_ATTRIBUTE].forEach(function(e){for(var n=0;n<12;n++)t.push(e+(0===n?"":"-"+(n-1)))});for(var n=0;n<t.length;n++)for(var i=t[n],r=document.querySelectorAll("["+i+"]"),s=0;s<r.length;s++){var o=r[s],a=JSON.parse(o.getAttribute(i));this.addKeyframe(o,a)}y.update(function(){null!==e.groups&&(e.groups.forEach(function(e){return e.onKeyframesDirty({silent:!0})}),e.groups.forEach(function(e){return e.trigger(c.EVENTS.ON_DOM_KEYFRAMES_CREATED,e)}),e.trigger(c.EVENTS.ON_DOM_KEYFRAMES_CREATED,e),e.groups.forEach(function(e){e.forceUpdate({waitForNextUpdate:!1,silent:!0}),e.reconcile()}),e.onScroll())},!0)}},{key:"initializeResizeFilter",value:function(){if(!c.cssDimensionsTracker){var e=document.querySelector(".cssDimensionsTracker")||document.createElement("div");e.setAttribute("cssDimensionsTracker","true"),e.style.position="fixed",e.style.top="0",e.style.width="100%",e.style.height="100vh",e.style.pointerEvents="none",e.style.visibility="hidden",e.style.zIndex="-1",document.documentElement.appendChild(e),c.cssDimensionsTracker=e}}},{key:"initializeModel",value:function(){c.pageMetrics.windowHeight=c.cssDimensionsTracker.clientHeight,c.pageMetrics.windowWidth=c.cssDimensionsTracker.clientWidth,c.pageMetrics.scrollY=window.scrollY||window.pageYOffset,c.pageMetrics.scrollX=window.scrollX||window.pageXOffset,c.pageMetrics.breakpoint=c.getBreakpoint();var e=document.documentElement.getBoundingClientRect();c.pageMetrics.documentOffsetX=e.left+c.pageMetrics.scrollX,c.pageMetrics.documentOffsetY=e.top+c.pageMetrics.scrollY}},{key:"setupEvents",value:function(){window.removeEventListener("scroll",this.onScroll),window.addEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),window.addEventListener("resize",this.onResizeImmediate)}},{key:"onScroll",value:function(){c.pageMetrics.scrollY=window.scrollY||window.pageYOffset,c.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(var e=0,t=this.scrollSystems.length;e<t;e++)this.scrollSystems[e].updateTimeline();this.trigger(c.PageEvents.ON_SCROLL,c.pageMetrics)}},{key:"onResizeImmediate",value:function(){var e=c.cssDimensionsTracker.clientWidth,t=c.cssDimensionsTracker.clientHeight;if(e!==c.pageMetrics.windowWidth||t!==c.pageMetrics.windowHeight){c.pageMetrics.windowWidth=e,c.pageMetrics.windowHeight=t,c.pageMetrics.scrollY=window.scrollY||window.pageYOffset,c.pageMetrics.scrollX=window.scrollX||window.pageXOffset;var n=document.documentElement.getBoundingClientRect();c.pageMetrics.documentOffsetX=n.left+c.pageMetrics.scrollX,c.pageMetrics.documentOffsetY=n.top+c.pageMetrics.scrollY,window.clearTimeout(c.RESIZE_TIMEOUT),c.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(c.PageEvents.ON_RESIZE_IMMEDIATE,c.pageMetrics)}}},{key:"onResizedDebounced",value:function(){var e=this;y.update(function(){var t=c.pageMetrics.breakpoint,n=c.getBreakpoint(),i=n!==t;if(i){c.pageMetrics.previousBreakpoint=t,c.pageMetrics.breakpoint=n;for(var r=0,s=e.groups.length;r<s;r++)e.groups[r]._onBreakpointChange();e.trigger(c.PageEvents.ON_BREAKPOINT_CHANGE,c.pageMetrics)}for(var o=0,a=e.groups.length;o<a;o++)e.groups[o].forceUpdate({waitForNextUpdate:!1});e.trigger(c.PageEvents.ON_RESIZE_DEBOUNCED,c.pageMetrics)},!0)}},{key:"forceUpdate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.waitForNextUpdate,i=void 0===n||n,r=t.silent,s=void 0!==r&&r;this._forceUpdateRAFId!==-1&&y.cancelUpdate(this._forceUpdateRAFId);var o=function(){for(var t=0,n=e.groups.length;t<n;t++){var i=e.groups[t];i.forceUpdate({waitForNextUpdate:!1,silent:s})}return-1};this._forceUpdateRAFId=i?y.update(o,!0):o()}},{key:"addKeyframe",value:function(e,t){var n=this.getGroupForTarget(e);return n=n||this.getGroupForTarget(document.body),n.addKeyframe(e,t)}},{key:"addEvent",value:function(e,t){var n=this.getGroupForTarget(e);return n=n||this.getGroupForTarget(document.body),n.addEvent(e,t)}},{key:"getTimeGroupForTarget",value:function(e){return this._getGroupForTarget(e,function(e){return e instanceof f})}},{key:"getScrollGroupForTarget",value:function(e){return this._getGroupForTarget(e,function(e){return!(e instanceof f)})}},{key:"getGroupForTarget",value:function(e){return this._getGroupForTarget(e,function(){return!0})}},{key:"_getGroupForTarget",value:function(e,t){if(e._animInfo&&e._animInfo.group&&t(e._animInfo.group))return e._animInfo.group;for(var n=e;n;){if(n._animInfo&&n._animInfo.isGroup&&t(n._animInfo.group))return n._animInfo.group;n=n.parentElement}}},{key:"getControllerForTarget",value:function(e){return e._animInfo&&e._animInfo.controller?e._animInfo.controller:null}},{key:"addTween",value:function(e,t){return this.tweenGroup.addKeyframe(e,t)}}]),t}(a);t.exports="undefined"==typeof window?new _:window.AC.SharedInstance.share("AnimSystem",p.major,_),t.exports["default"]=t.exports},{"./.release-info":224,"./Keyframes/Keyframe":227,"./Keyframes/KeyframeCSSClass":228,"./Keyframes/KeyframeDiscreteEvent":230,"./Model/AnimSystemModel":232,"./ScrollGroup":247,"./TimeGroup":248,"./TweenGroup":249,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-raf-emitter/cancelUpdate":218,"@marcom/ac-raf-emitter/draw":219,"@marcom/ac-raf-emitter/external":220,"@marcom/ac-raf-emitter/update":223}],226:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./Model/AnimSystemModel"),o=function(){function e(t,n){i(this,e),this._index=0,this.keyframe=t,n&&(this.name=n)}return r(e,[{key:"start",get:function(){return this.keyframe.jsonProps.start}},{key:"index",set:function(e){this._index=e},get:function(){return this._index}}]),e}(),a=function(){function e(t){i(this,e),this.timeGroup=t,this.chapters=[],this.chapterNames={},this.currentChapter=null,this.clip=null}return r(e,[{key:"addChapter",value:function(e){var t=e.position,n=e.name;if("undefined"==typeof t)throw ReferenceError("Cannot add chapter without target position.");e._impIsFirst||0!==this.chapters.length||this.addChapter({position:0,_impIsFirst:!0});var i=this.timeGroup.addKeyframe(this,{start:t,end:t,event:"Chapter"});this.timeGroup.forceUpdate({waitForNextFrame:!1,silent:!0});var r=new o(i,n);if(this.chapters.push(r),n){if(this.chapterNames.hasOwnProperty(n))throw ReferenceError('Duplicate chapter name assigned - "'+n+'" is already in use');this.chapterNames[n]=r}return this.chapters.sort(function(e,t){return e.start-t.start}).forEach(function(e,t){return e.index=t}),this.currentChapter=this.currentChapter||this.chapters[0],r}},{key:"playToChapter",value:function(e){var t=this,n=void 0;if(e.hasOwnProperty("index"))n=this.chapters[e.index];else{if(!e.hasOwnProperty("name"))throw ReferenceError("Cannot play to chapter without target index or name");n=this.chapterNames[e.name]}if(n&&(this.currentChapter!==n||e.force===!0)){var i=e.ease||"easeInOutCubic";this.clip&&(this.clip.destroy(),i="easeOutQuint"),this.timeGroup.timeScale(e.timeScale||1);var r=void 0!==e.duration?e.duration:this.getDurationToChapter(n),o=this.timeGroup.time(),a=n.start,c=!1;this.tween=this.timeGroup.anim.addTween({time:o},{easeFunction:i,duration:r,time:[o,a],onStart:function(){return t.timeGroup.trigger(s.EVENTS.ON_CHAPTER_INITIATED,{player:t,next:n})},onDraw:function(e){var i=e.tweenProps.time.current;t.timeGroup.time(i),e.keyframe.curvedT>.5&&!c&&(c=!0,t.currentIndex=n.index,t.currentChapter=n,t.timeGroup.trigger(s.EVENTS.ON_CHAPTER_OCCURRED,{player:t,current:n}))},onComplete:function(){t.timeGroup.trigger(s.EVENTS.ON_CHAPTER_COMPLETED,{player:t,current:n}),t.timeGroup.paused(!0),t.clip=null}})}}},{key:"getDurationToChapter",value:function(e){var t=this.chapters[e.index-1]||this.chapters[e.index+1];return Math.abs(t.start-e.start)}}]),e}();t.exports=a},{"./Model/AnimSystemModel":232}],227:[function(e,t,n){
"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("../Model/AnimSystemModel"),o=e("../Model/TargetValue"),a=e("@marcom/sm-math-utils"),c=e("../Model/EasingFunctions"),u=e("../Model/UnitBezier"),h=e("../Model/SpringEasing"),l=e("../utils/arrayToObject"),m=e("../utils/toValidAnchor"),f=e("../Model/UUID"),d=function(){function e(t,n){i(this,e),this.controller=t,this.anchors=[],this.jsonProps=n,this.ease=t.group.defaultEase,this.easeFunction=c.linear,this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask="SMLX",this.disabledWhen=[],this.keyframeType=s.KeyframeTypes.Interpolation,this.hold=!1,this.preserveState=!1,this.markedForRemoval=!1;var r=!1;Object.defineProperty(this,"hidden",{get:function(){return r},set:function(e){r=e,t.group.keyframesDirty=!0}}),this.uuid=f(),this.destroyed=!1}return r(e,[{key:"destroy",value:function(){this.destroyed=!0,this.controller=null,this.disabledWhen=null,this.anchors=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}},{key:"remove",value:function(){return this.controller.removeKeyframe(this)}},{key:"parseOptions",value:function(e){var t=this;this.jsonProps=e,e.relativeTo&&console.error("KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':\""+e.relativeTo+'"'),void 0===e.end&&void 0===e.duration&&(e.end=e.start),""!==e.anchors&&e.anchors?(this.anchors=[],e.anchors=Array.isArray(e.anchors)?e.anchors:[e.anchors],e.anchors.forEach(function(n,i){var r=m(n,t.controller.group.element);if(!r){var s="";return"string"==typeof n&&(s=" Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document."),void console.warn("Keyframe on",t.controller.element," failed to find anchor at index "+i+" in array",e.anchors,". Anchors must be JS Object references, Elements references, or valid query selector strings. "+s)}t.anchors.push(r),t.controller.group.metrics.add(r)})):(this.anchors=[],e.anchors=[]),e.ease?this.ease=parseFloat(e.ease):e.ease=this.ease,e.hasOwnProperty("snapAtCreation")?this.snapAtCreation=e.snapAtCreation:e.snapAtCreation=this.snapAtCreation,e.easeFunction||(e.easeFunction=s.KeyframeDefaults.easeFunctionString),e.breakpointMask?this.breakpointMask=e.breakpointMask:e.breakpointMask=this.breakpointMask,e.disabledWhen?this.disabledWhen=Array.isArray(e.disabledWhen)?e.disabledWhen:[e.disabledWhen]:e.disabledWhen=this.disabledWhen,e.hasOwnProperty("hold")?this.hold=e.hold:e.hold=this.hold,e.hasOwnProperty("preserveState")?this.preserveState=e.preserveState:e.preserveState=s.KeyframeDefaults.preserveState,this.easeFunction=c[e.easeFunction],c.hasOwnProperty(e.easeFunction)||(e.easeFunction.includes("bezier")?this.easeFunction=u.fromCSSString(e.easeFunction):e.easeFunction.includes("spring")?this.easeFunction=h.fromCSSString(e.easeFunction):console.error("Keyframe parseOptions cannot find 'easeFunction' named '"+e.easeFunction+"'"));for(var n in e)if(s.KeyframeJSONReservedWords.indexOf(n)===-1){var i=e[n];if(Array.isArray(i)){if(1===i.length&&(i[0]=null,i[1]=i[0]),this.animValues[n]=this.controller.group.expressionParser.parseArray(this,i),void 0===this.controller.tweenProps[n]||!this.controller._ownerIsElement){var r=0;this.controller._ownerIsElement||(r=this.controller.element[n]||0);var a=new o(r,s.KeyframeDefaults.epsilon,this.snapAtCreation);this.controller.tweenProps[n]=a}var l=this.controller.tweenProps[n];if(e.epsilon)l.epsilon=e.epsilon;else{var f=Math.abs(this.animValues[n][0]-this.animValues[n][1]),d=Math.min(.001*f,l.epsilon,s.KeyframeDefaults.epsilon);l.epsilon=Math.max(d,1e-4)}}}this.keyframeType=this.hold?s.KeyframeTypes.InterpolationForward:s.KeyframeTypes.Interpolation,e.event&&(this.event=e.event)}},{key:"overwriteProps",value:function(e){this.animValues={};var t=Object.assign({},this.jsonProps,e);this.controller.updateKeyframe(this,t)}},{key:"updateLocalProgress",value:function(e){if(this.start===this.end||e<this.start||e>this.end)return this.localT=e<this.start?this.hold?this.localT:0:e>this.end?1:0,void(this.curvedT=this.easeFunction(this.localT));var t=(e-this.start)/(this.end-this.start),n=this.hold?this.localT:0;this.localT=a.clamp(t,n,1),this.curvedT=this.easeFunction(this.localT)}},{key:"reconcile",value:function(e){var t=this.animValues[e],n=this.controller.tweenProps[e];n.initialValue=t[0],n.target=t[0]+this.curvedT*(t[1]-t[0]),n.current!==n.target&&(n.current=n.target,this.needsEventDispatch||(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)))}},{key:"reset",value:function(e){this.localT=e||0;var t=this.ease;this.ease=1;for(var n in this.animValues)this.reconcile(n);this.ease=t}},{key:"onDOMRead",value:function(e){var t=this.animValues[e],n=this.controller.tweenProps[e];n.target=t[0]+this.curvedT*(t[1]-t[0]);var i=n.current;n.current+=(n.target-n.current)*this.ease;var r=n.current-n.target;r<n.epsilon&&r>-n.epsilon&&(n.current=n.target,r=0),""===this.event||this.needsEventDispatch||(r>n.epsilon||r<-n.epsilon||0===r&&i!==n.current)&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}},{key:"isInRange",value:function(e){return e>=this.start&&e<=this.end}},{key:"setEnabled",value:function(e){e=e||l(Array.from(document.documentElement.classList));var t=this.breakpointMask.indexOf(s.pageMetrics.breakpoint)!==-1,n=!1;return this.disabledWhen.length>0&&(n=this.disabledWhen.some(function(t){return"undefined"!=typeof e[t]})),this.isEnabled=t&&!n,this.isEnabled}},{key:"evaluateConstraints",value:function(){this.start=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.start),this.end=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.end),this.evaluateInterpolationConstraints()}},{key:"evaluateInterpolationConstraints",value:function(){for(var e in this.animValues){var t=this.jsonProps[e];this.animValues[e]=this.controller.group.expressionParser.parseArray(this,t)}}}]),e}();d.DATA_ATTRIBUTE="data-anim-tween",t.exports=d},{"../Model/AnimSystemModel":232,"../Model/EasingFunctions":234,"../Model/SpringEasing":239,"../Model/TargetValue":240,"../Model/UUID":242,"../Model/UnitBezier":243,"../utils/arrayToObject":250,"../utils/toValidAnchor":251,"@marcom/sm-math-utils":268}],228:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("./Keyframe"),u=e("../Model/AnimSystemModel.js"),h=e("../Model/TargetValue.js"),l=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.keyframeType=u.KeyframeTypes.CSSClass,s._triggerType=t.TRIGGER_TYPE_CSS_CLASS,s.cssClass="",s.friendlyName="",s.style={on:null,off:null},s.toggle=!1,s.isApplied=!1,s}return s(t,e),a(t,[{key:"parseOptions",value:function(e){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(e.x=void 0,e.y=void 0,e.z=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotationX=void 0,e.rotationY=void 0,e.rotationZ=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,void 0!==e.toggle&&(this.toggle=e.toggle),void 0!==e.cssClass)this._triggerType=t.TRIGGER_TYPE_CSS_CLASS,this.cssClass=e.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===e.style||!this.isValidStyleProperty(e.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=t.TRIGGER_TYPE_STYLE_PROPERTY,this.style=e.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off){this.style.off={};for(var n in this.style.on)this.style.off[n]=""}void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===e.end&&(e.end=e.start),e.toggle=this.toggle,this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var i=getComputedStyle(this.controller.element);this.isApplied=!0;for(var r in this.style.on)if(i[r]!==this.style.on[r]){this.isApplied=!1;break}}c.prototype.parseOptions.call(this,e),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new h(0,1,(!1))),this.keyframeType=u.KeyframeTypes.CSSClass}},{key:"updateLocalProgress",value:function(e){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&e>=this.start&&e<=this.end?this._apply():this.isApplied&&this.toggle&&(e<this.start||e>this.end)&&this._unapply():!this.isApplied&&e>=this.start?this._apply():this.isApplied&&this.toggle&&e<this.start&&this._unapply())}},{key:"_apply",value:function(){if(this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var e in this.style.on)this.controller.tweenProps.targetStyles[e]=this.style.on[e];this.controller.needsStyleUpdate=!0}this.isApplied=!0}},{key:"_unapply",value:function(){if(this._triggerType===t.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var e in this.style.off)this.controller.tweenProps.targetStyles[e]=this.style.off[e];this.controller.needsStyleUpdate=!0}this.isApplied=!1}},{key:"isValidStyleProperty",value:function(e){if(!e.hasOwnProperty("on"))return!1;if("object"!==o(e.on))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");if(this.toggle&&e.hasOwnProperty("off")&&"object"!==o(e.off))throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");return!0}},{key:"reconcile",value:function(e){}},{key:"onDOMRead",value:function(e){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),t}(c);l.TRIGGER_TYPE_CSS_CLASS=0,l.TRIGGER_TYPE_STYLE_PROPERTY=1,l.DATA_ATTRIBUTE="data-anim-classname",t.exports=l},{"../Model/AnimSystemModel.js":232,"../Model/TargetValue.js":240,"./Keyframe":227}],229:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function T(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:T(r,t,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},c=e("../Model/AnimSystemModel"),u=e("../Model/TargetValue"),h=e("../Model/CSSTargetValue"),l=e("../Model/EventObject"),m=e("../Model/AnimInfo"),f=(e("./Keyframe"),e("./KeyframeCSSClass")),d=e("../Model/InferKeyframeFromProps"),p=e("../utils/arrayToObject"),y=e("../Model/UUID"),v=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,_=e("@marcom/decompose-css-transform"),g={};"undefined"!=typeof window&&(g.update=e("@marcom/ac-raf-emitter/update"),g.external=e("@marcom/ac-raf-emitter/external"),g.draw=e("@marcom/ac-raf-emitter/draw"));var b=Math.PI/180,w=["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],E=["borderRadius","bottom","fontSize","fontWeight","height","left","lineHeight","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","opacity","paddingBottom","paddingLeft","paddingRight","paddingTop","right","top","width","zIndex","strokeDashoffset"],x=["currentTime","scrollLeft","scrollTop"],O={create:e("gl-mat4/create"),rotateX:e("gl-mat4/rotateX"),rotateY:e("gl-mat4/rotateY"),rotateZ:e("gl-mat4/rotateZ"),scale:e("gl-mat4/scale")},A=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s._events.draw=[],s.uuid=y(),s.group=e,s.element=n,s._ownerIsElement=s.element instanceof Element,s._ownerIsElement?s.friendlyName=s.element.tagName+"."+Array.from(s.element.classList).join("."):s.friendlyName=s.element.friendlyName||s.uuid,s.element._animInfo=s.element._animInfo||new m(e,s),s.element._animInfo.controller=s,s.element._animInfo.group=s.group,s.element._animInfo.controllers.push(s),s.tweenProps=s.element._animInfo.tweenProps,s.eventObject=new l(s),s.needsStyleUpdate=!1,s.needsClassUpdate=!1,s.elementMetrics=s.group.metrics.add(s.element),s.attributes=[],s.cssAttributes=[],s.domAttributes=[],s.keyframes={},s._allKeyframes=[],s._activeKeyframes=[],s.keyframesRequiringDispatch=[],s.updateCachedValuesFromElement(),s.boundsMin=0,s.boundsMax=0,s.mat2d=new Float32Array(6),s.mat4=O.create(),s.needsWrite=!0,s.onDOMWriteImp=s._ownerIsElement?s.onDOMWriteForElement:s.onDOMWriteForObject,s}return s(t,e),o(t,[{key:"destroy",value:function(){if(this.element._animInfo){this.element._animInfo.controller===this&&(this.element._animInfo.controller=null);var e=this.element._animInfo.controllers.indexOf(this);if(e!==-1&&this.element._animInfo.controllers.splice(e,1),0===this.element._animInfo.controllers.length)this.element._animInfo=null;else{var n=this.element._animInfo.controllers.find(function(e){return e.group!==e.group.anim.tweenGroup});n&&(this.element._animInfo.controller=n,this.element._animInfo.group=n.group)}}this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(var i=0;i<this._allKeyframes.length;i++)this._allKeyframes[i].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,this.destroyed=!0,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"remove",value:function(){return this.group.removeKeyframeController(this)}},{key:"updateCachedValuesFromElement",value:function(){var e=this;if(this._ownerIsElement){var t=getComputedStyle(this.element),n=new DOMMatrix(t.getPropertyValue("transform")),i=_(n),r=c.KeyframeDefaults.epsilon,s=!1;["x","y","z"].forEach(function(t,n){e.tweenProps[t]=new u(i.translation[n],r,s)}),this.tweenProps.rotation=new u(i.rotation[2],r,s),["rotationX","rotationY","rotationZ"].forEach(function(t,n){e.tweenProps[t]=new u(i.rotation[n],r,s)}),this.tweenProps.scale=new u(i.scale[0],r,s),["scaleX","scaleY","scaleZ"].forEach(function(t,n){e.tweenProps[t]=new u(i.scale[n],r,s)}),E.forEach(function(n){var i=["zIndex"].includes(n),o=["opacity","zIndex","fontWeight"].includes(n)?void 0:"px",a=parseFloat(t[n]);isNaN(a)&&(a=0),e.tweenProps[n]=new h(a,r,s,n,i,o)}),x.forEach(function(t){var n=isNaN(e.element[t])?0:e.element[t];e.tweenProps[t]=new h(n,r,s,t,(!1))})}}},{key:"addKeyframe",value:function(e){var t=d(e);if(!t)throw new Error("AnimSystem Cannot create keyframe for from options `"+e+"`");var n=new t(this,e);return n.parseOptions(e),n.id=this._allKeyframes.length,this._allKeyframes.push(n),n}},{key:"needsUpdate",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],i=this.tweenProps[n],r=Math.abs(i.current-i.target);if(r>i.epsilon)return!0}return!1}},{key:"updateLocalProgress",value:function(e){for(var t=0,n=this.attributes.length;t<n;t++){var i=this.attributes[t],r=this.keyframes[this.attributes[t]];if(1!==r.length){var s=this.getNearestKeyframeForAttribute(i,e);s&&s.updateLocalProgress(e)}else r[0].updateLocalProgress(e)}}},{key:"reconcile",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],i=this.getNearestKeyframeForAttribute(n,this.group.position.local);i.updateLocalProgress(this.group.position.local),i.snapAtCreation&&i.reconcile(n)}}},{key:"determineActiveKeyframes",value:function(e){var t=this;e=e||p(Array.from(document.documentElement.classList));var n=this._activeKeyframes,i=this.attributes,r={};this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(var s=0;s<this._allKeyframes.length;s++){var o=this._allKeyframes[s];if(o.markedForRemoval||o.hidden||!o.setEnabled(e))for(var a in o.animValues)this.tweenProps[a].isActive=o.preserveState,o.preserveState&&(r[a]=!0);else{this._activeKeyframes.push(o);for(var c in o.animValues)this.keyframes[c]=this.keyframes[c]||[],this.keyframes[c].push(o),this.attributes.indexOf(c)===-1&&(r[c]=!0,this.attributes.push(c),this.tweenProps[c].isActive=!0)}}this.attributes.forEach(function(e){return t.tweenProps[e].isActive=!0}),this.cssAttributes=E.filter(function(e){return t.attributes.includes(e)}).map(function(e){return t.tweenProps[e]}),this.domAttributes=x.filter(function(e){return t.attributes.includes(e)}).map(function(e){return t.tweenProps[e]});var u=n.filter(function(e){return t._activeKeyframes.indexOf(e)===-1});if(0!==u.length){var h=i.filter(function(e){return t.attributes.indexOf(e)===-1&&!r.hasOwnProperty(e)});if(0!==h.length)if(this.needsWrite=!0,this._ownerIsElement)g.external(function(){var e=h.some(function(e){return w.includes(e)}),n=e&&Object.keys(r).some(function(e){return w.includes(e)});e&&!n&&t.element.style.removeProperty("transform");for(var i=0,s=h.length;i<s;++i){var o=h[i],a=t.tweenProps[o],c=a.isActive?a.target:a.initialValue;a.current=a.target=c,!a.isActive&&E.includes(o)&&(t.element.style[o]=null)}for(var l=0,m=u.length;l<m;++l){var d=u[l];d instanceof f&&!d.preserveState&&d._unapply()}},!0);else for(var l=0,m=h.length;l<m;++l){var d=this.tweenProps[h[l]];d.current=d.target,d.isActive=!1}}}},{key:"onDOMRead",value:function(e){for(var t=0,n=this.attributes.length;t<n;t++){var i=this.attributes[t];this.tweenProps[i].previousValue=this.tweenProps[i].current;var r=this.getNearestKeyframeForAttribute(i,e);r&&r.onDOMRead(i),this.tweenProps[i].previousValue!==this.tweenProps[i].current&&(this.needsWrite=!0)}}},{key:"onDOMWrite",value:function(){(this.needsWrite||this.needsClassUpdate||this.needsStyleUpdate)&&(this.needsWrite=!1,this.onDOMWriteImp(),this.handleEventDispatch())}},{key:"onDOMWriteForObject",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e];this.element[n]=this.tweenProps[n].current}}},{key:"onDOMWriteForElement",value:function(){var e=this.element.style;this.handleStyleTransform();for(var t=0,n=this.cssAttributes.length;t<n;t++)this.cssAttributes[t].set(e);for(var i=0,r=this.domAttributes.length;i<r;i++)this.domAttributes[i].set(this.element);if(this.needsStyleUpdate){for(var s in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[s]&&(this.element.style[s]=this.tweenProps.targetStyles[s]),this.tweenProps.targetStyles[s]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(this.tweenProps.targetClasses.add.length>0&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),this.tweenProps.targetClasses.remove.length>0&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}},{key:"handleStyleTransform",value:function(){var e=this.tweenProps,t=this.element.style;if(e.z.isActive||e.rotationX.isActive||e.rotationY.isActive){var n=this.mat4;n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1;var i=e.x.current,r=e.y.current,s=e.z.current;if(n[12]=n[0]*i+n[4]*r+n[8]*s+n[12],n[13]=n[1]*i+n[5]*r+n[9]*s+n[13],n[14]=n[2]*i+n[6]*r+n[10]*s+n[14],n[15]=n[3]*i+n[7]*r+n[11]*s+n[15],0!==e.rotation.current||0!==e.rotationZ.current){var o=(e.rotation.current||e.rotationZ.current)*b;O.rotateZ(n,n,o)}if(0!==e.rotationX.current){var a=e.rotationX.current*b;O.rotateX(n,n,a)}if(0!==e.rotationY.current){var c=e.rotationY.current*b;O.rotateY(n,n,c)}1===e.scale.current&&1===e.scaleX.current&&1===e.scaleY.current||O.scale(n,n,[e.scale.current,e.scale.current,1]),t.transform="matrix3d("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+","+n[6]+","+n[7]+","+n[8]+","+n[9]+","+n[10]+","+n[11]+","+n[12]+","+n[13]+","+n[14]+","+n[15]+")"}else if(e.x.isActive||e.y.isActive||e.rotation.isActive||e.rotationZ.isActive||e.scale.isActive||e.scaleX.isActive||e.scaleY.isActive){var u=this.mat2d;u[0]=1,u[1]=0,u[2]=0,u[3]=1,u[4]=0,u[5]=0;var h=e.x.current,l=e.y.current,m=u[0],f=u[1],d=u[2],p=u[3],y=u[4],v=u[5];if(u[0]=m,u[1]=f,u[2]=d,u[3]=p,u[4]=m*h+d*l+y,u[5]=f*h+p*l+v,0!==e.rotation.current||0!==e.rotationZ.current){var _=(e.rotation.current||e.rotationZ.current)*b,g=u[0],w=u[1],E=u[2],x=u[3],A=u[4],T=u[5],C=Math.sin(_),S=Math.cos(_);u[0]=g*S+E*C,u[1]=w*S+x*C,u[2]=g*-C+E*S,u[3]=w*-C+x*S,u[4]=A,u[5]=T}e.scaleX.isActive||e.scaleY.isActive?(u[0]=u[0]*e.scaleX.current,u[1]=u[1]*e.scaleX.current,u[2]=u[2]*e.scaleY.current,u[3]=u[3]*e.scaleY.current):(u[0]=u[0]*e.scale.current,u[1]=u[1]*e.scale.current,u[2]=u[2]*e.scale.current,u[3]=u[3]*e.scale.current),t.transform="matrix("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+")"}}},{key:"handleEventDispatch",value:function(){if(0!==this.keyframesRequiringDispatch.length){for(var e=0,t=this.keyframesRequiringDispatch.length;e<t;e++){var n=this.keyframesRequiringDispatch[e];n.needsEventDispatch=!1,this.eventObject.keyframe=n,this.eventObject.pageMetrics=c.pageMetrics,this.eventObject.event=n.event,this.trigger(n.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}if(0!==this._events.draw.length){this.eventObject.keyframe=null,this.eventObject.event="draw";for(var i=this._events.draw.length-1;i>=0;i--)this._events.draw[i](this.eventObject)}}},{key:"updateAnimationConstraints",value:function(){for(var e=this,t=0,n=this._activeKeyframes.length;t<n;t++)this._activeKeyframes[t].evaluateConstraints();this.attributes.forEach(function(t){1!==e.keyframes[t].length&&e.keyframes[t].sort(c.KeyframeComparison)}),this.updateDeferredPropertyValues()}},{key:"refreshMetrics",value:function(){var e=new Set([this.element]);this._allKeyframes.forEach(function(t){return t.anchors.forEach(function(t){return e.add(t)})}),this.group.metrics.refreshCollection(e),this.group.keyframesDirty=!0}},{key:"updateDeferredPropertyValues",value:function(){for(var e=0,t=this.attributes.length;e<t;e++){var n=this.attributes[e],i=this.keyframes[n],r=i[0];if(!(r.keyframeType>c.KeyframeTypes.InterpolationForward))for(var s=0,o=i.length;s<o;s++){var a=i[s];null===a.jsonProps[n][0]&&(0===s?a.jsonProps[n][0]=a.animValues[n][0]=this.tweenProps[n].current:a.animValues[n][0]=i[s-1].animValues[n][1]),null===a.jsonProps[n][1]&&(s===o-1?a.animValues[n][1]=this.tweenProps[n].current:a.animValues[n][1]=i[s+1].animValues[n][0]),a.snapAtCreation&&(a.jsonProps[n][0]=a.animValues[n][0],a.jsonProps[n][1]=a.animValues[n][1])}}}},{key:"getBounds",value:function(e){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(var t=0,n=this.attributes.length;t<n;t++)for(var i=this.keyframes[this.attributes[t]],r=0;r<i.length;r++){var s=i[r];this.boundsMin=Math.min(s.start,this.boundsMin),this.boundsMax=Math.max(s.end,this.boundsMax),e.min=Math.min(s.start,e.min),e.max=Math.max(s.end,e.max)}}},{key:"getNearestKeyframeForAttribute",value:function(e,t){t=void 0!==t?t:this.group.position.local;var n=null,i=Number.POSITIVE_INFINITY,r=this.keyframes[e];if(void 0===r)return null;var s=r.length;if(0===s)return null;if(1===s)return r[0];for(var o=0;o<s;o++){var a=r[o];if(a.isInRange(t)){n=a;break}var c=Math.min(Math.abs(t-a.start),Math.abs(t-a.end));c<i&&(i=c,n=a)}return n}},{key:"getAllKeyframesForAttribute",value:function(e){return this.keyframes[e]}},{key:"updateKeyframe",value:function(e,t){var n=this;e.parseOptions(t),e.evaluateConstraints(),this.group.keyframesDirty=!0,g.update(function(){n.trigger(c.EVENTS.ON_KEYFRAME_UPDATED,e),n.group.trigger(c.EVENTS.ON_KEYFRAME_UPDATED,e)},!0)}},{key:"removeKeyframe",value:function(e){var t=this;return e.controller!==this?Promise.resolve(null):(e.markedForRemoval=!0,this.group.keyframesDirty=!0,new Promise(function(n){t.group.rafEmitter.executor.eventEmitter.once("before:draw",function(){n(e),e.destroy();var i=t._allKeyframes.indexOf(e);i!==-1&&t._allKeyframes.splice(i,1)})}))}},{key:"updateAnimation",value:function(e,t){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(e,t)}}]),t}(v);t.exports=A},{"../Model/AnimInfo":231,"../Model/AnimSystemModel":232,"../Model/CSSTargetValue":233,"../Model/EventObject":236,"../Model/InferKeyframeFromProps":237,"../Model/TargetValue":240,"../Model/UUID":242,"../utils/arrayToObject":250,"./Keyframe":227,"./KeyframeCSSClass":228,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-raf-emitter/draw":219,"@marcom/ac-raf-emitter/external":220,"@marcom/ac-raf-emitter/update":223,"@marcom/decompose-css-transform":266,"gl-mat4/create":275,"gl-mat4/rotateX":276,"gl-mat4/rotateY":277,"gl-mat4/rotateZ":278,"gl-mat4/scale":279}],230:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function m(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:m(r,t,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},c=e("./Keyframe"),u=e("../Model/AnimSystemModel.js"),h=e("../Model/TargetValue.js"),l=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.keyframeType=u.KeyframeTypes.Event,s.isApplied=!1,s.hasDuration=!1,s.isCurrentlyInRange=!1,s}return s(t,e),o(t,[{key:"parseOptions",value:function(e){e.x=void 0,e.y=void 0,e.scale=void 0,e.scaleX=void 0,e.scaleY=void 0,e.rotation=void 0,e.style=void 0,e.cssClass=void 0,e.rotation=void 0,e.opacity=void 0,e.hold=void 0,this.event=e.event,this.animValues[this.event]=[0,0],"undefined"==typeof this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new h(0,1,(!1))),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"parseOptions",this).call(this,e),this.keyframeType=u.KeyframeTypes.Event}},{key:"updateLocalProgress",value:function(e){if(this.hasDuration){var t=this.isCurrentlyInRange,n=e>=this.start&&e<=this.end;if(t===n)return;return this.isCurrentlyInRange=n,void(n&&!t?this._trigger(this.event+":enter"):t&&!n&&this._trigger(this.event+":exit"))}!this.isApplied&&e>=this.start?(this.isApplied=!0,this._trigger(this.event)):this.isApplied&&e<this.start&&(this.isApplied=!1,this._trigger(this.event+":reverse"))}},{key:"_trigger",value:function(e){this.controller.eventObject.event=e,this.controller.eventObject.keyframe=this,this.controller.trigger(e,this.controller.eventObject)}},{key:"evaluateConstraints",value:function(){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"evaluateConstraints",this).call(this),this.hasDuration=this.start!==this.end}},{key:"reset",value:function(e){this.isApplied=!1,this.isCurrentlyInRange=!1,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"reset",this).call(this,e)}},{key:"onDOMRead",value:function(e){}},{key:"reconcile",value:function(e){}},{key:"evaluateInterpolationConstraints",value:function(){}}]),t}(c);l.DATA_ATTRIBUTE="data-anim-event",t.exports=l},{"../Model/AnimSystemModel.js":232,"../Model/TargetValue.js":240,"./Keyframe":227}],231:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=e("./TweenProps"),s=function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,o),this.isGroup=n,this.group=e,this.controller=t,this.controllers=[],this.tweenProps=new r};t.exports=s},{"./TweenProps":241}],232:[function(e,t,n){"use strict";var i={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"anim-ui.position",GroupCollapsedStates:"anim-ui.group-collapsed-states",scrollY:"anim-ui.scrollY-position",path:"anim-ui.path"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(var e=0;e<i.BREAKPOINTS.length;e++){var t=i.BREAKPOINTS[e],n=window.matchMedia(t.mediaQuery);if(n.matches)return t.name}},KeyframeDefaults:{ease:1,epsilon:.05,preserveState:!1,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE",ON_CHAPTER_INITIATED:"ON_CHAPTER_INITIATED",ON_CHAPTER_OCCURRED:"ON_CHAPTER_OCCURRED",ON_CHAPTER_COMPLETED:"ON_CHAPTER_COMPLETED"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",
ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","anchors","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TweenProps:e("./TweenProps"),TargetValue:e("./TargetValue"),CSSTargetValue:e("./CSSTargetValue"),pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},KeyframeComparison:function(e,t){return e.start<t.start?-1:e.start>t.start?1:0}};t.exports=i},{"./CSSTargetValue":233,"./TargetValue":240,"./TweenProps":241}],233:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("./TargetValue"),c=function(e){function t(e,n,s,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0;i(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,s));return u.key=o,u.round=a,u.suffix=c,u}return s(t,e),o(t,[{key:"set",value:function(e){var t=this.current;this.round&&(t=Math.round(t)),this.suffix&&(t+=this.suffix),e[this.key]=t}}]),t}(a);t.exports=c},{"./TargetValue":240}],234:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function s(){i(this,s),this.linear=function(e){return e},this.easeInQuad=function(e){return e*e},this.easeOutQuad=function(e){return e*(2-e)},this.easeInOutQuad=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},this.easeInSin=function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},this.easeOutSin=function(e){return Math.sin(Math.PI/2*e)},this.easeInOutSin=function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2},this.easeInElastic=function(e){return 0===e?e:(.04-.04/e)*Math.sin(25*e)+1},this.easeOutElastic=function(e){return.04*e/--e*Math.sin(25*e)},this.easeInOutElastic=function(e){return(e-=.5)<0?(.02+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1},this.easeOutBack=function(e){return e-=1,e*e*(2.70158*e+1.70158)+1},this.easeInCubic=function(e){return e*e*e},this.easeOutCubic=function(e){return--e*e*e+1},this.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},this.easeInQuart=function(e){return e*e*e*e},this.easeOutQuart=function(e){return 1- --e*e*e*e},this.easeInOutQuart=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},this.easeInQuint=function(e){return e*e*e*e*e},this.easeOutQuint=function(e){return 1+--e*e*e*e*e},this.easeInOutQuint=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};t.exports=new r},{}],235:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=e("./AnimSystemModel"),o=function(e,t){return void 0===e||null===e?t:e},a=function(){function e(){i(this,e),this.clear()}return r(e,[{key:"clear",value:function(){this._metrics=new WeakMap}},{key:"destroy",value:function(){this._metrics=null}},{key:"add",value:function(e){var t=this._metrics.get(e);if(t)return t;var n=new c(e);return this._metrics.set(e,n),this._refreshMetrics(e,n)}},{key:"get",value:function(e){return this._metrics.get(e)}},{key:"refreshCollection",value:function(e){var t=this;e.forEach(function(e){return t._refreshMetrics(e,null)})}},{key:"refreshMetrics",value:function(e){return this._refreshMetrics(e)}},{key:"_refreshMetrics",value:function(e,t){if(t=t||this._metrics.get(e),!(e instanceof Element))return t.width=o(e.width,0),t.height=o(e.height,0),t.top=o(e.top,o(e.y,0)),t.left=o(e.left,o(e.x,0)),t.right=t.left+t.width,t.bottom=t.top+t.height,t;if(void 0===e.offsetWidth){var n=e.getBoundingClientRect();return t.width=n.width,t.height=n.height,t.top=s.pageMetrics.scrollY+n.top,t.left=s.pageMetrics.scrollX+n.left,t.right=t.left+t.width,t.bottom=t.top+t.height,t}t.width=e.offsetWidth,t.height=e.offsetHeight,t.top=s.pageMetrics.documentOffsetY,t.left=s.pageMetrics.documentOffsetX;for(var i=e;i;)t.top+=i.offsetTop,t.left+=i.offsetLeft,i=i.offsetParent;return t.right=t.left+t.width,t.bottom=t.top+t.height,t}}]),e}(),c=function(){function e(t){i(this,e),this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}return r(e,[{key:"toString",value:function(){return"top:"+this.top+", bottom:"+this.bottom+", left:"+this.left+", right:"+this.right+", height:"+this.height+", width:"+this.width}},{key:"toObject",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}]),e}();t.exports=a},{"./AnimSystemModel":232}],236:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function s(e){i(this,s),this.controller=e,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps};t.exports=r},{}],237:[function(e,t,n){"use strict";var i=e("./AnimSystemModel"),r=e("../Keyframes/Keyframe"),s=e("../Keyframes/KeyframeDiscreteEvent"),o=e("../Keyframes/KeyframeCSSClass"),a=function(e){for(var t in e){var n=e[t];if(i.KeyframeJSONReservedWords.indexOf(t)===-1&&Array.isArray(n))return!0}return!1},c=function(e){if(void 0!==e.cssClass||void 0!==e.style){if(a(e))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return o}if(a(e))return r;if(e.event)return s;throw delete e.anchors,"Could not determine tween type based on "+JSON.stringify(e)};t.exports=c},{"../Keyframes/Keyframe":227,"../Keyframes/KeyframeCSSClass":228,"../Keyframes/KeyframeDiscreteEvent":230,"./AnimSystemModel":232}],238:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function s(){i(this,s),this.local=0,this.localUnclamped=0,this.lastPosition=0};t.exports=r},{}],239:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("@marcom/sm-math-utils"),a=o.map,c={},u=function(){function e(t,n,i,s){r(this,e),this.mass=t,this.stiffness=n,this.damping=i,this.initialVelocity=s,this.m_w0=Math.sqrt(this.stiffness/this.mass),this.m_zeta=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),this.m_zeta<1?(this.m_wd=this.m_w0*Math.sqrt(1-this.m_zeta*this.m_zeta),this.m_A=1,this.m_B=(this.m_zeta*this.m_w0+-this.initialVelocity)/this.m_wd):(this.m_wd=0,this.m_A=1,this.m_B=-this.initialVelocity+this.m_w0)}return s(e,[{key:"solve",value:function(e){return e=this.m_zeta<1?Math.exp(-e*this.m_zeta*this.m_w0)*(this.m_A*Math.cos(this.m_wd*e)+this.m_B*Math.sin(this.m_wd*e)):(this.m_A+this.m_B*e)*Math.exp(-e*this.m_w0),1-e}}]),e}(),h=/\d*\.?\d+/g;u.fromCSSString=function(e){function t(){if(c[e])return c[e];for(var t=1/6,n=0,i=void 0;;){l+=t;var r=o(l);if(1===r){if(n++,n>=16){i=l*t;break}}else n=0}return c[e]=i,c[e]}var n=e.match(h);if(4!==n.length)throw"SpringEasing could not convert "+cssString+" to spring params";var r=n.map(Number),s=new(Function.prototype.bind.apply(u,[null].concat(i(r)))),o=s.solve.bind(s),l=0,m=t();return function(e){return 0===e||1===e?e:o(a(e,0,1,0,m))}},t.exports=u},{"@marcom/sm-math-utils":268}],240:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function s(e,t,n){i(this,s),this.epsilon=parseFloat(t),this.snapAtCreation=n,this.initialValue=e,this.target=e,this.current=e,this.previousValue=e,this.isActive=!1};t.exports=r},{}],241:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function s(){i(this,s)};t.exports=r},{}],242:[function(e,t,n){"use strict";var i=function(){return Math.random().toString(16).slice(-4)};t.exports=i},{}],243:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=1e-5,o=Math.abs,a=5,c=function(){function e(t,n,r,s){i(this,e),this.cp=new Float32Array(6),this.cp[0]=3*t,this.cp[1]=3*(r-t)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*n,this.cp[4]=3*(s-n)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}return r(e,[{key:"sampleCurveX",value:function(e){return((this.cp[2]*e+this.cp[1])*e+this.cp[0])*e}},{key:"sampleCurveY",value:function(e){return((this.cp[5]*e+this.cp[4])*e+this.cp[3])*e}},{key:"sampleCurveDerivativeX",value:function(e){return(3*this.cp[2]*e+2*this.cp[1])*e+this.cp[0]}},{key:"solveCurveX",value:function(e){var t,n,i,r,c,u;for(i=e,u=0;u<a;u++){if(r=this.sampleCurveX(i)-e,o(r)<s)return i;if(c=this.sampleCurveDerivativeX(i),o(c)<s)break;i-=r/c}if(t=0,n=1,i=e,i<t)return t;if(i>n)return n;for(;t<n;){if(r=this.sampleCurveX(i),o(r-e)<s)return i;e>r?t=i:n=i,i=.5*(n-t)+t}return i}},{key:"solve",value:function(e){return this.sampleCurveY(this.solveCurveX(e))}}]),e}(),u=/\d*\.?\d+/g;c.fromCSSString=function(e){var t=e.match(u);if(4!==t.length)throw"UnitBezier could not convert "+e+" to cubic-bezier";var n=t.map(Number),i=new c(n[0],n[1],n[2],n[3]);return i.solve.bind(i)},t.exports=c},{}],244:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function s(e,t){i(this,s),this.a=e.top-t,this.a<0&&(this.a=e.top),this.b=e.top,this.d=e.bottom,this.c=Math.max(this.d-t,this.b)};t.exports=r},{}],245:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=e("./Interpreter"),a=new(e("../Model/ElementMetricsLookup")),c=function(){function e(t){i(this,e),this.group=t,this.data={target:null,anchors:null,metrics:this.group.metrics}}return s(e,[{key:"parseArray",value:function(e,t){return[this.parseExpression(e,t[0]),this.parseExpression(e,t[1])]}},{key:"parseExpression",value:function(t,n){if(!n)return null;if("number"==typeof n)return n;if("string"!=typeof n)throw"Expression must be a string, received "+("undefined"==typeof n?"undefined":r(n))+": "+n;return this.data.target=t.controller.element,this.data.anchors=t.anchors,this.data.keyframe=t.keyframe,e._parse(n,this.data)}},{key:"parseTimeValue",value:function(e,t){if("number"==typeof t)return t;var n=this.group.expressionParser.parseExpression(e,t);return this.group.convertScrollPositionToTValue(n)}},{key:"destroy",value:function(){this.group=null}}],[{key:"parse",value:function(t,n){return n=n||{},n&&(a.clear(),n.target&&a.add(n.target),n.anchors&&n.anchors.forEach(function(e){return a.add(e)})),n.metrics=a,e._parse(t,n)}},{key:"_parse",value:function(e,t){return o.Parse(e).execute(t)}}]),e}();c.programs=o.programs,"undefined"!=typeof window&&(window.ExpressionParser=c),t.exports=c},{"../Model/ElementMetricsLookup":235,"./Interpreter":246}],246:[function(e,t,n){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("../Model/AnimSystemModel"),c=e("@marcom/sm-math-utils"),u={},h={smoothstep:function(e,t,n){return n=h.clamp((n-e)/(t-e),0,1),n*n*(3-2*n)},deg:function(e){return 180*e/Math.PI},rad:function(e){return e*Math.PI/180},random:function(e,t){return Math.random()*(t-e)+e},atan:Math.atan2};Object.getOwnPropertyNames(Math).forEach(function(e){return h[e]?null:h[e.toLowerCase()]=Math[e]}),Object.getOwnPropertyNames(c).forEach(function(e){return h[e]?null:h[e.toLowerCase()]=c[e]});var l=null,m={ANCHOR_CONST:"a",ALPHA:"ALPHA",LPAREN:"(",RPAREN:")",PLUS:"PLUS",MINUS:"MINUS",MUL:"MUL",DIV:"DIV",INTEGER_CONST:"INTEGER_CONST",FLOAT_CONST:"FLOAT_CONST",COMMA:",",EOF:"EOF"},f={NUMBERS:/\d|\d\.\d/,DIGIT:/\d/,OPERATOR:/[-+*\/]/,PAREN:/[()]/,WHITE_SPACE:/\s/,ALPHA:/[a-zA-Z]|%/,ALPHANUMERIC:/[a-zA-Z0-9]/,OBJECT_UNIT:/^(t|l|b|r|%w|%h|%|h|w)$/,GLOBAL_METRICS_UNIT:/^(px|vh|vw)$/,ANY_UNIT:/^(t|l|b|r|%w|%h|%|h|w|px|vh|vw)$/,MATH_FUNCTION:new RegExp("\\b("+Object.keys(h).join("|")+")\\b","i")},d=function(e,t,n){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",t.slice(Math.max(n,0),Math.min(t.length,n+3))),r=new Error("Expression Error. "+e+' in expression "'+t+'", near "'+i+'"');throw console.error(r.message,l?l.keyframe||l.target:""),r},p={round:1,clamp:3,lerp:3,random:2,atan:2,floor:1,ceil:1,abs:1,cos:1,sin:1,smoothstep:3,rad:1,deg:1,pow:2,calc:1},y=function S(e,t){s(this,S),this.type=e,this.value=t};y.ONE=new y("100",100),y.EOF=new y(m.EOF,null);var v=function k(e){s(this,k),this.type=e},_=function(e){function t(e,n){s(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"UnaryOp"));return r.token=r.op=e,r.expr=n,r}return r(t,e),t}(v),g=function(e){function t(e,n,r){s(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"BinOp"));return o.left=e,o.op=n,o.right=r,o}return r(t,e),t}(v),b=function(e){function t(e,n){s(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"MathOp"));if(r.op=e,r.list=n,p[e.value]&&n.length!==p[e.value])throw new Error("Incorrect number of arguments for '"+e.value+"'. Received "+n.length+", expected "+p[e.value]);return r}return r(t,e),t}(v),w=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Num"));return n.token=e,n.value=e.value,n}return r(t,e),t}(v),E=(function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Unit"));return n.token=e,n.value=e.value,n}return r(t,e),t}(v),function(e){function t(e,n,r){s(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"RefValue"));return o.num=e,o.ref=n,o.unit=r,o}return r(t,e),t}(v)),x=function(e){function t(e,n){s(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"CSSValue"));return r.ref=e,r.propertyName=n,r}return r(t,e),t}(v),O=function(e){function t(e,n){s(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"PropValue"));return r.ref=e,r.propertyName=n,r}return r(t,e),t}(v),A=function(){function e(t){s(this,e),this.text=t,this.pos=0,this["char"]=this.text[this.pos],this.tokens=[];for(var n=void 0;(n=this.getNextToken())&&n!==y.EOF;)this.tokens.push(n);this.tokens.push(n)}return o(e,[{key:"advance",value:function(){this["char"]=this.text[++this.pos]}},{key:"skipWhiteSpace",value:function(){for(;null!=this["char"]&&f.WHITE_SPACE.test(this["char"]);)this.advance()}},{key:"name",value:function(){for(var e="";null!=this["char"]&&f.ALPHA.test(this["char"]);)e+=this["char"],this.advance();return new y(m.ALPHA,e)}},{key:"number",value:function(){var e="";for("."===this["char"]&&(e+=this["char"],this.advance());null!=this["char"]&&f.DIGIT.test(this["char"]);)e+=this["char"],this.advance();if(null!=this["char"]&&"."===this["char"])for(e.includes(".")&&d("Number appears to contain 2 decimal points",this.text,this.pos),e+=this["char"],this.advance();null!=this["char"]&&f.DIGIT.test(this["char"]);)e+=this["char"],this.advance();return"."===e&&d("Attempted to parse a number, but found only a decimal point",this.text,this.pos),e.includes(".")?new y(m.FLOAT_CONST,parseFloat(e)):new y(m.INTEGER_CONST,parseInt(e))}},{key:"getNextToken",value:function(){for(;null!=this["char"];)if(f.WHITE_SPACE.test(this["char"]))this.skipWhiteSpace();else{if("."===this["char"]||f.DIGIT.test(this["char"]))return this.number();if(","===this["char"])return this.advance(),new y(m.COMMA,",");if(f.OPERATOR.test(this["char"])){var e="",t=this["char"];switch(t){case"+":e=m.PLUS;break;case"-":e=m.MINUS;break;case"*":e=m.MUL;break;case"/":e=m.DIV}return this.advance(),new y(e,t)}if(f.PAREN.test(this["char"])){var n="",i=this["char"];switch(i){case"(":n=m.LPAREN;break;case")":n=m.RPAREN}return this.advance(),new y(n,i)}if(f.ALPHA.test(this["char"]))return this.name();d('Unexpected character "'+this["char"]+'"',this.text,this.pos)}return y.EOF}}]),e}(),T=function(){function e(t){s(this,e),this.lexer=t,this.pos=0}return o(e,[{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";d(e,t,this.lexer.text,this.pos)}},{key:"consume",value:function(e){var t=this.currentToken;return t.type===e?this.pos+=1:this.error("Invalid token "+this.currentToken.value+", expected "+e),t}},{key:"consumeList",value:function(e){e.includes(this.currentToken)?this.pos+=1:this.error("Invalid token "+this.currentToken.value+", expected "+tokenType)}},{key:"expr",value:function(){for(var e=this.term();this.currentToken.type===m.PLUS||this.currentToken.type===m.MINUS;){var t=this.currentToken;switch(t.value){case"+":this.consume(m.PLUS);break;case"-":this.consume(m.MINUS)}e=new g(e,t,this.term())}return e}},{key:"term",value:function(){for(var e=this.factor();this.currentToken.type===m.MUL||this.currentToken.type===m.DIV;){var t=this.currentToken;switch(t.value){case"*":this.consume(m.MUL);break;case"/":this.consume(m.DIV)}e=new g(e,t,this.factor())}return e}},{key:"factor",value:function(){if(this.currentToken.type===m.PLUS)return new _(this.consume(m.PLUS),this.factor());if(this.currentToken.type===m.MINUS)return new _(this.consume(m.MINUS),this.factor());if(this.currentToken.type===m.INTEGER_CONST||this.currentToken.type===m.FLOAT_CONST){var e=new w(this.currentToken);if(this.pos+=1,f.OPERATOR.test(this.currentToken.value)||this.currentToken.type===m.RPAREN||this.currentToken.type===m.COMMA||this.currentToken.type===m.EOF)return e;if(this.currentToken.type===m.ALPHA&&this.currentToken.value===m.ANCHOR_CONST)return this.consume(m.ALPHA),new E(e,this.anchorIndex(),this.unit(f.ANY_UNIT));if(this.currentToken.type===m.ALPHA)return"%a"===this.currentToken.value&&this.error("%a is invalid, try removing the %"),new E(e,null,this.unit());this.error("Expected a scaling unit type","Such as 'h' / 'w'")}else{if(f.OBJECT_UNIT.test(this.currentToken.value))return new E(new w(y.ONE),null,this.unit());if(this.currentToken.value===m.ANCHOR_CONST){this.consume(m.ALPHA);var t=this.anchorIndex();if(f.OBJECT_UNIT.test(this.currentToken.value))return new E(new w(y.ONE),t,this.unit())}else if(this.currentToken.type===m.ALPHA){if("calc"===this.currentToken.value)return this.consume(m.ALPHA),this.expr();if("css"===this.currentToken.value||"var"===this.currentToken.value||"prop"===this.currentToken.value){var n="prop"!==this.currentToken.value?x:O;this.consume(m.ALPHA),this.consume(m.LPAREN);var i=this.propertyName(),r=null;return this.currentToken.type===m.COMMA&&(this.consume(m.COMMA),this.consume(m.ALPHA),r=this.anchorIndex()),this.consume(m.RPAREN),new n(r,i)}if(f.MATH_FUNCTION.test(this.currentToken.value)){var s=this.currentToken.value.toLowerCase();if("number"==typeof h[s])return this.consume(m.ALPHA),new w(new y(m.ALPHA,h[s]));var o=y[s]||new y(s,s),a=[];this.consume(m.ALPHA),this.consume(m.LPAREN);var c=null;do this.currentToken.value===m.COMMA&&this.consume(m.COMMA),c=this.expr(),a.push(c);while(this.currentToken.value===m.COMMA);return this.consume(m.RPAREN),new b(o,a)}}else if(this.currentToken.type===m.LPAREN){this.consume(m.LPAREN);var u=this.expr();return this.consume(m.RPAREN),u}}this.error("Unexpected token "+this.currentToken.value)}},{key:"propertyName",value:function(){for(var e="";this.currentToken.type===m.ALPHA||this.currentToken.type===m.MINUS;)e+=this.currentToken.value,this.pos+=1;return e}},{key:"unit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.ANY_UNIT,t=this.currentToken;return t.type===m.ALPHA&&e.test(t.value)?(this.consume(m.ALPHA),new y(m.ALPHA,t.value=t.value.replace(/%(h|w)/,"$1").replace("%","h"))):void this.error("Expected unit type")}},{key:"anchorIndex",value:function(){var e=this.currentToken;return e.type===m.INTEGER_CONST?(this.consume(m.INTEGER_CONST),new w(e)):void this.error("Invalid anchor reference",". Should be something like a0, a1, a2")}},{key:"parse",value:function(){var e=this.expr();return this.currentToken!==y.EOF&&this.error("Unexpected token "+this.currentToken.value),e}},{key:"currentToken",get:function(){return this.lexer.tokens[this.pos]}}]),e}(),C=function(){function e(t){s(this,e),this.parser=t,this.root=t.parse()}return o(e,[{key:"visit",value:function(e){var t=this[e.type];if(!t)throw new Error("No visit method named, "+t);var n=t.call(this,e);return n}},{key:"BinOp",value:function(e){switch(e.op.type){case m.PLUS:return this.visit(e.left)+this.visit(e.right);case m.MINUS:return this.visit(e.left)-this.visit(e.right);case m.MUL:return this.visit(e.left)*this.visit(e.right);case m.DIV:return this.visit(e.left)/this.visit(e.right)}}},{key:"RefValue",value:function(e){var t=this.unwrapReference(e),n=e.unit.value,i=e.num.value,r=l.metrics.get(t);switch(n){case"h":return.01*i*r.height;case"t":return.01*i*r.top;case"vh":return.01*i*a.pageMetrics.windowHeight;case"vw":return.01*i*a.pageMetrics.windowWidth;case"px":return i;case"w":return.01*i*r.width;case"b":return.01*i*r.bottom;case"l":return.01*i*r.left;case"r":return.01*i*r.right}}},{key:"PropValue",value:function(e){var t=null===e.ref?l.target:l.anchors[e.ref.value];return t[e.propertyName]}},{key:"CSSValue",value:function(t){var n=this.unwrapReference(t),i=getComputedStyle(n).getPropertyValue(t.propertyName);return""===i?0:e.Parse(i).execute(l)}},{key:"Num",value:function(e){return e.value}},{key:"UnaryOp",value:function(e){return e.op.type===m.PLUS?+this.visit(e.expr):e.op.type===m.MINUS?-this.visit(e.expr):void 0}},{key:"MathOp",value:function(e){var t=this,n=e.list.map(function(e){return t.visit(e)});return h[e.op.value].apply(null,n)}},{key:"unwrapReference",value:function(e){return null===e.ref?l.target:(e.ref.value>=l.anchors.length&&console.error("Not enough anchors supplied for expression "+this.parser.lexer.text,l.target),l.anchors[e.ref.value])}},{key:"execute",value:function(e){return l=e,this.visit(this.root)}}],[{key:"Parse",value:function(t){return u[t]||(u[t]=new e(new T(new A(t))))}}]),e}();C.programs=u,t.exports=C},{"../Model/AnimSystemModel":232,"@marcom/sm-math-utils":268}],247:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function w(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:w(r,t,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},c=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,u=e("@marcom/sm-math-utils"),h=e("./utils/arrayToObject"),l=e("./Model/AnimSystemModel"),m=e("./Model/AnimInfo"),f=e("./Model/Progress"),d=e("./Model/ViewableRange"),p=e("./Model/ElementMetricsLookup"),y=e("./Parsing/ExpressionParser"),v=e("./Keyframes/KeyframeController"),_={};"undefined"!=typeof window&&(_.create=e("@marcom/ac-raf-emitter/RAFEmitter"),_.update=e("@marcom/ac-raf-emitter/update"),_.draw=e("@marcom/ac-raf-emitter/draw"));var g=0,b=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.anim=n,s.element=e,s.name=s.name||e.getAttribute("data-anim-scroll-group"),s.isEnabled=!0,s.position=new f,s.metrics=new p,s.metrics.add(s.element),s.expressionParser=new y(s),s.boundsMin=0,s.boundsMax=0,s.timelineUpdateRequired=!1,s._keyframesDirty=!1,s.viewableRange=s.createViewableRange(),s.defaultEase=l.KeyframeDefaults.ease,s.keyframeControllers=[],s.updateProgress(s.getPosition()),s.onDOMRead=s.onDOMRead.bind(s),s.onDOMWrite=s.onDOMWrite.bind(s),s.gui=null,s.finalizeInit(),s}return s(t,e),o(t,[{key:"finalizeInit",value:function(){this.element._animInfo=new m(this,null,(!0)),this.setupRAFEmitter()}},{key:"destroy",value:function(){this.destroyed=!0,this.expressionParser.destroy(),this.expressionParser=null;for(var e=0,n=this.keyframeControllers.length;e<n;e++)this.keyframeControllers[e].destroy();this.keyframeControllers=null,this.position=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"removeKeyframeController",value:function(e){var t=this;return this.keyframeControllers.includes(e)?(e._allKeyframes.forEach(function(e){return e.markedForRemoval=!0}),this.keyframesDirty=!0,new Promise(function(n){_.draw(function(){var i=t.keyframeControllers.indexOf(e);return i===-1?void n():(t.keyframeControllers.splice(i,1),e.onDOMWrite(),e.destroy(),t.gui&&t.gui.create(),void n())})})):Promise.resolve()}},{key:"remove",value:function(){return this.anim.removeGroup(this)}},{key:"clear",value:function(){var e=this;return Promise.all(this.keyframeControllers.map(function(t){return e.removeKeyframeController(t)}))}},{key:"setupRAFEmitter",value:function(e){var t=this;this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=e||new _.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",function(){return t.reconcile()})}},{key:"requestDOMChange",value:function(){return!!this.isEnabled&&this.rafEmitter.run()}},{key:"onDOMRead",value:function(){this.keyframesDirty&&this.onKeyframesDirty();for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMRead(this.position.local)}},{key:"onDOMWrite",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].onDOMWrite();this.needsUpdate()&&this.requestDOMChange()}},{key:"needsUpdate",value:function(){if(this._keyframesDirty)return!0;for(var e=0,t=this.keyframeControllers.length;e<t;e++)if(this.keyframeControllers[e].needsUpdate())return!0;return!1}},{key:"addKeyframe",value:function(e,t){var n=this.getControllerForTarget(e);return null===n&&(n=new v(this,e),this.keyframeControllers.push(n)),this.keyframesDirty=!0,n.addKeyframe(t)}},{key:"addEvent",value:function(e,t){t.event=t.event||"Generic-Event-Name-"+g++;var n=void 0!==t.end&&t.end!==t.start,i=this.addKeyframe(e,t);return n?(t.onEnterOnce&&i.controller.once(t.event+":enter",t.onEnterOnce),t.onExitOnce&&i.controller.once(t.event+":exit",t.onExitOnce),t.onEnter&&i.controller.on(t.event+":enter",t.onEnter),t.onExit&&i.controller.on(t.event+":exit",t.onExit)):(t.onEventOnce&&i.controller.once(t.event,t.onEventOnce),t.onEventReverseOnce&&i.controller.once(t.event+":reverse",t.onEventReverseOnce),t.onEvent&&i.controller.on(t.event,t.onEvent),t.onEventReverse&&i.controller.on(t.event+":reverse",t.onEventReverse)),i}},{key:"forceUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.waitForNextUpdate,n=void 0===t||t,i=e.silent,r=void 0!==i&&i;this.isEnabled&&(this.refreshMetrics(),this.timelineUpdateRequired=!0,n?this.keyframesDirty=!0:this.onKeyframesDirty({silent:r}))}},{key:"onKeyframesDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.silent,n=void 0!==t&&t;this.determineActiveKeyframes(),this.keyframesDirty=!1,this.metrics.refreshMetrics(this.element),this.viewableRange=this.createViewableRange();for(var i=0,r=this.keyframeControllers.length;i<r;i++)this.keyframeControllers[i].updateAnimationConstraints();this.updateBounds(),this.updateProgress(this.getPosition()),n||this.updateTimeline(),this.gui&&this.gui.create()}},{key:"refreshMetrics",value:function(){var e=new Set([this.element]);this.keyframeControllers.forEach(function(t){e.add(t.element),t._allKeyframes.forEach(function(t){return t.anchors.forEach(function(t){return e.add(t)})})}),this.metrics.refreshCollection(e),this.viewableRange=this.createViewableRange()}},{key:"reconcile",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].reconcile()}},{key:"determineActiveKeyframes",value:function(e){e=e||h(Array.from(document.documentElement.classList));for(var t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].determineActiveKeyframes(e)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].getBounds(e);var i=this.convertTValueToScrollPosition(e.min),r=this.convertTValueToScrollPosition(e.max);r-i<l.pageMetrics.windowHeight?(e.min=this.convertScrollPositionToTValue(i-.5*l.pageMetrics.windowHeight),e.max=this.convertScrollPositionToTValue(r+.5*l.pageMetrics.windowHeight)):(e.min-=.001,
e.max+=.001),this.boundsMin=e.min,this.boundsMax=e.max,this.timelineUpdateRequired=!0}},{key:"createViewableRange",value:function(){return new d(this.metrics.get(this.element),l.pageMetrics.windowHeight)}},{key:"_onBreakpointChange",value:function(e,t){this.keyframesDirty=!0,this.determineActiveKeyframes()}},{key:"updateProgress",value:function(e){return this.hasDuration()?(this.position.localUnclamped=(e-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a),void(this.position.local=u.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax))):void(this.position.local=this.position.localUnclamped=0)}},{key:"performTimelineDispatch",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++)this.keyframeControllers[e].updateLocalProgress(this.position.local);this.trigger(l.EVENTS.ON_TIMELINE_UPDATE,this.position.local),this.trigger("update",this.position.local),this.timelineUpdateRequired=!1,this.position.lastPosition!==this.position.local&&(this.position.lastPosition<=this.boundsMin&&this.position.localUnclamped>this.boundsMin?(this.trigger(l.EVENTS.ON_TIMELINE_START,this),this.trigger("start",this)):this.position.lastPosition>=this.boundsMin&&this.position.localUnclamped<this.boundsMin?(this.trigger(l.EVENTS.ON_TIMELINE_START+":reverse",this),this.trigger("start:reverse",this)):this.position.lastPosition<=this.boundsMax&&this.position.localUnclamped>=this.boundsMax?(this.trigger(l.EVENTS.ON_TIMELINE_COMPLETE,this),this.trigger("complete",this)):this.position.lastPosition>=this.boundsMax&&this.position.localUnclamped<this.boundsMax&&(this.trigger(l.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this),this.trigger("complete:reverse",this))),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"updateTimeline",value:function(e){if(!this.isEnabled)return!1;void 0===e&&(e=this.getPosition()),this.updateProgress(e);var t=this.position.lastPosition===this.boundsMin||this.position.lastPosition===this.boundsMax,n=this.position.localUnclamped===this.boundsMin||this.position.localUnclamped===this.boundsMax;if(!this.timelineUpdateRequired&&t&&n&&this.position.lastPosition===e)return void(this.position.local=this.position.localUnclamped);if(this.timelineUpdateRequired||this.position.localUnclamped>this.boundsMin&&this.position.localUnclamped<this.boundsMax)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var i=this.position.lastPosition>this.boundsMin&&this.position.lastPosition<this.boundsMax,r=this.position.localUnclamped<=this.boundsMin||this.position.localUnclamped>=this.boundsMax;if(i&&r)return this.performTimelineDispatch(),this.requestDOMChange(),void(this.position.lastPosition=this.position.localUnclamped);var s=this.position.lastPosition<this.boundsMin&&this.position.localUnclamped>this.boundsMax,o=this.position.lastPosition>this.boundsMax&&this.position.localUnclamped<this.boundsMax;(s||o)&&(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"_onScroll",value:function(e){this.updateTimeline(e)}},{key:"convertScrollPositionToTValue",value:function(e){return this.hasDuration()?u.map(e,this.viewableRange.a,this.viewableRange.d,0,1):0}},{key:"convertTValueToScrollPosition",value:function(e){return this.hasDuration()?u.map(e,0,1,this.viewableRange.a,this.viewableRange.d):0}},{key:"hasDuration",value:function(){return this.viewableRange.a!==this.viewableRange.d}},{key:"getPosition",value:function(){return l.pageMetrics.scrollY}},{key:"getControllerForTarget",value:function(e){if(!e._animInfo||!e._animInfo.controllers)return null;if(e._animInfo.controller&&e._animInfo.controller.group===this)return e._animInfo.controller;for(var t=e._animInfo.controllers,n=0,i=t.length;n<i;n++)if(t[n].group===this)return t[n];return null}},{key:"trigger",value:function(e,t){if("undefined"!=typeof this._events[e])for(var n=this._events[e].length-1;n>=0;n--)void 0!==t?this._events[e][n](t):this._events[e][n]()}},{key:"keyframesDirty",set:function(e){this._keyframesDirty=e,this._keyframesDirty&&this.requestDOMChange()},get:function(){return this._keyframesDirty}}]),t}(c);t.exports=b},{"./Keyframes/KeyframeController":229,"./Model/AnimInfo":231,"./Model/AnimSystemModel":232,"./Model/ElementMetricsLookup":235,"./Model/Progress":238,"./Model/ViewableRange":244,"./Parsing/ExpressionParser":245,"./utils/arrayToObject":250,"@marcom/ac-event-emitter-micro":93,"@marcom/ac-raf-emitter/RAFEmitter":213,"@marcom/ac-raf-emitter/draw":219,"@marcom/ac-raf-emitter/update":223,"@marcom/sm-math-utils":268}],248:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function d(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},c=e("./ScrollGroup"),u=e("./ChapterPlayer"),h=e("@marcom/sm-math-utils"),l=0,m={};"undefined"!=typeof window&&(m.create=e("@marcom/ac-raf-emitter/RAFEmitter"));var f=function(e){function t(e,n){i(this,t),e||(e=document.createElement("div"),e.className="TimeGroup-"+l++);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return s.name=s.name||e.getAttribute("data-anim-time-group"),s._isPaused=!0,s._repeats=0,s._isReversed=!1,s._timeScale=1,s._chapterPlayer=new u(s),s.now=performance.now(),s}return s(t,e),o(t,[{key:"finalizeInit",value:function(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"finalizeInit",this).call(this)}},{key:"progress",value:function(e){if(void 0===e)return 0===this.boundsMax?0:this.position.local/this.boundsMax;var t=e*this.boundsMax;this.timelineUpdateRequired=!0,this.updateTimeline(t)}},{key:"time",value:function(e){return void 0===e?this.position.local:(e=h.clamp(e,this.boundsMin,this.duration),this.timelineUpdateRequired=!0,void this.updateTimeline(e))}},{key:"play",value:function(e){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(e),this.now=performance.now(),this._playheadEmitter.run()}},{key:"reverse",value:function(e){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(e),this.now=performance.now(),this._playheadEmitter.run()}},{key:"reversed",value:function(e){return void 0===e?this._isReversed:void(this._isReversed=e)}},{key:"restart",value:function(){this._isReversed?(this.progress(1),this.reverse(this.time())):(this.progress(0),this.play(this.time()))}},{key:"pause",value:function(e){this.time(e),this._isPaused=!0}},{key:"paused",value:function(e){return void 0===e?this._isPaused:(this._isPaused=e,this._isPaused||this.play(),this)}},{key:"onPlayTimeUpdate",value:function(){if(!this._isPaused){var e=performance.now(),n=(e-this.now)/1e3;this.now=e,this._isReversed&&(n=-n);var i=this.time(),r=i+n*this._timeScale;if(this._repeats===t.REPEAT_FOREVER||this._repeats>0){var s=!1;!this._isReversed&&r>this.boundsMax?(r-=this.boundsMax,s=!0):this._isReversed&&r<0&&(r=this.boundsMax+r,s=!0),s&&(this._repeats=this._repeats===t.REPEAT_FOREVER?t.REPEAT_FOREVER:this._repeats-1)}this.time(r);var o=!this._isReversed&&this.position.local!==this.duration,a=this._isReversed&&0!==this.position.local;o||a?this._playheadEmitter.run():this.paused(!0)}}},{key:"updateProgress",value:function(e){return this.hasDuration()?(this.position.localUnclamped=e,void(this.position.local=h.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax))):void(this.position.local=this.position.localUnclamped=0)}},{key:"updateBounds",value:function(){if(0===this.keyframeControllers.length)return this.boundsMin=0,void(this.boundsMax=0);for(var e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},t=0,n=this.keyframeControllers.length;t<n;t++)this.keyframeControllers[t].getBounds(e);this.boundsMin=0,this.boundsMax=e.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}},{key:"setupRAFEmitter",value:function(e){this._playheadEmitter=new m.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupRAFEmitter",this).call(this,e)}},{key:"timeScale",value:function(e){return void 0===e?this._timeScale:(this._timeScale=e,this)}},{key:"repeats",value:function(e){return void 0===e?this._repeats:void(this._repeats=e)}},{key:"getPosition",value:function(){return this.position.local}},{key:"addChapter",value:function(e){return this._chapterPlayer.addChapter(e)}},{key:"playToChapter",value:function(e){this._chapterPlayer.playToChapter(e)}},{key:"convertScrollPositionToTValue",value:function(e){return e}},{key:"convertTValueToScrollPosition",value:function(e){return e}},{key:"hasDuration",value:function(){return this.duration>0}},{key:"destroy",value:function(){this._playheadEmitter.destroy(),this._playheadEmitter=null,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"duration",get:function(){return this.keyframesDirty&&this.onKeyframesDirty({silent:!0}),this.boundsMax}},{key:"timelineProgress",set:function(e){this.progress(e)},get:function(){return this.progress()}}]),t}(c);f.REPEAT_FOREVER=-1,t.exports=f},{"./ChapterPlayer":226,"./ScrollGroup":247,"@marcom/ac-raf-emitter/RAFEmitter":213,"@marcom/sm-math-utils":268}],249:[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=function d(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},u=e("./ScrollGroup"),h=(e("./ChapterPlayer"),e("@marcom/sm-math-utils")),l=0,m={};"undefined"!=typeof window&&(m.create=e("@marcom/ac-raf-emitter/RAFEmitter"));var f=function(e){function t(e,n){r(this,t),e||(e=document.createElement("div"),e.className="TweenGroup-"+l++);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.name="Tweens",i.keyframes=[],i._isPaused=!1,i.now=performance.now(),i}return o(t,e),a(t,[{key:"finalizeInit",value:function(){this.onTimeEmitterUpdate=this.onTimeEmitterUpdate.bind(this),this.removeExpiredKeyframeControllers=this.removeExpiredKeyframeControllers.bind(this),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"finalizeInit",this).call(this)}},{key:"destroy",value:function(){this._timeEmitter.destroy(),this._timeEmitter=null,this._keyframes=[],c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"setupRAFEmitter",value:function(e){this.now=performance.now(),this._timeEmitter=new m.create,this._timeEmitter.on("update",this.onTimeEmitterUpdate),this._timeEmitter.run(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setupRAFEmitter",this).call(this,e)}},{key:"addKeyframe",value:function(e,n){if(void 0!==n.start||void 0!==n.end)throw Error("Tweens do not have a start or end, they can only have a duration. Consider using a TimeGroup instead");if("number"!=typeof n.duration)throw Error("Tween options.duration is undefined, or is not a number");n.start=(n.delay||0)+this.position.localUnclamped,n.end=n.start+n.duration,n.preserveState=!0,n.snapAtCreation=!0;var i=void 0,r=void 0;e._animInfo&&(i=e._animInfo.group,r=e._animInfo.controller);var s=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addKeyframe",this).call(this,e,n);return e._animInfo.group=i,e._animInfo.controller=r,n.onStart&&s.controller.once("draw",function(e){e.keyframe=s,n.onStart(e),e.keyframe=null}),n.onDraw&&s.controller.on("draw",function(e){e.keyframe=s,n.onDraw(e),e.keyframe=null}),this.removeOverlappingProps(s),this.keyframes.push(s),this._timeEmitter.willRun()||(this.now=performance.now(),this._timeEmitter.run()),s}},{key:"removeOverlappingProps",value:function(e){if(!(e.controller._allKeyframes.length<=1))for(var t=Object.keys(e.animValues),n=e.controller,i=function(i,r){var s=n._allKeyframes[i];if(s===e)return"continue";if(s.markedForRemoval)return"continue";var o=Object.keys(s.animValues),a=o.filter(function(e){return t.includes(e)});return a.length===o.length?(s.markedForRemoval=!0,"continue"):void a.forEach(function(e){return delete s.animValues[e]})},r=0,s=n._allKeyframes.length;r<s;r++){i(r,s)}}},{key:"onTimeEmitterUpdate",value:function(e){if(!this._isPaused&&0!==this.keyframeControllers.length){var t=performance.now(),n=(t-this.now)/1e3;this.now=t;var i=this.position.local+n;this.position.local=this.position.localUnclamped=i,this.onTimeUpdate()}}},{key:"onTimeUpdate",value:function(){for(var e=0,t=this.keyframes.length;e<t;e++)this.keyframes[e].updateLocalProgress(this.position.localUnclamped);this.requestDOMChange(),this._timeEmitter.run(),null!==this.gui&&this.gui.onScrollUpdate(this.position)}},{key:"onDOMRead",value:function(){if(this.keyframesDirty&&this.onKeyframesDirty(),0!==this.keyframes.length)for(var e=0,t=this.keyframes.length;e<t;e++){this.keyframes[e].controller.needsWrite=!0;for(var n in this.keyframes[e].animValues)this.keyframes[e].onDOMRead(n)}}},{key:"onDOMWrite",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onDOMWrite",this).call(this),this.removeExpiredKeyframes()}},{key:"removeExpiredKeyframes",value:function(){for(var e=this.keyframes.length,t=e;e--;){var n=this.keyframes[e];n.destroyed?this.keyframes.splice(e,1):(n.markedForRemoval&&(n.jsonProps.onComplete&&1===n.localT&&(n.controller.eventObject.keyframe=n,n.jsonProps.onComplete(n.controller.eventObject),n.jsonProps.onComplete=null),null!==this.gui&&this.gui.isDraggingPlayhead||(n.remove(),this.keyframes.splice(e,1))),1===n.localT&&(n.markedForRemoval=!0))}this.keyframes.length===t&&0!==this.keyframes.length||this._timeEmitter.executor.eventEmitter.once("after:draw",this.removeExpiredKeyframeControllers)}},{key:"removeExpiredKeyframeControllers",value:function(){for(var e=0,t=this.keyframeControllers.length;e<t;e++){for(var n=!0,i=this.keyframeControllers[e],r=0,s=i._allKeyframes.length;r<s;r++)if(!i._allKeyframes[r].destroyed){n=!1;break}n&&i.remove()}}},{key:"updateBounds",value:function(){this.boundsMin=Math.min.apply(Math,i(this.keyframes.map(function(e){return e.start}))),this.boundsMax=Math.max.apply(Math,i(this.keyframes.map(function(e){return e.end})))}},{key:"play",value:function(){this.isEnabled=!0,this._isPaused=!1,this.now=performance.now(),this._timeEmitter.run()}},{key:"pause",value:function(){this._isPaused=!0}},{key:"paused",value:function(){return this._isPaused}},{key:"time",value:function(e){return void 0===e?this.position.local:(this.position.local=this.position.localUnclamped=h.clamp(e,this.boundsMin,this.boundsMax),void this.onTimeUpdate())}},{key:"performTimelineDispatch",value:function(){}},{key:"hasDuration",value:function(){return!0}},{key:"getPosition",value:function(){return this.position.local}},{key:"updateProgress",value:function(e){}},{key:"duration",get:function(){return this.boundsMax}}]),t}(u);t.exports=f},{"./ChapterPlayer":226,"./ScrollGroup":247,"@marcom/ac-raf-emitter/RAFEmitter":213,"@marcom/sm-math-utils":268}],250:[function(e,t,n){"use strict";var i=function(e){return e.reduce(function(e,t){return e[t]=t,e},{})};t.exports=i},{}],251:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)return e;try{return(t||document).querySelector(e)||document.querySelector(e)}catch(n){return!1}}},{}],252:[function(e,t,n){arguments[4][212][0].apply(n,arguments)},{dup:212}],253:[function(e,t,n){arguments[4][213][0].apply(n,arguments)},{"./sharedRAFEmitterIDGeneratorInstance":259,"./sharedRAFExecutorInstance":260,"@marcom/ac-event-emitter-micro":93,dup:213}],254:[function(e,t,n){arguments[4][214][0].apply(n,arguments)},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":94,dup:214}],255:[function(e,t,n){arguments[4][215][0].apply(n,arguments)},{"./SingleCallRAFEmitter":257,dup:215}],256:[function(e,t,n){arguments[4][216][0].apply(n,arguments)},{"./RAFInterface":255,dup:216}],257:[function(e,t,n){arguments[4][217][0].apply(n,arguments)},{"./RAFEmitter":253,dup:217}],258:[function(e,t,n){arguments[4][219][0].apply(n,arguments)},{"./RAFInterfaceController":256,dup:219}],259:[function(e,t,n){arguments[4][221][0].apply(n,arguments)},{"../.release-info.js":252,"@marcom/ac-shared-instance":203,dup:221}],260:[function(e,t,n){arguments[4][222][0].apply(n,arguments)},{"../.release-info.js":252,"./RAFExecutor":254,"@marcom/ac-shared-instance":203,dup:222}],261:[function(e,t,n){arguments[4][223][0].apply(n,arguments)},{"./RAFInterfaceController":256,dup:223}],262:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function d(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:d(r,t,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},c=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,u=e("@marcom/anim-system/Model/AnimSystemModel"),h={create:e("@marcom/ac-raf-emitter/RAFEmitter"),update:e("@marcom/ac-raf-emitter/update"),draw:e("@marcom/ac-raf-emitter/draw")},l=function(){},m=0,f=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.el=e.el,n.gum=e.gum,n.componentName=e.componentName,n._keyframeController=null,n}return s(t,e),o(t,[{key:"destroy",value:function(){this.el=null,this.gum=null,this._keyframeController=null,a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"addKeyframe",value:function(e){var t=e.el||this.el;return(e.group||this.anim).addKeyframe(t,e)}},{key:"addDiscreteEvent",value:function(e){e.event=e.event||"Generic-Event-Name-"+m++;var t=void 0!==e.end&&e.end!==e.start,n=this.addKeyframe(e);return t?(e.onEnterOnce&&n.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&n.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&n.controller.on(e.event+":enter",e.onEnter),e.onExit&&n.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&n.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&n.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&n.controller.on(e.event,e.onEvent),e.onEventReverse&&n.controller.on(e.event+":reverse",e.onEventReverse)),n}},{key:"addRAFLoop",value:function(e){var t=["start","end"];if(!t.every(function(t){return e.hasOwnProperty(t)}))return void console.log("BubbleGum.BaseComponent::addRAFLoop required options are missing: "+t.join(" "));var n=new h.create;n.on("update",e.onUpdate||l),n.on("draw",e.onDraw||l),n.on("draw",function(){return n.run()});var i=e.onEnter,r=e.onExit;return e.onEnter=function(){n.run(),i?i():0},e.onExit=function(){n.cancel(),r?r():0},this.addDiscreteEvent(e)}},{key:"addContinuousEvent",value:function(e){e.onDraw||console.log("BubbleGum.BaseComponent::addContinuousEvent required option `onDraw` is missing. Consider using a regular keyframe if you do not need a callback"),e.event=e.event||"Generic-Event-Name-"+m++;var t=this.addKeyframe(e);return t.controller.on(e.event,e.onDraw),t}},{key:"mounted",value:function(){}},{key:"onResizeImmediate",value:function(e){}},{key:"onResizeDebounced",value:function(e){}},{key:"onBreakpointChange",value:function(e){}},{key:"anim",get:function(){return this.gum.anim}},{key:"keyframeController",get:function(){return this._keyframeController||(this._keyframeController=this.anim.getControllerForTarget(this.el))}},{key:"pageMetrics",get:function(){return u.pageMetrics}}]),t}(c);t.exports=f},{"@marcom/ac-event-emitter-micro":93,"@marcom/ac-raf-emitter/RAFEmitter":253,"@marcom/ac-raf-emitter/draw":258,"@marcom/ac-raf-emitter/update":261,"@marcom/anim-system/Model/AnimSystemModel":232}],263:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,c=e("@marcom/delayed-initializer"),u=e("@marcom/anim-system"),h=e("@marcom/anim-system/Model/AnimSystemModel"),l=e("./ComponentMap"),m={},f=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.el=e,n.anim=u,n.components=[],n.el.getAttribute("data-anim-scroll-group")||n.el.setAttribute("data-anim-scroll-group","bubble-gum-group"),u.on(h.EVENTS.ON_DOM_GROUPS_CREATED,function(e){n.componentsInitialized=!1,n.initComponents(),n.setupEvents()}),u.on(h.EVENTS.ON_DOM_KEYFRAMES_CREATED,function(){n.components.forEach(function(e){return e.mounted()}),n.trigger(t.EVENTS.DOM_COMPONENTS_MOUNTED)}),c.add(function(){return u.initialize()}),n}return s(t,e),o(t,[{key:"initComponents",value:function(){var e=Array.prototype.slice.call(this.el.querySelectorAll("[data-component-list]"));this.el.hasAttribute("data-component-list")&&e.push(this.el);for(var t=0;t<e.length;t++)for(var n=e[t],i=n.getAttribute("data-component-list"),r=i.split(" "),s=0,o=r.length;s<o;s++){var a=r[s];""!==a&&" "!==a&&this.addComponent({el:n,componentName:a})}this.componentsInitialized=!0}},{key:"setupEvents",value:function(){this.onResizeDebounced=this.onResizeDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this),this.onBreakpointChange=this.onBreakpointChange.bind(this),u.on(h.PageEvents.ON_RESIZE_IMMEDIATE,this.onResizeImmediate),u.on(h.PageEvents.ON_RESIZE_DEBOUNCED,this.onResizeDebounced),u.on(h.PageEvents.ON_BREAKPOINT_CHANGE,this.onBreakpointChange)}},{key:"addComponent",value:function(e){var n=e.el,i=e.componentName,r=e.data;if(!l.hasOwnProperty(i))throw"BubbleGum::addComponent could not add component to '"+n.className+"'. No component type '"+i+"' found!";var s=l[i];if(!t.componentIsSupported(s,i))return void 0===m[i]&&(console.log("BubbleGum::addComponent unsupported component '"+i+"'. Reason: '"+i+".IS_SUPPORTED' returned false"),m[i]=!0),null;var o=n.dataset.componentList||"";o.includes(i)||(n.dataset.componentList=o.split(" ").concat(i).join(" "));var a=new s({el:n,data:r,componentName:e.componentName,gum:this,pageMetrics:h.pageMetrics});return this.components.push(a),this.componentsInitialized&&a.mounted(),a}},{key:"removeComponent",value:function(e){var t=this.components.indexOf(e);t!==-1&&(this.components.splice(t,1),e.el.dataset.componentList=e.el.dataset.componentList.split(" ").filter(function(t){return t!==e.componentName}).join(" "),e.destroy())}},{key:"getComponentOfType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[data-component-list*="+e+"]",i=t.matches(n)?t:t.querySelector(n);return i?this.components.find(function(t){return t instanceof l[e]&&t.el===i}):null}},{key:"getComponentsOfType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,n="[data-component-list*="+e+"]",i=t.matches(n)?[t]:Array.from(t.querySelectorAll(n));return this.components.filter(function(t){return t instanceof l[e]&&i.includes(t.el)})}},{key:"getComponentsForElement",value:function(e){return this.components.filter(function(t){return t.el===e})}},{key:"onResizeImmediate",value:function(){this.components.forEach(function(e){return e.onResizeImmediate(h.pageMetrics)})}},{key:"onResizeDebounced",value:function(){this.components.forEach(function(e){return e.onResizeDebounced(h.pageMetrics)})}},{key:"onBreakpointChange",value:function(){this.components.forEach(function(e){return e.onBreakpointChange(h.pageMetrics)})}}],[{key:"componentIsSupported",value:function(e,t){var n=e.IS_SUPPORTED;if(void 0===n)return!0;if("function"!=typeof n)return console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;var i=e.IS_SUPPORTED();return void 0===i?(console.error('BubbleGum::addComponent error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):i}}]),t}(a);f.EVENTS={DOM_COMPONENTS_MOUNTED:"DOM_COMPONENTS_MOUNTED"},t.exports=f},{"./ComponentMap":264,"@marcom/ac-event-emitter-micro":93,"@marcom/anim-system":225,"@marcom/anim-system/Model/AnimSystemModel":232,"@marcom/delayed-initializer":267}],264:[function(e,t,n){"use strict";t.exports={BaseComponent:e("./BaseComponent")}},{"./BaseComponent":262}],265:[function(e,t,n){"use strict";t.exports=function(e){var t=e.element,n=e.attribute,i=e.defaultOptions,r=t.getAttribute(n)||"{}",s=null;try{s=JSON.parse(r)}catch(o){return void console.error("attributeToJSON Error! Invalid JSON in `"+n+"` for element:",t)}for(var a in i)if(!s.hasOwnProperty(a)){if(null===i[a])return void console.error("attributeToJSON Error! Required key `"+a+"` missing from attribute JSON `"+n+"` for element:",t);s[a]=i[a]}return s}},{}],266:[function(e,t,n){"use strict";function i(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}function r(e,t){return 0===t?Array.from(e):[e[0]/t,e[1]/t,e[2]/t]}function s(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function o(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function a(e,t,n,i){return[e[0]*n+t[0]*i,e[1]*n+t[1]*i,e[2]*n+t[2]*i]}function c(e){var t=new Float32Array(4),n=new Float32Array(3),c=new Float32Array(3),u=new Float32Array(3);u[0]=e[3][0],u[1]=e[3][1],u[2]=e[3][2];for(var h=new Array(3),f=0;f<3;f++)h[f]=e[f].slice(0,3);n[0]=i(h[0]),h[0]=r(h[0],n[0]),c[0]=s(h[0],h[1]),h[1]=a(h[1],h[0],1,-c[0]),n[1]=i(h[1]),h[1]=r(h[1],n[1]),c[0]/=n[1],c[1]=s(h[0],h[2]),h[2]=a(h[2],h[0],1,-c[1]),c[2]=s(h[1],h[2]),h[2]=a(h[2],h[1],1,-c[2]),n[2]=i(h[2]),h[2]=r(h[2],n[2]),c[1]/=n[2],c[2]/=n[2];var d=o(h[1],h[2]);if(s(h[0],d)<0)for(var p=0;p<3;p++)n[p]*=-1,h[p][0]*=-1,h[p][1]*=-1,h[p][2]*=-1;t[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),t[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),t[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),t[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(t[0]=-t[0]),h[0][2]>h[2][0]&&(t[1]=-t[1]),h[1][0]>h[0][1]&&(t[2]=-t[2]);var y=void 0;return y=t[0]<.001&&t[0]>=0&&t[1]<.001&&t[1]>=0?[0,0,l(180*Math.atan2(h[0][1],h[0][0])/Math.PI)]:m(t),{translation:u,rotation:y,eulerRotation:y,scale:[l(n[0]),l(n[1]),l(n[2])]}}var u=function(){function e(e,t){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,s=c}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();"undefined"!=typeof window&&(window.DOMMatrix=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix);var h=180/Math.PI,l=function(e){return Math.round(1e6*e)/1e6},m=function(e){var t=u(e,4),n=t[0],i=t[1],r=t[2],s=t[3],o=s*s,a=n*n,c=i*i,m=r*r,f=n*i+r*s,d=o+a+c+m;return f>.49999*d?[0,2*Math.atan2(n,s)*h,90]:f<-.49999*d?[0,-2*Math.atan2(n,s)*h,-90]:[l(Math.atan2(2*n*s-2*i*r,1-2*a-2*m)*h),l(Math.atan2(2*i*s-2*n*r,1-2*c-2*m)*h),l(Math.asin(2*n*i+2*r*s)*h)]},f=function(e){e instanceof Element&&(e=String(getComputedStyle(e).transform).trim());for(var t=new DOMMatrix(e),n=new Array(4),i=1;i<5;i++)for(var r=n[i-1]=new Float32Array(4),s=1;s<5;s++)r[s-1]=t["m"+i+s];return c(n)};t.exports=f},{}],267:[function(e,t,n){"use strict";var i=!1,r=!1,s=[];t.exports={NUMBER_OF_FRAMES_TO_WAIT:30,add:function(e){var t=this;if(r&&e(),s.push(e),!i){i=!0;var n=document.documentElement.scrollHeight,o=0,a=function c(){var e=document.documentElement.scrollHeight;if(n!==e)o=0;else if(o++,o>=t.NUMBER_OF_FRAMES_TO_WAIT)return void s.forEach(function(e){return e()});n=e,requestAnimationFrame(c)};requestAnimationFrame(a)}}}},{}],268:[function(e,t,n){"use strict";t.exports={lerp:function(e,t,n){return t+(n-t)*e},map:function(e,t,n,i,r){return i+(r-i)*(e-t)/(n-t)},mapClamp:function(e,t,n,i,r){var s=i+(r-i)*(e-t)/(n-t);return Math.max(i,Math.min(r,s))},norm:function(e,t,n){return(e-t)/(n-t)},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},randFloat:function(e,t){return Math.random()*(t-e)+e},randInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)}}},{}],269:[function(e,t,n){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},{}],270:[function(e,t,n){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],
test:function(e){return e.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===e.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Opera")===-1},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(e){return e.ua.indexOf("Safari")>-1&&e.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(e){return e.ua.indexOf("IE")>-1||e.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var e=!1;return document.documentMode&&(e=parseInt(document.documentMode,10)),e}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(e){return e.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(e){return e.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(e){return e.ua.indexOf("iPhone")>-1||e.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(e){return(e.ua.indexOf("Linux")>-1||e.platform.indexOf("Linux")>-1)&&e.ua.indexOf("Android")===-1}},{name:"fireos",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(e){return e.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},{}],271:[function(e,t,n){"use strict";function i(e){return new RegExp(e+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function r(e,t){if("function"==typeof e.parseVersion)return e.parseVersion(t);var n=e.version||e.userAgent;"string"==typeof n&&(n=[n]);for(var r,s=n.length,o=0;o<s;o++)if(r=t.match(i(n[o])),r&&r.length>1)return r[1].replace(/_/g,".");return!1}function s(e,t,n){for(var i,s,o=e.length,a=0;a<o;a++)if("function"==typeof e[a].test?e[a].test(n)===!0&&(i=e[a].name):n.ua.indexOf(e[a].userAgent)>-1&&(i=e[a].name),i){if(t[i]=!0,s=r(e[a],n.ua),"string"==typeof s){var c=s.split(".");t.version.string=s,c&&c.length>0&&(t.version.major=parseInt(c[0]||0),t.version.minor=parseInt(c[1]||0),t.version.patch=parseInt(c[2]||0))}else"edge"===i&&(t.version.string="12.0.0",t.version.major="12",t.version.minor="0",t.version.patch="0");return"function"==typeof e[a].parseDocumentMode&&(t.version.documentMode=e[a].parseDocumentMode()),t}return t}function o(e){var t={};return t.browser=s(c.browser,a.browser,e),t.os=s(c.os,a.os,e),t}var a=e("./defaults"),c=e("./dictionary");t.exports=o},{"./defaults":269,"./dictionary":270}],272:[function(e,t,n){"use strict";var i={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=e("./parseUserAgent")(i)},{"./parseUserAgent":271}],273:[function(e,t,n){t.exports.EventEmitter=e("./ac-event-emitter/EventEmitter")},{"./ac-event-emitter/EventEmitter":274}],274:[function(e,t,n){"use strict";var i="EventEmitter:propagation",r=function(e){e&&(this.context=e)},s=r.prototype,o=function(){return this.hasOwnProperty("_events")||"object"==typeof this._events||(this._events={}),this._events},a=function(e,t){var n=e[0],i=e[1],r=e[2];if("string"!=typeof n&&"object"!=typeof n||null===n||Array.isArray(n))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof n&&!i)throw new Error("Expecting a callback function to be provided.");if(i&&"function"!=typeof i){if("object"!=typeof n||"object"!=typeof i)throw new TypeError("Expecting callback to be a function.");r=i}if("object"==typeof n)for(var s in n)t.call(this,s,n[s],r);"string"==typeof n&&(n=n.split(" "),n.forEach(function(e){t.call(this,e,i,r)},this))},c=function(e,t){var n,i,r;if(n=o.call(this)[e],n&&0!==n.length)for(n=n.slice(),this._stoppedImmediatePropagation=!1,i=0,r=n.length;i<r&&(!this._stoppedImmediatePropagation&&!t(n[i],i));i++);},u=function(e,t,n){var i=-1;c.call(this,t,function(e,t){if(e.callback===n)return i=t,!0}),i!==-1&&e[t].splice(i,1)};s.on=function(){var e=o.call(this);return a.call(this,arguments,function(t,n,i){e[t]=e[t]||(e[t]=[]),e[t].push({callback:n,context:i})}),this},s.once=function(){return a.call(this,arguments,function(e,t,n){var i=function(r){t.call(n||this,r),this.off(e,i)};this.on(e,i,this)}),this},s.off=function(e,t){var n=o.call(this);if(0===arguments.length)this._events={};else if(!e||"string"!=typeof e&&"object"!=typeof e||Array.isArray(e))throw new TypeError("Expecting event name to be a string or object.");if("object"==typeof e)for(var i in e)u.call(this,n,i,e[i]);if("string"==typeof e){var r=e.split(" ");1===r.length?t?u.call(this,n,e,t):n[e]=[]:r.forEach(function(e){n[e]=[]})}return this},s.trigger=function(e,t,n){if(!e)throw new Error("trigger method requires an event name");if("string"!=typeof e)throw new TypeError("Expecting event names to be a string.");if(n&&"boolean"!=typeof n)throw new TypeError("Expecting doNotPropagate to be a boolean.");return e=e.split(" "),e.forEach(function(e){c.call(this,e,function(e){e.callback.call(e.context||this.context||this,t)}.bind(this)),n||c.call(this,i,function(n){var i=e;n.prefix&&(i=n.prefix+i),n.emitter.trigger(i,t)})},this),this},s.propagateTo=function(e,t){var n=o.call(this);n[i]||(this._events[i]=[]),n[i].push({emitter:e,prefix:t})},s.stopPropagatingTo=function(e){var t=o.call(this);if(!e)return void(t[i]=[]);var n,r=t[i],s=r.length;for(n=0;n<s;n++)if(r[n].emitter===e){r.splice(n,1);break}},s.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=!0},s.has=function(e,t,n){var i=o.call(this),r=i[e];if(0===arguments.length)return Object.keys(i);if(!r)return!1;if(!t)return r.length>0;for(var s=0,a=r.length;s<a;s++){var c=r[s];if(n&&t&&c.context===n&&c.callback===t)return!0;if(t&&!n&&c.callback===t)return!0}return!1},t.exports=r},{}],275:[function(e,t,n){function i(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}t.exports=i},{}],276:[function(e,t,n){function i(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[4],o=t[5],a=t[6],c=t[7],u=t[8],h=t[9],l=t[10],m=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*r+u*i,e[5]=o*r+h*i,e[6]=a*r+l*i,e[7]=c*r+m*i,e[8]=u*r-s*i,e[9]=h*r-o*i,e[10]=l*r-a*i,e[11]=m*r-c*i,e}t.exports=i},{}],277:[function(e,t,n){function i(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],c=t[3],u=t[8],h=t[9],l=t[10],m=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r-u*i,e[1]=o*r-h*i,e[2]=a*r-l*i,e[3]=c*r-m*i,e[8]=s*i+u*r,e[9]=o*i+h*r,e[10]=a*i+l*r,e[11]=c*i+m*r,e}t.exports=i},{}],278:[function(e,t,n){function i(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],o=t[1],a=t[2],c=t[3],u=t[4],h=t[5],l=t[6],m=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r+u*i,e[1]=o*r+h*i,e[2]=a*r+l*i,e[3]=c*r+m*i,e[4]=u*r-s*i,e[5]=h*r-o*i,e[6]=l*r-a*i,e[7]=m*r-c*i,e}t.exports=i},{}],279:[function(e,t,n){function i(e,t,n){var i=n[0],r=n[1],s=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=i},{}],280:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=e("@marcom/ac-accessibility/EventProxy"),u=i(c),h=e("@marcom/bubble-gum/BaseComponent"),l=i(h),m=e("@marcom/anim-system"),f=i(m),d=e("@marcom/data-attribute-to-json"),p=i(d),y="data-analytics-click",v="data-analytics-title",_="data-copy",g="data-aria-label",b=function(e){function t(){var e;r(this,t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return a._isClosed=!0,a.options=(0,p["default"])({element:a.el,attribute:"data-drawer-options",defaultOptions:{openDuration:.4,fadeDuration:.5,updateDuration:.25,easeFunction:"easeOutCubic"}}),a}return o(t,e),a(t,[{key:"getKeyframeOptions",value:function(e){return Object.assign({},{easeFunction:this.options.easeFunction,ease:1},e)}},{key:"setTransitionDivHeight",value:function(){this.element.container.classList.contains("opened")?this.element.container.style.maxHeight=this.element.container.firstElementChild.offsetHeight+"px":this.element.container.removeAttribute("style")}},{key:"mounted",value:function(){this.addElements(),this.addAttributes(),this.addStyles(),this.updateStyles(),this.addAnimations(),this.addEvents()}},{key:"addElements",value:function(){this.element={container:this.el.querySelector("[data-drawer-container]"),content:this.el.querySelectorAll(".card-item-hide"),itemList:this.el.querySelectorAll(".card-item"),toggle:this.el.querySelector("[data-drawer-toggle]"),toggleCopy:this.el.querySelector("[data-drawer-toggle]").querySelector(".icon-copy"),toggleIcon:this.el.querySelector("[data-drawer-toggle]").querySelector(".icon")}}},{key:"addAttributes",value:function(){this.attribute=this.attribute||{},this.attribute.acaClickOpen=this.element.toggle.getAttribute(y+"-open"),this.attribute.acaClickClose=this.element.toggle.getAttribute(y+"-close"),this.attribute.acaTitleOpen=this.element.toggle.getAttribute(v+"-open"),this.attribute.acaTitleClose=this.element.toggle.getAttribute(v+"-close"),this.attribute.copyOpen=this.element.toggle.getAttribute(_+"-open"),this.attribute.copyClose=this.element.toggle.getAttribute(_+"-close"),this.attribute.ariaOpen=this.element.toggle.getAttribute(g+"-open"),this.attribute.ariaClose=this.element.toggle.getAttribute(g+"-close"),this.element.title&&this.element.title.hasAttribute("data-will-update")&&(this.attribute.copyTitle=this.element.title.getAttribute(_+"-title"),this.attribute.copyTitleEmpty=this.element.title.getAttribute(_+"-title-empty"),this.attribute.ariaLabelTitle=this.element.title.getAttribute(g+"-title"),this.attribute.ariaLabelTitleEmpty=this.element.title.getAttribute(g+"-title-empty"))}},{key:"addStyles",value:function(){this.element.toggle.style.position="relative",this.element.toggle.style.zIndex=1,this.element.toggle.setAttribute(y,this.attribute.acaClickOpen),this.element.toggle.setAttribute(v,this.attribute.acaTitleOpen),this.element.toggle.setAttribute("aria-expanded",!1),this.element.toggle.setAttribute("aria-label",this.attribute.ariaOpen),this.element.toggleIcon.style.display="inline-block",this.element.toggleIcon.style.transition="transform",this.element.toggleIcon.style.transformOrigin="73% 54%",this.element.toggleCopy.innerHTML=this.attribute.copyOpen}},{key:"updateStyles",value:function(){this.element.itemList.forEach(function(e,t){e.classList.remove("card-item-hide")}),window.innerWidth>1068&&this.el.querySelectorAll(".card-item:nth-child(n+11)").forEach(function(e){e.classList.add("card-item-hide")}),window.innerWidth>734&&window.innerWidth<=1068&&this.el.querySelectorAll(".card-item:nth-child(n+9)").forEach(function(e){e.classList.add("card-item-hide")}),window.innerWidth<=734&&this.el.querySelectorAll(".card-item:nth-child(n+7)").forEach(function(e){e.classList.add("card-item-hide")})}},{key:"addAnimations",value:function(){var e=this,t=0,n=this.options.openDuration;this.timeline=f["default"].createTimeGroup(),this.timeline.addKeyframe(this.element.toggleIcon,this.getKeyframeOptions({start:t,end:n,rotation:[0,180]}));var i="drawer_opening";this.drawerOpening=this.timeline.addKeyframe(this.element.container,this.getKeyframeOptions({event:i,start:t,end:n}));var r="drawer_closed",s=this.timeline.addKeyframe(this.element.container,{start:1e-8,event:r});s.controller.on(r+":reverse",function(){e.element.toggle.setAttribute("tabindex","0"),e.element.toggle.focus()});var o="drawer_opened",a=this.timeline.addKeyframe(this.element.container,{start:n,event:o});a.controller.on(o,function(){e.element.toggle.setAttribute("aria-expanded",!0),e.element.toggle.setAttribute("aria-label",e.attribute.ariaClose),e.element.toggle.setAttribute(y,e.attribute.acaClickClose),e.element.toggle.setAttribute(v,e.attribute.acaTitleClose),e.element.toggleCopy.innerHTML=e.attribute.copyClose}),a.controller.on(o+":reverse",function(){e.element.toggle.setAttribute("aria-expanded",!1),e.element.toggle.setAttribute("aria-label",e.attribute.ariaOpen),e.element.toggle.setAttribute(y,e.attribute.acaClickOpen),e.element.toggle.setAttribute(v,e.attribute.acaTitleOpen),e.element.toggleCopy.innerHTML=e.attribute.copyOpen}),t+=n,n=this.options.fadeDuration}},{key:"addEvents",value:function(){this.onDrawerToggleClicked=this.onDrawerToggleClicked.bind(this),u["default"].addEventListener(this.element.toggle,"click",this.onDrawerToggleClicked)}},{key:"open",value:function(){this.timeline.play(),this.element.container.classList.add("opened"),this.setTransitionDivHeight()}},{key:"close",value:function(){this.timeline.reverse(),this.element.container.classList.remove("opened"),this.setTransitionDivHeight()}},{key:"onDrawerToggleClicked",value:function(e){e.preventDefault(),this._isClosed?this.open():this.close(),this._isClosed=!this._isClosed}},{key:"onResizeDebounced",value:function(){this.updateStyles(),this.setTransitionDivHeight()}}]),t}(l["default"]);n["default"]=b},{"@marcom/ac-accessibility/EventProxy":2,"@marcom/anim-system":225,"@marcom/bubble-gum/BaseComponent":262,"@marcom/data-attribute-to-json":265}],281:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/bubble-gum/BaseComponent"),c=(e("@marcom/ac-viewport-emitter"),"data-engagement-top"),u="data-engagement-bottom",h=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.engagementStart=n.el.getAttribute(c),n.engagementEnd=n.el.getAttribute(u),n}return s(t,e),o(t,[{key:"mounted",value:function(){var e=this,t=this.addKeyframe({start:this.engagementStart,end:this.engagementEnd,event:"engage",snapAtCreation:!0});t.controller.on("engage:enter",function(t){return e.onEngage()});var n=this.addKeyframe({start:"t-100vh",event:"disengage",toggle:!0,snapAtCreation:!0});n.controller.on("disengage",function(t){return e.onDisengage()}),n.controller.on("disengage:reverse",function(t){return e.onDisengage()});var i=this.addKeyframe({start:"b",event:"disengage",toggle:!0,snapAtCreation:!0});i.controller.on("disengage",function(t){return e.onDisengage()}),i.controller.on("disengage:reverse",function(t){return e.onDisengage()})}},{key:"onEngage",value:function(){this.el.classList.contains("engage")||this.el.classList.add("engage")}},{key:"onDisengage",value:function(){this.el.classList.contains("engage")&&this.el.classList.remove("engage")}}],[{key:"IS_SUPPORTED",value:function(){var e=document.documentElement.classList.contains("touch");return e}}]),t}(a);t.exports=h},{"@marcom/ac-viewport-emitter":211,"@marcom/bubble-gum/BaseComponent":262}],282:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=e("@marcom/bubble-gum/BaseComponent"),a=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.el.addEventListener("focusin",function(){var e=n.el.getAttribute("data-focus-scroll-anchor"),t=document.querySelector(e);if("key"===n.el.dataset.focusMethod){var i=document.documentElement.clientHeight,r=window.pageYOffset,s=r+.5*i;if(t){var o=t.getBoundingClientRect().height,a=o-i;window.scrollTo(0,a)}else{var c=n.el.getBoundingClientRect().top,u=n.el.getBoundingClientRect().bottom,h=u-c,l=c+h/2,m=l-s;window.scrollBy(0,m)}}}),n}return s(t,e),t}(o);a.IS_SUPPORTED=function(){return!0},t.exports=a},{"@marcom/bubble-gum/BaseComponent":262}],283:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/bubble-gum/BaseComponent"),c=e("@marcom/ac-viewport-emitter"),u=e("../imagesequence/ImageSequence"),h=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onLoadedSubset=n.onLoadedSubset.bind(n),n.onLoadedAll=n.onLoadedAll.bind(n),n.onLoadTimedOut=n.onLoadTimedOut.bind(n),n}return s(t,e),o(t,[{key:"mounted",value:function(){var e=this;this.frameHeadlineShow=t.FRAME_HEADLINE_SHOW,this.frameCount=t.FRAME_COUNT,this.frameCurrent=!1,this.introHeadlineEl=this.el.querySelector("[data-hero-intro-headline]"),this.animationContainerEl=this.el.querySelector("[data-hero-intro-animation-container]"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{alpha:!1}),this.animationContainerEl.appendChild(this.canvas),this.addContinuousEvent({event:"frame",start:"a0t + 100a1h - 100vh",end:"a2t - 100vh",frame:[0,this.frameCount-1],anchors:[".sticky-container",".hero-intro-animation-container",".section-features"],onDraw:function(t){e.onRenderFrame(Math.floor(t.tweenProps.frame.current))}}),this.resize()}},{key:"resize",value:function(){this.sequence&&(this.sequence.off(u.LOADED_SUBSET,this.onLoadedSubset),this.sequence.off(u.LOADED_ALL,this.onLoadedAll),this.sequence.off(u.LOAD_TIMEDOUT,this.onLoadTimedOut),this.sequence.destroy(),this.el.classList.remove("is-loaded"),this.el.classList.remove("is-timedout"));var e=c.viewport;e="xlarge"===e?"large":e;var t=c.retina?"_2x":"";this.sequence=new u(this.animationContainerEl);for(var n=0;n<=this.frameCount-1;n++){var i=""+this.el.dataset.heroImagePath+e+t+"/"+this.pad(n,5)+"_"+e+t+".jpg";this.sequence.addFrame(n,i)}this.sequence.on(u.LOADED_SUBSET,this.onLoadedSubset),this.sequence.on(u.LOADED_ALL,this.onLoadedAll),this.sequence.on(u.LOAD_TIMEDOUT,this.onLoadTimedOut),this.sequence.load(2),this.onRenderFrame(0,!0)}},{key:"onLoadedSubset",value:function(){this.el.classList.add("is-loaded"),this.onRenderFrame(0)}},{key:"onLoadedAll",value:function(){}},{key:"onLoadTimedOut",value:function(){this.el.classList.remove("is-loaded"),this.el.classList.add("is-timedout")}},{key:"onRenderFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!==this.frameCurrent){if(this.sequence.minimumAssetsLoaded||t){var n=this.sequence.getFrame(e,t);(n.isLoaded||t)&&(0===e?this.canvas.style.display="none":(this.canvas.style.display="block",this.canvas.width!==n.width&&(this.canvas.width=n.width),this.canvas.height!==n.height&&(this.canvas.height=n.height),this.ctx.drawImage(n,0,0),this.frameCurrent=e))}(this.sequence.minimumAssetsLoaded||this.sequence.timedout||t)&&(e>this.frameHeadlineShow&&this.introHeadlineEl.classList.contains("hidden")?this.introHeadlineEl.classList.remove("hidden"):e<=this.frameHeadlineShow&&!this.introHeadlineEl.classList.contains("hidden")&&this.introHeadlineEl.classList.add("hidden"))}}},{key:"onBreakpointChange",value:function(){this.resize()}},{key:"pad",value:function(e,t){for(var n=String(e);n.length<t;)n="0"+n;return n}}]),t}(a);h.FRAME_COUNT=100,h.FRAME_HEADLINE_SHOW=40,h.IS_SUPPORTED=function(){return!document.documentElement.classList.contains("prefers-reduced-motion")},t.exports=h},{"../imagesequence/ImageSequence":291,"@marcom/ac-viewport-emitter":211,"@marcom/bubble-gum/BaseComponent":262}],284:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/bubble-gum/BaseComponent"),c=e("./ImagePreloader"),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isRevealed=!1,n}return s(t,e),o(t,[{key:"mounted",value:function(){var e=this,n=new c(this.el,"[data-hero-preload-image]");n.on(c.COMPLETE,function(){return e.onLoadComplete()}),n.on(c.ERROR,function(){return e.onLoadError()}),setTimeout(function(){return e.onTimeout()},t.TIMEOUT)}},{key:"onLoadComplete",value:function(){this.reveal()}},{key:"onLoadError",value:function(){this.reveal()}},{key:"onTimeout",value:function(){this.reveal()}},{key:"onBreakpointChange",value:function(){this.reveal()}},{key:"reveal",value:function(){this.isRevealed||(this.isRevealed=!0,document.documentElement.classList.add("hero-reveal"))}}]),t}(a);u.IS_SUPPORTED=function(){return!0},u.TIMEOUT=3e3,t.exports=u},{"./ImagePreloader":285,"@marcom/bubble-gum/BaseComponent":262}],285:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,c=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));s.onLoad=s.onLoad.bind(s),s.onError=s.onError.bind(s);var o=Array.from(e.querySelectorAll(n));return o.forEach(function(e){var t=document.createElement("img");t.addEventListener("load",s.onLoad),t.addEventListener("error",s.onError),t.src=e.style.backgroundImage}),s.imageCount=o.length,s.loadedCount=0,s.errorCount=0,s}return s(t,e),o(t,[{key:"onLoad",value:function(){this.loadedCount++,this.checkStatus()}},{key:"onError",value:function(){this.errorCount++,this.checkStatus()}},{key:"checkStatus",value:function(){this.loadedCount+this.errorCount===this.imageCount&&this.trigger(0===this.errorCount?t.COMPLETE:t.ERROR)}}]),t}(a);c.COMPLETE="complete",c.ERROR="error",t.exports=c},{"@marcom/ac-event-emitter-micro":93}],286:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/bubble-gum/BaseComponent"),c=e("@marcom/ac-media-object"),u=e("@marcom/ac-viewport-emitter"),h="data-video-path",l="data-video-name",m="data-video-loop",f="data-video-engagement-anchor",d="data-video-engagement-start",p="data-video-engagement-end",y=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.onLoad=n.onLoad.bind(n),n.onEnhanced=n.onEnhanced.bind(n),n.onEnded=n.onEnded.bind(n),n.videoPath=n.el.getAttribute(h),n.videoName=n.el.getAttribute(l),n.isLooping=null!==n.el.getAttribute(m),n.loopTime=Number(n.el.getAttribute(m))||0,n.isPlaying=!1,n.engagementAnchor=n.el.getAttribute(f),n.engagementStart=n.el.getAttribute(d),n.engagementEnd=n.el.getAttribute(p),n.engagement=null!==n.engagementStart&&null!==n.engagementEnd,n.isEngaged=!1,n.video=null,n.currentViewport=null,n.isReadyToPlay=!1,!n.videoPath)throw new Error("InlineVideoComponent must have a video path specified (use the "+h+" data attribute).");if(!n.videoName)throw new Error("InlineVideoComponent must have a video path specified (use the "+h+" data attribute).");return n}return s(t,e),o(t,[{key:"mounted",value:function(){var e=this;this.currentViewport=u.viewport,this.createVideo(),this.setupEvents(),this.video.load(),this.engagement&&(this.kf=this.addKeyframe({start:this.engagementStart,end:this.engagementEnd,anchors:[this.engagementAnchor],event:"engage",snapAtCreation:!0}),this.kf.controller.on("engage:enter",function(t){return e.onEngagementEnter()}),this.kf.controller.on("engage:exit",function(t){return e.onEngagementExit()}))}},{key:"createVideo",value:function(){this.video=c.createVideo(this.el,this.getVideoSrc(),this.getVideoOptions())}},{key:"setupEvents",value:function(){this.video.on("loaded",this.onLoad),this.video.on("enhanced",this.onEnhanced),this.video.on("ended",this.onEnded)}},{key:"getVideoSrc",value:function(){var e=u.viewport;e="xlarge"===e?"large":e;var t=u.retina?"_2x":"";return{basePath:this.videoPath,filename:this.videoName+"/"+e+t,fileFormat:"mp4"}}},{key:"getVideoOptions",value:function(){return{looping:!1,iosInline:!0}}},{key:"onLoad",value:function(){this.video&&this.video.enhance()}},{key:"onEnhanced",value:function(){this.video&&(this.isReadyToPlay=!0,this.isEngaged&&this.play())}},{key:"onEnded",value:function(){var e=this;this.video&&setTimeout(function(){e.destroy()},1)}},{key:"onResizeDebounced",value:function(e){this.currentViewport!==u.viewport&&this.video&&(this.destroy(),this.currentViewport=u.viewport)}},{key:"play",value:function(){var e=this;this.video&&this.isReadyToPlay&&!this.isPlaying&&(this.isPlaying=!0,this.video.model.getPaused()&&this.video.mediaElement.play().then(null,function(t){return e.destroy()}))}},{key:"destroy",value:function(){this.video&&(this.video.off("loaded",this.onLoad),this.video.off("enhanced",this.onEnhanced),this.video.off("ended",this.onEnded),this.video.destroy(),this.video=null),this.kf&&(this.kf.remove(),this.kf=null)}},{key:"onEngagementEnter",value:function(){this.isEngaged=!0,this.play()}},{key:"onEngagementExit",value:function(){this.isEngaged=!1}}],[{key:"IS_SUPPORTED",value:function(){var e=document.documentElement.classList.contains("prefers-reduced-motion");return!e}}]),t}(a);t.exports=y},{"@marcom/ac-media-object":142,"@marcom/ac-viewport-emitter":211,"@marcom/bubble-gum/BaseComponent":262}],287:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/bubble-gum/BaseComponent"),c=e("@marcom/ac-useragent"),u=document.querySelector("#banner"),h=document.querySelector("html"),l=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),o(t,[{key:"mounted",value:function(){this.isIPhone()}},{key:"isIPhone",value:function n(){var e=window.navigator.userAgent,n=e.indexOf("iPhone")>-1,t=e.indexOf("iPad")>-1,i=c.os.ios;return i&&n&&!t?h.classList.contains("wechat-fix")?void(u.style.display="none"):(h.classList.add("show-bottom"),u.style.display="block",!0):(u.parentNode.removeChild(u),!1)}}]),t}(a);t.exports=l},{"@marcom/ac-useragent":206,"@marcom/bubble-gum/BaseComponent":262}],288:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,
i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/bubble-gum/BaseComponent"),c=e("@marcom/ac-viewport-emitter"),u=e("../data/UnlockAnimationData"),h=e("../spritesheet/SpriteSheet"),l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSpriteSheetLoaded=n.onSpriteSheetLoaded.bind(n),n.spriteSheetCache={},n.spriteSheet=null,n.frame=0,n}return s(t,e),o(t,[{key:"mounted",value:function(){var e=this;this.assetPath=this.el.dataset.assetPath;var t=this.addKeyframe({event:"play",start:"t - 60vh",end:"t - 10vh"});t.controller.once("play:enter",function(){return e.play()}),this.canvas=document.createElement("canvas"),this.canvas.style.width="100%",this.ctx=this.canvas.getContext("2d"),this.el.appendChild(this.canvas),this.updateSpriteSheet()}},{key:"onBreakpointChange",value:function(){this.updateSpriteSheet()}},{key:"updateSpriteSheet",value:function(){var e=""+("xlarge"===c.viewport?"large":c.viewport)+(c.retina?"_2x":"");if(e!==this.name){void 0===this.spriteSheetCache[e]&&(this.spriteSheetCache[e]=new h(u[e],this.assetPath),this.spriteSheetCache[e].once("loaded",this.onSpriteSheetLoaded));var t=this.spriteSheetCache[e];this.spriteSheet&&(t.frame=this.spriteSheet.frame),this.spriteSheet=t,this.name=e,this.spriteSheet.loaded&&this.renderFrame()}}},{key:"onSpriteSheetLoaded",value:function(){this.renderFrame()}},{key:"play",value:function(){this.nextFrame()}},{key:"nextFrame",value:function(){var e=this;this.frame<t.FRAME_COUNT&&(this.frame++,this.renderFrame(),setTimeout(function(){e.nextFrame()},t.MS_PER_FRAME))}},{key:"renderFrame",value:function(){var e=this.spriteSheet.getFrame(this.frame);e&&(this.canvas.width=e.ss.w,this.canvas.height=e.ss.h,this.ctx.drawImage(this.spriteSheet.image,-e.f.x,-e.f.y))}}]),t}(a);l.IS_SUPPORTED=function(){return!document.documentElement.classList.contains("prefers-reduced-motion")},l.FRAME_COUNT=60,l.FRAMES_PER_SECOND=60,l.MS_PER_FRAME=1e3/l.FRAMES_PER_SECOND,t.exports=l},{"../data/UnlockAnimationData":289,"../spritesheet/SpriteSheet":292,"@marcom/ac-viewport-emitter":211,"@marcom/bubble-gum/BaseComponent":262}],289:[function(e,t,n){"use strict";t.exports={small:{filename:"small.png",frames:[{f:{x:1,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:1,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:1,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:1,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}}]},small_2x:{filename:"small_2x.png",frames:[{f:{x:1,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}}]},medium:{filename:"medium.png",frames:[{f:{x:1,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:1,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:1,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:1,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:42,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:83,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:124,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:165,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:206,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:247,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:288,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:329,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:411,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:370,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:452,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:493,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:534,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:575,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:109,w:39,h:52},ss:{w:39,h:52}},{f:{x:616,y:163,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:1,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}},{f:{x:657,y:55,w:39,h:52},ss:{w:39,h:52}}]},medium_2x:{filename:"medium_2x.png",frames:[{f:{x:1,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:1,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:81,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:161,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:241,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:321,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:401,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:1,w:78,h:104},ss:{w:78,h:104}},{f:{x:481,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:107,w:78,h:104},ss:{w:78,h:104}},{f:{x:561,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:213,w:78,h:104},ss:{w:78,h:104}},{f:{x:641,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:319,w:78,h:104},ss:{w:78,h:104}},{f:{x:721,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:425,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}},{f:{x:801,y:531,w:78,h:104},ss:{w:78,h:104}}]},large:{filename:"large.png",frames:[{f:{x:1,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:1,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:52,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:1,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:52,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:103,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:1,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:52,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:103,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:1,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:52,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:103,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:205,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:1,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:52,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:103,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:205,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:256,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:1,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:52,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:103,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:205,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:256,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:307,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:52,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:103,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:205,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:256,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:307,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:103,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:205,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:256,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:307,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:409,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:460,y:1,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:205,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:256,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:154,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:307,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:409,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:460,y:67,w:49,h:64},ss:{w:49,h:64}},{f:{x:205,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:256,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:307,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:409,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:460,y:133,w:49,h:64},ss:{w:49,h:64}},{f:{x:256,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:307,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:409,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:460,y:199,w:49,h:64},ss:{w:49,h:64}},{f:{x:307,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:331,w:49,h:64},ss:{w:49,h:64}},{f:{x:409,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:460,y:265,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:397,w:49,h:64},ss:{w:49,h:64}},{f:{x:358,y:397,w:49,h:64},ss:{w:49,h:64}}]},large_2x:{filename:"large_2x.png",frames:[{f:{x:1,y:1,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:131,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:1,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:261,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:131,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:1,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:391,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:261,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:131,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:1,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:521,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:391,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:261,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:131,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:1,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:651,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:521,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:391,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:261,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:131,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:131,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:651,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:521,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:391,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:261,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:261,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:911,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:651,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:521,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:391,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:391,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:1041,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:911,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:651,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:521,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:521,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:1171,w:98,h:128},ss:{w:98,h:128}},{f:{x:1,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:1041,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:911,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:651,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:651,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:1171,w:98,h:128},ss:{w:98,h:128}},{f:{x:101,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:1041,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:911,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:781,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:1171,w:98,h:128},ss:{w:98,h:128}},{f:{x:201,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:1041,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:911,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:911,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:1171,w:98,h:128},ss:{w:98,h:128}},{f:{x:301,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:1041,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1041,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:1171,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1171,w:98,h:128},ss:{w:98,h:128}},{f:{x:401,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1301,w:98,h:128},ss:{w:98,h:128}},{f:{x:501,y:1301,w:98,h:128},ss:{w:98,h:128}}]}}},{}],290:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/ac-event-emitter-micro/EventEmitterMicro"),c=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.id=e,n.images=[],n.imagesToLoad=[],n.imagesLoading=[],n.imagesLoaded=[],n.count=0,n.onLoad=n.onLoad.bind(n),n}return s(t,e),o(t,[{key:"add",value:function(e){e.addEventListener("load",this.onLoad),e.addEventListener("error",this.onLoad),this.images.push(e),this.imagesToLoad.push(e),this.count++}},{key:"loadCheck",value:function(){this.imagesToLoad.length>0&&this.imagesLoading.length<t.CONCURRENT_LOAD_LIMIT&&(this.loadNext(),this.loadCheck())}},{key:"loadNext",value:function(){var e=this.imagesToLoad[0];e.src=e.path,e.isLoading=!0,this.removeFromPool(this.imagesToLoad,e),this.addToPool(this.imagesLoading,e)}},{key:"onLoad",value:function(e){var n=e.target;n.isLoaded=!0,this.removeFromPool(this.imagesLoading,n),this.addToPool(this.imagesLoaded,n),this.imagesLoaded.length===this.count&&this.trigger(t.COMPLETE,this),this.trigger(t.LOAD,this)}},{key:"isLoaded",value:function(){return this.imagesLoaded.length===this.count}},{key:"getProgress",value:function(){return this.imagesLoaded.length/this.count}},{key:"addToPool",value:function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i]===t){n=!0;break}n||e.push(t)}},{key:"removeFromPool",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}}},{key:"destroy",value:function(){var e=this;this.images.forEach(function(t){t.removeEventListener("load",e.onLoad),t.removeEventListener("error",e.onLoad)}),this.onLoad=null,this.images=null,this.imagesToLoad=null,this.imagesLoading=null,this.imagesLoaded=null}}]),t}(a);c.CONCURRENT_LOAD_LIMIT=5,c.LOAD="imageloadgroup:load",c.COMPLETE="imageloadgroup:complete",t.exports=c},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":94}],291:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/ac-event-emitter-micro/EventEmitterMicro"),c=e("./ImageLoadGroup"),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.frames=[],n.frameCount=0,n.frameCountSubset=0,n.loadedCount=0,n.loadSubsetStart=null,n.loadAllStart=null,n.minimumAssetsLoaded=!1,n.timedout=!1,n.onImageGroupLoad=n.onImageGroupLoad.bind(n),n.onImageGroupComplete=n.onImageGroupComplete.bind(n),n}return s(t,e),o(t,[{key:"addFrame",value:function(e,t){var n=document.createElement("img");n.path=t,n.isLoading=!1,n.isLoaded=!1,this.frames[e]=n,this.frameCount++}},{key:"getFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!this.frames[e].isLoaded&&!t)&&this.frames[e]}},{key:"load",value:function(e){var n=this;this.framesInitial=new c("initial"),this.framesPrimary=new c("primary"),this.framesSecondary=new c("secondary"),this.framesInitial.on(c.LOAD,this.onImageGroupLoad),this.framesPrimary.on(c.LOAD,this.onImageGroupLoad),this.framesSecondary.on(c.LOAD,this.onImageGroupLoad),this.framesInitial.on(c.COMPLETE,this.onImageGroupComplete),this.framesPrimary.on(c.COMPLETE,this.onImageGroupComplete),this.framesSecondary.on(c.COMPLETE,this.onImageGroupComplete),this.framesInitial.add(this.frames[0]),this.framesInitial.add(this.frames[this.frameCount-1]);for(var i=1;i<this.frames.length-1;i++){var r=this.frames[i];i%e===0?this.framesPrimary.add(r):this.framesSecondary.add(r)}this.loadSubsetStart=Date.now(),this.loadTO=setTimeout(function(){return n.onLoadTimedout()},1e3*t.TIMEOUT),this.loadCheck()}},{key:"loadCheck",value:function(){this.framesInitial.isLoaded()?this.framesPrimary.isLoaded()?this.timedout||this.framesSecondary.isLoaded()||this.framesSecondary.loadCheck():this.framesPrimary.loadCheck():this.framesInitial.loadCheck()}},{key:"onImageGroupLoad",value:function(){this.loadCheck()}},{key:"onImageGroupComplete",value:function(e){switch(e.id){case"initial":this.timedout&&this.trigger(t.LOAD_TIMEDOUT);break;case"primary":clearTimeout(this.loadTO),this.loadSubsetDuration=Date.now()-this.loadSubsetStart,this.timedout||(this.minimumAssetsLoaded=!0,this.trigger(t.LOADED_SUBSET),this.loadAllStart=Date.now());break;case"secondary":this.loadAllDuration=Date.now()-this.loadAllStart,this.timedout||this.trigger(t.LOADED_ALL)}}},{key:"onLoadTimedout",value:function(){this.timedout=!0,this.framesInitial.isLoaded()&&this.trigger(t.LOAD_TIMEDOUT)}},{key:"convertToSeconds",value:function(e){return Math.round(1e3*e)/1e3/1e3;
}},{key:"destroy",value:function(){clearTimeout(this.loadTO),this.framesInitial.off(c.LOAD,this.onImageGroupLoad),this.framesPrimary.off(c.LOAD,this.onImageGroupLoad),this.framesSecondary.off(c.LOAD,this.onImageGroupLoad),this.framesInitial.off(c.COMPLETE,this.onImageGroupComplete),this.framesPrimary.off(c.COMPLETE,this.onImageGroupComplete),this.framesSecondary.off(c.COMPLETE,this.onImageGroupComplete),this.framesInitial.destroy(),this.framesPrimary.destroy(),this.framesSecondary.destroy(),this.framesInitial=null,this.framesPrimary=null,this.framesSecondary=null,this.frames=null,this.onImageGroupLoad=null,this.onImageGroupComplete=null}}]),t}(a);u.LOADED_SUBSET="imagesequence:loaded:subset",u.LOADED_ALL="imagesequence:loaded:all",u.LOAD_TIMEDOUT="imagesequence:load:timeout",u.TIMEOUT=5,t.exports=u},{"./ImageLoadGroup":290,"@marcom/ac-event-emitter-micro/EventEmitterMicro":94}],292:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("@marcom/ac-event-emitter-micro/EventEmitterMicro"),c=function(e){function t(e,n){i(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.data=e,s.assetPath=n,s.loaded=!1,s.onImageLoad=s.onImageLoad.bind(s),s.image=document.createElement("img"),s.image.addEventListener("load",s.onImageLoad),s.image.src=""+s.assetPath+e.filename,s}return s(t,e),o(t,[{key:"onImageLoad",value:function(){this.loaded=!0,this.trigger("loaded")}},{key:"getFrame",value:function(e){return this.data.frames[e]}}]),t}(a);t.exports=c},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":94}],293:[function(e,t,n){"use strict";var i=e("@marcom/bubble-gum"),r=e("@marcom/anim-system"),s=e("@marcom/bubble-gum/ComponentMap"),o=e("@marcom/ac-viewport-emitter"),a=445,c={initialize:function(){var t=this;r.model.BREAKPOINTS=[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1441px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],this.fallbackHeights={xlarge:730,large:730,medium:670,small:400},this.elHeroContent=document.documentElement.querySelector(".hero-content"),this.viewportTests=function(){var e=window.innerHeight<t.fallbackHeights[o.viewport],n=t.elHeroContent.clientHeight>a,i=e||n;!document.documentElement.classList.contains("height-fallback")&&i?(document.documentElement.classList.add("height-fallback"),r.forceUpdate()):document.documentElement.classList.contains("height-fallback")&&!i&&(document.documentElement.classList.remove("height-fallback"),r.forceUpdate())},window.onresize=function(){t.viewportTests()},setInterval(function(){return t.viewportTests()},1e3),s.HeroImageSequence=e("./components/HeroImageSequenceComponent"),s.HeroPreload=e("./components/HeroPreloadComponent"),s.FocusScroll=e("./components/FocusScrollComponent"),s.UnlockAnimation=e("./components/UnlockAnimationComponent"),s.InlineVideo=e("./components/InlineVideoComponent"),s.EngageOnScreen=e("./components/EngageOnScreenComponent"),s.DrawerComponent=e("./components/DrawerComponent")["default"],s.SuspensionBannerComponent=e("./components/SuspensionBannerComponent4");var n=document.querySelector(".main");new i(n);var c=e("@marcom/ac-modal").createStandardModal,u=document.querySelector("#citylist-button"),h=document.querySelector("#city-model"),l=c(h);l.close(),u.addEventListener("click",function(){l.open()})}};t.exports=c.initialize()},{"./components/DrawerComponent":280,"./components/EngageOnScreenComponent":281,"./components/FocusScrollComponent":282,"./components/HeroImageSequenceComponent":283,"./components/HeroPreloadComponent":284,"./components/InlineVideoComponent":286,"./components/SuspensionBannerComponent4":287,"./components/UnlockAnimationComponent":288,"@marcom/ac-modal":155,"@marcom/ac-viewport-emitter":211,"@marcom/anim-system":225,"@marcom/bubble-gum":263,"@marcom/bubble-gum/ComponentMap":264}]},{},[293]);