(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[317],{8142:function(t,e,i){"use strict";function s(t,e){e=e||{},this._tabbables=null,this._excludeHidden=e.excludeHidden,this._firstTabbableElement=e.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=t,this._handleOnFocus=this._handleOnFocus.bind(this)}var n=i(9697),r=i(54423),o=i(95938),i=s.prototype;i.start=function(t){this.updateTabbables(),r(this.el,null,this._excludeHidden);let e=document.activeElement;this._firstTabbableElement?this.el.contains(document.activeElement)||t||(this._firstTabbableElement.focus(),e=this._firstTabbableElement):console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=e,document.addEventListener("focus",this._handleOnFocus,!0)},i.stop=function(){o(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},i.updateTabbables=function(){this._tabbables=n.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},i._handleOnFocus=function(t){this.el.contains(t.target)?this._relatedTarget=t.target:(t.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget?(this._firstTabbableElement.focus(),this._relatedTarget=this._firstTabbableElement):this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement&&(this._lastTabbableElement.focus(),this._relatedTarget=this._lastTabbableElement))},i.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},t.exports=s},9697:function(t,e,i){"use strict";function s(){this.focusableSelectors=n.selectors}var n=i(19073),i=s.prototype;i.isFocusableElement=function(t,e,i){return!(e&&!this._isDisplayed(t))&&(n.nodeName[t.nodeName]?!t.disabled:!t.contentEditable||(i=i||parseFloat(t.getAttribute("tabindex")),!isNaN(i)))},i.isTabbableElement=function(t,e){var i;return!(e&&!this._isDisplayed(t))&&(i=t.getAttribute("tabindex"),i=parseFloat(i),isNaN(i)?this.isFocusableElement(t,e,i):0<=i)},i._isDisplayed=function(t){var e=t.getBoundingClientRect();return(0!==e.top||0!==e.left||0!==e.width||0!==e.height)&&"hidden"!==window.getComputedStyle(t).visibility},i.getTabbableElements=function(t,e){for(var i=t.querySelectorAll(this.focusableSelectors),s=i.length,n=[],r=0;r<s;r++)this.isTabbableElement(i[r],e)&&n.push(i[r]);return n},i.getFocusableElements=function(t,e){for(var i=t.querySelectorAll(this.focusableSelectors),s=i.length,n=[],r=0;r<s;r++)this.isFocusableElement(i[r],e)&&n.push(i[r]);return n},t.exports=new s},46815:function(t,e,i){"use strict";function n(t,e){var i;t.getAttribute(s+e)||(i=t.getAttribute(e)||"",t.setAttribute(s+e,i))}var r=i(11302),o=i(9697),s="data-original-",a="tabindex";t.exports=function(t,e){if(o.isFocusableElement(t,e))n(t,a),t.setAttribute(a,"-1");else for(var i=o.getTabbableElements(t,e),s=i.length;s--;)n(i[s],a),i[s].setAttribute(a,"-1");n(t,r.HIDDEN),t.setAttribute(r.HIDDEN,"true")}},54423:function(t,e,i){"use strict";var o=i(46815);t.exports=function t(e,i,s){i=i||document.body;for(var n=e,r=e;n=n.previousElementSibling;)o(n,s);for(;r=r.nextElementSibling;)o(r,s);e.parentElement&&e.parentElement!==i&&t(e.parentElement,i,s)}},51401:function(t){"use strict";t.exports=function(t,i){let e;e=t instanceof NodeList?t:[].concat(t),i=Array.isArray(i)?i:[].concat(i),e.forEach(e=>{i.forEach(t=>{e.removeAttribute(t)})})}},92173:function(t,e,i){"use strict";function s(t,e){var i=t.getAttribute(o+e);null!==i&&(""===i?n(t,e):t.setAttribute(e,i),n(t,o+e))}var n=i(51401),r=i(11302),o="data-original-",a="tabindex";t.exports=function(t){s(t,a),s(t,r.HIDDEN);for(var e=t.querySelectorAll(`[${o+a}]`),i=e.length;i--;)s(e[i],a)}},95938:function(t,e,i){"use strict";var r=i(92173);t.exports=function t(e,i){i=i||document.body;for(var s=e,n=e;s=s.previousElementSibling;)r(s);for(;n=n.nextElementSibling;)r(n);e.parentElement&&e.parentElement!==i&&t(e.parentElement,i)}},11302:function(t){"use strict";t.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},19073:function(t){"use strict";t.exports={selectors:["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"].join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},70441:function(t,e,i){"use strict";var s=i(70761),i=i(84689);t.exports=new s,t.exports.Ajax=s,t.exports.Request=i},70761:function(t,e,i){"use strict";function s(){}var n=i(84689),r=i(3637),o=i(46673);s._Request=n,s.prototype={_defaults:{method:"get",timeout:5e3},_extend:function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]},_getOptions:function(t,e){return this._extend({},this._defaults,e,t)},_isCrossDomainRequest:function(t){var e=new o,i=e.parse(window.location.href).origin,t=e.parse(t).origin;return e.destroy(),t!==i},create:function(t){return new n(t)},cors:function(t){return new(window.XDomainRequest&&document.documentMode<10?r:n)(t)},get:function(t){return t=this._getOptions({method:"get"},t),(this._isCrossDomainRequest(t.url)?this.cors(t):this.create(t)).send()},getJSON:function(t){return this.get(t).then(function(t){return JSON.parse(t.responseText)})},head:function(t){return t=this._getOptions({method:"head"},t),this.create(t).send()},isCrossDomainRequest:function(t){return this._isCrossDomainRequest(t)},post:function(t){return t=this._getOptions({method:"post"},t),this.create(t).send()}},t.exports=s},84689:function(t){"use strict";function e(t){this._initialize(t)}e.create=function(){function t(){}return t.prototype=e.prototype,new t},e.prototype={_addReadyStateChangeHandler:function(){this.xhr.onreadystatechange=function(t){4===this.xhr.readyState&&(clearTimeout(this._timeout),200<=this.xhr.status&&this.xhr.status<300?this.resolve(this.xhr):this.reject(this.xhr))}.bind(this)},_getPromise:function(){this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))},_getTransport:function(){return new XMLHttpRequest},_initialize:function(t){var e=this._validateConfiguration(t);if(e)throw e;this._configuration=t;e=this._configuration.method.toUpperCase();this.xhr=this._getTransport(),this._getPromise(),this.xhr.open(e,this._configuration.url),this._setRequestHeaders(t.headers),this._addReadyStateChangeHandler()},_sendXHR:function(){this.xhr&&(this._configuration&&this._configuration.data?this.xhr.send(this._configuration.data):this.xhr.send())},_setRequestHeaders:function(t){t&&t.forEach(function(t){this.xhr.setRequestHeader(t.name,t.value)},this)},_setTimeout:function(t){t||(this._configuration&&this._configuration.timeout?t=this._configuration.timeout:(clearTimeout(this._timeout),this._timeout=null)),null!==this._timeout&&clearTimeout(this._timeout),0<t&&(this._timeout=setTimeout(function(){this.xhr.abort(),this.reject()}.bind(this),t))},_timeout:null,_validateConfiguration:function(t){if(!t)return"Must provide a configuration object";var e=[],i=t.headers;if(t.url||e.push("Must provide a url"),t.method||e.push("Must provide a method"),i){if(!Array.isArray(i))return"Must provide an array of headers";this._validateHeaders(i,e)}return e.join(", ")},_validateHeaders:function(t,e){for(var i=0,s=t.length;i<s;i++)if(!t[i].hasOwnProperty("name")||!t[i].hasOwnProperty("value")){e.push("Must provide a name and value key for all headers");break}},promise:null,reject:null,resolve:null,send:function(){return this._setTimeout(),this._sendXHR(),this.promise},xhr:null},t.exports=e},46673:function(t){"use strict";function e(){this.parser=null}var i=e.prototype;i.parse=function(t){var e,i,s,n,r;if("string"!=typeof t)throw new TypeError(t+" must be a string");return this.parser||(this.parser=document.createElement("a")),this._qualifyPath(t),s=this.parser.hostname,i=this.parser.protocol,n=this._normalizePort(this.parser),e=this.parser.origin||this._constructOriginString(this.parser,n),r=this.parser.search,{originalPath:t,qualifiedPath:this.parser.href,protocol:i,hostname:s,origin:e,port:n,search:r}},i.destroy=function(){this.parser=null},i._constructOriginString=function(t,e){return t.protocol+"//"+t.hostname+(e?":"+e:"")},i._normalizePort=function(t){return"80"===t.port||"443"===t.port||"0"===t.port?"":t.port},i._qualifyPath=function(t){this.parser.href=t,this.parser.href=this.parser.href},t.exports=e},3637:function(t,e,i){"use strict";function s(t){n.apply(this,arguments)}var n=i(84689);(s.prototype=n.create())._getTransport=function(){return new XDomainRequest},s.prototype._addReadyStateChangeHandler=function(){this.xhr.ontimeout=function(){this.reject(this.xhr)}.bind(this),this.xhr.onerror=function(){this.reject(this.xhr)}.bind(this),this.xhr.onload=function(){this.resolve(this.xhr)}.bind(this)},s.prototype._setTimeout=function(t){t||this._configuration&&this._configuration.timeout&&(t=this._configuration.timeout),0<t&&(this.xhr.timeout=t)},s.prototype._sendXHR=function(){setTimeout(function(){n.prototype._sendXHR.call(this)}.bind(this),0)},t.exports=s},44187:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(62183),r={priority:5};function o(t,e){s.call(this),this.options=n(r,e||{}),this.src=t,this.data=null,this.error=null,this.priority=this.options.priority,this.status="idle",this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this)}(i=o.prototype=Object.create(s.prototype)).load=function(){"idle"===this.status&&(this.status="pending",this._load())},i.destroy=function(){s.prototype.destroy.call(this),this.status="destroyed",this.data=null},i._load=function(){this.data={src:this.src},window.setTimeout(this._onLoad.bind(this),20)},i._onLoad=function(){"destroyed"!==this.status&&(this.status="loaded",this.trigger("loaded",this))},i._onError=function(t){"destroyed"!==this.status&&(this.error=t,this.status="error",this.trigger("error",this))},t.exports=o},38363:function(t,e,i){"use strict";var s=i(44187);function n(t,e){s.apply(this,arguments)}(i=n.prototype=Object.create(s.prototype))._load=function(){this.data=new Image,this.data.addEventListener("load",this._onLoad),this.data.addEventListener("error",this._onError),this.data.src=this.src},i.destroy=function(){this.data&&(this.data.removeEventListener("load",this._onLoad),this.data.removeEventListener("error",this._onError)),this.status="destroyed",this.data=null},t.exports=n},83153:function(t,e,i){"use strict";i(57379);function s(t,e){e=n(u,e||{}),a.call(this,t,e),t.lastIndexOf("/")!==t.length-1&&(t+="/"),this._manifestPath=t+"manifest.json",this._chunks=[],this._loadChunks=this._loadChunks.bind(this),this._onChunksLoaded=this._onChunksLoaded.bind(this),this._manifestLoader=null,this._chunkLoader=null}var n=i(62183),r=i(1823),o=i(1334),a=i(44187),h=i(48935),u={manifestTimeout:5e3,chunkTimeout:1e4},i=s.prototype=Object.create(a.prototype);i._load=function(){this._loadManifest().then(this._loadChunks).then(this._onChunksLoaded).catch(this._onError)},i._loadManifest=function(){var t=new o(this._manifestPath,{timeout:this.options.manifestTimeout}),s=new h(t,{privateQueue:this.options.queue});return s.load(),this._manifestLoader=s,new Promise(function(e,i){s.once("load",function(t){e(t.latest)}),s.once("error",function(t){i(t.latest.error)})})},i._loadChunks=function(t){this._manifest=t.data,this._manifestLoader.destroy(),this._manifestLoader=null;var i=[],s=(this._manifest.files.forEach(function(t,e){i.push(this._getOrCreateChunkObject(t,e))},this),new h(i,{privateQueue:this.options.queue,failFast:!0})),t=new Promise(function(t,e){s.once("load",t),s.once("error",function(t){e(t.latest.error)})});return s.load(),this._chunkLoader=s,t},i._getOrCreateChunkObject=function(t,e){var i,s,n=this.options.chunkTimeout?{timeout:this.options.chunkTimeout}:null;return this._chunks[e]||((t=t.path).match(/(^http(s?))/)?this.src.match(/(^http(s?))/)&&(i=t.indexOf("/",10),s=this.src.indexOf("/",10),t=this.src.substring(0,s)+t.substring(i)):t=this.src+"/"+t,this._chunks[e]=new r(t,n)),this._chunks[e]},i._onChunksLoaded=function(){for(var t=this._chunks.length,e=[],i=0;i<t;i++)e.push(this._chunks[i].data),this._chunks[i].off();this.data=new Blob(e,{type:this._manifest.mimeType}),e=this._chunks=null,this._chunkLoader.destroy(),this._chunkLoader=null,this._onLoad()},i.pause=function(){this._manifestLoader&&this._manifestLoader.pause(),this._chunkLoader&&this._chunkLoader.pause()},i.resume=function(){this._manifestLoader&&this._manifestLoader.resume(),this._chunkLoader&&this._chunkLoader.resume()},i.destroy=function(){this.pause(),this._manifestLoader&&this._manifestLoader.destroy(),this._chunkLoader&&this._chunkLoader.destroy(),this._chunks=null,a.prototype.destroy.call(this)},t.exports=s},70099:function(t,e,i){"use strict";var s=i(44187),n=i(83153);function r(t,e){s.apply(this,arguments),this.options=e||{},this._binary=this.options.binary||this._createAssetType()}(i=r.prototype=Object.create(s.prototype))._canUseBlob=function(){return void 0!==window.Blob&&void 0!==window.URL&&"function"==typeof window.URL.createObjectURL},i._createAssetType=function(){if(this._canUseBlob())return new n(this.src,this.options)},i._load=function(){this._binary.on("loaded",this._onLoad),this._binary.on("error",this._onError),this._binary.load()},i._onLoad=function(t){this.data=t,this.data instanceof window.Blob&&(this.data=this.options.element,this.data||(this.data=document.createElement("video")),this.data.getAttribute("type")!==t.type&&this.data.setAttribute("type",t.type),this.data.src=window.URL.createObjectURL(t)),s.prototype._onLoad.call(this,this.data)},i.pause=function(){this._binary.pause()},i.destroy=function(){this._binary.destroy(),s.prototype.destroy.call(this)},t.exports=r},49992:function(t,e,i){"use strict";var s=i(70441),n=i(44187),r=i(62183),o={timeout:3e4,responseType:""};function a(t,e){e=r(o,e||{});n.call(this,t,e),this._request=this._createRequest(),this._request.xhr.responseType=this.options.responseType}(i=a.prototype=Object.create(n.prototype)).destroy=function(){"idle"!==this.status&&"loaded"!==this.status||(this._request=null),"pending"===this.status&&this._request.xhr.abort(),n.prototype.destroy.call(this)},i._createRequest=function(){return s.create({url:this.src,method:"GET",timeout:this.options.timeout,responseType:this.options.responseType})},i._load=function(){this._request.send().then(this._onLoad).catch(this._onError)},i._onLoad=function(t){this.data=this.data||t.response,this._request=null,n.prototype._onLoad.call(this)},t.exports=a},1823:function(t,e,i){"use strict";var s=i(49992),n=i(85535),r={responseType:"arraybuffer"};function o(t,e){e=n(e||{},r);s.call(this,t,e)}o.prototype=Object.create(s.prototype),t.exports=o},1334:function(t,e,i){"use strict";var s=i(49992);function n(t,e){s.apply(this,arguments)}(n.prototype=Object.create(s.prototype))._onLoad=function(t){try{this.data=JSON.parse(t.response||t.responseText)}catch(t){this._onError(t)}s.prototype._onLoad.call(this,t)},t.exports=n},48935:function(t,e,i){"use strict";i(57379);function s(t,e){n.call(this),this.options=r(h,e||{}),this._onGroupError=this._onGroupError.bind(this),this._onAssetError=this._onAssetError.bind(this),this._onScheduled=this._onScheduled.bind(this),this._onProgress=this._onProgress.bind(this),this._onComplete=this._onComplete.bind(this),this.errors=[],this._queue=a(this.options.privateQueue,this.options.privateQueueThreads),this._assets=[].concat(t),this._loaded=[],this._errored=[],this._enqueued=[],this._dequeued=[],this._pending=[],this._isRunning=!1,this._isComplete=!1,this._isErrored=!1,this._destroyPending=!1}var n=i(95350).EventEmitterMicro,r=i(62183),o=i(20502),a=i(86720),h={failFast:!0,privateQueue:!1,privateQueueThreads:i(20942).DEFAULT_THREADS},i=s.prototype=Object.create(n.prototype);i.load=function(){var t=this._assets.map(function(t){t={asset:t,success:this._onProgress,failure:this._onAssetError,scheduled:this._onScheduled},t=o(this._queue,t,this.options.failFast);return this._enqueued.push(t),t.promise},this);return Promise.all(t).then(this._onComplete).catch(this._onGroupError),this._isRunning=!0,this._queue.start(),new Promise(function(t,e){this.once("load",t),this.options.failFast&&this.once("error",t)}.bind(this))},i.isRunning=function(){return this._isRunning},i.count=function(){return this._enqueued.length},i.pending=function(){return this._pending.length},i.loadedCount=function(){return this._loaded.length},i.isComplete=function(){return this._isComplete},i.isErrored=function(){return this._isErrored},i.pause=function(){this.isComplete()||this.isErrored()||!this.isRunning()||(this._dequeueItems(),this._pauseAssets(),this._isRunning=!1)},i.resume=function(){this.isComplete()||this.isErrored()||this.isRunning()||this._destroyPending||(this._reenqueueItems(),this._resumeAssets(),this._isRunning=!0)},i.destroy=function(){this._destroyPending||(n.prototype.destroy.call(this),this.pause(),this._destroyPending=!0,this._assets.forEach(function(t){t.destroy()}),0===this.pending()&&this._destroy())},i.trigger=function(){this._destroyPending||n.prototype.trigger.apply(this,arguments)},i._destroy=function(){this.privateQueue&&(this._queue.destroy(),this._queue=null,this.options.privateQueue=null),this.errors=null,this._assets=null,this._loaded=null,this._errored=null,this._enqueued=null,this._dequeued=null,this._pending=null},i._pauseAssets=function(){this._assets.forEach(function(t){"function"==typeof t.pause&&t.pause()})},i._resumeAssets=function(){this._assets.forEach(function(t){"function"==typeof t.resume&&t.resume()})},i._onProgress=function(t){var e;this.isErrored()||(e=this._pending.indexOf(t),(e=this._pending.splice(e,1)[0])&&"loaded"===e.asset.status&&this._loaded.push(e.asset),this._destroyPending?0===this.pending()&&this._destroy():(e=this._makeDataObject(t.asset),this.trigger("progress",e)))},i._onScheduled=function(t){var e=this._enqueued.indexOf(t);-1<e&&(this._enqueued.splice(e,1),this._pending.push(t))},i._onComplete=function(t){this._isRunning=!1,this._isComplete=!0;var e=this._makeDataObject(this._loaded[this._loaded.length-1]);this.trigger("load",e)},i._onAssetError=function(t){this.errors.push(t.error),this._errored.push(t);var e=this._pending.indexOf(t),e=(this._pending.splice(e,1),this._makeDataObject(t.asset));this.trigger("error",e)},i._onGroupError=function(t){this.options.failFast&&(this.pause(),this._isErrored=!0,this._isRunning=!1,this._isComplete=!1)},i._makeDataObject=function(t){var e=this.errors.length;this.errors.map(function(t){return this._assets.indexOf(t)},this);return{latest:t,assets:this._assets,error:!!(0<e),errored:this.errors}},i._dequeueItems=function(){this._enqueued.forEach(function(t){this._queue.dequeueQueueItem(t.queueItem),this._dequeued.push(t)},this),this._enqueued=[]},i._reenqueueItems=function(){this._dequeued.forEach(function(t){this._queue.enqueueQueueItem(t.queueItem),this._enqueued.push(t)},this),this._dequeued=[]},t.exports=s},93905:function(t,e,i){t.exports.assetLoader=i(35489),i(17891),i(48935),i(56145)},35489:function(t,e,i){"use strict";var s=i(20942),n=i(48935),r=i(17891),o=i(56145),a=i(86720),h=i(70218);function u(t,e){return(t=[].concat(t)).map(function(t){return o(t,e)})}function l(t,e){e=h(e||{});return e.privateQueue=a(e.privateQueue,e.privateQueueThreads),t=u(t,e.privateQueue),new n(t,e)}t.exports={count:function(){return s.getInstance().count()},pending:function(){return s.getInstance().pending()},pause:function(){return s.getInstance().pause()},stop:function(){return s.getInstance().stop()},clear:function(){return s.getInstance().clear()},isEmpty:function(){return s.getInstance().isEmpty()},load:function(t,e){return l(t,e).load()},resume:function(){return s.getInstance().start()},setThreads:function(t){s.setThreads(t)},createAssets:u,createAssetGroup:l,types:r}},17891:function(t,e,i){"use strict";var s=i(49992),n=i(83153),r=i(38363),o=i(70099),a=i(1823),i=i(1334);t.exports={XHR_ASSET:s,JSON_ASSET:i,SPLITFILE_ASSET:n,IMG_ASSET:r,VIDEO_ASSET:o,ARRAY_BUFFER_ASSET:a}},56145:function(t,e,i){"use strict";var s=i(17891),n=i(44187),r={txt:s.XHR_ASSET,xml:s.XHR_ASSET,csv:s.XHR_ASSET,json:s.JSON_ASSET,png:s.IMG_ASSET,jpg:s.IMG_ASSET,gif:s.IMG_ASSET,svg:s.IMG_ASSET,splitfile:s.SPLITFILE_ASSET};function o(t){return t=t.replace(/([?#].*)$/,""),r[t.split(".").pop()]}t.exports=function(t,e){var i={};return n.prototype.isPrototypeOf(t)?src:("string"==typeof t&&(i.src=t,i.type=o(t)),"object"==typeof t&&("string"==typeof(i=t).type&&(i.type=o(i.type)),i.type||(i.type=o(i.src))),i.options||(i.options={}),e&&(i.options.queue=e),new i.type(i.src,i.options))}},20942:function(t,e,i){"use strict";var s,n=i(63197).LiveQueue,r=4,o=r;function a(t){return new n(t=t||r)}t.exports={getInstance:function(t){return t=(t=t)||o,s=s||a(t)},setThreads:function(t){o=t},newInstance:a,isLiveQueue:function(t){return t instanceof n},DEFAULT_THREADS:r}},20502:function(t,e,i){"use strict";function r(t,e){"function"==typeof t[e]&&t[e](t)}i(57379),t.exports=function(t,s,n){function e(e,i){s.scheduled(s),s.asset.once("loaded",function(t){e(s)}),s.asset.once("error",function(t){if(n)return i(t);e(s)}),s.asset.load()}var i=new Promise(function(e,i){s.asset.once("loaded",function(t){r(s,"success"),e(t)}),s.asset.once("error",function(t){if(s.error=t,r(s,"failure"),n)return i(t);e(s)})});return s.queueItem=t.enqueue(function(){return new Promise(e)},s.asset.priority),s.promise=i,s}},86720:function(t,e,i){"use strict";var s=i(20942);t.exports=function(t,e){return e=e||s.DEFAULT_THREADS,s.isLiveQueue(t)?t:!0===t?s.newInstance(e):s.getInstance()}},17650:function(t){"use strict";s=["","-webkit-","-moz-","-o-","-ms-"],n=document.createElement("_"),r=["","-webkit-","-moz-","-o-","-ms-"],o=["-webkit-","","-moz-","-o-","-ms-"];var s,n,r,o,e={filter:function(t){for(var e=0;e<o.length;e++){var i=o[e]+t;if(void 0!==n.style[i])return i}}("filter"),transform:i("transform"),transformOrigin:i("transform-origin"),transition:i("transition"),transitionDelay:i("transition-delay"),transitionDuration:i("transition-duration"),transitionProperty:i("transition-property"),transitionTimingFunction:i("transition-timing-function"),transitionEnd:{"animation-delay":"transitionend","-o-animation-delay":"oTransitionEnd","-moz-animation-delay":"transitionend","-webkit-animation-delay":"webkitTransitionEnd","-ms-animation-delay":"transitionend"}[i("animation-delay")],animation:i("animation"),animationDelay:i("animation-delay"),animationDirection:i("animation-direction"),animationDuration:i("animation-duration"),animationFillMode:i("animation-fill-mode"),animationIterationCount:i("animation-iteration-count"),animationName:i("animation-name"),animationTimingFunction:i("animation-timing-function"),animationPlayState:i("animation-play-state"),animationStart:{"animation-delay":"animationstart","-o-animation-delay":"oanimationstart","-moz-animation-delay":"animationstart","-webkit-animation-delay":"webkitAnimationStart","-ms-animation-delay":"MSAnimationStart"}[i("animation-delay")],animationIteration:{"animation-delay":"animationiteration","-o-animation-delay":"oanimationiteration","-moz-animation-delay":"animationiteration","-webkit-animation-delay":"webkitAnimationIteration","-ms-animation-delay":"MSAnimationIteration"}[i("animation-delay")],animationEnd:{"animation-delay":"animationend","-o-animation-delay":"oanimationend","-moz-animation-delay":"animationend","-webkit-animation-delay":"webkitAnimationEnd","-ms-animation-delay":"MSAnimationEnd"}[i("animation-delay")]};function i(t){for(var e=0;e<r.length;e++){var i=s[e]+t;if(void 0!==n.style[i])return i}}t.exports=e},18773:function(t,e,i){"use strict";var r=i(96129),o=i(44751),a=i(48266),h=i(486),u=i(1139);const s={usePaddles:!0};t.exports=class{constructor(t,e={}){this.el=t,this._options=Object.assign(s,e),this._wrapper=this.el.querySelector(this._options.itemsSelector),this._items=[...this.el.querySelectorAll(this._options.itemSelector)],this._isRightToLeft="rtl"===window.getComputedStyle(t).direction,this._inlineStart=this._isRightToLeft?"right":"left",this._inlineEnd=this._isRightToLeft?"left":"right",this._scrollType=this._getScrollType(),this.lastCenteredItem=this._items[0],this.centerItem=this.centerItem.bind(this),this._usePaddles=this._options.usePaddles,this._usePaddles&&this._initializePaddles()}centerItem(t,e){this.lastCenteredItem=t;var i=.5*r(this.el).width,s=o(t).left,t=r(t).width;let n=Math.round(s+.5*t-i);e?this.el.scrollLeft=this._setNormalizedScroll(n):(this._destroyCurrentClip(),this._isRightToLeft&&(n*=-1),this._smoothScrollTo(n))}_initializePaddles(){var t=this._isRightToLeft?this._options.rightPaddleSelector:this._options.leftPaddleSelector,e=this._isRightToLeft?this._options.leftPaddleSelector:this._options.rightPaddleSelector;this.el.classList.add("with-paddles"),this._paddles={start:this.el.querySelector(t),end:this.el.querySelector(e)},this._children=this._wrapper.children,this._childCount=this._wrapper.children.length,this._onScrollClipComplete=this._onScrollClipComplete.bind(this),this._onPaddleStartClick=this._onPaddleStartClick.bind(this),this._paddles.start.addEventListener("click",this._onPaddleStartClick),this._onPaddleEndClick=this._onPaddleEndClick.bind(this),this._paddles.end.addEventListener("click",this._onPaddleEndClick),this._onScroll=this._onScroll.bind(this),this._wrapper.addEventListener("scroll",this._onScroll,{passive:!0}),this._updateElementMetrics=this._updateElementMetrics.bind(this),window.addEventListener("resize",this._updateElementMetrics),window.addEventListener("orientationchange",this._updateElementMetrics),this._updateElementMetrics()}_updateElementMetrics(){this._wrapperWidth=this._wrapper.offsetWidth,this._contentWidth=this._wrapper.scrollWidth,this._contentWidth<=this._wrapperWidth&&(this._destroyCurrentClip(),this._wrapper.scrollLeft=0),this._scrollStart=this._wrapper.scrollLeft,this._usePaddles&&(this._paddleWidth=this._paddles.start.offsetWidth,this._updatePaddleDisplay())}_onScroll(){this._lockPaddles||(this._scrollStart=this._wrapper.scrollLeft,this._updatePaddleDisplay())}_updatePaddleDisplay(){var t=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;this._paddles.start.disabled=this._getNormalizedScroll(this._scrollStart)<=1,this._paddles.end.disabled=t>=this._contentWidth-1}_onPaddleStartClick(t){this._smoothScrollTo(this._getPaddleStartScrollDestination())}_getPaddleStartScrollDestination(){var e,i=this._getNormalizedScroll(this._scrollStart);for(let t=this._childCount-1;0<t;t--)if((e=this._normalizePosition(o(this._children[t])))[this._inlineStart]<i)return e[this._inlineEnd]-this._wrapperWidth;return 0}_onPaddleEndClick(t){this._smoothScrollTo(this._getPaddleEndScrollDestination())}_getPaddleEndScrollDestination(){var e,i=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;for(let t=0;t<this._childCount;t++)if((e=this._normalizePosition(o(this._children[t])))[this._inlineEnd]>i)return e[this._inlineStart];return this._contentWidth}_getBoundedScrollX(t){var e=this._contentWidth-this._wrapperWidth;return Math.max(Math.min(t,e),0)}_smoothScrollTo(n){if(this._updateElementMetrics(),!this._lockPaddles&&n!==this._scrollStart){let s=this._wrapper.scrollLeft;var t={ease:h.fromCSSString(u[this._options.scrollEasing]),draw:t=>{var e,i;this._wrapper.scrollLeft=(t=t,e=s,i=this._setNormalizedScroll(n),t*(i-e)+e)}};this._usePaddles&&(this._lockPaddles=!0),this._clip=new a(this._options.scrollDuration,t),this._clip.play().then(()=>{this._destroyCurrentClip(),this._clip=null,this._usePaddles&&this._onScrollClipComplete()})}}_onScrollClipComplete(){this._updatePaddleDisplay(),this._lockPaddles=!1,this._onScroll()}_getScrollType(){let t="reverse";const e=document.createElement("div");return e.style.cssText="width:2px; height:1px; position:absolute; top:-1000px; overflow:scroll; font-size: 14px;",e.style.direction="rtl",e.innerHTML="test",document.body.appendChild(e),0<e.scrollLeft?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),document.body.removeChild(e),t}_getNormalizedScroll(t){return this._isRightToLeft?"default"===this._scrollType?this._contentWidth-this._wrapperWidth-Math.abs(t):Math.abs(t):t}_setNormalizedScroll(t){t=this._getBoundedScrollX(t);return this._isRightToLeft&&"reverse"!==this._scrollType?"negative"===this._scrollType?-t:-(t-this._contentWidth+this._wrapperWidth):t}_normalizePosition(t){var e={top:t.top,right:t.right-this._paddleWidth,bottom:t.bottom,left:t.left-this._paddleWidth},t={top:t.top,right:this._wrapperWidth-t.right+this._paddleWidth,bottom:t.bottom,left:this._wrapperWidth-t.left+this._paddleWidth};return this._isRightToLeft?t:e}_destroyCurrentClip(){this._clip&&this._clip._isPlaying&&(this._clip.destroy(),this._lockPaddles=!1)}_destroyPaddles(){this._paddles&&(this._wrapper.removeEventListener("scroll",this._onScroll),this._paddles.start.removeEventListener("click",this._onPaddleStartClick),this._paddles.end.removeEventListener("click",this._onPaddleEndClick),this._paddles=null)}destroy(){this._items=null,this._destroyCurrentClip(),this._destroyPaddles(),window.removeEventListener("resize",this._updateElementMetrics),window.removeEventListener("orientationchange",this._updateElementMetrics)}}},42665:function(t,e,i){const s=i(18773),n={componentName:"chapternav",scrollEasing:"ease-out",scrollDuration:.4,usePaddles:!0};t.exports=class{constructor(t,e){return this.el=t,e=Object.assign({},n,e),this.options={componentName:e.componentName,itemsSelector:e.itemsSelector||`.${e.componentName}-items`,itemSelector:e.itemSelector||`.${e.componentName}-link`,itemLabelSelector:e.itemLabelSelector||`.${e.componentName}-label`,itemNewSelector:e.itemNewSelector||`.${e.componentName}-new`,leftPaddleSelector:e.leftPaddleSelector||`.${e.componentName}-paddle-left`,rightPaddleSelector:e.rightPaddleSelector||`.${e.componentName}-paddle-right`,tallClass:e.tallClass||e.componentName+"-tall",scrollEasing:e.scrollEasing,scrollDuration:e.scrollDuration,usePaddles:e.usePaddles},this.setChapternavTall(this.isChapternavTall()),new s(this.el,this.options)}isChapternavTall(){const t=this.el.querySelectorAll(this.options.itemSelector);let s=!1;return t.forEach(t=>{const e=t.querySelector(this.options.itemLabelSelector);var t=!!t.querySelector(this.options.itemNewSelector),i=0<e.getElementsByTagName("BR").length;t&&i&&(s=!0)}),s}setChapternavTall(t){!0===t?this.el.classList.add(this.options.tallClass):this.el.classList.remove(this.options.tallClass)}}},14610:function(t,e,i){"use strict";i(86847),i(51426);var s=i(85320);t.exports=function(){var t,e=Array.prototype.slice.call(arguments),i=e.shift(e);if(i.classList&&i.classList.add)i.classList.add.apply(i.classList,e);else for(t=0;t<e.length;t++)s(i,e[t])}},85320:function(t,e,i){"use strict";var s=i(94432);t.exports=function(t,e){s(t,e)||(t.className+=" "+e)}},94432:function(t,e,i){"use strict";var s=i(42952);t.exports=function(t,e){return s(e).test(t.className)}},42952:function(t){"use strict";t.exports=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")}},28548:function(t,e,i){"use strict";var s=i(94432),n=i(42952);t.exports=function(t,e){s(t,e)&&(t.className=t.className.replace(n(e),"$1").trim())}},6017:function(t,e,i){"use strict";i(86847),i(51426);var s=i(28548);t.exports=function(){var t,e=Array.prototype.slice.call(arguments),i=e.shift(e);if(i.classList&&i.classList.remove)i.classList.remove.apply(i.classList,e);else for(t=0;t<e.length;t++)s(i,e[t])}},28568:function(t,e,i){"use strict";t.exports={EventEmitterMicro:i(52377)}},52377:function(t){"use strict";function e(){this._events={}}var i=e.prototype;i.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},i.once=function(i,s){var n=this;this.on(i,function t(e){n.off(i,t),void 0!==e?s(e):s()})},i.off=function(t,e){!this.has(t)||-1!==(e=this._events[t].indexOf(e))&&this._events[t].splice(e,1)},i.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;0<=i;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},i.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},i.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=e},5533:function(t,e,i){"use strict";t.exports={Clip:i(24684)}},24684:function(t,e,i){"use strict";i(90166);var s=i(51082),n=i(87270).createPredefined,r=i(69093),o=i(87270).Ease,a=i(28568).EventEmitterMicro;function h(t,e,i,s){this._options=s=s||{},this._isYoyo=s.yoyo,this._direction=1,this._timeScale=1,this._loop=s.loop||0,this._loopCount=0,this._target=t,this.duration(e),this._delay=1e3*(s.delay||0),this._remainingDelay=this._delay,this._progress=0,this._clock=s.clock||r,this._playing=!1,this._getTime=Date.now||function(){return(new Date).getTime()},this._propsTo=i||{},this._propsFrom=s.propsFrom||{},this._onStart=s.onStart||null,this._onUpdate=s.onUpdate||null,this._onDraw=s.onDraw||null,this._onComplete=s.onComplete||null;t=s.ease||"ease";this._ease="function"==typeof t?new o(t):n(t),this._start=this._start.bind(this),this._update=this._update.bind(this),this._draw=this._draw.bind(this),this._isPrepared=!1,h._add(this),a.call(this)}i=h.prototype=s(a.prototype);h.COMPLETE="complete",h.PAUSE="pause",h.PLAY="play",i.play=function(){return this._playing||(this._playing=!0,0===this._delay||0===this._remainingDelay?this._start():(this._isPrepared||(this._setDiff(),this._updateProps()),this._startTimeout=setTimeout(this._start,this._remainingDelay/this._timeScale),this._delayStart=this._getTime())),this},i.pause=function(){return this._playing&&(this._startTimeout&&(this._remainingDelay=this._getTime()-this._delayStart,clearTimeout(this._startTimeout)),this._stop(),this.trigger(h.PAUSE,this)),this},i.destroy=function(){return this.pause(),this._options=null,this._target=null,this._storeTarget=null,this._ease=null,this._clock=null,this._propsTo=null,this._propsFrom=null,this._storePropsTo=null,this._storePropsFrom=null,this._propsDiff=null,this._propsEase=null,this._onStart=null,this._onUpdate=null,this._onDraw=null,this._onComplete=null,h._remove(this),a.prototype.destroy.call(this),this},i.reset=function(){if(this._isPrepared)return this._stop(),this._resetLoop(this._target,this._storeTarget),this._direction=1,this._loop=this._options.loop||0,this._loopCount=0,this._propsFrom=this._storePropsFrom,this._propsTo=this._storePropsTo,this._progress=0,this._setStartTime(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this),this},i.playing=function(){return this._playing},i.target=function(){return this._target},i.duration=function(t){return void 0!==t&&(this._duration=t,this._durationMs=1e3*t/this._timeScale,this._playing&&this._setStartTime()),this._duration},i.timeScale=function(t){return void 0!==t&&(this._timeScale=t,this.duration(this._duration)),this._timeScale},i.currentTime=function(t){return void 0!==t?this.progress(t/this._duration)*this._duration:this.progress()*this._duration},i.progress=function(t){return void 0!==t&&(this._progress=Math.min(1,Math.max(0,t)),this._setStartTime(),this._isPrepared||this._setDiff(),this._playing&&1===t?(this._completeProps(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this),this._complete()):(this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this),this._onDraw&&this._onDraw.call(this,this))),this._progress},i._resetLoop=function(t,e){for(var i in e)e.hasOwnProperty(i)&&null!==e[i]&&("object"==typeof e[i]?this._resetLoop(t[i],e[i]):t[i]=e[i])},i._cloneObjects=function(){var t={},e={},i={};return this._cloneObjectsLoop(this._target,this._propsTo,this._propsFrom,t,e,i),{target:t,propsTo:e,propsFrom:i}},i._cloneObjectsLoop=function(t,e,i,s,n,r){var o,a;for(a in i)i.hasOwnProperty(a)&&void 0===e[a]&&void 0!==t[a]&&(s[a]=t[a],n[a]=t[a],r[a]=i[a]);for(a in e)t.hasOwnProperty(a)&&(o=typeof t[a],null!==t[a]&&"object"==o?(Array.isArray(t[a])?(s[a]=[],n[a]=[],r[a]=[]):(s[a]={},n[a]={},r[a]={}),this._cloneObjectsLoop(t[a],e[a]||{},i[a]||{},s[a],n[a],r[a])):null!==e[a]&&"number"==o&&(s[a]=t[a],n[a]=e[a],i&&void 0!==i[a]&&(r[a]=i[a])))},i._prepareProperties=function(){var t;this._isPrepared||(t=this._cloneObjects(),this._storeTarget=t.target,this._propsTo=t.propsTo,this._storePropsTo=this._propsTo,this._propsFrom=t.propsFrom,this._storePropsFrom=this._propsFrom,this._isPrepared=!0)},i._setStartTime=function(){this._startTime=this._getTime()-this.progress()*this._durationMs},i._setDiff=function(){this._isPrepared||this._prepareProperties(),this._propsDiff={},this._setDiffLoop(this._propsTo,this._propsFrom,this._target,this._propsDiff)},i._setDiffLoop=function(t,e,i,s){var n,r;for(r in t)t.hasOwnProperty(r)&&(n=typeof t[r],null!==t[r]&&"object"==n?(e[r]=e[r]||{},s[r]=s[r]||{},this._setDiffLoop(t[r],e[r],i[r],s[r])):"number"==n&&void 0!==i[r]?(void 0!==e[r]?i[r]=e[r]:e[r]=i[r],s[r]=t[r]-i[r]):(t[r]=null,e[r]=null))},i._start=function(){this._startTimeout=null,this._remainingDelay=0,this._setStartTime(),this._clock.on("update",this._update),this._clock.on("draw",this._draw),this._clock.isRunning()||this._clock.start(),this._setDiff(),this._playing=!0,this._running=!0,this._onStart&&this._onStart.call(this,this),this.trigger(h.PLAY,this)},i._stop=function(){this._playing=!1,this._running=!1,this._clock.off("update",this._update),this._clock.off("draw",this._draw)},i._updateProps=function(){var t=1===this._direction?this._ease.getValue(this._progress):1-this._ease.getValue(1-this._progress);this._updatePropsLoop(this._propsTo,this._propsFrom,this._target,this._propsDiff,t)},i._updatePropsLoop=function(t,e,i,s,n){for(var r in t)t.hasOwnProperty(r)&&null!==t[r]&&("number"!=typeof t[r]?this._updatePropsLoop(t[r],e[r],i[r],s[r],n):i[r]=e[r]+s[r]*n)},i._completeProps=function(){this._completePropsLoop(this._propsTo,this._target)},i._completePropsLoop=function(t,e){for(var i in t)t.hasOwnProperty(i)&&null!==t[i]&&("number"!=typeof t[i]?this._completePropsLoop(t[i],e[i]):e[i]=t[i])},i._complete=function(){this._isYoyo&&(0<this._loop&&this._loopCount<=this._loop||0===this._loop&&0===this._loopCount)?(this._propsFrom=1===this._direction?this._storePropsTo:this._storePropsFrom,this._propsTo=1===this._direction?this._storePropsFrom:this._storePropsTo,this._direction*=-1,-1===this._direction&&++this._loopCount,this.progress(0),this._start()):this._loopCount<this._loop?(++this._loopCount,this.progress(0),this._start()):(this.trigger(h.COMPLETE,this),this._onComplete&&this._onComplete.call(this,this),this._options&&this._options.destroyOnComplete&&this.destroy())},i._update=function(t){this._running&&(this._progress=(t.timeNow-this._startTime)/this._durationMs,1<=this._progress?(this._progress=1,this._running=!1,this._completeProps()):this._updateProps(),this._onUpdate&&this._onUpdate.call(this,this))},i._draw=function(t){this._onDraw&&this._onDraw.call(this,this),this._running||(this._stop(),1===this._progress&&this._complete())},h._instantiate=function(){return this._clips=[],this},h._add=function(t){this._clips.push(t)},h._remove=function(t){t=this._clips.indexOf(t);-1<t&&this._clips.splice(t,1)},h.getAll=function(t){if(void 0===t)return Array.prototype.slice.call(this._clips);for(var e=[],i=this._clips.length;i--;)this._clips[i].target()===t&&e.push(this._clips[i]);return e},h.destroyAll=function(t){for(var e=this.getAll(t),i=(this._clips.length===e.length&&(this._clips=[]),e.length);i--;)e[i].destroy();return e},h.to=function(t,e,i,s){return void 0===(s=s||{}).destroyOnComplete&&(s.destroyOnComplete=!0),new h(t,e,i,s).play()},h.from=function(t,e,i,s){return(s=s||{}).propsFrom=i,void 0===s.destroyOnComplete&&(s.destroyOnComplete=!0),new h(t,e,s.propsTo,s).play()},t.exports=h._instantiate()},46303:function(t,e,i){"use strict";t.exports={copy:i(31583)}},91289:function(t,e,i){"use strict";var s=i(95223);t.exports=function(t){return s(t),document.execCommand("copy")}},4064:function(t,e,i){"use strict";var s=i(91289),n=document.createElement("input");n.setAttribute("tabindex",-1),n.setAttribute("readonly",!0),n.setAttribute("aria-hidden",!0),n.style.position="fixed",t.exports=function(t){var e=!1;document.body.appendChild(n);try{n.value=t,e=s(n)}catch(t){}return document.body.removeChild(n),e}},31583:function(t,e,i){"use strict";var s=i(4064),n=i(91289);t.exports=function(t){return("string"==typeof t?s:n)(t)}},95223:function(t){"use strict";t.exports=function(t){var e;"function"==typeof t.select?t.select()||t.setSelectionRange(0,t.value.length):((e=document.createRange()).selectNodeContents(t),(t=window.getSelection()).removeAllRanges(),t.addRange(e))}},69093:function(t,e,i){var s=i(36944),n=i(94599),i=i(7173);i.Clock=s,i.ThrottledClock=n,t.exports=i},36944:function(t,e,i){"use strict";i(49810),i(82743);var s=i(95350).EventEmitterMicro;(new Date).getTime();function n(){s.call(this),this.lastFrameTime=null,this._animationFrame=null,this._active=!1,this._startTime=null,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._getTime=Date.now||function(){return(new Date).getTime()}}(i=n.prototype=new s(null)).start=function(){this._active||this._tick()},i.stop=function(){this._active&&window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null,this.lastFrameTime=null,this._active=!1},i.destroy=function(){for(var t in this.stop(),this.off(),this)this.hasOwnProperty(t)&&(this[t]=null)},i.isRunning=function(){return this._active},i._tick=function(){this._active||(this._active=!0),this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)},i._onAnimationFrame=function(t){null===this.lastFrameTime&&(this.lastFrameTime=t);var e=t-this.lastFrameTime,i=0;0!==(e=1e3<=e?0:e)&&(i=1e3/e),!0===this._firstFrame&&(e=0,this._firstFrame=!1),0===i?this._firstFrame=!0:(e={time:t,delta:e,fps:i,naturalFps:i,timeNow:this._getTime()},this.trigger("update",e),this.trigger("draw",e)),this._animationFrame=null,this.lastFrameTime=t,!1!==this._active?this._tick():this.lastFrameTime=null},t.exports=n},94599:function(t,e,i){"use strict";i(82743);var s=i(7173),n=i(95350).EventEmitterMicro;function r(t,e){null!==t&&(n.call(this),e=e||{},this._fps=t||null,this._clock=e.clock||s,this._lastThrottledTime=null,this._clockEvent=null,this._boundOnClockDraw=this._onClockDraw.bind(this),this._boundOnClockUpdate=this._onClockUpdate.bind(this),this._clock.on("update",this._boundOnClockUpdate))}(i=r.prototype=new n(null)).setFps=function(t){return this._fps=t,this},i.getFps=function(){return this._fps},i.start=function(){return this._clock.start(),this},i.stop=function(){return this._clock.stop(),this},i.isRunning=function(){return this._clock.isRunning()},i.destroy=function(){this._clock.off("update",this._boundOnClockUpdate),this._clock.destroy.call(this)},i._onClockUpdate=function(t){null===this._lastThrottledTime&&(this._lastThrottledTime=this._clock.lastFrameTime);var e=t.time-this._lastThrottledTime;if(!this._fps)throw new TypeError("FPS is not defined.");Math.ceil(1e3/e)>=this._fps+2||(this._clockEvent=t,this._clockEvent.delta=e,this._clockEvent.fps=1e3/e,this._lastThrottledTime=this._clockEvent.time,this._clock.once("draw",this._boundOnClockDraw),this.trigger("update",this._clockEvent))},i._onClockDraw=function(){this.trigger("draw",this._clockEvent)},t.exports=r},7173:function(t,e,i){"use strict";i=i(36944);t.exports=new i},47844:function(t,e,i){"use strict";var s=i(72170);s.decimalToHex=i(93494),s.hexToDecimal=i(20980),s.hexToRgb=i(55324),s.isColor=i(57034),s.isHex=i(40701),s.isRgb=i(91945),s.isRgba=i(86089),s.mixColors=i(22016),s.rgbaToArray=i(10065),s.rgbToArray=i(72039),s.rgbToDecimal=i(79531),s.rgbToHex=i(83255),s.rgbToHsl=i(76994),s.rgbToHsv=i(31509),s.rgbaToObject=i(18744),s.rgbToObject=i(36091),s.shortToLongHex=i(72292),t.exports={Color:s}},72170:function(t,e,i){"use strict";var s=i(62674),n=i(55324),r=i(57034),o=i(40701),a=i(86089),h=i(22016),u=i(10065),l=i(72039),c=i(79531),d=i(83255),p=i(18744),m=i(36091),f=i(72292);function _(t){if(!r(t)&&!s.nameToRgbObject[t])throw new Error(t+" is not a supported color.");this._setColor(t)}i=_.prototype;i._setColor=function(t){var e;this._color={},o(t)?(this._color.hex=f(t),this._color.rgb={color:n(t)}):a(t)?(this._color.rgba={color:t},e=this.rgbaObject(),this._color.rgb={color:"rgb("+e.r+", "+e.g+", "+e.b+")"}):s.nameToRgbObject[t]?(e=s.nameToRgbObject[t],this._color.rgb={object:e,color:"rgb("+e.r+", "+e.g+", "+e.b+")"}):this._color.rgb={color:t}},i.rgb=function(){return this._color.rgb.color},i.rgba=function(){var t;return void 0===this._color.rgba&&(t=this.rgbObject(),this._color.rgba={color:"rgba("+t.r+", "+t.g+", "+t.b+", 1)"}),this._color.rgba.color},i.hex=function(){return void 0===this._color.hex&&(this._color.hex=d.apply(this,this.rgbArray())),this._color.hex},i.decimal=function(){return void 0===this._color.decimal&&(this._color.decimal=c(this.rgb())),this._color.decimal},i.cssName=function(){return s.rgbToName[this.rgb()]||null},i.rgbArray=function(){return void 0===this._color.rgb.array&&(this._color.rgb.array=l(this.rgb())),this._color.rgb.array},i.rgbaArray=function(){return void 0===this._color.rgba&&this.rgba(),void 0===this._color.rgba.array&&(this._color.rgba.array=u(this.rgba())),this._color.rgba.array},i.rgbObject=function(){return void 0===this._color.rgb.object&&(this._color.rgb.object=m(this.rgb())),this._color.rgb.object},i.rgbaObject=function(){return void 0===this._color.rgba&&this.rgba(),void 0===this._color.rgba.object&&(this._color.rgba.object=p(this.rgba())),this._color.rgba.object},i.getRed=function(){return this.rgbObject().r},i.getGreen=function(){return this.rgbObject().g},i.getBlue=function(){return this.rgbObject().b},i.getAlpha=function(){return void 0===this._color.rgba?1:this.rgbaObject().a},i.setRed=function(t){return t!==this.getRed()&&this._setColor("rgba("+t+", "+this.getGreen()+", "+this.getBlue()+", "+this.getAlpha()+")"),this.rgbObject().r},i.setGreen=function(t){return t!==this.getGreen()&&this._setColor("rgba("+this.getRed()+", "+t+", "+this.getBlue()+", "+this.getAlpha()+")"),this.rgbObject().g},i.setBlue=function(t){return t!==this.getBlue()&&this._setColor("rgba("+this.getRed()+", "+this.getGreen()+", "+t+", "+this.getAlpha()+")"),this.rgbObject().b},i.setAlpha=function(t){return t!==this.getAlpha()&&this._setColor("rgba("+this.getRed()+", "+this.getGreen()+", "+this.getBlue()+", "+t+")"),this.rgbaObject().a},i.mix=function(t,e){t=m(h(this.rgb(),t,e));return this._setColor("rgba("+t.r+", "+t.g+", "+t.b+", "+this.getAlpha()+")"),this.rgb()},i.clone=function(){return new _(this.rgb())},t.exports=_},62674:function(t){"use strict";t.exports={rgbToName:{"rgb(240, 248, 255)":"aliceblue","rgb(250, 235, 215)":"antiquewhite","rgb(0, 0, 0)":"black","rgb(0, 0, 255)":"blue","rgb(0, 255, 255)":"cyan","rgb(0, 0, 139)":"darkblue","rgb(0, 139, 139)":"darkcyan","rgb(0, 100, 0)":"darkgreen","rgb(0, 206, 209)":"darkturquoise","rgb(0, 191, 255)":"deepskyblue","rgb(0, 128, 0)":"green","rgb(0, 255, 0)":"lime","rgb(0, 0, 205)":"mediumblue","rgb(0, 250, 154)":"mediumspringgreen","rgb(0, 0, 128)":"navy","rgb(0, 255, 127)":"springgreen","rgb(0, 128, 128)":"teal","rgb(25, 25, 112)":"midnightblue","rgb(30, 144, 255)":"dodgerblue","rgb(32, 178, 170)":"lightseagreen","rgb(34, 139, 34)":"forestgreen","rgb(46, 139, 87)":"seagreen","rgb(47, 79, 79)":"darkslategray","rgb(50, 205, 50)":"limegreen","rgb(60, 179, 113)":"mediumseagreen","rgb(64, 224, 208)":"turquoise","rgb(65, 105, 225)":"royalblue","rgb(70, 130, 180)":"steelblue","rgb(72, 61, 139)":"darkslateblue","rgb(72, 209, 204)":"mediumturquoise","rgb(75, 0, 130)":"indigo","rgb(85, 107, 47)":"darkolivegreen","rgb(95, 158, 160)":"cadetblue","rgb(100, 149, 237)":"cornflowerblue","rgb(102, 205, 170)":"mediumaquamarine","rgb(105, 105, 105)":"dimgray","rgb(106, 90, 205)":"slateblue","rgb(107, 142, 35)":"olivedrab","rgb(112, 128, 144)":"slategray","rgb(119, 136, 153)":"lightslategray","rgb(123, 104, 238)":"mediumslateblue","rgb(124, 252, 0)":"lawngreen","rgb(127, 255, 212)":"aquamarine","rgb(127, 255, 0)":"chartreuse","rgb(128, 128, 128)":"gray","rgb(128, 0, 0)":"maroon","rgb(128, 128, 0)":"olive","rgb(128, 0, 128)":"purple","rgb(135, 206, 250)":"lightskyblue","rgb(135, 206, 235)":"skyblue","rgb(138, 43, 226)":"blueviolet","rgb(139, 0, 139)":"darkmagenta","rgb(139, 0, 0)":"darkred","rgb(139, 69, 19)":"saddlebrown","rgb(143, 188, 143)":"darkseagreen","rgb(144, 238, 144)":"lightgreen","rgb(147, 112, 219)":"mediumpurple","rgb(148, 0, 211)":"darkviolet","rgb(152, 251, 152)":"palegreen","rgb(153, 50, 204)":"darkorchid","rgb(154, 205, 50)":"yellowgreen","rgb(160, 82, 45)":"sienna","rgb(165, 42, 42)":"brown","rgb(169, 169, 169)":"darkgray","rgb(173, 255, 47)":"greenyellow","rgb(173, 216, 230)":"lightblue","rgb(175, 238, 238)":"paleturquoise","rgb(176, 196, 222)":"lightsteelblue","rgb(176, 224, 230)":"powderblue","rgb(178, 34, 34)":"firebrick","rgb(184, 134, 11)":"darkgoldenrod","rgb(186, 85, 211)":"mediumorchid","rgb(188, 143, 143)":"rosybrown","rgb(189, 183, 107)":"darkkhaki","rgb(192, 192, 192)":"silver","rgb(199, 21, 133)":"mediumvioletred","rgb(205, 92, 92)":"indianred","rgb(205, 133, 63)":"peru","rgb(210, 105, 30)":"chocolate","rgb(210, 180, 140)":"tan","rgb(211, 211, 211)":"lightgray","rgb(216, 191, 216)":"thistle","rgb(218, 165, 32)":"goldenrod","rgb(218, 112, 214)":"orchid","rgb(219, 112, 147)":"palevioletred","rgb(220, 20, 60)":"crimson","rgb(220, 220, 220)":"gainsboro","rgb(221, 160, 221)":"plum","rgb(222, 184, 135)":"burlywood","rgb(224, 255, 255)":"lightcyan","rgb(230, 230, 250)":"lavender","rgb(233, 150, 122)":"darksalmon","rgb(238, 232, 170)":"palegoldenrod","rgb(238, 130, 238)":"violet","rgb(240, 255, 255)":"azure","rgb(240, 255, 240)":"honeydew","rgb(240, 230, 140)":"khaki","rgb(240, 128, 128)":"lightcoral","rgb(244, 164, 96)":"sandybrown","rgb(245, 245, 220)":"beige","rgb(245, 255, 250)":"mintcream","rgb(245, 222, 179)":"wheat","rgb(245, 245, 245)":"whitesmoke","rgb(248, 248, 255)":"ghostwhite","rgb(250, 250, 210)":"lightgoldenrodyellow","rgb(250, 240, 230)":"linen","rgb(250, 128, 114)":"salmon","rgb(253, 245, 230)":"oldlace","rgb(255, 228, 196)":"bisque","rgb(255, 235, 205)":"blanchedalmond","rgb(255, 127, 80)":"coral","rgb(255, 248, 220)":"cornsilk","rgb(255, 140, 0)":"darkorange","rgb(255, 20, 147)":"deeppink","rgb(255, 250, 240)":"floralwhite","rgb(255, 215, 0)":"gold","rgb(255, 105, 180)":"hotpink","rgb(255, 255, 240)":"ivory","rgb(255, 240, 245)":"lavenderblush","rgb(255, 250, 205)":"lemonchiffon","rgb(255, 182, 193)":"lightpink","rgb(255, 160, 122)":"lightsalmon","rgb(255, 255, 224)":"lightyellow","rgb(255, 0, 255)":"magenta","rgb(255, 228, 225)":"mistyrose","rgb(255, 228, 181)":"moccasin","rgb(255, 222, 173)":"navajowhite","rgb(255, 165, 0)":"orange","rgb(255, 69, 0)":"orangered","rgb(255, 239, 213)":"papayawhip","rgb(255, 218, 185)":"peachpuff","rgb(255, 192, 203)":"pink","rgb(255, 0, 0)":"red","rgb(255, 245, 238)":"seashell","rgb(255, 250, 250)":"snow","rgb(255, 99, 71)":"tomato","rgb(255, 255, 255)":"white","rgb(255, 255, 0)":"yellow","rgb(102, 51, 153)":"rebeccapurple"},nameToRgbObject:{aqua:{r:0,g:255,b:255},aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},black:{r:0,g:0,b:0},blue:{r:0,g:0,b:255},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgreen:{r:0,g:100,b:0},darkturquoise:{r:0,g:206,b:209},deepskyblue:{r:0,g:191,b:255},green:{r:0,g:128,b:0},lime:{r:0,g:255,b:0},mediumblue:{r:0,g:0,b:205},mediumspringgreen:{r:0,g:250,b:154},navy:{r:0,g:0,b:128},springgreen:{r:0,g:255,b:127},teal:{r:0,g:128,b:128},midnightblue:{r:25,g:25,b:112},dodgerblue:{r:30,g:144,b:255},lightseagreen:{r:32,g:178,b:170},forestgreen:{r:34,g:139,b:34},seagreen:{r:46,g:139,b:87},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},limegreen:{r:50,g:205,b:50},mediumseagreen:{r:60,g:179,b:113},turquoise:{r:64,g:224,b:208},royalblue:{r:65,g:105,b:225},steelblue:{r:70,g:130,b:180},darkslateblue:{r:72,g:61,b:139},mediumturquoise:{r:72,g:209,b:204},indigo:{r:75,g:0,b:130},darkolivegreen:{r:85,g:107,b:47},cadetblue:{r:95,g:158,b:160},cornflowerblue:{r:100,g:149,b:237},mediumaquamarine:{r:102,g:205,b:170},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},slateblue:{r:106,g:90,b:205},olivedrab:{r:107,g:142,b:35},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},mediumslateblue:{r:123,g:104,b:238},lawngreen:{r:124,g:252,b:0},aquamarine:{r:127,g:255,b:212},chartreuse:{r:127,g:255,b:0},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},maroon:{r:128,g:0,b:0},olive:{r:128,g:128,b:0},purple:{r:128,g:0,b:128},lightskyblue:{r:135,g:206,b:250},skyblue:{r:135,g:206,b:235},blueviolet:{r:138,g:43,b:226},darkmagenta:{r:139,g:0,b:139},darkred:{r:139,g:0,b:0},saddlebrown:{r:139,g:69,b:19},darkseagreen:{r:143,g:188,b:143},lightgreen:{r:144,g:238,b:144},mediumpurple:{r:147,g:112,b:219},darkviolet:{r:148,g:0,b:211},palegreen:{r:152,g:251,b:152},darkorchid:{r:153,g:50,b:204},yellowgreen:{r:154,g:205,b:50},sienna:{r:160,g:82,b:45},brown:{r:165,g:42,b:42},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},greenyellow:{r:173,g:255,b:47},lightblue:{r:173,g:216,b:230},paleturquoise:{r:175,g:238,b:238},lightsteelblue:{r:176,g:196,b:222},powderblue:{r:176,g:224,b:230},firebrick:{r:178,g:34,b:34},darkgoldenrod:{r:184,g:134,b:11},mediumorchid:{r:186,g:85,b:211},rosybrown:{r:188,g:143,b:143},darkkhaki:{r:189,g:183,b:107},silver:{r:192,g:192,b:192},mediumvioletred:{r:199,g:21,b:133},indianred:{r:205,g:92,b:92},peru:{r:205,g:133,b:63},chocolate:{r:210,g:105,b:30},tan:{r:210,g:180,b:140},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},thistle:{r:216,g:191,b:216},goldenrod:{r:218,g:165,b:32},orchid:{r:218,g:112,b:214},palevioletred:{r:219,g:112,b:147},crimson:{r:220,g:20,b:60},gainsboro:{r:220,g:220,b:220},plum:{r:221,g:160,b:221},burlywood:{r:222,g:184,b:135},lightcyan:{r:224,g:255,b:255},lavender:{r:230,g:230,b:250},darksalmon:{r:233,g:150,b:122},palegoldenrod:{r:238,g:232,b:170},violet:{r:238,g:130,b:238},azure:{r:240,g:255,b:255},honeydew:{r:240,g:255,b:240},khaki:{r:240,g:230,b:140},lightcoral:{r:240,g:128,b:128},sandybrown:{r:244,g:164,b:96},beige:{r:245,g:245,b:220},mintcream:{r:245,g:255,b:250},wheat:{r:245,g:222,b:179},whitesmoke:{r:245,g:245,b:245},ghostwhite:{r:248,g:248,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},linen:{r:250,g:240,b:230},salmon:{r:250,g:128,b:114},oldlace:{r:253,g:245,b:230},bisque:{r:255,g:228,b:196},blanchedalmond:{r:255,g:235,b:205},coral:{r:255,g:127,b:80},cornsilk:{r:255,g:248,b:220},darkorange:{r:255,g:140,b:0},deeppink:{r:255,g:20,b:147},floralwhite:{r:255,g:250,b:240},fuchsia:{r:255,g:0,b:255},gold:{r:255,g:215,b:0},hotpink:{r:255,g:105,b:180},ivory:{r:255,g:255,b:240},lavenderblush:{r:255,g:240,b:245},lemonchiffon:{r:255,g:250,b:205},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightyellow:{r:255,g:255,b:224},magenta:{r:255,g:0,b:255},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},pink:{r:255,g:192,b:203},red:{r:255,g:0,b:0},seashell:{r:255,g:245,b:238},snow:{r:255,g:250,b:250},tomato:{r:255,g:99,b:71},white:{r:255,g:255,b:255},yellow:{r:255,g:255,b:0},rebeccapurple:{r:102,g:51,b:153}}}},93494:function(t){"use strict";t.exports=function(t){return"#"+t.toString(16)}},20980:function(t){"use strict";t.exports=function(t){return parseInt(t.substr(1),16)}},55324:function(t,e,i){"use strict";var s=i(72292);t.exports=function(t){t=s(t);t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return t?"rgb("+parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16)+")":null}},57034:function(t,e,i){"use strict";var s=i(91945),n=i(86089),r=i(40701);t.exports=function(t){return r(t)||s(t)||n(t)}},40701:function(t){"use strict";t.exports=function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}},91945:function(t){"use strict";t.exports=function(t){return null!==/^rgb\(\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*\)$/.exec(t)}},86089:function(t){"use strict";t.exports=function(t){return null!==/^rgba\(\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5]),\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.exec(t)}},22016:function(t,e,i){"use strict";var r=i(40701),o=i(55324),a=i(36091);t.exports=function(t,e,i){t=r(t)?o(t):t,e=r(e)?o(e):e,t=a(t),e=a(e);var s=t.r+(e.r-t.r)*i,n=t.g+(e.g-t.g)*i,e=t.b+(e.b-t.b)*i;return"rgb("+Math.round(s)+", "+Math.round(n)+", "+Math.round(e)+")"}},72039:function(t,e,i){"use strict";var s=i(36091);t.exports=function(t){t=s(t);return[t.r,t.g,t.b]}},79531:function(t,e,i){"use strict";var s=i(20980),n=i(72039),r=i(83255);t.exports=function(t){t=r.apply(this,n(t));return s(t)}},83255:function(t){"use strict";t.exports=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)}},76994:function(t){"use strict";t.exports=function(t,e,i){if(3!==arguments.length)return!1;t/=255,e/=255,i/=255;var s,n,r=Math.max(t,e,i),o=Math.min(t,e,i),a=r+o,h=r-o,u=a/2;if(r===o)s=n=0;else{switch(n=.5<u?h/(2-r-o):h/a,r){case t:s=(e-i)/h;break;case e:s=2+(i-t)/h;break;case i:s=4+(t-e)/h}(s*=60)<0&&(s+=360)}return[s,Math.round(100*n),Math.round(100*u)]}},31509:function(t){"use strict";t.exports=function(t,e,i){if(3!==arguments.length)return!1;var s,n=t/255,r=e/255,o=i/255,t=Math.max(n,r,o),e=Math.min(n,r,o),i=t,a=t-e,h=0===t?0:a/t;if(t===e)s=0;else{switch(t){case n:s=(r-o)/a+(r<o?6:0);break;case r:s=(o-n)/a+2;break;case o:s=(n-r)/a+4}s/=6}return[Math.round(360*s),Math.round(100*h),Math.round(100*i)]}},36091:function(t){"use strict";t.exports=function(t){t=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/.exec(t);return{r:Number(t[1]),g:Number(t[2]),b:Number(t[3])}}},10065:function(t,e,i){"use strict";var s=i(18744);t.exports=function(t){t=s(t);return[t.r,t.g,t.b,t.a]}},18744:function(t){"use strict";t.exports=function(t){t=/rgba\(\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(0(\.\d+)?|1(\.0+)?)\s*\)/.exec(t);return{r:Number(t[1]),g:Number(t[2]),b:Number(t[3]),a:Number(t[4])}}},72292:function(t){"use strict";t.exports=function(t){return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,s){return"#"+e+e+i+i+s+s})}},70037:function(t,e,i){"use strict";t.exports={DOMEmitter:i(22051)}},22051:function(t,e,i){"use strict";var s=i(71970).EventEmitter,r=i(25352),o={addEventListener:i(14811),removeEventListener:i(58604),dispatchEvent:i(46924)},a={querySelectorAll:i(78759),matchesSelector:i(10387)};function n(t){null!==t&&(this.el=t,this._bindings={},this._delegateFuncs={},this._eventEmitter=new s)}(i=n.prototype).on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},i.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},i.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},i.has=function(t,e,i,s){var n,r;return"string"==typeof e?(n=e,r=i):(r=e,s=i),n?-1<this._getDelegateFuncBindingIdx(t,n,r,s,!0):!(!this._eventEmitter||!this._eventEmitter.has.apply(this._eventEmitter,arguments))},i.trigger=function(t,e,i,s){t=this._parseEventNames(t);var n,r,o,a=(t=this._cleanStringData(t)).length;for("string"==typeof e?(n=this._cleanStringData(e),r=i):(r=e,0),o=0;o<a;o++)this._triggerDOMEvents(t[o],r,n);return this},i.emitterTrigger=function(t,e,i){if(this._eventEmitter){t=this._parseEventNames(t),t=this._cleanStringData(t),e=new r(e,this);for(var s=t.length,n=0;n<s;n++)this._eventEmitter.trigger(t[n],e,i)}return this},i.propagateTo=function(t,e){return this._eventEmitter.propagateTo(t,e),this},i.stopPropagatingTo=function(t){return this._eventEmitter.stopPropagatingTo(t),this},i.stopImmediatePropagation=function(){return this._eventEmitter.stopImmediatePropagation(),this},i.destroy=function(){for(var t in this._triggerInternalEvent("willdestroy"),this.off(),this)this.hasOwnProperty(t)&&(this[t]=null)},i._parseEventNames=function(t){return t?t.split(" "):[t]},i._onListenerEvent=function(t,e){e=new r(e,this);this._eventEmitter.trigger(t,e,!1)},i._setListener=function(t){this._bindings[t]=this._onListenerEvent.bind(this,t),o.addEventListener(this.el,t,this._bindings[t])},i._removeListener=function(t){o.removeEventListener(this.el,t,this._bindings[t]),this._bindings[t]=null},i._triggerInternalEvent=function(t,e){this.emitterTrigger("dom-emitter:"+t,e)},i._normalizeArgumentsAndCall=function(t,e){var i={};if(0===t.length)e.call(this,i);else if("string"==typeof t[0]||null===t[0])t=this._cleanStringData(t),i.events=t[0],"string"==typeof t[1]?(i.delegateQuery=t[1],i.callback=t[2],i.context=t[3]):(i.callback=t[1],i.context=t[2]),e.call(this,i);else{var s,n,r=t[0];for(s in r)r.hasOwnProperty(s)&&(i={},n=this._cleanStringData(s.split(":")),i.events=n[0],i.delegateQuery=n[1],i.callback=r[s],i.context=t[1],e.call(this,i))}},i._registerDelegateFunc=function(t,e,i,s,n){i=this._delegateFunc.bind(this,t,e,i,n);return this._delegateFuncs[e]=this._delegateFuncs[e]||{},this._delegateFuncs[e][t]=this._delegateFuncs[e][t]||[],this._delegateFuncs[e][t].push({func:s,context:n,delegateFunc:i}),i},i._cleanStringData=function(t){for(var e,i,s=!1,n=("string"==typeof t&&(t=[t],s=!0),[]),r=t.length,o=0;o<r;o++){if("string"==typeof(e=t[o])){if(""===e||" "===e)continue;for(i=e.length;" "===e[0];)e=e.slice(1,i),i--;for(;" "===e[i-1];)e=e.slice(0,i-1),i--}n.push(e)}return s?n[0]:n},i._unregisterDelegateFunc=function(t,e,i,s){var n;if(this._delegateFuncs[e]&&this._delegateFuncs[e][t])return-1<(i=this._getDelegateFuncBindingIdx(t,e,i,s))&&(n=this._delegateFuncs[e][t][i].delegateFunc,this._delegateFuncs[e][t].splice(i,1),0===this._delegateFuncs[e][t].length&&(this._delegateFuncs[e][t]=null)),n},i._unregisterDelegateFuncs=function(t,e){if(this._delegateFuncs[e]&&(null===t||this._delegateFuncs[e][t]))if(null===t)for(var i in this._delegateFuncs[e])this._delegateFuncs[e].hasOwnProperty(i)&&this._unbindDelegateFunc(i,e);else this._unbindDelegateFunc(t,e)},i._unbindDelegateFunc=function(t,e){for(var i,s,n=0;this._delegateFuncs[e][t]&&this._delegateFuncs[e][t][n];)i=this._delegateFuncs[e][t][n],s=this._delegateFuncs[e][t][n].length,this._off({events:t,delegateQuery:e,callback:i.func,context:i.context}),this._delegateFuncs[e][t]&&s===this._delegateFuncs[e][t].length&&n++},i._unregisterDelegateFuncsByEvent=function(t){for(var e in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(e)&&this._unregisterDelegateFuncs(t,e)},i._delegateFunc=function(t,e,i,s,n){this._targetHasDelegateAncestor(n.target,e)&&(e=(e=Array.prototype.slice.call(arguments,0)).slice(4,e.length),s=s||window,"object"==typeof n.detail&&(e[0]=n.detail),i.apply(s,e))},i._targetHasDelegateAncestor=function(t,e){for(var i=t;i&&i!==this.el&&i!==document.documentElement;){if(a.matchesSelector(i,e))return!0;i=i.parentNode}return!1},i._on=function(t){var e=t.events,i=t.callback,s=t.delegateQuery,n=t.context,t=t.unboundCallback||i;(e=this._parseEventNames(e)).forEach(function(t,e,i,s,n){this.has(n)||this._setListener(n),"string"==typeof s&&(t=this._registerDelegateFunc(n,s,t,e,i)),this._triggerInternalEvent("willon",{evt:n,callback:t,context:i,delegateQuery:s}),this._eventEmitter.on(n,t,i),this._triggerInternalEvent("didon",{evt:n,callback:t,context:i,delegateQuery:s})}.bind(this,i,t,n,s))},i._off=function(t){var e,i=t.events,s=t.callback,n=t.delegateQuery,r=t.context,t=t.unboundCallback||s;if(void 0===i){for(e in this._eventEmitter.off(),this._bindings)this._bindings.hasOwnProperty(e)&&this._removeListener(e);for(e in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(e)&&(this._delegateFuncs[e]=null)}else(i=this._parseEventNames(i)).forEach(function(t,e,i,s,n){"string"==typeof s&&"function"==typeof e&&!(t=this._unregisterDelegateFunc(n,s,e,i))||("string"==typeof s&&void 0===t?this._unregisterDelegateFuncs(n,s):"string"==typeof n&&void 0===t&&(this._unregisterDelegateFuncsByEvent(n),"string"==typeof s)||(this._triggerInternalEvent("willoff",{evt:n,callback:t,context:i,delegateQuery:s}),this._eventEmitter.off(n,t,i),this._triggerInternalEvent("didoff",{evt:n,callback:t,context:i,delegateQuery:s}),this.has(n)||this._removeListener(n)))}.bind(this,s,t,r,n))},i._once=function(t){var e=t.events,i=t.callback,s=t.delegateQuery,t=t.context;(e=this._parseEventNames(e)).forEach(function(t,e,i,s){if("string"==typeof i)return this._handleDelegateOnce(s,t,e,i);this.has(s)||this._setListener(s),this._triggerInternalEvent("willonce",{evt:s,callback:t,context:e,delegateQuery:i}),this._eventEmitter.once.call(this,s,t,e),this._triggerInternalEvent("didonce",{evt:s,callback:t,context:e,delegateQuery:i})}.bind(this,i,t,s))},i._handleDelegateOnce=function(t,e,i,s){return this._triggerInternalEvent("willonce",{evt:t,callback:e,context:i,delegateQuery:s}),this._on({events:t,context:i,delegateQuery:s,callback:this._getDelegateOnceCallback.bind(this,t,e,i,s),unboundCallback:e}),this._triggerInternalEvent("didonce",{evt:t,callback:e,context:i,delegateQuery:s}),this},i._getDelegateOnceCallback=function(t,e,i,s){var n=Array.prototype.slice.call(arguments,0),n=n.slice(4,n.length);e.apply(i,n),this._off({events:t,delegateQuery:s,callback:e,context:i})},i._getDelegateFuncBindingIdx=function(t,e,i,s,n){var r=-1;if(this._delegateFuncs[e]&&this._delegateFuncs[e][t])for(var o,a=this._delegateFuncs[e][t].length,h=0;h<a;h++)if(o=this._delegateFuncs[e][t][h],n&&void 0===i&&(i=o.func),o.func===i&&o.context===s){r=h;break}return r},i._triggerDOMEvents=function(t,e,i){for(var s=[this.el],n=(s=i?a.querySelectorAll(i,this.el):s).length,r=0;r<n;r++)o.dispatchEvent(s[r],t,{bubbles:!0,cancelable:!0,detail:e})},t.exports=n},25352:function(t,e,i){"use strict";function s(t,e){this._domEmitter=e,this.originalEvent=t||{},this._originalTarget=n.target(this.originalEvent),this.target=this._originalTarget||this._domEmitter.el,this.currentTarget=this._domEmitter.el,this.timeStamp=this.originalEvent.timeStamp||Date.now(),this._isDOMEvent(this.originalEvent)?"object"==typeof this.originalEvent.detail&&(this.data=this.originalEvent.detail):t&&(this.data=this.originalEvent,this.originalEvent={})}var n={preventDefault:i(99307),stopPropagation:i(57636),target:i(56240)},i=s.prototype;i.preventDefault=function(){n.preventDefault(this.originalEvent)},i.stopPropagation=function(){n.stopPropagation(this.originalEvent)},i.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this._domEmitter.stopImmediatePropagation()},i._isDOMEvent=function(t){return!!(this._originalTarget||"undefined"!==document.createEvent&&"undefined"!=typeof CustomEvent&&t instanceof CustomEvent)},t.exports=s},14811:function(t,e,i){"use strict";var n=i(41678),r=i(56361);t.exports=function(t,e,i,s){return e=r(t,e),n(t,e,i,s)}},46924:function(t,e,i){"use strict";var s=i(54760),n=i(56361);t.exports=function(t,e,i){return e=n(t,e),s(t,e,i)}},99307:function(t){"use strict";t.exports=function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}},58604:function(t,e,i){"use strict";var n=i(37381),r=i(56361);t.exports=function(t,e,i,s){return e=r(t,e),n(t,e,i,s)}},56361:function(t,e,i){"use strict";var s=i(34972);t.exports=function(t,e){t="tagName"in t?t.tagName:t===window?"window":"document",t=s(e,t);return t||e}},57636:function(t){"use strict";t.exports=function(t){(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0}},56240:function(t){"use strict";t.exports=function(t){return void 0!==(t=t||window.event).target?t.target:t.srcElement}},41678:function(t){"use strict";t.exports=function(t,e,i,s){return t.addEventListener?t.addEventListener(e,i,!!s):t.attachEvent("on"+e,i),t}},54760:function(t,e,i){"use strict";i(68493),t.exports=function(t,e,i){var s;return t.dispatchEvent?(s=i?new CustomEvent(e,i):new CustomEvent(e),t.dispatchEvent(s)):(s=document.createEventObject(),i&&"detail"in i&&(s.detail=i.detail),t.fireEvent("on"+e,s)),t}},37381:function(t){"use strict";t.exports=function(t,e,i,s){return t.removeEventListener?t.removeEventListener(e,i,!!s):t.detachEvent("on"+e,i),t}},41135:function(t){"use strict";t.exports=function(t,e){return e?{width:(e=t.getBoundingClientRect()).width,height:e.height}:{width:t.offsetWidth,height:t.offsetHeight}}},99534:function(t,e,i){"use strict";var r=i(41135),o=i(59456),a=i(88708);t.exports=function(t,e){var i,s,n;if(e)return i=t.getBoundingClientRect(),s=o(),n=a(),{top:i.top+n,right:i.right+s,bottom:i.bottom+n,left:i.left+s};for(n=r(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:n.width,height:n.height};t=t.offsetParent;)i.top+=t.offsetTop,i.left+=t.offsetLeft;return{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},75730:function(t,e,i){"use strict";var s=i(41135),n=i(99796);t.exports=function(t,e){return n(t,e)/s(t,e).height}},99796:function(t,e,i){"use strict";var s=i(43279);t.exports=function(t,e){var i=window.innerHeight,t=s(t,e);return t.top>=i||t.bottom<=0?0:(e=t.bottom-t.top,t.top<0&&(e+=t.top),t.bottom>i&&(e-=t.bottom-i),e)}},59456:function(t){"use strict";t.exports=function(t){return(t=t||window)===window?window.scrollX||window.pageXOffset:t.scrollLeft}},88708:function(t){"use strict";t.exports=function(t){return(t=t||window)===window?window.scrollY||window.pageYOffset:t.scrollTop}},43279:function(t,e,i){"use strict";var s=i(99534),n=i(59456),r=i(88708);t.exports=function(t,e){var i;return e?{top:(i=t.getBoundingClientRect()).top,right:i.right,bottom:i.bottom,left:i.left}:(i=s(t),e=n(),t=r(),{top:i.top-t,right:i.right-e,bottom:i.bottom-t,left:i.left-e})}},22083:function(t,e,i){"use strict";var s=i(99796),n=i(75730);t.exports=function(t,e,i){return 0<(t=("string"==typeof(i=i||0)&&"px"===i.slice(-2)?(i=parseInt(i,10),s):n)(t,e))&&i<=t}},58326:function(t){"use strict";t.exports=8},84068:function(t){"use strict";t.exports=11},67780:function(t){"use strict";t.exports=9},75619:function(t){"use strict";t.exports=10},81366:function(t){"use strict";t.exports=1},66536:function(t){"use strict";t.exports=3},33333:function(t,e,i){"use strict";t.exports={createDocumentFragment:i(17242),filterByNodeType:i(8461),hasAttribute:i(18738),indexOf:i(81526),insertAfter:i(18712),insertBefore:i(96236),insertFirstChild:i(77933),insertLastChild:i(28311),isComment:i(74951),isDocument:i(18248),isDocumentFragment:i(12685),isDocumentType:i(373),isElement:i(61425),isNode:i(80044),isNodeList:i(67900),isTextNode:i(88072),remove:i(73551),replace:i(49087),COMMENT_NODE:i(58326),DOCUMENT_FRAGMENT_NODE:i(84068),DOCUMENT_NODE:i(67780),DOCUMENT_TYPE_NODE:i(75619),ELEMENT_NODE:i(81366),TEXT_NODE:i(66536)}},17242:function(t){"use strict";t.exports=function(t){var e,i=document.createDocumentFragment();if(t)for((e=document.createElement("div")).innerHTML=t;e.firstChild;)i.appendChild(e.firstChild);return i}},8461:function(t,e,i){"use strict";i(86847),i(15457);var s=i(48054),n=i(81366);t.exports=function(t,e){return e=e||n,(t=Array.prototype.slice.call(t)).filter(function(t){return s(t,e)})}},18738:function(t){"use strict";t.exports=function(t,e){return"hasAttribute"in t?t.hasAttribute(e):null!==t.attributes.getNamedItem(e)}},81526:function(t,e,i){"use strict";i(30692),i(86847);i(71728);var s=i(8461);t.exports=function(t,e){var i=t.parentNode;return i?(i=i.childNodes,(i=!1!==e?s(i,e):Array.prototype.slice.call(i)).indexOf(t)):0}},18712:function(t,e,i){"use strict";var s=i(71728);t.exports=function(t,e){return s.insertNode(t,!0,"insertAfter"),s.childNode(e,!0,"insertAfter"),s.hasParentNode(e,"insertAfter"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}},96236:function(t,e,i){"use strict";var s=i(71728);t.exports=function(t,e){return s.insertNode(t,!0,"insertBefore"),s.childNode(e,!0,"insertBefore"),s.hasParentNode(e,"insertBefore"),e.parentNode.insertBefore(t,e)}},77933:function(t,e,i){"use strict";var s=i(71728);t.exports=function(t,e){return s.insertNode(t,!0,"insertFirstChild"),s.parentNode(e,!0,"insertFirstChild"),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}},28311:function(t,e,i){"use strict";var s=i(71728);t.exports=function(t,e){return s.insertNode(t,!0,"insertLastChild"),s.parentNode(e,!0,"insertLastChild"),e.appendChild(t)}},48054:function(t,e,i){"use strict";var s=i(80044);t.exports=function(t,e){return!!s(t)&&("number"==typeof e?t.nodeType===e:-1!==e.indexOf(t.nodeType))}},71728:function(t,e,i){"use strict";var n=i(48054),s=i(58326),r=i(84068),o=i(81366),i=i(66536),a=[o,i,s,r],h=[o,i,s],u=[o,r];t.exports={parentNode:function(t,e,i,s){if(s=s||"target",(t||e)&&!n(t,u))throw new TypeError(i+": "+s+" must be an Element, or Document Fragment")},childNode:function(t,e,i,s){if(s=s||"target",(t||e)&&!n(t,h))throw new TypeError(i+": "+s+" must be an Element, TextNode, or Comment")},insertNode:function(t,e,i,s){if(s=s||"node",(t||e)&&!n(t,a))throw new TypeError(i+": "+s+" must be an Element, TextNode, Comment, or Document Fragment")},hasParentNode:function(t,e,i){if(i=i||"target",!t.parentNode)throw new TypeError(e+": "+i+" must have a parentNode")}}},74951:function(t,e,i){"use strict";var s=i(48054),n=i(58326);t.exports=function(t){return s(t,n)}},18248:function(t,e,i){"use strict";var s=i(48054),n=i(67780);t.exports=function(t){return s(t,n)}},12685:function(t,e,i){"use strict";var s=i(48054),n=i(84068);t.exports=function(t){return s(t,n)}},373:function(t,e,i){"use strict";var s=i(48054),n=i(75619);t.exports=function(t){return s(t,n)}},61425:function(t,e,i){"use strict";var s=i(48054),n=i(81366);t.exports=function(t){return s(t,n)}},80044:function(t){"use strict";t.exports=function(t){return!(!t||!t.nodeType)}},67900:function(t){"use strict";var e=/^\[object (HTMLCollection|NodeList|Object)\]$/;t.exports=function(t){return!!t&&("number"==typeof t.length&&(!!("object"!=typeof t[0]||t[0]&&t[0].nodeType)&&e.test(Object.prototype.toString.call(t))))}},88072:function(t,e,i){"use strict";var s=i(48054),n=i(66536);t.exports=function(t){return s(t,n)}},73551:function(t,e,i){"use strict";var s=i(71728);t.exports=function(t){return s.childNode(t,!0,"remove"),t.parentNode?t.parentNode.removeChild(t):t}},49087:function(t,e,i){"use strict";var s=i(71728);t.exports=function(t,e){return s.insertNode(t,!0,"insertFirstChild","newNode"),s.childNode(e,!0,"insertFirstChild","oldNode"),s.hasParentNode(e,"insertFirstChild","oldNode"),e.parentNode.replaceChild(t,e)}},21873:function(t,e,i){"use strict";t.exports={getStyle:i(26219),setStyle:i(20218)}},26219:function(t,e,i){"use strict";var h=i(1286),u=i(59981);t.exports=function(){var t,e,i,s,n=Array.prototype.slice.call(arguments),r=n.shift(n),o=window.getComputedStyle(r),a={};for("string"!=typeof n[0]&&(n=n[0]),s=0;s<n.length;s++)t=n[s],i=(e=h(t))?(t=u(e),(i=(i=o[e])&&"auto"!==i?i:null)&&u(i)):null,a[t]=i;return a}},59800:function(t){"use strict";t.exports=function(t){var e,i,s;if(!t&&0!==t)return"";if(Array.isArray(t))return t+"";if("object"!=typeof t)return t;for(e="",i=Object.keys(t),s=0;s<i.length;s++)e+=i[s]+"("+t[i[s]]+") ";return e.trim()}},20218:function(t,e,i){"use strict";var o=i(34428),a=i(1286),h=i(59800);t.exports=function(t,e){var i,s,n,r="";if("object"!=typeof e)throw new TypeError("setStyle: styles must be an Object");for(i in e)(s=h(e[i]))||0===s?!1!==(s=o(i,s))&&(r+=" "+s):(s=a(i),"removeAttribute"in t.style?t.style.removeAttribute(s):t.style[s]="");return r.length&&(";"!==(n=t.style.cssText).charAt(n.length-1)&&(n+=";"),t.style.cssText=n+=r),t}},87383:function(t,e,i){"use strict";var r=i(61425),o=i(10387),a=i(14711);t.exports=function(t,e,i,s){var n=[];if(a.childNode(t,!0,"ancestors"),a.selector(e,!1,"ancestors"),i&&r(t)&&(!e||o(t,e))&&n.push(t),t!==(s=s||document.body))for(;(t=t.parentNode)&&r(t)&&(e&&!o(t,e)||n.push(t),t!==s););return n}},55923:function(t){"use strict";t.exports=window.Element?(t=Element.prototype).matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector:null},14711:function(t,e,i){"use strict";i(30692);function n(t,e){return!!s(t)&&("number"==typeof e?t.nodeType===e:-1!==e.indexOf(t.nodeType))}var s=i(80044),r=i(58326),o=i(84068),a=i(67780),h=i(81366),i=i(66536),u=[h,a,o],l=[h,i,r];t.exports={parentNode:function(t,e,i,s){if(s=s||"node",(t||e)&&!n(t,u))throw new TypeError(i+": "+s+" must be an Element, Document, or Document Fragment")},childNode:function(t,e,i,s){if(s=s||"node",(t||e)&&!n(t,l))throw new TypeError(i+": "+s+" must be an Element, TextNode, or Comment")},selector:function(t,e,i,s){if(s=s||"selector",(t||e)&&"string"!=typeof t)throw new TypeError(i+": "+s+" must be a string")}}},10387:function(t,e,i){"use strict";var s=i(61425),n=i(14711),r=i(55923),o=i(55446);t.exports=function(t,e){return n.selector(e,!0,"matchesSelector"),!!s(t)&&(r?r.call(t,e):o(t,e))}},78759:function(t,e,i){"use strict";i(86847);var s=i(14711),n=i(27039),r="querySelectorAll"in document;t.exports=function(t,e){return e=e||document,s.parentNode(e,!0,"querySelectorAll","context"),s.selector(t,!0,"querySelectorAll"),r?Array.prototype.slice.call(e.querySelectorAll(t)):n(t,e)}},55446:function(t,e,i){"use strict";var r=i(78759);t.exports=function(t,e){for(var i=t.parentNode||document,s=r(e,i),n=0;n<s.length;n++)if(s[n]===t)return!0;return!1}},27039:function(t,e,i){"use strict";i(30692);function o(t){("recalc"in t?t:document).recalc(!1),window.scrollBy(0,0)}var a=i(61425),h=i(12685),u=i(73551);t.exports=function(t,e){var i,s=document.createElement("style"),n="_ac_qsa_"+(Math.random()+"").slice(-6),r=[];for(e=e||document,document[n]=[],(h(e)?e:document.documentElement.firstChild).appendChild(s),s.styleSheet.cssText="*{display:recalc;}"+t+'{ac-qsa:expression(document["'+n+'"] && document["'+n+'"].push(this));}',o(e);document[n].length;)(i=document[n].shift()).style.removeAttribute("ac-qsa"),-1===r.indexOf(i)&&function(t,e){var i;if(e===document)return!0;for(i=t;(i=i.parentNode)&&a(i);)if(i===e)return!0;return!1}(i,e)&&r.push(i);return document[n]=null,u(s),o(e),r}},87270:function(t,e,i){"use strict";t.exports={createBezier:i(5067),createPredefined:i(99722),createStep:i(56724),Ease:i(82313)}},82313:function(t){"use strict";function e(t,e){if("function"!=typeof t)throw new TypeError("Ease expects an easing function.");this.easingFunction=t,this.cssString=e||null}e.prototype.getValue=function(t){return this.easingFunction(t,0,1,1)},t.exports=e},5067:function(t,e,i){"use strict";i(66190);var a=i(82313),h=i(63762);t.exports=function(t,e,i,s){var n,r=Array.prototype.slice.call(arguments),o=r.every(function(t){return"number"==typeof t});if(4===r.length&&o)return n=new h(t,e,i,s),o="cubic-bezier("+r.join(", ")+")",new a(function(t,e,i,s){return n.get(t/s)*i+e},o);throw new TypeError("Bezier curve expects exactly four (4) numbers. Given: "+r)}},99722:function(t,e,i){"use strict";var s=i(56724),n=i(48255),r=i(29494),o=i(82313),a='Easing function "%TYPE%" not recognized among the following: '+Object.keys(r).join(", ");t.exports=function(t){var e;if("step-start"===t)return s(1,"start");if("step-end"===t)return s(1,"end");if(e=r[t])return new o(e,n[t]);throw new Error(a.replace("%TYPE%",t))}},56724:function(t,e,i){"use strict";var s=i(82313);t.exports=function(n,r){if(r=r||"end","number"!=typeof n||n<1)throw new TypeError("Step function expects a numeric value greater than zero. Given: "+n);if("start"!==r&&"end"!==r)throw new TypeError('Step function direction must be either "start" or "end" (default). Given: '+r);return new s(function(t,e,i,s){return e+i/n*Math["start"===r?"floor":"ceil"](t/s*n)},"steps("+n+", "+r+")")}},63762:function(t){t.exports=
/*! MIT License
 *
 * KeySpline - use bezier curve for transition easing function
 * Copyright (c) 2012 Gaetan Renaudeau <renaudeau.gaetan@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */
function(r,e,o,i){function a(t,e){return 1-3*e+3*t}function h(t,e,i){return((a(e,i)*t+(3*i-6*e))*t+3*e)*t}this.get=function(t){return r===e&&o===i?t:h(function(t){for(var e=t,i=0;i<4;++i){var s=function(t,e,i){return 3*a(e,i)*t*t+2*(3*i-6*e)*t+3*e}(e,r,o);if(0===s)return e;var n=h(e,r,o)-t;e-=n/s}return e}(t),e,i)}}},48255:function(t){"use strict";var e={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","ease-out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","ease-in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","ease-out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","ease-in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","ease-in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","ease-out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","ease-in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","ease-in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","ease-out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","ease-in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","ease-in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","ease-out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","ease-in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","ease-in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","ease-out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","ease-in-out-expo":"cubic-bezier(1, 0, 0, 1)","ease-in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","ease-out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","ease-in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","ease-in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"};e.easeIn=e["ease-in"],e.easeOut=e["ease-out"],e.easeInOut=e["ease-in-out"],e.easeInCubic=e["ease-in-cubic"],e.easeOutCubic=e["ease-out-cubic"],e.easeInOutCubic=e["ease-in-out-cubic"],e.easeInQuad=e["ease-in-quad"],e.easeOutQuad=e["ease-out-quad"],e.easeInOutQuad=e["ease-in-out-quad"],e.easeInQuart=e["ease-in-quart"],e.easeOutQuart=e["ease-out-quart"],e.easeInOutQuart=e["ease-in-out-quart"],e.easeInQuint=e["ease-in-quint"],e.easeOutQuint=e["ease-out-quint"],e.easeInOutQuint=e["ease-in-out-quint"],e.easeInSine=e["ease-in-sine"],e.easeOutSine=e["ease-out-sine"],e.easeInOutSine=e["ease-in-out-sine"],e.easeInExpo=e["ease-in-expo"],e.easeOutExpo=e["ease-out-expo"],e.easeInOutExpo=e["ease-in-out-expo"],e.easeInCirc=e["ease-in-circ"],e.easeOutCirc=e["ease-out-circ"],e.easeInOutCirc=e["ease-in-out-circ"],e.easeInBack=e["ease-in-back"],e.easeOutBack=e["ease-out-back"],e.easeInOutBack=e["ease-in-out-back"],t.exports=e},29494:function(t,L,e){"use strict";function i(t,e,i,s){return i*(t/=s)*t+e}function s(t,e,i,s){return-i*(t/=s)*(t-2)+e}function n(t,e,i,s){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function r(t,e,i,s){return i*(t/=s)*t*t+e}function o(t,e,i,s){return i*((t=t/s-1)*t*t+1)+e}function a(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function h(t,e,i,s){return i*(t/=s)*t*t*t+e}function u(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e}function l(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}function c(t,e,i,s){return i*(t/=s)*t*t*t*t+e}function d(t,e,i,s){return i*((t=t/s-1)*t*t*t*t+1)+e}function p(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}function m(t,e,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+e}function f(t,e,i,s){return i*Math.sin(t/s*(Math.PI/2))+e}function _(t,e,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+e}function g(t,e,i,s){return 0===t?e:i*Math.pow(2,10*(t/s-1))+e}function b(t,e,i,s){return t===s?e+i:i*(1-Math.pow(2,-10*t/s))+e}function y(t,e,i,s){return 0===t?e:t===s?e+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e}function v(t,e,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+e}function E(t,e,i,s){return i*Math.sqrt(1-(t=t/s-1)*t)+e}function w(t,e,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}function x(t,e,i,s){var n=1.70158,r=0,o=i;return 0===t?e:1==(t/=s)?e+i:(r=r||.3*s,n=o<Math.abs(i)?(o=i,r/4):r/(2*Math.PI)*Math.asin(i/o),-(o*Math.pow(2,10*--t)*Math.sin((t*s-n)*(2*Math.PI)/r))+e)}function S(t,e,i,s){var n=1.70158,r=0,o=i;return 0===t?e:1==(t/=s)?e+i:(r=r||.3*s,n=o<Math.abs(i)?(o=i,r/4):r/(2*Math.PI)*Math.asin(i/o),o*Math.pow(2,-10*t)*Math.sin((t*s-n)*(2*Math.PI)/r)+i+e)}function C(t,e,i,s){var n=1.70158,r=0,o=i;return 0===t?e:2==(t/=s/2)?e+i:(r=r||s*(.3*1.5),n=o<Math.abs(i)?(o=i,r/4):r/(2*Math.PI)*Math.asin(i/o),t<1?o*Math.pow(2,10*--t)*Math.sin((t*s-n)*(2*Math.PI)/r)*-.5+e:o*Math.pow(2,-10*--t)*Math.sin((t*s-n)*(2*Math.PI)/r)*.5+i+e)}function T(t,e,i,s,n){return i*(t/=s)*t*(((n=void 0===n?1.70158:n)+1)*t-n)+e}function A(t,e,i,s,n){return i*((t=t/s-1)*t*(((n=void 0===n?1.70158:n)+1)*t+n)+1)+e}function P(t,e,i,s,n){return void 0===n&&(n=1.70158),(t/=s/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e}function I(t,e,i,s){return(t/=s)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}function F(t,e,i,s){return i-I(s-t,0,i,s)+e}function O(t,e,i,s){return t<s/2?.5*F(2*t,0,i,s)+e:.5*I(2*t-s,0,i,s)+.5*i+e}var e=e(5067),D=e(.25,.1,.25,1).easingFunction,k=e(.42,0,1,1).easingFunction,R=e(0,0,.58,1).easingFunction,e=e(.42,0,.58,1).easingFunction;t.exports={linear:function(t,e,i,s){return i*t/s+e},ease:D,easeIn:k,"ease-in":k,easeOut:R,"ease-out":R,easeInOut:e,"ease-in-out":e,easeInCubic:r,"ease-in-cubic":r,easeOutCubic:o,"ease-out-cubic":o,easeInOutCubic:a,"ease-in-out-cubic":a,easeInQuad:i,"ease-in-quad":i,easeOutQuad:s,"ease-out-quad":s,easeInOutQuad:n,"ease-in-out-quad":n,easeInQuart:h,"ease-in-quart":h,easeOutQuart:u,"ease-out-quart":u,easeInOutQuart:l,"ease-in-out-quart":l,easeInQuint:c,"ease-in-quint":c,easeOutQuint:d,"ease-out-quint":d,easeInOutQuint:p,"ease-in-out-quint":p,easeInSine:m,"ease-in-sine":m,easeOutSine:f,"ease-out-sine":f,easeInOutSine:_,"ease-in-out-sine":_,easeInExpo:g,"ease-in-expo":g,easeOutExpo:b,"ease-out-expo":b,easeInOutExpo:y,"ease-in-out-expo":y,easeInCirc:v,"ease-in-circ":v,easeOutCirc:E,"ease-out-circ":E,easeInOutCirc:w,"ease-in-out-circ":w,easeInBack:T,"ease-in-back":T,easeOutBack:A,"ease-out-back":A,easeInOutBack:P,"ease-in-out-back":P,easeInElastic:x,"ease-in-elastic":x,easeOutElastic:S,"ease-out-elastic":S,easeInOutElastic:C,"ease-in-out-elastic":C,easeInBounce:F,"ease-in-bounce":F,easeOutBounce:I,"ease-out-bounce":I,easeInOutBounce:O,"ease-in-out-bounce":O}},20078:function(t,e,i){"use strict";var s=i(53365);t.exports=function(t,e){return e?{width:(e=s(t)).width,height:e.height}:{width:t.offsetWidth,height:t.offsetHeight}}},53365:function(t){"use strict";t.exports=function(t){t=t.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}},46439:function(t,e,i){"use strict";i(22675);var s,n=i(84521),r=i(5533).Clip,o=i(15230),a=i(22875),h=i(38861);function u(t,e,i,s){return new(t.nodeType?void 0===n||s&&s.inlineStyles?a:h:o)(t,e,i,s)}for(s in r)"function"==typeof r[s]&&"_"!==s.substr(0,1)&&(u[s]=r[s].bind(r));u.to=function(t,e,i,s){return void 0===(s=s||{}).destroyOnComplete&&(s.destroyOnComplete=!0),new u(t,e,i,s).play()},u.from=function(t,e,i,s){return(s=s||{}).propsFrom=i,void 0===s.destroyOnComplete&&(s.destroyOnComplete=!0),new u(t,e,s.propsTo,s).play()},t.exports=u},32060:function(t,e,i){"use strict";t.exports=i(77587)},91638:function(t,e,i){"use strict";t.exports={Clip:i(46439),Timeline:i(32060)}},15230:function(t,e,i){"use strict";var h=i(70218),s=i(51082),u=i(87270).createPredefined,l=i(57089),c=i(47905),d=i(5533).Clip,p=i(87270).Ease;function n(t,e,i,s){s&&l(s.ease)&&(s.ease=c.create(s.ease).toEasingFunction()),this._propsEase=(s=s||{}).propsEase||{},d.call(this,t,e,i,s)}var m=d.prototype,i=n.prototype=s(m);i.reset=function(){var t=m.reset.call(this);if(this._clips)for(var e=this._clips.length;e--;)this._clips[e].reset();return t},i.destroy=function(){if(this._clips){for(var t=this._clips.length;t--;)this._clips[t].destroy();this._clips=null}return this._eases=null,this._storeOnUpdate=null,m.destroy.call(this)},i._prepareProperties=function(){var t,e,i=0,s={},n={},r={};if(this._propsEase){for(t in this._propsTo)this._propsTo.hasOwnProperty(t)&&(e=this._propsEase[t],void 0===(e=l(e)?c.create(e).toEasingFunction():e)?(void 0===s[this._ease]&&(s[this._ease]={},n[this._ease]={},r[this._ease]=this._ease.easingFunction,i++),s[this._ease][t]=this._propsTo[t],n[this._ease][t]=this._propsFrom[t]):"function"==typeof e?(s[i]={},n[i]={},s[i][t]=this._propsTo[t],n[i][t]=this._propsFrom[t],r[i]=e,i++):(void 0===s[e]&&(s[e]={},n[e]={},r[e]=e,i++),s[e][t]=this._propsTo[t],n[e][t]=this._propsFrom[t]));if(1<i){var o=h(this._options||{},!0),a=.001*this._duration;for(e in this._storeOnUpdate=this._onUpdate,this._onUpdate=this._onUpdateClips,o.onStart=null,o.onUpdate=null,o.onDraw=null,o.onComplete=null,this._clips=[],s)s.hasOwnProperty(e)&&(o.ease=r[e],o.propsFrom=n[e],this._clips.push(new d(this._target,a,s[e],o)));e="linear",this._propsTo={},this._propsFrom={}}else for(t in r)r.hasOwnProperty(t)&&(e=r[t]);void 0!==e&&(this._ease="function"==typeof e?new p(e):u(e))}return m._prepareProperties.call(this)},i._onUpdateClips=function(t){for(var e=1===this._direction?t.progress():1-t.progress(),i=this._clips.length;i--;)this._clips[i].progress(e);"function"==typeof this._storeOnUpdate&&this._storeOnUpdate.call(this,this)},t.exports=n},22875:function(t,e,i){"use strict";var s=i(20218),n=i(9481),r=i(32414),o=i(51082),a=i(64599),h=i(15230);function u(t,e,i,s){s=s||{},this._el=t,this._storeOnStart=s.onStart||null,this._storeOnDraw=s.onDraw||null,this._storeOnComplete=s.onComplete||null,s.onStart=this._onStart,s.onDraw=this._onDraw,s.onComplete=this._onComplete,h.call(this,{},e,i,s)}var l=h.prototype,i=u.prototype=o(l);i.play=function(){var t=l.play.call(this);return 0!==this._remainingDelay&&s(this._el,n(this._target)),t},i.reset=function(){var t=l.reset.call(this);return s(this._el,n(this._target)),t},i.destroy=function(){return this._el=null,this._completeStyles=null,this._storeOnStart=null,this._storeOnDraw=null,this._storeOnComplete=null,l.destroy.call(this)},i.target=function(){return this._el},i._prepareProperties=function(){var t=r(this._el,this._propsTo,this._propsFrom),t=(this._target=t.target,this._propsFrom=t.propsFrom,this._propsTo=t.propsTo,a(this._el,this._target),this._isYoyo?this._propsFrom:this._propsTo);if(this._completeStyles=n(t),void 0!==this._options.removeStylesOnComplete){var e,i=this._options.removeStylesOnComplete;if("boolean"==typeof i&&i)for(e in this._completeStyles)this._completeStyles.hasOwnProperty(e)&&(this._completeStyles[e]=null);else if("object"==typeof i&&i.length)for(var s=i.length;s--;)e=i[s],this._completeStyles.hasOwnProperty(e)&&(this._completeStyles[e]=null)}return l._prepareProperties.call(this)},i._onStart=function(t){this.playing()&&1===this._direction&&0===this._delay&&s(this._el,n(this._propsFrom)),"function"==typeof this._storeOnStart&&this._storeOnStart.call(this,this)},i._onDraw=function(t){s(this._el,n(this._target)),"function"==typeof this._storeOnDraw&&this._storeOnDraw.call(this,this)},i._onComplete=function(t){s(this._el,this._completeStyles),"function"==typeof this._storeOnComplete&&this._storeOnComplete.call(this,this)},t.exports=u},38861:function(t,e,i){"use strict";var r=i(20218),s=i(26219),o=i(9481),a=i(32414),n=i(70218),h=i(51082),u=i(87270).createPredefined,l=i(57089),c=i(64599),d=i(84521),p=i(4085),m=i(47905),f=i(5533).Clip,_=i(15230),g=i(37597).PageVisibilityManager,b="%EASE% is not a supported predefined ease when transitioning with Elements and CSS transition. If you need to use %EASE% then pass the inlineStyle:true option.",y="Function eases are not supported when using CSS transitions with Elements. Either use a cubic-bezier string (e.g. 'cubic-bezier(0, 0, 1, 1)' or pass the inlineStyle option as `true` to render styles each frame instead of using CSS transitions.";function v(t,e,i,s){if(s=s||{},this._el=t,this._storeEase=s.ease,"function"==typeof this._storeEase)throw new Error(y);this._storeOnStart=s.onStart||null,this._storeOnComplete=s.onComplete||null,s.onStart=this._onStart.bind(this),s.onComplete=this._onComplete.bind(this),this._stylesTo=n(i,!0),this._stylesFrom=s.propsFrom?n(s.propsFrom,!0):{},this._propsEase=s.propsEase?n(s.propsEase,!0):{},l(s.ease)&&(s.ease=m.create(s.ease).toEasingFunction()),f.call(this,{},e,{},s),this._propsFrom={}}var E=f.prototype,i=v.prototype=h(E);i.play=function(){var t=E.play.call(this);return 1===this._direction&&0===this.progress()&&0!==this._remainingDelay&&this._applyStyles(0,o(this._stylesFrom)),t},i.reset=function(){var t=E.reset.call(this);return this._stylesClip.reset(),this._applyStyles(0,o(this._styles)),t},i.destroy=function(){return g.off("changed",this._onVisibilityChanged),this._removeTransitionListener(),this.off("pause",this._onPaused),this._onPaused(),this._stylesClip.destroy(),this._stylesClip=null,this._el=null,this._propsArray=null,this._styles=null,this._stylesFrom=null,this._stylesTo=null,this._completeStyles=null,this._storeOnStart=null,this._storeOnComplete=null,this._onTransitionEnded=null,E.destroy.call(this)},i.target=function(){return this._el},i.duration=function(t){var e=E.duration.call(this,t);return void 0!==t&&this.playing()&&this.progress(this._progress),e},i.progress=function(t){var e=E.progress.call(this,t);return void 0!==t&&(t=1===this._direction?t:1-t,this._stylesClip.progress(t),this._applyStyles(0,o(this._styles)),this.playing()&&(this._isWaitingForStylesToBeApplied=!0,p(this._setStylesAfterWaiting,2))),e},i._prepareProperties=function(){var t,e,i=a(this._el,this._stylesTo,this._stylesFrom),s=(this._styles=i.target,this._stylesTo=i.propsTo,this._stylesFrom=i.propsFrom,this._storeEase||"ease");for(e in this._eases={},this._propsArray=[],this._styleCompleteTo=o(this._stylesTo),this._styleCompleteFrom=o(this._stylesFrom),this._propsEaseKeys={},this._stylesTo)this._stylesTo.hasOwnProperty(e)&&(this._propsArray[this._propsArray.length]=e,void 0===this._propsEase[e]?(void 0===this._eases[s]&&(t=this._convertEase(s),this._eases[s]=t.css),this._propsEaseKeys[e]=s):void 0===this._eases[this._propsEase[e]]?(t=this._convertEase(this._propsEase[e]),this._eases[this._propsEase[e]]=t.css,this._propsEaseKeys[e]=this._propsEase[e],this._propsEase[e]=t.js):l(this._propsEase[e])&&(this._propsEaseKeys[e]=this._propsEase[e],this._propsEase[e]=this._eases[this._propsEase[e]][1].toEasingFunction()));if(this._onPaused=this._onPaused.bind(this),this.on("pause",this._onPaused),this._setOtherTransitions(),this._currentTransitionStyles=this._otherTransitions,this._completeStyles=o(this._isYoyo?this._stylesFrom:this._stylesTo),void 0!==this._options.removeStylesOnComplete){var n=this._options.removeStylesOnComplete;if("boolean"==typeof n&&n)for(e in this._stylesTo)this._completeStyles[e]=null;else if("object"==typeof n&&n.length)for(var r=n.length;r--;)this._completeStyles[n[r]]=null}return this._onTransitionEnded=this._onTransitionEnded.bind(this),this._setStylesAfterWaiting=this._setStylesAfterWaiting.bind(this),this._onVisibilityChanged=this._onVisibilityChanged.bind(this),g.on(g.CHANGED,this._onVisibilityChanged),this._stylesClip=new _(this._styles,1,this._stylesTo,{ease:this._options.ease,propsFrom:this._stylesFrom,propsEase:this._options.propsEase}),f._remove(this._stylesClip),E._prepareProperties.call(this)},i._convertEase=function(t){if("function"==typeof t)throw new Error(y);var e,i;if(l(t))i=(e=m.create(t)).toEasingFunction();else{var s=u(t);if(null===s.cssString)throw new Error(b.replace(/%EASE%/g,t));e=m.create(s.cssString),i=t}return{css:{1:e,"-1":e.reversed()},js:i}},i._complete=function(){!this._isWaitingForStylesToBeApplied&&!this._isTransitionEnded&&this._isListeningForTransitionEnd||1!==this.progress()||(this._isWaitingForStylesToBeApplied=!1,E._complete.call(this))},i._onTransitionEnded=function(){this._isTransitionEnded=!0,this._complete()},i._addTransitionListener=function(){!this._isListeningForTransitionEnd&&this._el&&this._onTransitionEnded&&(this._isListeningForTransitionEnd=!0,this._isTransitionEnded=!1,this._el.addEventListener(d,this._onTransitionEnded))},i._removeTransitionListener=function(){this._isListeningForTransitionEnd&&this._el&&this._onTransitionEnded&&(this._isListeningForTransitionEnd=!1,this._isTransitionEnded=!1,this._el.removeEventListener(d,this._onTransitionEnded))},i._applyStyles=function(t,e){if(0<t){var i,s="",n={};for(i in this._eases)this._eases.hasOwnProperty(i)&&(n[i]=this._eases[i][this._direction].splitAt(this.progress()).toCSSString());for(i in this._stylesTo)this._stylesTo.hasOwnProperty(i)&&(s+=i+" "+t+"ms "+n[this._propsEaseKeys[i]]+" 0ms, ");this._currentTransitionStyles=s.substr(0,s.length-2),this._doStylesMatchCurrentStyles(e)?this._removeTransitionListener():this._addTransitionListener()}else this._currentTransitionStyles="",this._removeTransitionListener();e.transition=this._getOtherClipTransitionStyles()+this._currentTransitionStyles,r(this._el,e)},i._doStylesMatchCurrentStyles=function(t){var e,i=s.apply(this,[this._el].concat([this._propsArray]));for(e in t)if(t.hasOwnProperty(e)&&i.hasOwnProperty(e)&&t[e]!==i[e])return!1;return!0},i._setStylesAfterWaiting=function(){var t,e;this._isWaitingForStylesToBeApplied=!1,this.playing()&&(t=this._durationMs*(1-this.progress()),e=0<this._direction?this._styleCompleteTo:this._styleCompleteFrom,this._applyStyles(t,e))},i._setOtherTransitions=function(){c(this._el,this._stylesTo);for(var t=f.getAll(this._el),e=t.length;e--;)if(t[e]!==this&&t[e].playing()&&t[e]._otherTransitions&&t[e]._otherTransitions.length)return void(this._otherTransitions=t[e]._otherTransitions);this._otherTransitions=s(this._el,"transition").transition,null!==this._otherTransitions&&"all 0s ease 0s"!==this._otherTransitions||(this._otherTransitions="")},i._getTransitionStyles=function(){var t=this._getOtherClipTransitionStyles();return this._otherTransitions.length?t+=this._otherTransitions:t.length&&(t=t.substr(0,t.length-2)),t},i._getOtherClipTransitionStyles=function(){for(var t="",e=f.getAll(this._el),i=e.length;i--;)e[i]!==this&&e[i].playing()&&e[i]._currentTransitionStyles&&e[i]._currentTransitionStyles.length&&(t+=e[i]._currentTransitionStyles+", ");return t},i._onVisibilityChanged=function(t){this.playing()&&!t.isHidden&&(this._update({timeNow:this._getTime()}),(t=this.progress())<1&&this.progress(t))},i._onPaused=function(t){var e=s.apply(this,[this._el].concat([this._propsArray]));e.transition=this._getTransitionStyles(),this._removeTransitionListener(),r(this._el,e)},i._onStart=function(t){var e=1===this._direction&&0===this.progress()&&0===this._delay?2:0;e&&(this._isWaitingForStylesToBeApplied=!0,this._applyStyles(0,this._styleCompleteFrom)),p(this._setStylesAfterWaiting,e),"function"==typeof this._storeOnStart&&this._storeOnStart.call(this,this)},i._onComplete=function(t){this._removeTransitionListener(),this._completeStyles.transition=this._getTransitionStyles(),r(this._el,this._completeStyles),"function"==typeof this._storeOnComplete&&this._storeOnComplete.call(this,this)},t.exports=v},88907:function(t,e,i){"use strict";var s=i(87270).createBezier;function n(t,e){this.manager=e,this.p1={x:t[0],y:t[1]},this.p2={x:t[2],y:t[3]},this._isLinear=this.p1.x===this.p1.y&&this.p2.x===this.p2.y,this._cacheSplits={}}i=n.prototype;i.splitAt=function(t){if(this._isLinear)return this;if(0===(t=Math.round(40*t)/40))return this;if(void 0!==this._cacheSplits[t])return this._cacheSplits[t];for(var e=[this.p1.x,this.p2.x],i=[this.p1.y,this.p2.y],s=0,n=t,r=0,o=1,a=this._getStartX(t,e);n!==a&&s<1e3;)n<a?o=t:r=t,a=this._getStartX(t=r+.5*(o-r),e),++s;i=this._splitBezier(t,e,i),i=this._normalize(i),i=this.manager.create(i);return this._cacheSplits[n]=i},i.reversed=function(){var t=this.toArray();return this.manager.create([.5-(t[2]-.5),.5-(t[3]-.5),.5-(t[0]-.5),.5-(t[1]-.5)])},i.toArray=function(){return[this.p1.x,this.p1.y,this.p2.x,this.p2.y]},i.toCSSString=function(){return"cubic-bezier("+this.p1.x+", "+this.p1.y+", "+this.p2.x+", "+this.p2.y+")"},i.toEasingFunction=function(){return s.apply(this,this.toArray()).easingFunction},i._getStartX=function(t,e){var i=t-1,s=t*t;return s*t-3*s*i*e[1]+3*t*(i*i)*e[0]},i._splitBezier=function(t,e,i){var s=t-1,n=t*t,r=s*s,o=n*t;return[o-3*n*s*e[1]+3*t*r*e[0],o-3*n*s*i[1]+3*t*r*i[0],n-2*t*s*e[1]+r*e[0],n-2*t*s*i[1]+r*i[0],t-s*e[1],t-s*i[1]]},i._normalize=function(t){return[(t[2]-t[0])/(1-t[0]),(t[3]-t[1])/(1-t[1]),(t[4]-t[0])/(1-t[0]),(t[5]-t[1])/(1-t[1])]},t.exports=n},47905:function(t,e,i){"use strict";var s=i(88907);function n(){this._instances={}}n.prototype.create=function(t){var e="string"==typeof t?t.replace(/ /g,""):"cubic-bezier("+t.join(",")+")";if(void 0===this._instances[e]){if("string"==typeof t)for(var i=(t=t.match(/\d*\.?\d+/g)).length;i--;)t[i]=Number(t[i]);this._instances[e]=new s(t,this)}return this._instances[e]},t.exports=new n},22675:function(){"use strict";void 0===window.Float32Array&&(window.Float32Array=function(){})},83489:function(t,e,i){"use strict";var s=i(20078),r=i(17371),n={translateX:"width",translateY:"height"};function o(t,e,i){var s,n;for(n in this._transform=t,i)i.hasOwnProperty(n)&&"function"==typeof this._transform[n]&&(s="%"===(s=r(i[n])).unit?this._convertPercentToPixelValue(n,s.value,e):s.value,this._transform[n].call(this._transform,s))}i=o.prototype;i._convertPercentToPixelValue=function(t,e,i){t=n[t];i=s(i);return i[t]?i[t]*(e*=.01):e},i.toArray=function(){return this._transform.toArray()},i.toCSSString=function(){return this._transform.toCSSString()},t.exports=o},9481:function(t){"use strict";t.exports=function(t){var e,i,s={};for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&(t[i].isColor?t[i].isRgb?s[i]="rgb("+Math.round(t[i].r)+", "+Math.round(t[i].g)+", "+Math.round(t[i].b)+")":t[i].isRgba&&(s[i]="rgba("+Math.round(t[i].r)+", "+Math.round(t[i].g)+", "+Math.round(t[i].b)+", "+t[i].a+")"):"transform"===i?(e=6===t[i].length?"matrix":"matrix3d",s[i]=e+"("+t[i].join(",")+")"):t[i].unit?s[i]=t[i].value+t[i].unit:s[i]=t[i].value);return s}},32414:function(t,e,i){"use strict";function _(t){return x.isRgba(t)?(t=new x(t).rgbaObject()).isRgba=!0:(t=new x(t).rgbObject()).isRgb=!0,t.isColor=!0,t}function g(t){t.isRgb&&(t.isRgb=!1,t.isRgba=!0,t.a=1)}function b(t){return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}var y=i(26219),v=i(70218),E=i(17371),w=i(34612),x=i(47844).Color,S=i(480),C=i(63372).Transform,T=i(83489);t.exports=function(t,e,i){var s,n,r,o,a,h,u,l,c,d,p,m={},f=(e=v(e,!0),i=v(i,!0),S("transform"));for(a in e)e.hasOwnProperty(a)&&null!==e[a]&&("transform"===a?(f&&(n=new C,s=y(t,"transform").transform||"none",n.setMatrixValue(s),r=new T(new C,t,e[a])),r&&r.toCSSString()!==n.toCSSString()?(o=new T(i[a]?new C:n.clone(),t,i[a]),m[a]=n.toArray(),e[a]=r.toArray(),i[a]=o.toArray()):(m[a]=null,e[a]=null)):(s=y(t,a)[w(a)]||i[a],x.isColor(s)?(m[a]=_(s),i[a]=void 0!==i[a]?_(i[a]):v(m[a],!0),e[a]=_(e[a])):(m[a]=E(s),i[a]=void 0!==i[a]?E(i[a]):v(m[a],!0),e[a]=E(e[a]))));for(a in i)!i.hasOwnProperty(a)||null===i[a]||void 0!==e[a]&&null!==e[a]||("transform"===a?(f&&((n=new C).setMatrixValue(getComputedStyle(t).transform||getComputedStyle(t).webkitTransform||"none"),o=new T(new C,t,i[a])),o&&o.toCSSString()!==n.toCSSString()?(r=new T(n.clone()),m[a]=n.toArray(),e[a]=r.toArray(),i[a]=o.toArray()):(m[a]=null,e[a]=null,i[a]=null)):(s=y(t,a)[w(a)],x.isColor(s)?(m[a]=_(s),e[a]=v(m[a],!0),i[a]=_(i[a])):(m[a]=E(s),i[a]=E(i[a]),e[a]=v(m[a],!0)))),m[a]&&m[a].isColor&&(h=m[a],u=i[a],l=e[a],(h.isRgba||u.isRgba||l.isRgba)&&(g(h),g(u),g(l)));return m.transform&&(d=i,p=e,16!==(c=m).transform.length&&16!==d.transform.length&&16!==p.transform.length||(6===c.transform.length&&(c.transform=b(c.transform)),6===d.transform.length&&(d.transform=b(d.transform)),6===p.transform.length&&(p.transform=b(p.transform)))),{target:m,propsTo:e,propsFrom:i}}},23735:function(t){"use strict";t.exports=function(t){if(t.transitionProperty){for(var e="",i=t.transitionProperty.split(", "),s=t.transitionDuration.split(", "),n=t.transitionTimingFunction.replace(/\d+[,]+[\s]/gi,function(t){return t.substr(0,t.length-1)}).split(", "),r=t.transitionDelay.split(", "),o=i.length;o--;)e+=i[o]+" "+s[o]+" "+n[o]+" "+r[o]+", ";return e.substr(0,e.length-2)}return!1}},57089:function(t){"use strict";t.exports=function(t){return"string"==typeof t&&"cubic-bezier("===t.substr(0,13)}},64599:function(t,e,i){"use strict";var r=i(20218),o=i(26219),a=i(23735);t.exports=function(t,e){if((i=(i=o(t,"transition","transition-property","transition-duration","transition-timing-function","transition-delay")).transition||a(i))&&i.length){for(var i,s=0,n=(i=i.split(",")).length;n--;)void 0!==e[i[n].trim().split(" ")[0]]&&(i.splice(n,1),++s);s&&(0===i.length&&(i=["all"]),r(t,{transition:i.join(",").trim()}))}}},17371:function(t){"use strict";t.exports=function(t){if(-1<(t=String(t)).indexOf(" "))throw new Error("Shorthand CSS is not supported. Please use longhand CSS only.");var e=1,t=(t&&"-"===t.substr(0,1)&&(t=t.substr(1),e=-1),String(t).match(/(\d*\.?\d*)(.*)/));return{value:Number(t[1])*e,unit:t[2]}}},34612:function(t){"use strict";t.exports=function(t){return t.replace(/-(\w)/g,function(t,e,i,s){return 0===i&&"moz"!==s.substr(1,3)?e:e.toUpperCase()})}},84521:function(t){"use strict";var s;t.exports=function(){if(s)return s;var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return s=i[t]}()},4085:function(t,e,i){"use strict";var r=i(37597).PageVisibilityManager;t.exports=function(e,i){var s,n;i?(s=0,(n=function(){var t;s===i?e.call(this):(++s,t=n,r.isHidden?setTimeout(t,16):window.requestAnimationFrame(t))})()):e.call(this)}},77587:function(t,e,i){"use strict";var s=i(51082),n=i(5533).Clip,r=i(25016),o=i(13147),a=i(95657),h=n.prototype;function u(t){(t=t||{}).ease=t.ease||"linear",t.destroyOnComplete=!1,this.options=t,n.call(this,{t:0},0,{t:1},t),this._itemList=new a}i=u.prototype=s(h);u.prototype.constructor=u,i._update=function(t){h._update.call(this,t),this._render()},i.progress=function(t){return h.progress.call(this,t),void 0!==t&&this._render(),this._progress},i._render=function(){if(0!==this._itemList.length)for(var t=this._target.t*this._duration,e=this._itemList.head,i=e;i;){var i=e.next,s=t-e.position;e.currentTime(s),e=i}},i.addClip=function(t,e){e=void 0===e?this.duration():e;var i=t._delay/1e3;this._itemList.append(new r(t,e+i)),this._updateDuration()},i.addCallback=function(t,e){e=void 0===e?this.duration():e,this._itemList.append(new o(t,e)),this._updateDuration()},i.remove=function(t){t=this._itemList.getItem(t);t&&(this._itemList.remove(t),this._updateDuration())},i._updateDuration=function(){var i=this._itemList.head,s=i.position+i.duration();this._itemList.forEach(function(t){var e=t.position+t.duration();s<=e&&(i=t,s=e)}),this.duration(s)},i.destroy=function(){for(var t=this._itemList.head;t;){var e=t,t=e.next;this._itemList.remove(e)}return this._duration=0,h.destroy.call(this)},t.exports=u},13147:function(t){"use strict";function e(t,e){this.callback=t,this._delay=0,this.position=e,this._hasTriggered=!1,this.prev=null,this.next=null}var i=e.prototype;i.duration=function(){return 0},i.currentTime=function(t){return 0<=t&&!this._hasTriggered&&(this.callback(),this._hasTriggered=!0),t<0&&this._hasTriggered&&(this.callback(),this._hasTriggered=!1),0},t.exports=e},25016:function(t){"use strict";function e(t,e){this.clip=t,this.position=e,this.duration=this.clip.duration.bind(this.clip),this.lastProgress=-1,this.prev=null,this.next=null}var i=e.prototype;i.currentTime=function(t){t=Math.min(1,Math.max(0,t/this.clip._duration));return this.lastProgress!==(t=t!=t?1:t)&&(0!==this.lastProgress&&0!==t&&-1!==this.lastProgress||this.clip._storeOnStart&&this.clip._storeOnStart(this.clip),this.clip._playing=t*this.clip._duration===this.clip._duration,this.lastProgress=this.clip.progress(t)),this.lastProgress},i.destroy=function(){this.clip.destroy(),this.prev=null,this.next=null,this.duration=null},t.exports=e},95657:function(t,e,i){"use strict";function s(){this.head=null,this.tail=null,this.length=0}var n=i(25016),r=i(13147),i=s.prototype;i.append=function(t){t.prev=null,t.next=null,this.tail?(this.tail.next=t).prev=this.tail:this.head=t,this.tail=t,this.length++},i.remove=function(t){t===this.head?this.head=this.head.next:t===this.tail&&(this.tail=this.tail.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),(t.next=t.prev=null)===this.head&&(this.tail=null),this.length--},i.getItem=function(t){for(var e=this.head;e;){var i=e;if(i instanceof n&&i.clip===t||i instanceof r&&i.callback===t)return i;e=i.next}return null},i.forEach=function(t){for(var e=this.head;e;){var i=e;t(i,0,this.length),e=i.next}},i.destroy=function(){for(;this.head;){var t=this.head;this.remove(t),t.destroy()}},t.exports=s},95350:function(t,e,i){"use strict";t.exports={EventEmitterMicro:i(48010)}},48010:function(t){"use strict";function e(){this._events={}}var i=e.prototype;i.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},i.once=function(i,s){var n=this;this.on(i,function t(e){n.off(i,t),void 0!==e?s(e):s()})},i.off=function(t,e){this.has(t)&&(1===arguments.length?(this._events[t]=null,delete this._events[t]):-1!==(e=this._events[t].indexOf(e))&&this._events[t].splice(e,1))},i.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;0<=i;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},i.has=function(t){return t in this._events!=!1&&0!==this._events[t].length},i.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=e},71970:function(t,e,i){t.exports.EventEmitter=i(29149)},29149:function(t){"use strict";function e(t){t&&(this.context=t)}function i(t,e){var i=t[0],s=t[1],n=t[2];if("string"!=typeof i&&"object"!=typeof i||null===i||Array.isArray(i))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof i&&!s)throw new Error("Expecting a callback function to be provided.");if(s&&"function"!=typeof s){if("object"!=typeof i||"object"!=typeof s)throw new TypeError("Expecting callback to be a function.");n=s}if("object"==typeof i)for(var r in i)e.call(this,r,i[r],n);"string"==typeof i&&(i=i.split(" ")).forEach(function(t){e.call(this,t,s,n)},this)}function n(t,e){var i,s,n=h.call(this)[t];if(n&&0!==n.length)for(n=n.slice(),this._stoppedImmediatePropagation=!1,i=0,s=n.length;i<s&&(!this._stoppedImmediatePropagation&&!e(n[i],i));i++);}function r(t,e,i){var s=-1;n.call(this,e,function(t,e){if(t.callback===i)return s=e,!0}),-1!==s&&t[e].splice(s,1)}var o="EventEmitter:propagation",s=e.prototype,h=function(){return this.hasOwnProperty("_events")||"object"==typeof this._events||(this._events={}),this._events};s.on=function(){var s=h.call(this);return i.call(this,arguments,function(t,e,i){s[t]=s[t]||(s[t]=[]),s[t].push({callback:e,context:i})}),this},s.once=function(){return i.call(this,arguments,function(e,i,s){function n(t){i.call(s||this,t),this.off(e,n)}this.on(e,n,this)}),this},s.off=function(t,e){var i,s=h.call(this);if(0===arguments.length)this._events={};else if(!t||"string"!=typeof t&&"object"!=typeof t||Array.isArray(t))throw new TypeError("Expecting event name to be a string or object.");if("object"==typeof t)for(var n in t)r.call(this,s,n,t[n]);return"string"==typeof t&&(1===(i=t.split(" ")).length?e?r.call(this,s,t,e):s[t]=[]:i.forEach(function(t){s[t]=[]})),this},s.trigger=function(t,s,e){if(!t)throw new Error("trigger method requires an event name");if("string"!=typeof t)throw new TypeError("Expecting event names to be a string.");if(e&&"boolean"!=typeof e)throw new TypeError("Expecting doNotPropagate to be a boolean.");return(t=t.split(" ")).forEach(function(i){n.call(this,i,function(t){t.callback.call(t.context||this.context||this,s)}.bind(this)),e||n.call(this,o,function(t){var e=i;t.prefix&&(e=t.prefix+e),t.emitter.trigger(e,s)})},this),this},s.propagateTo=function(t,e){var i=h.call(this);i[o]||(this._events[o]=[]),i[o].push({emitter:t,prefix:e})},s.stopPropagatingTo=function(t){var e=h.call(this);if(t){for(var i=e[o],s=i.length,n=0;n<s;n++)if(i[n].emitter===t){i.splice(n,1);break}}else e[o]=[]},s.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=!0},s.has=function(t,e,i){var s=h.call(this),n=s[t];if(0===arguments.length)return Object.keys(s);if(n){if(!e)return 0<n.length;for(var r=0,o=n.length;r<o;r++){var a=n[r];if(i&&e&&a.context===i&&a.callback===e)return!0;if(e&&!i&&a.callback===e)return!0}}return!1},t.exports=e},93707:function(t,e,i){"use strict";t.exports={canvasAvailable:i(82409),continuousScrollEventsAvailable:i(57445),cookiesAvailable:i(14511),cssLinearGradientAvailable:i(67161),cssPropertyAvailable:i(480),cssViewportUnitsAvailable:i(78853),elementAttributeAvailable:i(42740),eventTypeAvailable:i(82832),isDesktop:i(94985),isHandheld:i(97271),isRetina:i(28090),isTablet:i(65448),localStorageAvailable:i(84416),mediaElementsAvailable:i(38168),mediaQueriesAvailable:i(53997),prefersReducedMotion:i(82550),sessionStorageAvailable:i(52033),svgAvailable:i(28288),threeDTransformsAvailable:i(43089),touchAvailable:i(22258),webGLAvailable:i(16403)}},82409:function(t,e,i){"use strict";function s(){var t=n.getDocument().createElement("canvas");return!("function"!=typeof t.getContext||!t.getContext("2d"))}var n=i(64822),i=i(21428);t.exports=i(s),t.exports.original=s},57445:function(t,e,i){"use strict";var s=i(80820),n=i(22258).original,i=i(21428);function r(){return!n()||s.os.ios&&8<=s.os.version.major||s.browser.chrome}t.exports=i(r),t.exports.original=r},14511:function(t,e,i){"use strict";var s=i(64822),i=i(21428);function n(){var t=!1,e=s.getDocument(),i=s.getNavigator();try{"cookie"in e&&i.cookieEnabled&&(e.cookie="ac_feature_cookie=1",t=-1!==e.cookie.indexOf("ac_feature_cookie"),e.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(t){}return t}t.exports=i(n),t.exports.original=n},67161:function(t,e,i){"use strict";var s=i(51578),i=i(21428);function n(){return["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"].some(function(t){return!!s("background-image",t)})}t.exports=i(n),t.exports.original=n},480:function(t,e,i){"use strict";var s=i(51578),n=i(1286),i=i(96194);function r(t,e){return void 0!==e?!!s(t,e):!!n(t)}t.exports=i(r),t.exports.original=r},78853:function(t,e,i){"use strict";var s=i(51578),i=i(21428);function n(){return!!s("margin","1vw 1vh")}t.exports=i(n),t.exports.original=n},42740:function(t,e,i){"use strict";var s=i(64822),i=i(96194);function n(t,e){return t in s.getDocument().createElement(e=e||"div")}t.exports=i(n),t.exports.original=n},82832:function(t,e,i){"use strict";var s=i(34972),i=i(96194);function n(t,e){return!!s(t,e)}t.exports=i(n),t.exports.original=n},64822:function(t){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},94985:function(t,e,i){"use strict";var s=i(80820).os,n=i(22258).original,r=i(64822),i=i(21428);function o(){var t=r.getWindow();return!n()&&!t.orientation||s.windows}t.exports=i(o),t.exports.original=o},97271:function(t,e,i){"use strict";var s=i(94985).original,n=i(65448).original,i=i(21428);function r(){return!s()&&!n()}t.exports=i(r),t.exports.original=r},28090:function(t,e,i){"use strict";var s=i(64822);t.exports=function(){var t=s.getWindow();return"devicePixelRatio"in t&&1.5<=t.devicePixelRatio}},65448:function(t,e,i){"use strict";var s=i(94985).original,n=i(64822),i=i(21428);function r(){var t=n.getWindow(),e=t.screen.width;return t.orientation&&t.screen.height<e&&(e=t.screen.height),!s()&&600<=e}t.exports=i(r),t.exports.original=r},84416:function(t,e,i){"use strict";var s=i(64822),i=i(21428);function n(){var t=s.getWindow(),e=!1;try{e=!(!t.localStorage||null===t.localStorage.non_existent)}catch(t){}return e}t.exports=i(n),t.exports.original=n},38168:function(t,e,i){"use strict";var s=i(64822),i=i(21428);function n(){return"HTMLMediaElement"in s.getWindow()}t.exports=i(n),t.exports.original=n},53997:function(t,e,i){"use strict";i(62245);var s=i(64822),i=i(21428);function n(){var t=s.getWindow().matchMedia("only all");return!(!t||!t.matches)}t.exports=i(n),t.exports.original=n},82550:function(t,e,i){"use strict";var s=i(64822);t.exports=function(){var t=s.getWindow().matchMedia("(prefers-reduced-motion)");return!(!t||!t.matches)}},52033:function(t,e,i){"use strict";var s=i(64822),i=i(21428);function n(){var t=s.getWindow(),e=!1;try{"sessionStorage"in t&&"function"==typeof t.sessionStorage.setItem&&(t.sessionStorage.setItem("ac_feature","test"),e=!0,t.sessionStorage.removeItem("ac_feature","test"))}catch(t){}return e}t.exports=i(n),t.exports.original=n},28288:function(t,e,i){"use strict";var s=i(64822),i=i(21428);function n(){return!!s.getDocument().implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}t.exports=i(n),t.exports.original=n},43089:function(t,e,i){"use strict";var s=i(51578),i=i(21428);function n(){return!(!s("perspective","1px")||!s("transform","translateZ(0)"))}t.exports=i(n),t.exports.original=n},22258:function(t,e,i){"use strict";var s=i(64822),i=i(21428);function n(){var t=s.getWindow(),e=s.getDocument(),i=s.getNavigator();return!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||0<i.maxTouchPoints||0<i.msMaxTouchPoints)}t.exports=i(n),t.exports.original=n},16403:function(t,e,i){"use strict";var s=i(64822),i=i(21428);function n(){var t=s.getDocument().createElement("canvas");return"function"==typeof t.getContext&&!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}t.exports=i(n),t.exports.original=n},76103:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(53214),r=i(19474);function o(t){t=t||{},s.call(this),this.id=r.getNewID(),this.executor=t.executor||n,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=o.prototype=Object.create(s.prototype)).run=function(){return!this._willRun&&(this._willRun=!0,this.executor.subscribe(this),!0)},i.cancel=function(){var t=!1;return this._willRun&&(this.executor.unsubscribe(this),t=!(this._willRun=!1)),this._reset(),t},i.destroy=function(){var t=this.cancel();return this.executor.unsubscribe(this),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},i._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=o},11:function(t,e,i){"use strict";function s(t){this._reset(),this._willRun=!1,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}i(13106),(i=s.prototype).subscribe=function(t){return!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberCount++,this._run(),!0)},i.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.trigger=function(t,e){for(var i in this._subscribers)this._subscribers.hasOwnProperty(i)&&null!==this._subscribers[i]&&!1===this._subscribers[i]._didDestroy&&this._subscribers[i].trigger(t,e)},i.destroy=function(){var t=this._cancel();return this._subscribers=null,this._nextFrameSubscribers=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},i.useExternalAnimationFrame=function(t){var e;if("boolean"==typeof t)return e=this._isUsingExternalAnimationFrame,t&&this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)),(this._isUsingExternalAnimationFrame=t)?this._boundOnExternalAnimationFrame:e||!1},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=requestAnimationFrame(this._boundOnAnimationFrame)),!0},i._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,t=!(this._willRun=!1)),this._isRunning||this._reset(),t},i._onSubscribersAnimationFrameStart=function(t){for(var e in this._subscribers)this._subscribers.hasOwnProperty(e)&&null!==this._subscribers[e]&&!1===this._subscribers[e]._didDestroy&&this._subscribers[e]._onAnimationFrameStart(t)},i._onSubscribersAnimationFrameEnd=function(t){for(var e in this._subscribers)this._subscribers.hasOwnProperty(e)&&null!==this._subscribers[e]&&!1===this._subscribers[e]._didDestroy&&this._subscribers[e]._onAnimationFrameEnd(t)},i._onAnimationFrame=function(t){this._subscribers=this._nextFrameSubscribers,this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,1e3<=this._rafData.delta&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},i._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},i._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=s},53214:function(t,e,i){"use strict";var s=i(3494).SharedInstance,i=i(11);t.exports=s.share("ac-raf-executor:sharedRAFExecutorInstance","1.0.3",i)},53298:function(t,e,i){"use strict";i(57379),i(10147),t.exports={createFlow:i(12520),Player:i(25292)}},20667:function(t,e,i){"use strict";var n=i(95350).EventEmitterMicro,s=i(87591),r=i(7163),o=i(48186),a=i(85677),h=i(40959);function u(t,e,i,s){n.call(this),this._compositor=new h(e,i,s),this.options=t||{}}i=u.prototype=new n(null);i._gotoImageFrame=function(t){return this._rendering||this._currentFrame===t?Promise.resolve():(this._rendering=!0,this._compositor.compositeFrames(this._currentFrame,t).then(function(){this._rendering=!1,this._currentFrame=t}.bind(this)))},i.init=function(){var t;return"CANVAS"===this.options.element.nodeName?t=this.options.element:(t=document.createElement("canvas"),this.options.element.appendChild(t)),this.gotoFrame=this._gotoImageFrame,this._compositor.init(t).then(this._decorateCompositor.bind(this))},i.resumeLoading=function(){return this._compositor.resumeLoading()},i.pauseLoading=function(){this._compositor.pauseLoading()},i._decorateCompositor=function(){var t,e,i=this._compositor;return i?(t=this._compositor._diffRender.flowData,e=this._compositor.canvas,t.superframeFrequency&&(i=new r(i,t.superframeFrequency)),4<=t.version&&(i=new s(i)),4<=t.version&&t.superframeFrequency&&(i=new o(i)),(i=this.options.keyframeCache?new a(i,this.options.keyframeCache):i)===this._compositor?Promise.resolve():(this._compositor=i,this._compositor.init(e))):Promise.reject()},i._destroy=function(){this.off(),this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{_currentFrame:{value:0,enumerable:!1,writable:!0},frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0}}),t.exports=u},600:function(t,e,i){"use strict";function s(t,e,i){this._manifestUrl=t,this._keyframeUrls=e,this._imageUrlPattern=i,this.state={manifestLoaded:!1,keyframesLoaded:!1,diffsLoaded:!1,diffCountLoaded:0,totalDiffs:null},this.assets={keyframes:null,manifest:null,diffs:null},this._promises={},this._loaders={},this._activeLoaders=[],this._resumeQueue=[],this._paused=!0,this._shouldPause=!1,this._boundOnManifestLoaded=this._onManifestLoaded.bind(this),this._boundOnKeyframesLoaded=this._onKeyframesLoaded.bind(this),this._boundOnDiffsLoaded=this._onDiffsLoaded.bind(this)}var n=i(35489),r=i(80049),i=s.prototype;i.setManifestUrl=function(t){return this._manifestUrl=t,this},i.setKeyframeUrls=function(t){return this._keyframeUrls=t,this},i.setImageUrlPattern=function(t){return this._imageUrlPattern=t,this},i.pause=function(){this._shouldPause=!0;for(var t=this._activeLoaders.length,e=0;e<t;e++)this._activeLoaders[e].pause();this._paused=!0},i.destroy=function(){var t,e,i;for(t in this.pause(),this._loaders)this._loaders.hasOwnProperty(t)&&this._loaders[t].destroy();for(e in this._promises)this._promises.hasOwnProperty(e)&&"pending"===this._promises[e].status()&&this._promises[e].reject();for(i in this)this.hasOwnProperty(i)&&(this[i]=null)},i.load=function(){if(this._paused&&(0<this._activeLoaders.length||0<this._resumeQueue.length))return this._resume(),!0},i._resume=function(){this._shouldPause=!1;for(var t=this._activeLoaders.length,e=0;e<t;e++)this._activeLoaders[e].load();for(var i=this._resumeQueue.length,s=0;s<i;s++)this._resumeQueue[s].call(this);this._resumeQueue=[],this._paused=!1},i.loadManifest=function(){if(!this._shouldPause)return this.assets.manifest||(this._paused=!1,this._loaders.manifest=new r(this._getManifestAssetsData()),this._activeLoaders.push(this._loaders.manifest),this._loaders.manifest.load().then(this._boundOnManifestLoaded));this._resumeQueue.push(this.loadManifest)},i.loadKeyframes=function(){var t;return this._shouldPause&&this._resumeQueue.push(this.loadKeyframes),t=this.assets.keyframes?Promise.resolve(this.assets.keyframes):(this._paused=!1,this._loaders.keyframes=n.createAssetGroup(this._getKeyframesAssetsData()),this._activeLoaders.push(this._loaders.keyframes),this._loaders.keyframes.load().then(this._boundOnKeyframesLoaded)),this._promises.keyframes=t,this._promises.keyframes},i.loadDiffs=function(){var t;return this._shouldPause&&this._resumeQueue.push(this.loadDiffs),t=this.assets.diffs?this._promises.diffs.resolve(this.assets.diffs):(this._paused=!1,this._loaders.diffs=n.createAssetGroup(this._getDiffsAssetsData()),this._activeLoaders.push(this._loaders.diffs),this._loaders.diffs.load().then(this._boundOnDiffsLoaded)),this._promises.diffs=t,this._promises.diffs},i._getManifestAssetsData=function(){return this._manifestUrl},i._getKeyframesAssetsData=function(){return this._keyframeUrls},i._getDiffsAssetsData=function(){for(var t,e=this.assets.manifest.imagesRequired,i=[],s=this._imageUrlPattern.match(/#/g).length,n=1;n<=e;n++)t=(t="0000"+n).substring(t.length-s),i.push(this._imageUrlPattern.replace(/#{2,}/g,t));return i},i._onManifestLoaded=function(t){if(this.assets)return this.assets.manifest=t,this.state.manifestLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.manifest),this.assets.manifest},i._onKeyframesLoaded=function(t){if(this.assets)return this.assets.keyframes=t,this.state.keyframeLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.keyframes),Promise.resolve(this.assets.keyframes)},i._onDiffsLoaded=function(t){if(this.assets)return this.assets.diffs=t,this.state.diffsLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.diffs),Promise.resolve(this.assets.diffs)},i._removeFromActiveLoaders=function(t){for(var e=this._activeLoaders.length,i=0;i<e;i++)if(this._activeLoaders[i]===t)return void this._activeLoaders.splice(i,1)},t.exports=s},25292:function(t,e,i){"use strict";var s=i(70037).DOMEmitter,n=i(76103);function r(t,e){this.element=e,this._domEmitter=new s(e),this._frameRate=30,this.paused=!0,this.loop=!1,this._destroyed=!1,this._flow=t,this._rafEmitter=new n,this._rafDrawSet=!1,this._shouldAdvanceToTimeGlobal=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1,this._boundAdvanceTimeToGlobal=this._advanceToTimeGlobal.bind(this),this._onBoundGlobalTimeUpdate=this._onGlobalTimeUpdate.bind(this),this._onBoundLocalTimeUpdate=this._onLocalTimeUpdate.bind(this),this._rafEmitter.on("draw",this._onDraw.bind(this))}i=r.prototype;i._timeToFrame=function(t){t=Math.round(t/this.duration*this._flow.frameCount);return(t%=this._flow.frameCount+1)<0?this._flow.frameCount+t:t},i._advanceToTimeGlobal=function(t){if(this._rafDrawSet){this._prevTime=this._prevTime||t.time,this._currentTime+=(t.time-this._prevTime)/1e3*this.playbackRate,this._prevTime=t.time,this._pauseAfterRender=!1;t=this._timeToFrame(this._currentTime);if(this.loop?this._currentTime=(this.duration+this._currentTime)%this.duration:0<this.playbackRate&&this._currentTime>this.duration?(t=this._flow.frameCount,this._currentTime=this.duration,this._pauseAfterRender=!0):this.playbackRate<0&&this._currentTime<0&&(this._currentTime=t=0,this._pauseAfterRender=!0),!this.paused&&!this.seeking)return this._flow.gotoFrame(t).then(this._onBoundGlobalTimeUpdate)}},i._onGlobalTimeUpdate=function(){this.trigger("timeupdate"),this._pauseAfterRender?(this.paused=!0,this.trigger("ended")):this._bindAdvanceToTimeGlobal()},i._onLocalTimeUpdate=function(){this.seeking=!1,this.trigger("timeupdate"),this.trigger("seeked"),this._bindAdvanceToTimeGlobal()},i._advanceToTimeLocal=function(t){this.seeking||(this.seeking=!0,this.trigger("seeking"),this._currentTime=+t,this._prevTime=null,this._cancelFrame(),this._flow.gotoFrame(this._timeToFrame(t)).then(this._onBoundLocalTimeUpdate))},i._onLoaded=function(){this.trigger("loaded"),this.trigger("canplaythrough")},i._nullProperties=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e]=null);return t},i.destroy=function(){this._rafEmitter.destroy(),this.trigger("destroy"),this.pause(),this.off(),this._flow.destroy(),this._flow=this._nullProperties(this._flow),this._nullProperties(this)},i.load=function(){if(!this._flow.resumeLoading())return this.trigger("loadstart"),this._flow.init().then(function(t){var e=function(){this._onLoaded()}.bind(this),i=function(){!1===this._destroyed&&this.trigger("error")}.bind(this);if(t)return t.then(e,i);e()}.bind(this))},i.pauseLoading=function(){this._flow.pauseLoading()},i.play=function(){return this.paused&&(this.paused=!1,this.trigger("play"),this._prevTime=null,this._bindAdvanceToTimeGlobal()),this},i.pause=function(){return this.paused||(this.paused=!0,this._cancelFrame(),this.trigger("pause")),this},i.on=function(){this._domEmitter.on.apply(this._domEmitter,arguments)},i.once=function(){this._domEmitter.once.apply(this._domEmitter,arguments)},i.trigger=function(){this._domEmitter.trigger.apply(this._domEmitter,arguments)},i.off=function(){this._domEmitter.off.apply(this._domEmitter,arguments)},i._cancelFrame=function(){this._rafEmitter.cancel(),this._rafDrawSet=!1},i._onDraw=function(t){this._shouldAdvanceToTimeGlobal?this._advanceToTimeGlobal(t):this._shouldGlobalTimeUpdate?this._onGlobalTimeUpdate(t):this._shouldLocalTimeUpdate&&this._onLocalTimeUpdate(t),this._shouldLocalTimeUpdate=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1},i._bindAdvanceToTimeGlobal=function(){this._rafDrawSet=!0,this._shouldAdvanceToTimeGlobal=!0,this._rafEmitter.run()},i._bindGlobalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldGlobalTimeUpdate=!0,this._rafEmitter.run()},i._bindLocalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldLocalTimeUpdate=!0,this._rafEmitter.run()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{_currentTime:{value:0,enumerable:!1,writable:!0},_playbackRate:{value:1,enumerable:!1,writable:!0},currentTime:{get:function(){return+this._currentTime},set:i._advanceToTimeLocal,enumerable:!0},frameRate:{get:function(){return this._frameRate},set:function(t){isFinite(t)&&(this._frameRate=t,this.trigger("durationchange"))},enumerable:!0},playbackRate:{get:function(){return+this._playbackRate},set:function(t){isFinite(t)&&(this._playbackRate=+t,this.trigger("ratechange"))},enumerable:!0},duration:{get:function(){return this._flow.frameCount/this.frameRate},enumerable:!0}}),t.exports=r},40959:function(t,e,i){"use strict";var s=i(38490),n=i(600);function r(t,e,i){this._keyframes=e,this._imageUrlPattern=i,this._loadController=new n(t,e,i)}i=r.prototype;i._initDiffRender=function(t){this._images=t.assets.map(function(t){return t.data}),this.canvas.height=this._images[0].height,this.canvas.width=this._images[0].width,this.applyFrame(this._images[0])},i.init=function(t){return this.canvas=t||document.createElement("canvas"),this.context=t.getContext("2d"),this._loadController.loadKeyframes().then(this._initDiffRender.bind(this)).then(this._loadController.loadManifest.bind(this._loadController)).then(this.createDiffRender.bind(this))},i.resumeLoading=function(){return this._loadController.load()},i.pauseLoading=function(){this._loadController.pause()},i.createDiffRender=function(t){return this._diffRender=new s(t,this._imageUrlPattern,this._loadController),this._diffRender.init()},i.applyFrame=function(t){this.context.drawImage(t,0,0)},i.calculateRenderCount=function(t,e){var i=0;return Math.abs(e-t)>=e?i=t=1:Math.abs(e-t)>=this.frameCount-e&&this._images[1]&&(t=this.frameCount-2,i=1),0<e&&e<this.frameCount-1?Math.abs(t-e)+i:i},i.compositeFrames=function(t,e){var i;if(e=this.frameCount<e?this.frameCount-1:e<0?0:e,t=this.frameCount-2<t?this.frameCount-2:t<0?0:t,Math.abs(e-t)>=e?(t=1,this.applyFrame(this._images[0])):Math.abs(e-t)>=this.frameCount-e&&this._images[1]&&(t=this.frameCount-2,this.applyFrame(this._images[1])),i=e<t?-1:t<e?1:0,0<e&&e<this.frameCount-1)for(;t!==e;)this._diffRender.renderDiff(this.canvas,t),t+=i;return Promise.resolve(t)},i.destroy=function(){this._loadController.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{frameCount:{get:function(){return this._diffRender.frames.length+2},enumerable:!0},canvas:{get:function(){return this._canvas},set:function(t){return this._canvas=t},enumerable:!0},mainCompositor:{get:function(){for(var t=this;t._compositor;)t=t._compositor;return t},enumerable:!0}}),t.exports=r},85677:function(t){"use strict";function e(t,e){this._compositor=t,this._keyframeInterval=e||8,this._keyframes=[]}var i=e.prototype;i._getClosestKeyframe=function(t){var e=t%this._keyframeInterval;return Math.floor(t/this._keyframeInterval)+(e>this._keyframeInterval/2?1:0)},i._getFrameFromKeyframe=function(t){return t*this._keyframeInterval},i._saveKeyframe=function(t){var e=Math.floor(t/this._keyframeInterval);t%this._keyframeInterval!=0||this._keyframes[e]||((t=document.createElement("canvas")).width=this._compositor.canvas.width,t.height=this._compositor.canvas.height,t.getContext("2d").drawImage(this._compositor.canvas,0,0),this._keyframes[e]=t)},i.init=function(t){return this._compositor.init.apply(this._compositor,arguments)},i.resumeLoading=function(){return this._compositor.resumeLoading()},i.pauseLoading=function(){return this._compositor.pauseLoading()},i.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},i.calculateRenderCount=function(t,e){return t=this._getFrameFromKeyframe(this._getClosestKeyframe(e)),this._compositor.calculateRenderCount(t,e)+1},i.compositeFrames=function(t,e){var i=this._getClosestKeyframe(e);return this._keyframes[i]&&this._compositor.calculateRenderCount(t,e)>this.calculateRenderCount(t,e)?(t=this._getFrameFromKeyframe(i),this.applyFrame(this._keyframes[i]),this._compositor.compositeFrames(t,e).then(function(){})):this._compositor.compositeFrames(t,e).then(function(){},null,this._saveKeyframe.bind(this))},i.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0}}),t.exports=e},87591:function(t,e,i){"use strict";var s=i(91831);function n(t){this._compositor=t,this._flowDataProvider=this.mainCompositor._loadController._loaders.manifest}i=n.prototype;i.init=function(t){return this._keyframeDiffRender=new s(this._flowDataProvider._data,this.mainCompositor._imageUrlPattern),this._keyframeDiffRender.init()},i.resumeLoading=function(){return this._compositor.resumeLoading()},i.pauseLoading=function(){return this._compositor.pauseLoading()},i.applyFrame=function(t){return this._compositor.applyFrame.apply(this._compositor,arguments)},i.applyKeyframe=function(t,e){this._keyframeDiffRender.renderKeyframe(this.canvas,t,e)},i.compositeFrames=function(t,e){return this._isKeyframeDiff(e-1)?(this.applyKeyframe(e-1),Promise.resolve(t-1)):this._compositor.compositeFrames.apply(this._compositor,arguments)},i._isKeyframeDiff=function(t){return t in this._keyframeDiffRender._loader._keyframes},i.calculateRenderCount=function(t,e){return this._compositor.calculateRenderCount.apply(this._compositor,arguments)},i.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=n},48186:function(t){"use strict";function e(t){this._compositor=t,this._frames=this.mainCompositor._loadController._loaders.manifest._data.frames,this._superframeInterval=this.mainCompositor._diffRender.flowData.superframeFrequency}var i=e.prototype;i.init=function(t){return this._compositor.init.apply(this._compositor,arguments)},i.resumeLoading=function(){return this._compositor.resumeLoading()},i.pauseLoading=function(){return this._compositor.pauseLoading()},i.applyFrame=function(t){return this._compositor.applyFrame.apply(this._compositor,arguments)},i.applyKeyframe=function(t,e){this._compositor.applyKeyframe.apply(this._compositor,arguments)},i.compositeFrames=function(t,e){var i;return e<1||e>this.frameCount-2?this._compositor.compositeFrames.apply(this._compositor,arguments):this._isKeyframeDiff(e-1)?(i=1===Math.abs(t-e),this.applyKeyframe(e-1,i),Promise.resolve(t-1)):Math.abs(e-t)>this._superframeInterval&&(i=this._getShortestRender(t,e),this._isKeyframeDiff(i-1)||i<=0||i>=this.frameCount-2)?this._compositeFromSuperKeyframe(i,e):this._compositor.compositeFrames.apply(this._compositor,[t,e])},i._getShortestRender=function(t,e){var i=this._compositor.calculateRenderCount,s=this._getClosestSuperKeyframe(e-1);return i.apply(this._compositor,[s,e])+1<=i.apply(this._compositor,[t,e])?s:t},i._compositeFromSuperKeyframe=function(t,e){var i=this.canvas.getContext("2d"),s=t<=0?this.mainCompositor._images[0]:t>=this.frameCount-2?this.mainCompositor._images[1]:this._frames[t-1].image;return i.drawImage(s,0,0),this._compositor.compositeFrames.call(this._compositor,t,e)},i._getClosestSuperFrame=function(t){return Math.round(t/this._superframeInterval)*this._superframeInterval},i._getClosestSuperKeyframe=function(t){var e,i,s,n=this._frames.length;if(t<n+1&&0<t){for(s=t-1;0<=s;){if("keyframe"===this._frames[s].type){e=s+1;break}--s}for(s=t+1;s<=n-1;){if("keyframe"===this._frames[s].type){i=s+1;break}s+=1}}return t-(e=e||0)<(i=i||this.frameCount)-t?e:i},i._isKeyframeDiff=function(t){return this._compositor._isKeyframeDiff.apply(this._compositor,arguments)},i.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=e},7163:function(t){"use strict";function e(t,e){this._compositor=t,this._superframeInterval=e||4}var i=e.prototype;i._getClosestSuperframe=function(t){return Math.round(t/this._superframeInterval)*this._superframeInterval},i.init=function(t){this._screenCanvas=t},i.resumeLoading=function(){return this._compositor.resumeLoading()},i.pauseLoading=function(){return this._compositor.pauseLoading()},i.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},i.calculateRenderCount=function(t,e){var i=this._getClosestSuperframe(t);return Math.abs(i-e)>this._superframeInterval/2?(t=i+(e<t?-1:1)*this._superframeInterval,this.calculateRenderCount(t,e)+1):Math.abs(i-e)+1},i.compositeFrames=function(e,i){var t,s;return(i<=0||i>=this.frameCount-2)&&this._compositor.compositeFrames(e,i),e>this.frameCount-2?e=this.frameCount-2:e<=0&&(e=1),s=this._getClosestSuperframe(e),(t=this._compositor.calculateRenderCount(e,i)>this.calculateRenderCount(e,i)?this._compositor.compositeFrames(s,s).then(function(){var t=s+(i<e?-1:1)*this._superframeInterval;this._compositor.compositeFrames(s,t).then(function(){return this.compositeFrames(t,i)}.bind(this))}.bind(this)):this._compositor.compositeFrames(e,i).then(function(){}.bind(this))).then(function(){}.bind(this)),t},i.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(t){return this._compositor.canvas=t},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=e},85249:function(t){"use strict";t.exports=function(t,e){this.location=t,this.length=e}},47864:function(t){"use strict";t.exports=function(){}},29006:function(t,e,i){"use strict";var s=i(47864),h=i(85249);t.exports={parseData:function(t){var e=t.frames.map(this._parseFrame,this);return Object.create(s.prototype,{version:{value:t.version},framecount:{value:t.frameCount},blockSize:{value:t.blockSize},imagesRequired:{value:t.imagesRequired},reversible:{value:t.reversible},superframeFrequency:{value:t.superframeFrequency},frames:{value:e}})},_valueForCharAt:function(t,e){t=t.charCodeAt(e);return 64<t&&t<91?t-65:96<t&&t<123?t-71:47<t&&t<58?t+4:43===t?62:47===t?63:void 0},_createNumberFromBase64Range:function(t,e,i){for(var s=0;i--;)s+=this._valueForCharAt(t,e++)<<6*i;return s},_parseFrame:function(t){var e,i,s,n=[],r=t.value,o=t.startImageIndex,a=t.startBlockIndex;if("keyframe"===t.type)n.type="keyframe",n.width=t.width,n.height=t.height,n.x=t.x,n.y=t.y;else for(e=0;e<r.length;e+=5)s=this._createNumberFromBase64Range(r,e,3),i=this._createNumberFromBase64Range(r,e+3,2),n.push(Object.create(h.prototype,{location:{value:s,enumerable:!0},length:{value:i,enumerable:!0},block:{value:(a+=i)-i,enumerable:!0},startImageIndex:{value:o,enumerable:!0}}));return n}}},80049:function(t,e,i){"use strict";var s=i(35489),n=i(29006);function r(t){this.url=t}r.prototype.load=function(){return s.load(this.url).then(function(t){var e;return t&&t.latest&&t.latest.data&&(e=n.parseData(t.latest.data),this._data=e),e}.bind(this))},t.exports=r},38490:function(t){"use strict";function e(t,e,i){this.flowData=t,this.flowData.imageUrlPattern=e,this._loadController=i}var i=e.prototype;i._storeImages=function(t){for(var e=t.assets.length,i=(this.images=t.assets.map(function(t){return t.data}),this._blocksPerFullDiff=[],this._blockCountUpToIndex=[],0),s=0;s<e;s++)this._blocksPerFullDiff[s]=this.images[s].width/this.flowData.blockSize*(this.images[s].height/this.flowData.blockSize),i+=this._blocksPerFullDiff[s],this._blockCountUpToIndex[s]=i},i._applyDiffRange=function(t,e){for(var i,s,n=e.block,r=e.length,o=t.canvas.width/this.flowData.blockSize,a=e.startImageIndex,h=this.images[a].width,u=n%this._blockCountUpToIndex[a],l=h/this.flowData.blockSize,c=u%l*this.flowData.blockSize,d=Math.floor(u/(l||1))*this.flowData.blockSize,p=e.location%o*this.flowData.blockSize,m=Math.floor(e.location/o)*this.flowData.blockSize;r;)s=(i=Math.min(r*this.flowData.blockSize,t.canvas.width-p,h-c))/this.flowData.blockSize,t.drawImage(this.images[a],c,d,i,this.flowData.blockSize,p,m,i,this.flowData.blockSize),(r-=s)&&((c+=i)>=h&&(c=0,d+=this.flowData.blockSize),(p+=i)>=t.canvas.width&&(p=0,m+=this.flowData.blockSize),n+=s)},i.init=function(){return this._loadController.loadDiffs().then(this._storeImages.bind(this))},i.renderDiff=function(t,e){for(var i=t.getContext("2d"),s=0,n=this.frames[--e].length;s<n;s++)this._applyDiffRange(i,this.frames[e][s])},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{frames:{get:function(){return this.flowData.frames},set:function(t){this.flowData.frames=t},enumerable:!0}}),t.exports=e},12520:function(t,e,i){"use strict";function a(t){return t.lastIndexOf("/")!==t.length-1&&(t+="/"),t}var n=i(62183),r=i(20667),o=i(25292),h={keyframeCache:8,preload:!0},u={fileFormat:"jpg",baseName:"flow",imageUrlPattern:"###",startframeFileFormat:null,endframeFileFormat:null,basePath:null,manifestPath:null,manifestFileFormat:"json",diffPath:null,framePath:null},l=function(t){var e=t.basePath?a(t.basePath):null,i=t.framePath?a(t.framePath):null,s=t.diffPath?a(t.diffPath):null,n=t.manifestPath?a(t.manifestPath):null,r=t.baseName+"_",o={};return o.startframe=(i||e)+r+"startframe."+(t.startframeFileFormat||t.fileFormat),o.endframe=(i||e)+r+"endframe."+(t.endframeFileFormat||t.fileFormat),o.imageUrlPattern=(s||e)+r+t.imageUrlPattern+"."+t.fileFormat,o.manifest=(n||e)+r+"manifest."+t.manifestFileFormat,o};t.exports=function(t,e){var i=n(h,t),e=n(u,e),t=(i.element||(t.element=document.createElement("canvas")),t=i,e=l(e=e),s=[e.startframe,e.endframe],new r(t,e.manifest,s,e.imageUrlPattern)),s=new o(t,i.element);return i.preload&&s.load(),s}},94035:function(t,e,i){"use strict";var s=i(35489);function n(i,t){var s,n=i.match(/#/g).length;this._keyframes={},i=i.replace(/([^#]+)(#+)(\..*)/,"$1key_$2$3"),this._imageUrls=[],t.frames&&t.frames.forEach(function(t,e){"keyframe"===t.type&&(s=(s="0000"+e).substring(s.length-n),this._imageUrls.push(i.replace(/#+/g,s)),this._keyframes[e]=t)}.bind(this))}i=n.prototype;i.load=function(){return 0<this._imageUrls.length?s.load(this._imageUrls):Promise.resolve()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(i,{keyframes:{get:function(){return this._keyframes},enumerable:!0}}),t.exports=n},91831:function(t,e,i){"use strict";var s=i(94035);function n(t,e){this.flowData=t,this.flowData.imageUrlPattern=e}i=n.prototype;i._storeImages=function(t){var e,i=0;if(t&&0<t.assets.length)for(var s in this._loader._keyframes)this._loader._keyframes.hasOwnProperty(s)&&(e=t.assets[i],this._loader._keyframes[s].image=e.data,i+=1)},i.init=function(){return this._loader=new s(this.flowData.imageUrlPattern,this.flowData),this._loader.load().then(this._storeImages.bind(this))},i.renderKeyframe=function(t,e,i){var t=t.getContext("2d"),e=this._loader.keyframes[e],s=e.image,n=e.x,r=e.y,o=e.width,e=e.height;!0===i?t.drawImage(s,n,r,o,e,n,r,o,e):this.flowData.reversible?t.drawImage(s,0,0):t.drawImage(s,n,r,o,e)},t.exports=n},96194:function(t){"use strict";function e(){for(var t="",e=0;e<arguments.length;e++)0<e&&(t+=","),t+=arguments[e];return t}t.exports=function(i,s){s=s||e;function n(){var t=arguments,e=s.apply(this,t);return e in n.cache||(n.cache[e]=i.apply(this,t)),n.cache[e]}return n.cache={},n}},21428:function(t){"use strict";t.exports=function(t){var e;return function(){return e=void 0===e?t.apply(this,arguments):e}}},81324:function(t){"use strict";t.exports=function(t,e){var i=null;return function(){null===i&&(t.apply(this,arguments),i=setTimeout(function(){i=null},e))}}},94489:function(t,e,i){"use strict";var s=i(13224),n=i(95350).EventEmitterMicro,r=i(37994);function o(t){this._wrapAround=(t=t||{}).wrapAround||!1,this._itemType=t.itemType||r,this._items=[],this._itemsIdLookup={},this._itemChanged=!1,this.showNext=this.showNext.bind(this),this.showPrevious=this.showPrevious.bind(this),this._update=this._update.bind(this),this._updateItems=this._updateItems.bind(this),n.call(this),t.startAt&&this._startAt(t.startAt),o._add(this,t.analyticsOptions)}o.FADE="fade",o.FADE_SELECTOR="[data-ac-gallery-fade]",o.SLIDE="slide",o.SLIDE_SELECTOR="[data-ac-gallery-slide]",o.UPDATE="update",o.UPDATE_COMPLETE="update:complete";var a=n.prototype,i=o.prototype=Object.create(a);i.addItem=function(t,e){if(t.nodeType)t=new this._itemType(t);else if(-1<this._items.indexOf(t))return t;return"number"==typeof e?this._items.splice(e,0,t):this._items.push(t),1===this._items.length?(t.show(),this._setCurrentItem(t)):(t.hide(),this.getNextItem()===t&&this._setNextItem(t),this.getPreviousItem()===t&&this._setPreviousItem(t)),null!==t.getElementId()&&(this._itemsIdLookup[t.getElementId()]=t),t.on(r.SELECTED,this._update),t},i.removeItem=function(t,e){e=e||{},"number"==typeof t&&(t=this._items[t]);var i,s,n=this._items.indexOf(t);return-1<n&&(i=this.getNextItem(),s=this.getPreviousItem(),this._items.splice(n,1),t.off(r.SELECTED,this._update),i===t&&this._setNextItem(this.getNextItem()),s===t&&this._setPreviousItem(this.getPreviousItem())),t===this._currentItem&&this._items.length&&!1!==e.setCurrentItem&&(this._update({item:this._items[0]}),this._setLastItem(null)),e.destroyItem&&t.getElement()&&t.destroy(),t},i.show=function(t,e){return"number"==typeof t?t=this._items[t]:"string"==typeof t&&(t=this._itemsIdLookup[t]),t&&this._update({item:t,interactionEvent:(e=e||{}).interactionEvent}),t||null},i.showNext=function(t){var e=this.getNextItem();return e&&this.show(e,t),e},i.showPrevious=function(t){var e=this.getPreviousItem();return e&&this.show(e,t),e},i.isInView=function(){return this._currentItem&&this._currentItem.isInView()},i.getTotalItems=function(){return this._items.length},i.getItems=function(){return this._items},i.getItem=function(t){return"number"==typeof t?this.getItemAt(t):"string"==typeof t?this.getItemById(t):void 0},i.getItemAt=function(t){return this._items[t]||null},i.getItemById=function(t){return this._itemsIdLookup[t]||null},i.getItemIndex=function(t){return this._items.indexOf(t)},i.getCurrentItem=function(){return this._currentItem||null},i.getLastItem=function(){return this._lastItem||null},i.getNextItem=function(){var t,e=this._items.indexOf(this._currentItem);return e<this._items.length-1?t=this._items[e+1]:this._wrapAround&&(t=this._items[0]),t||null},i.getPreviousItem=function(){var t,e=this._items.indexOf(this._currentItem);return 0<e?t=this._items[e-1]:this._wrapAround&&(t=this._items[this._items.length-1]),t||null},i.getId=function(){return this._id},i.destroy=function(t){if(void 0===(t=t||{}).destroyItems&&(t.destroyItems=!0),this._setCurrentItem(null),t.destroyItems)for(var e;this._items.length;)(e=this._items[0]).off(r.SELECTED,this._update),this.removeItem(e,{destroyItem:!0,setCurrentItem:!1});return this._items=null,this._itemsIdLookup=null,o._remove(this),a.destroy.call(this)},i._startAt=function(t){t=this._items[t];t&&this._currentItem!==t&&(this._currentItem.hide(),this._setCurrentItem(t),this._currentItem.show(),this.trigger(o.UPDATE,this._items))},i._setCurrentItem=function(t){this._currentItem&&this._currentItem.getElement()&&this._currentItem!==t&&(this._currentItem.getElement().classList.remove(r.CSS_CURRENT_ITEM),this._setLastItem(this._currentItem)),this._currentItem=t,this._currentItem&&this._currentItem.getElement()&&(this._currentItem.getElement().classList.add(r.CSS_CURRENT_ITEM),this._setNextItem(this.getNextItem()),this._setPreviousItem(this.getPreviousItem()))},i._setLastItem=function(t){this._lastItem&&this._lastItem.getElement()&&this._lastItem!==t&&this._lastItem.getElement().classList.remove(r.CSS_LAST_ITEM),this._lastItem=t,this._lastItem&&this._lastItem.getElement()&&this._lastItem.getElement().classList.add(r.CSS_LAST_ITEM)},i._setNextItem=function(t){this._nextItem&&this._nextItem.getElement()&&this._nextItem!==t&&this._nextItem.getElement().classList.remove(r.CSS_NEXT_ITEM),this._nextItem=t,this._nextItem&&this._nextItem.getElement()&&this._nextItem.getElement().classList.add(r.CSS_NEXT_ITEM)},i._setPreviousItem=function(t){this._previousItem&&this._previousItem.getElement()&&this._previousItem!==t&&this._previousItem.getElement().classList.remove(r.CSS_PREVIOUS_ITEM),this._previousItem=t,this._previousItem&&this._previousItem.getElement()&&this._previousItem.getElement().classList.add(r.CSS_PREVIOUS_ITEM)},i._updateItems=function(t){t.outgoing[0]&&t.outgoing[0].hide(),t.incoming[0].show(),this._itemChanged&&(this.trigger(o.UPDATE_COMPLETE,t),this._itemChanged=!1)},i._update=function(t){var e=this._currentItem!==t.item,t=(e&&this._setCurrentItem(t.item),{incoming:[t.item],outgoing:this._lastItem?[this._lastItem]:[],interactionEvent:t.interactionEvent||null});e&&(this.trigger(o.UPDATE,t),this._itemChanged=!0),this._updateItems(t)},o._instantiate=function(){return this._galleries=[],this._idCounter=0,this},o._add=function(t,e){this._galleries.push(t),t._id=++this._idCounter,s.add(t,e)},o._remove=function(t){var e=this._galleries.indexOf(t);-1<e&&(this._galleries.splice(e,1),s.remove(t))},o.getAll=function(){return Array.prototype.slice.call(this._galleries)},o.getAllInView=function(){for(var t=[],e=this._galleries.length;e--;)this._galleries[e].isInView()&&t.push(this._galleries[e]);return t},o.destroyAll=function(){for(var t=this._galleries.length;t--;)this._galleries[t].destroy();this._galleries=[]},t.exports=o._instantiate()},37994:function(t,e,i){"use strict";i(7312);var s=i(22083),n=i(75730),r=i(9697),o=i(14472),a=i(95350).EventEmitterMicro,h=i(36266),u="current";function l(t,e){this._el=t,e=e||{},this._triggerKeys=[],this._triggerEls={},this._isShown=!1,this._isACaption=void 0!==e.isACaption&&e.isACaption,this._onKeyboardInteraction=this._onKeyboardInteraction.bind(this),this._onTriggered=this._onTriggered.bind(this),this._isACaption||this._el.setAttribute("role","tabpanel"),a.call(this)}l.CSS_CURRENT_ITEM="ac-gallery-currentitem",l.CSS_LAST_ITEM="ac-gallery-lastitem",l.CSS_NEXT_ITEM="ac-gallery-nextitem",l.CSS_PREVIOUS_ITEM="ac-gallery-previousitem",l.SELECTED="selected",l.SHOW="show",l.HIDE="hide";i=l.prototype=Object.create(a.prototype);i.show=function(){this._isShown=!0,this._addCurrentClassToTriggers(),this._setTabIndexOnFocusableItems(null),this._el.removeAttribute("aria-hidden"),this.trigger(l.SHOW,this)},i.hide=function(){this._isShown=!1,this._removeCurrentClassFromTriggers(),this._setTabIndexOnFocusableItems("-1"),this._el.setAttribute("aria-hidden","true"),this.trigger(l.HIDE,this)},i.addElementTrigger=function(t,e){var i;void 0===this._triggerEls[e=e||"click"]&&(this._triggerEls[e]=[]),this._triggerEls[e].indexOf(t)<0&&(t.setAttribute("role","tab"),t.setAttribute("tabindex","0"),(i=this.getElementId())&&t.setAttribute("aria-controls",i),(i=t.getAttribute("id"))&&null===this._el.getAttribute("aria-labelledby")&&this._el.setAttribute("aria-labelledby",i),t.addEventListener(e,this._onTriggered),this._triggerEls[e].push(t),this._isShown?(t.setAttribute("aria-selected","true"),t.classList.add(u)):t.setAttribute("aria-selected","false"))},Object.defineProperty(i,"triggerElements",{get:function(){var i=this._triggerEls;return Object.keys(i).reduce(function(t,e){return t.concat(i[e])},[])}}),i.removeElementTrigger=function(t,e){void 0!==this._triggerEls[e=e||"click"]&&(-1<this._triggerEls[e].indexOf(t)&&this._cleanElementTrigger(t,e),0===this._triggerEls[e].length&&(this._triggerEls[e]=void 0))},i.addKeyTrigger=function(t){"number"==typeof(t="string"==typeof t?o[t.toUpperCase()]:t)&&this._triggerKeys.indexOf(t)<0&&(h.onDown(t,this._onKeyboardInteraction),this._triggerKeys.push(t))},i.removeKeyTrigger=function(t){var e;"number"==typeof(t="string"==typeof t?o[t.toUpperCase()]:t)&&-1<(e=this._triggerKeys.indexOf(t))&&(h.offDown(t,this._onKeyboardInteraction),this._triggerKeys.splice(e,1))},i.removeAllTriggers=function(){for(var t,e,i,s=this._triggerKeys.length;s--;)t=this._triggerKeys[s],h.offDown(t,this._onKeyboardInteraction);for(i in this._triggerKeys=[],this._triggerEls)for(s=this._triggerEls[i].length;s--;)e=this._triggerEls[i][s],this._cleanElementTrigger(e,i);this._triggerEls={}},Object.defineProperty(i,"isShown",{get:function(){return this._isShown}}),i.isInView=function(){return!!this._el&&s(this._el)},i.percentageInView=function(){return this._el?n(this._el):0},i.getElement=function(){return this._el},i.getElementId=function(){return void 0===this._elId&&(this._elId=this._el.getAttribute("id")||null),this._elId},i.destroy=function(){this._isShown&&(this._isShown=null,this._el.classList.remove(l.CSS_CURRENT_ITEM,l.CSS_LAST_ITEM,l.CSS_NEXT_ITEM,l.CSS_PREVIOUS_ITEM),this._removeCurrentClassFromTriggers()),this.removeAllTriggers(),this._setTabIndexOnFocusableItems(null),this._el.removeAttribute("aria-hidden"),this._el.removeAttribute("role"),this._el.removeAttribute("aria-labelledby"),this._isACaption=null,this._triggerKeys=null,this._triggerEls=null,this._el=null},i._addCurrentClassToTriggers=function(){var t,e,i;for(e in this._triggerEls)for(i=this._triggerEls[e].length;i--;)(t=this._triggerEls[e][i]).setAttribute("aria-selected","true"),t.classList.add(u)},i._removeCurrentClassFromTriggers=function(){var t,e,i;for(e in this._triggerEls)for(i=this._triggerEls[e].length;i--;)(t=this._triggerEls[e][i]).setAttribute("aria-selected","false"),t.classList.remove(u)},i._cleanElementTrigger=function(t,e){t.removeAttribute("aria-selected"),t.removeAttribute("role"),t.removeAttribute("tabindex"),t.removeAttribute("aria-controls"),t.removeEventListener(e,this._onTriggered),this._isShown&&t.classList.remove(u)},i._onKeyboardInteraction=function(t){this.isInView()&&this._onTriggered(t)},i._setTabIndexOnFocusableItems=function(t){for(var e,i=null===t,s=(this._currentTabbableEls=this._currentTabbableEls||r.getTabbableElements(this._el),i||(e=r.getTabbableElements(this._el),this._currentTabbableEls=e),this._currentTabbableEls.length);s--;)i?this._currentTabbableEls[s].removeAttribute("tabindex"):this._currentTabbableEls[s].setAttribute("tabindex",t)},i._onTriggered=function(t){t.preventDefault(),this.trigger(l.SELECTED,{item:this,interactionEvent:t})},t.exports=l},85014:function(t,e,i){"use strict";var s=i(77053),n=i(94489),r=i(83285),o=i(86912),a=i(89773),h=i(81528),u=i(6310),l=i(37994);n.create=i(26721),n.autoCreate=i(9879),n.extend=s,r.extend=s,o.extend=s,a.extend=s,h.extend=s,u.extend=s,l.extend=s,t.exports={Gallery:n,AutoGallery:r,FadeGallery:o,FadeGalleryItem:a,SlideGallery:h,SlideGalleryItem:u,Item:l,TabNav:i(63962)}},84240:function(t){"use strict";var s;try{s=Object(function(){var t=new Error("Cannot find module 'ac-analytics'");throw t.code="MODULE_NOT_FOUND",t}()).Gallery}catch(t){}function e(){this._observers={}}var i=e.prototype;i.add=function(t,e){var i=t.getId();s&&!this._observers[i]&&((e=e||{}).galleryName||(e.galleryName=this._getAnalyticsId(t,e.dataAttribute)||i),e.beforeUpdateEvent||(e.beforeUpdateEvent="update"),e.afterUpdateEvent||(e.afterUpdateEvent="update:complete"),(t=new s(t,e)).gallery&&(this._observers[i]=t))},i.remove=function(t){t=t.getId();s&&this._observers[t]&&("function"==typeof this._observers[t].destroy&&this._observers[t].destroy(),this._observers[t]=null)},i._getAnalyticsId=function(t,e){return"function"==typeof t.getElement?(e=e||"data-analytics-gallery-id",(t=t.getElement()).getAttribute(e)||t.getAttribute("id")):null},t.exports=e},83285:function(t,e,i){"use strict";i(7312);var s=i(14472),n=i(65115),r=i(81324),o=i(22258),a=i(17650),h=i(94489),u=i(36266),l=i(28352).PointerTracker,c=i(63962),d="disabled",p=i(37710),m='Container element needed when autoPlay is on. Use the "container" option when you instantiate your gallery.';function f(t,e){if(e=e||{},!t||1!==t.nodeType)throw new Error("No element supplied.");if(this._el=t,h.call(this,e),this._itemHeights=[],this._itemHeightsLookup={},this._tabNavDuration=e.tabNavDuration,this._tabNavPaddles=!1!==e.tabNavPaddles,this._isRightToLeft=void 0===e.rightToLeft?"rtl"===window.getComputedStyle(t).direction:e.rightToLeft,this._keyboardThrottleDelay=1e3*(void 0===e.keyboardThrottleDelay?.12:e.keyboardThrottleDelay),this._resizeContainer=!!e.resizeContainer,this._setUpContainerAutoResize(e.resizeContainerOnUpdate),this._createTabNav(),this._addPaddleNav(e.addPaddleNav),this._isACaptionsGallery=""===t.getAttribute("data-ac-gallery-captions"),this._addItems(e.itemSelector||"[data-ac-gallery-item]"),this._wrapAround||this._updatePaddleNavState(),!1!==e.enableArrowKeys&&(this._enableArrowKeys=!0,this._addKeyboardListener()),!1!==e.updateOnWindowResize&&(this._onWindowResize=this._onWindowResize.bind(this),window.addEventListener("resize",this._onWindowResize)),this._componentsContainer=document.getElementById(e.container),e.startAt&&this._startAt(e.startAt),this.stopAutoPlay=this.stopAutoPlay.bind(this),e.autoPlay){if(!this._componentsContainer)throw new Error(m);var i="number"==typeof e.autoPlay?e.autoPlay:3;this.startAutoPlay(i)}!1!==e.deeplink&&(i=this._getDeeplinkedItem())&&i!==this._currentItem&&this.show(i),!1!==this._containerResizeDuration&&(i=this._itemHeightsLookup[this._currentItem.getElementId()])&&this._setElHeight(i),this._tabNav&&this._tabNav.start(),this._setUpSwiping(e.touch&&o(),e.desktopSwipe),this._componentsContainer&&this._componentsContainer.setAttribute("tabIndex",-1);i=t.getAttribute("data-related-gallery");if(i&&(this._captionsContainer=document.querySelector(i)),e.enableCaptions){if(!this._captionsContainer)throw new Error('Captions datatag needed when enableCaptions is on. Use the "data-related-gallery" tag (with an ID of the related captions container) on your gallery container to automatically use captions.');this._captionsOptions=e.captionsOptions||!1,this.enableCaptions()}}f.RESIZED="resized",f.UPDATE=h.UPDATE,f.UPDATE_COMPLETE=h.UPDATE_COMPLETE;var _=h.prototype,i=f.prototype=Object.create(_);i.addItem=function(t,e){if(t.nodeType){var i=this._isACaptionsGallery;t=new this._itemType(t,{isACaption:i})}else if(-1<this._items.indexOf(t))return t;return this._resizeContainer&&this._storeItemHeight(t,!1===this._containerResizeDuration),this._addItemTriggers(t),_.addItem.call(this,t,e)},i.removeItem=function(t,e){if(this._resizeContainer)for(var i=this._itemHeights.length;i--;)this._itemHeights[i].item===t&&(this._itemHeights.splice(i,1),0===i&&this._itemHeights.length&&this._setElHeight(this._itemHeights[0].height));return _.removeItem.call(this,t,e)},i.startAutoPlay=function(t,e){if(e=e||{},this._isAutoPlaying=!0,this._autoPlayDelay=1e3*(t||3),this._cancelAutoPlayOnInteraction=void 0===e.cancelOnInteraction||e.cancelOnInteraction,clearTimeout(this._autoPlayTimeoutId),this._autoPlayTimeoutId=setTimeout(this._onAutoPlayToNextItem.bind(this),this._autoPlayDelay),this._cancelAutoPlayOnInteraction&&this.on(h.UPDATE,this.stopAutoPlay),!this._componentsContainer)throw new Error(m);this._componentsContainer.addEventListener("focus",this.stopAutoPlay,!0),this._componentsContainer.addEventListener("touchend",this.stopAutoPlay,!0),this._componentsContainer.addEventListener("click",this.stopAutoPlay,!0)},i.stopAutoPlay=function(){this._isAutoPlaying=!1,clearTimeout(this._autoPlayTimeoutId),this._cancelAutoPlayOnInteraction&&this.off(h.UPDATE,this.stopAutoPlay),this._componentsContainer&&(this._componentsContainer.removeEventListener("focus",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("touchend",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("click",this.stopAutoPlay,!0))},i.getElement=function(){return this._el},i.getTabNav=function(){return this._tabNav||null},i.resize=function(t,e){if(this._resizeContainer){this._itemHeights=[];for(var i=this._items.length;i--;)this._storeItemHeight(this._items[i],!1);!1!==this._containerResizeDuration?this._setElHeight(this._itemHeightsLookup[this._currentItem.getElementId()]):this._setElHeight(this._itemHeights[0].height)}this._tabNav&&this._tabNav.resize(),this.trigger(f.RESIZED,this)},i.enableKeyboard=function(){this._enableArrowKeys||(this._enableArrowKeys=!0,this._addKeyboardListener())},i.disableKeyboard=function(){this._enableArrowKeys&&(this._enableArrowKeys=!1,u.offDown(s.ARROW_RIGHT,this._rightArrowFunc),u.offDown(s.ARROW_LEFT,this._leftArrowFunc))},i.enableTouch=function(){this._touchSwipe||this._setUpSwiping(!0,!1)},i.disableTouch=function(){this._touchSwipe&&(this._touchSwipe.off(l.END,this._onSwipeEnd),this._touchSwipe.destroy(),this._touchSwipe=null)},i.enableDesktopSwipe=function(){this._clickSwipe||this._setUpSwiping(!1,!0)},i.disableDesktopSwipe=function(){this._clickSwipe&&(this._clickSwipe.off(l.END,this._onSwipeEnd),this._clickSwipe.destroy(),this._clickSwipe=null)},i.enableCaptions=function(){this._galleryWithCaptions||this._initCaptionsGallery(this._captionsContainer,this._captionsOptions)},i.disableCaptions=function(){this._galleryWithCaptions&&this._galleryWithCaptions.destroy()},i.destroy=function(t){var e;if(this._isAutoPlaying&&this.stopAutoPlay(),this._componentsContainer&&(this._componentsContainer.removeEventListener("focus",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("touchend",this.stopAutoPlay,!0),this._componentsContainer.removeEventListener("click",this.stopAutoPlay,!0)),this._resizeContainer&&(this._el.style.height=null,this._el.style[a.transition]=null),this._enableArrowKeys&&(u.offDown(s.ARROW_RIGHT,this._rightArrowFunc),u.offDown(s.ARROW_LEFT,this._leftArrowFunc)),this._previousButtons){for(e=this._previousButtons.length;e--;)this._previousButtons[e].removeEventListener("click",this._onPaddlePrevious);this._setPaddleDisabledState(this._previousButtons,!1)}if(this._nextButtons){for(e=this._nextButtons.length;e--;)this._nextButtons[e].removeEventListener("click",this._onPaddleNext);this._setPaddleDisabledState(this._nextButtons,!1)}return this._dynamicPaddleNav&&this._el.removeChild(this._dynamicPaddleNav),this._hasPaddleNavStateHandler&&this.off(h.UPDATE,this._updatePaddleNavState),this.disableTouch(),this.disableDesktopSwipe(),this.disableCaptions(),this._tabNav&&(this._tabNav.destroy(),this._tabNav=null),window.removeEventListener("resize",this._onWindowResize),this._el=null,this._itemHeights=null,this._itemHeightsLookup=null,this._resizeContainer=null,this._isRightToLeft=null,this._enableArrowKeys=null,this._previousButtons=null,this._onPaddlePrevious=null,this._nextButtons=null,this._onPaddleNext=null,this._isACaptionsGallery=null,this._componentsContainer=null,this._galleryWithCaptions=null,this._captionsContainer=null,this._captionsOptions=null,_.destroy.call(this,t)},i._getDeeplinkedItem=function(){for(var t,e=window.location.hash.substr(1),i=this._items.length;i--;)if(e===(t=this._items[i]).getElementId())return t;return null},i._addItems=function(t){for(var e,i=this._el.querySelectorAll(t),s=0,n=i.length,r=this._isACaptionsGallery;s<n;s++)e=new this._itemType(i[s],{isACaption:r}),this.addItem(e),this._addItemTriggers(e)},i._createTabNav=function(){var t=this._getElementId(),t=document.querySelector('[data-ac-gallery-tabnav="'+t+'"]');t&&(this._tabNav=new c(t,this,{duration:this._tabNavDuration,usePaddles:this._tabNavPaddles}))},i._addItemTriggers=function(t,e){for(var i=Array.from(document.querySelectorAll('[data-ac-gallery-trigger="'+t.getElementId()+'"]')),s=0,n=(i=e&&e.length?i.concat(e):i).length;s<n;s++)t.addElementTrigger(i[s]),this._tabNav&&this._tabNav.addTrigger(i[s],t)},i._addPaddleNav=function(t){var e,i=this._getElementId(),t=(t&&(t=(t="string"==typeof t?t:p).replace(/%ID%/g,this._getElementId()),this._dynamicPaddleNav=document.createElement("div"),this._dynamicPaddleNav.innerHTML=t,this._el.insertBefore(this._dynamicPaddleNav,this._el.firstChild)),this._previousButtons=document.querySelectorAll('[data-ac-gallery-previous-trigger="'+i+'"]'),this._nextButtons=document.querySelectorAll('[data-ac-gallery-next-trigger="'+i+'"]'),this._el.getAttribute("aria-label")||"");if(t.length&&(t="("+t+")"),this._onPaddlePrevious=this._onPaddleInteraction.bind(null,this.showPrevious),e=this._previousButtons.length){var s=this._el.getAttribute("data-ac-gallery-previouslabel");for(s&&t.length&&(this._isRightToLeft?s=t+" "+s:s+=" "+t);e--;)s&&null===this._previousButtons[e].getAttribute("aria-label")&&this._previousButtons[e].setAttribute("aria-label",s),this._previousButtons[e].addEventListener("click",this._onPaddlePrevious)}if(this._onPaddleNext=this._onPaddleInteraction.bind(null,this.showNext),e=this._nextButtons.length){var n=this._el.getAttribute("data-ac-gallery-nextlabel");for(n&&t.length&&(this._isRightToLeft?n=t+" "+n:n+=" "+t);e--;)n&&null===this._nextButtons[e].getAttribute("aria-label")&&this._nextButtons[e].setAttribute("aria-label",n),this._nextButtons[e].addEventListener("click",this._onPaddleNext)}(this._nextButtons.length||this._previousButtons.length)&&(this._hasPaddleNavStateHandler=!0,this._updatePaddleNavState=this._updatePaddleNavState.bind(this),this.on(h.UPDATE,this._updatePaddleNavState))},i._onPaddleInteraction=function(t,e){e.preventDefault(),t.call(null,{interactionEvent:e})},i._updatePaddleNavState=function(){var t;this._wrapAround?(this._setPaddleDisabledState(this._previousButtons,!1),this._setPaddleDisabledState(this._nextButtons,!1)):0===(t=this._items.indexOf(this._currentItem))&&this._previousButtons.length?(this._setPaddleDisabledState(this._previousButtons,!0),this._setPaddleDisabledState(this._nextButtons,!1)):t===this._items.length-1&&this._nextButtons.length?(this._setPaddleDisabledState(this._nextButtons,!0),this._setPaddleDisabledState(this._previousButtons,!1)):(this._setPaddleDisabledState(this._previousButtons,!1),this._setPaddleDisabledState(this._nextButtons,!1))},i._setPaddleDisabledState=function(t,e){for(var i=t.length;i--;)(t[i].disabled=e)?t[i].classList.add(d):t[i].classList.remove(d)},i._addKeyboardListener=function(){var t,e;this._enableArrowKeys&&(this._onKeyboardInteraction=this._onKeyboardInteraction.bind(this),e=this._isRightToLeft?(t=this.showPrevious,this.showNext):(t=this.showNext,this.showPrevious),this._rightArrowFunc=r(this._onKeyboardInteraction.bind(null,t),this._keyboardThrottleDelay),this._leftArrowFunc=r(this._onKeyboardInteraction.bind(null,e),this._keyboardThrottleDelay),u.onDown(s.ARROW_RIGHT,this._rightArrowFunc),u.onDown(s.ARROW_LEFT,this._leftArrowFunc))},i._onKeyboardInteraction=function(t,e){var i;!this.isInView()||n()||1<(i=h.getAllInView()).length&&(i.sort(function(t,e){return t=t._enableArrowKeys?t.getCurrentItem().percentageInView():0,(e=e._enableArrowKeys?e.getCurrentItem().percentageInView():0)-t}),this!==i[0])||t.call(null,{interactionEvent:e})},i._setUpSwiping=function(t,e){this._onSwipeEnd=this._onSwipeEnd.bind(this),t&&(this._touchSwipe=new l(this._el,l.TOUCH_EVENTS),this._touchSwipe.on(l.END,this._onSwipeEnd)),e&&(this._clickSwipe=new l(this._el,l.MOUSE_EVENTS),this._clickSwipe.on(l.END,this._onSwipeEnd))},i._onSwipeEnd=function(t){var e,i=t.interactionEvent,s={interactionEvent:(s="touchend"!==i.type||"touchstart"!==i.type||"touchmove"!==i.type?{type:"touchmove",target:i.target,srcElement:i.srcElement}:s)||i};return t.swipe===l.SWIPE_RIGHT?e=this._isRightToLeft?this.showNext:this.showPrevious:t.swipe===l.SWIPE_LEFT&&(e=this._isRightToLeft?this.showPrevious:this.showNext),e?e.call(this,s):null},i._getElementId=function(){return void 0===this._elementId&&(this._elementId=this._el.getAttribute("id")),this._elementId},i._setUpContainerAutoResize=function(t){this._containerResizeDuration="number"==typeof t?t:!!t&&.5,!1!==this._containerResizeDuration&&(this._resizeContainer=!0,this._updateContainerSize=this._updateContainerSize.bind(this),this.on(h.UPDATE,this._updateContainerSize))},i._updateContainerSize=function(t){!t.incoming||(t=this._itemHeightsLookup[t.incoming[0].getElementId()])&&this._setElHeight(t,this._containerResizeDuration)},i._storeItemHeight=function(t,e){this._itemHeights.push({item:t,height:t.getElement().scrollHeight}),this._itemHeightsLookup[t.getElementId()]=t.getElement().scrollHeight,this._itemHeights.sort(function(t,e){return e.height-t.height}),e&&this._itemHeights[0].item===t&&this._setElHeight(t.getElement().scrollHeight)},i._setElHeight=function(t,e){null!==e&&"number"==typeof e&&(this._el.style[a.transition]="height "+e+"s"),this._el.style.height=t+"px"},i._initCaptionsGallery=function(t,e){t&&(this._galleryWithCaptions=h.create(t,"fade",e||{crossFade:!0}),this._enableArrowKeys&&(this._galleryWithCaptions._enableArrowKeys=!1),this.on(h.UPDATE,function(t){t=this.getItemIndex(t.incoming[0]);this._galleryWithCaptions.show(t)}.bind(this)))},i._onAutoPlayToNextItem=function(){this._isAutoPlaying&&(!document.hidden&&this._currentItem.isInView()?(this._cancelAutoPlayOnInteraction&&this.off(h.UPDATE,this.stopAutoPlay),null!==this.showNext()&&(this._cancelAutoPlayOnInteraction&&this.on(h.UPDATE,this.stopAutoPlay),clearTimeout(this._autoPlayTimeoutId),this._autoPlayTimeoutId=setTimeout(this._onAutoPlayToNextItem.bind(this),this._autoPlayDelay))):(clearTimeout(this._autoPlayTimeoutId),this._autoPlayTimeoutId=setTimeout(this._onAutoPlayToNextItem.bind(this),this._autoPlayDelay)))},i._onWindowResize=function(t){window.requestAnimationFrame(function(){this._el&&this.resize()}.bind(this))},t.exports=f},9879:function(t,e,i){"use strict";var n=i(26721),r=i(94489);t.exports=function(t){for(var e=(t=t||{}).context||document.body,i=e.querySelectorAll(r.SLIDE_SELECTOR),s=i.length;s--;)n(i[s],r.SLIDE,t);for(s=(i=e.querySelectorAll(r.FADE_SELECTOR)).length;s--;)n(i[s],r.FADE,t);return r.getAll()}},26721:function(t,e,i){"use strict";var n=i(86912),r=i(94489),o=i(81528),a=r.FADE_SELECTOR.replace(/\[|\]/g,""),h=r.SLIDE_SELECTOR.replace(/\[|\]/g,"");t.exports=function(t,e,i){var s;if("string"==typeof e&&(e===r.SLIDE?s=o:e===r.FADE&&(s=n)),void 0===s&&(null!==t.getAttribute(h)?s=o:null!==t.getAttribute(a)&&(s=n)),void 0===s)throw new Error("%TYPE% is not a supported gallery type and el has no gallery data attribute.".replace(/%TYPE%/g,e));return new s(t,i)}},86912:function(t,e,i){"use strict";i(74305);var s=i(89773),n=i(83285);function r(t,e){if((e=Object.assign({},e)).itemType=e.itemType||s,this._fadeDuration=void 0!==e.duration?e.duration:.5,e.tabNavDuration=void 0!==e.tabNavDuration?e.tabNavDuration:this._fadeDuration,this._crossFade=e.crossFade,this._zIndexBase=e.startZIndex||1,this._ease=e.ease,!0===e.resizeContainerOnUpdate&&(e.resizeContainerOnUpdate=this._fadeDuration),this._onItemShowComplete=this._onItemShowComplete.bind(this),n.call(this,t,e),e.startZIndex)for(var i=this._items.length;i--;)this._items[i].getElement().style.zIndex=this._zIndexBase;this._currentItem&&this._currentItem.fadeIn(0,this._ease,this._zIndexBase+2)}r.RESIZED=n.RESIZED,r.UPDATE=n.UPDATE,r.UPDATE_COMPLETE=n.UPDATE_COMPLETE;var o=n.prototype,i=r.prototype=Object.create(o);i.addItem=function(t,e){t.nodeType&&(t=new this._itemType(t));e=o.addItem.call(this,t,e);return t!==this._currentItem?t.fadeOut():t.fadeIn(0),e},i.destroy=function(t){t=o.destroy.call(this,t);return this._fadeDuration=null,this._crossFade=null,this._zIndexBase=null,this._ease=null,this._onItemShowComplete=null,t},i._startAt=function(t){t=this._items[t];t&&this._currentItem!==t&&(this._currentItem.fadeOut(0),this._currentItem.hide(),this._setCurrentItem(t),this._currentItem.show(),this._currentItem.fadeIn(0),this.trigger(r.UPDATE,this._items))},i._onItemShowComplete=function(t){t&&t.target()!==this._currentItem.getElement()?this._currentItem.isFading()||(this._prepareForTransition(),this._currentItem.fadeIn(this._fadeDuration,this._ease,this._zIndexBase+2,this._onItemShowComplete)):(this._prepareForTransition(!0),this._incomingOutgoingItems&&this.trigger(r.UPDATE_COMPLETE,this._incomingOutgoingItems))},i._updateItems=function(t){var e;this._itemChanged&&(this._crossFade?(this._prepareForTransition(),e=function(){this.trigger(r.UPDATE_COMPLETE,t),this._itemChanged=!1}.bind(this),t.outgoing[0].fadeOut(.99*this._fadeDuration,this._ease),t.incoming[0].fadeIn(this._fadeDuration,this._ease,this._zIndexBase+2,e)):(this._incomingOutgoingItems=t).outgoing[0].isFading()||(this._prepareForTransition(),t.incoming[0].fadeIn(this._fadeDuration,this._ease,this._zIndexBase+2,this._onItemShowComplete)),t.outgoing[0].hide(),t.incoming[0].show())},i._prepareForTransition=function(t){for(var e,i=this._items.length;i--;)(e=this._items[i])!==this._currentItem&&(t&&e.fadeOut(),e.getElement().style.zIndex=this._zIndexBase);this._lastItem._el.style.zIndex=this._zIndexBase+1},t.exports=r},89773:function(t,e,i){"use strict";var n=i(59039),r=i(97253),s=i(54372),o=i(37994);function a(t,e){o.call(this,t,e),t.style.position="absolute"}a.SELECTED=o.SELECTED,a.SHOW=o.SHOW,a.HIDE=o.HIDE;var h=o.prototype,i=a.prototype=Object.create(h);i.fadeIn=function(t,e,i,s){this._el.style.zIndex=i||1,t?(this._destroyCurrentClip(),this._clip=n(this._el,0,1,t,{ease:e,onComplete:s})):r(this._el,0)},i.fadeOut=function(t,e){t?(this._destroyCurrentClip(),this._clip=s(this._el,t,{ease:e})):s(this._el,0)},i.isFading=function(){return!(!this._clip||!this._clip.playing())},i.destroy=function(){this._el.style.position=null,this._el.style.opacity=null,this._el.style.zIndex=null,h.destroy.call(this),this._destroyCurrentClip(),this._clip=null},i._destroyCurrentClip=function(){this._clip&&this._clip._el&&this._clip.destroy()},t.exports=a},77053:function(t,e,i){"use strict";i(74305),t.exports=function(t){function e(){i.apply(this,arguments)}var i=this,s=Object.create(this.prototype);return e.prototype=Object.assign(s,t),Object.assign(e,this),e}},59752:function(t){"use strict";t.exports=function(t,e){var i=window.getComputedStyle(t),e=e?t.clientWidth:t.scrollWidth;return Math.round(e+parseFloat(i.marginRight)+parseFloat(i.marginLeft))}},65115:function(t){"use strict";t.exports=function(){return-1<["input","select","textarea"].indexOf(document.activeElement.nodeName.toLowerCase())}},63962:function(t,e,i){"use strict";var s=i(87383),n=i(19273),r=i(95350).EventEmitterMicro,o=i(94489);function a(t,e,i){i=i||{},this._el=t,this._gallery=e,this._triggers={},this._ordered=[],i.scrollDuration=void 0===i.duration?.5:i.duration,this.tabnav=new n(t,i),r.call(this)}var h=r.prototype,i=a.prototype=Object.create(h);i.start=function(){this._onWindowLoad=this._onWindowLoad.bind(this),this._onGalleryUpdated=this._onGalleryUpdated.bind(this),this._gallery.on(o.UPDATE,this._onGalleryUpdated),this.resize(),window.addEventListener("load",this._onWindowLoad)},i.addTrigger=function(t,e){void 0===this._triggers[e.getElementId()]&&-1<s(t).indexOf(this._el)&&(t={el:t},this._triggers[e.getElementId()]=t,this._ordered.push(t))},i.resize=function(){var t;this._ordered.length&&this.tabnav._wrapper.scrollWidth>this.tabnav.el.scrollWidth&&(t=this._triggers[this._gallery.getCurrentItem().getElementId()])&&this.tabnav.centerItem(t.el)},i.destroy=function(){return this._gallery.off(o.UPDATE,this._onGalleryUpdated),window.removeEventListener("load",this._onWindowLoad),this._el=null,this._gallery=null,this._triggers=null,this._ordered=null,this._clip=null,h.destroy.call(this)},i._onWindowLoad=function(){window.removeEventListener("load",this._onWindowLoad),this.resize()},i._onGalleryUpdated=function(t){t=this._triggers[t.incoming[0].getElementId()];t&&(this.tabnav.centerItem(t.el),t.el.focus())},t.exports=a},13224:function(t,e,i){"use strict";i=i(84240);t.exports=new i},81528:function(t,e,i){"use strict";i(7312),i(74305);var c=i(59752),s=i(96547),n=i(17650),r=i(83285),o=i(28352).PointerTracker,a=i(6310),h=i(96667);function u(t,e){(e=Object.assign({},e)).itemType=e.itemType||a,this._itemsPerSlide=e.itemsPerSlide||1;var i=!1!==e.deeplink;e.deeplink=!1,this._slideDuration=void 0!==e.duration?e.duration:.5,e.tabNavDuration=void 0!==e.tabNavDuration?e.tabNavDuration:this._slideDuration,this._itemCenterPoint=void 0!==e.itemCenterPoint?e.itemCenterPoint:.5,this._edgePullResistance=e.edgePullResistance||!0,this._useClientWidthForItemWidth=e.useItemClientWidth||!1,this._slideOptions={ease:e.ease},!0===e.resizeContainerOnUpdate&&(e.resizeContainerOnUpdate=this._slideDuration),e.touch=!1!==e.touch,this._originalWrapAround=e.wrapAround||!1,r.call(this,t,e),i&&(t=this._getDeeplinkedItem())&&this._currentItem!==t&&(this._currentItem.hide(),this._setCurrentItem(t),this._currentItem.show()),this._positionItems=this._positionItems.bind(this),this._createContainer(),0!==this._items.length&&this._positionItems(),this._isInstantiated=!0}u.RESIZED=r.RESIZED,u.UPDATE=r.UPDATE,u.UPDATE_COMPLETE=r.UPDATE_COMPLETE;var l=r.prototype,i=u.prototype=Object.create(l);i.addItem=function(t,e){t.nodeType&&(t=new this._itemType(t));e=l.addItem.call(this,t,e);return void 0!==this._containerEl&&(this._addItemToContainer(t),this._positionItems()),this._updateWrapAround(),e},i.removeItem=function(t,e){var i;return this._containerEl&&t.getElement().parentElement===this._containerEl?((i=t.getOriginalParentElement())?i.appendChild(t.getElement()):"function"==typeof t.removeItems&&(t.removeItems(),e.destroyItem=!0),i=l.removeItem.call(this,t,e),this._currentItem&&this._positionItems(this._currentItem),this._updateWrapAround(),i):l.removeItem.call(this,t,e)},i.resize=function(){return this._positionItems(),this._snapToPosition(this._currentItem.position()),l.resize.call(this)},i.destroy=function(t){this._destroyCurrentClip(),this._clip=null;for(var e=this._items.length;e--;)this._items[e].off(a.CENTER_POINT_CHANGED,this._positionItems);this._touchSwipe&&(this._touchSwipe.off(o.START,this._onSwipeStart),this._touchSwipe.off(o.UPDATE,this._onSwipeUpdate)),this._clickSwipe&&(this._clickSwipe.off(o.START,this._onSwipeStart),this._clickSwipe.off(o.UPDATE,this._onSwipeUpdate));var i=this._el,t=l.destroy.call(this,t);return i.removeChild(this._containerEl),this._containerEl=null,this._slideDuration=null,this._itemCenterPoint=null,this._positionItems=null,this._slideOptions=null,t},i._addItems=function(t){if(1<this._itemsPerSlide)for(var e,i,s=this._el.querySelectorAll(t),n=0,r=0,o=s.length;r<o;r++)(e=0===n?new h(this._useClientWidthForItemWidth):e).addItem(s[r]),(i=s[r].getAttribute("id"))&&(i=Array.from(document.querySelectorAll("[data-ac-gallery-trigger="+i+"]")),this._addItemTriggers(e,i)),++n!==this._itemsPerSlide&&r!==o-1||(n=0,e.resize(),this.addItem(e));else l._addItems.call(this,t)},i._createContainer=function(){this._containerEl=document.createElement("div"),this._containerEl.classList.add("ac-gallery-slidecontainer"),this._containerEl.style.position="absolute",this._containerEl.style.top="0",this._containerEl.style.left="0",this._containerEl.style.width="100%",this._containerEl.style.height="100%",this._el.appendChild(this._containerEl);for(var t=0,e=this._items.length;t<e;t++)this._addItemToContainer(this._items[t])},i._addItemToContainer=function(t){this._containerEl.appendChild(t.getElement()),this._resizeContainer&&1<this._itemsPerSlide&&this._storeItemHeight(t,!1===this._containerResizeDuration),t.on(a.CENTER_POINT_CHANGED,this._positionItems)},i._positionItems=function(t){t=t||this._currentItem;for(var e,i,s,n,r=this._items,o=(this._wrapAround&&(r=this._shuffleItems()),this._getActualPositionX()-t.position()||0),a=parseInt(window.getComputedStyle(this._el).width,10),h=0,u=0,l=r.length;u<l;u++)(e=r[u]).resize(),(i=e.getElement()).style.left=h+"px",s=a-(i=c(i,this._useClientWidthForItemWidth)),n=e.centerPoint&&null!==e.centerPoint()?e.centerPoint():this._itemCenterPoint,e.position(-1*h+s*n),this._isRightToLeft?h-=i:h+=i;h=t.position()+o,this._snapToPosition(h)},i._getActualPositionX=function(){var t=window.getComputedStyle(this._containerEl)[n.transform];if(t===this._transformStyles&&void 0!==this._actualPositionX)return this._actualPositionX;this._transformStyles=t;t=this._transformStyles.split(",");return this._actualPositionX=t[4]||this._currentItem.position(),+this._actualPositionX},i._snapToPosition=function(t){this._destroyCurrentClip(),this._positionX=t,this._containerEl.style[n.transition]="transform 0s, left 0s",s(this._containerEl,t,0,this._slideOptions)},i._slideToPosition=function(t,e,i){this._positionX=t,this._clip=s(this._containerEl,t,e,{ease:this._slideOptions.ease,onComplete:i})},i._setUpSwiping=function(t,e){t=l._setUpSwiping.call(this,t,e);return this._onSwipeStart=this._onSwipeStart.bind(this),this._onSwipeUpdate=this._onSwipeUpdate.bind(this),this._touchSwipe&&(this._touchSwipe.on(o.START,this._onSwipeStart),this._touchSwipe.on(o.UPDATE,this._onSwipeUpdate)),this._clickSwipe&&(this._clickSwipe.on(o.START,this._onSwipeStart),this._clickSwipe.on(o.UPDATE,this._onSwipeUpdate)),t},i._onSwipeStart=function(t){this._clip&&this._clip.playing()&&(this._destroyCurrentClip(),this._positionX=this._getActualPositionX())},i._onSwipeUpdate=function(t){this._destroyCurrentClip();var e=this.getItems().slice(-1)[0].position(),e=0<this._positionX||this._positionX<e,t=t.diffX;this._edgePullResistance&&!this._wrapAround&&e&&(t*=.5),this._snapToPosition(this._positionX-t)},i._onSwipeEnd=function(t){var e=l._onSwipeEnd.call(this,t);return e=null===e?this.show(this._currentItem,{interactionEvent:t.interactionEvent}):e},i._shuffleItems=function(){var t,e,i,s,n,r;return 2!==this._items.length||this._isAutoPlaying?(s=this._items.length,(t=this._items.indexOf(this._currentItem))<(e=Math.floor(.5*s))?(s=s-(i=e-t),n=this._items.slice(s),r=this._items.slice(0,s),n.concat(r)):e<t?(n=this._items.slice(0,i=t-e),(r=this._items.slice(i)).concat(n)):this._items):this._items.slice()},i._storeItemHeight=function(t,e){var i;if(1<this._itemsPerSlide){for(var s=[],n=0;n<t.getElement().children.length;n++)s.push(t.getElement().children[n].scrollHeight);i=Math.max.apply(null,s)}else i=t.getElement().scrollHeight;i&&(this._itemHeights.push({item:t,height:i}),this._itemHeightsLookup[t.getElementId()]=i,this._itemHeights.sort(function(t,e){return e.height-t.height}),e&&this._itemHeights[0].item===t&&this._setElHeight(i))},i._updateItems=function(t){var e,i;this._destroyCurrentClip(),this._wrapAround&&this._positionItems(t.outgoing[0]),-1<this.getItemIndex(t.outgoing[0])?(e=this._itemChanged?function(){this.trigger(u.UPDATE_COMPLETE,t),this._itemChanged=!1}.bind(this):null,i=this._slideDuration,this._slideToPosition(t.incoming[0].position(),i,e),t.incoming[0]!==t.outgoing[0]&&(t.incoming[0].show(),t.outgoing[0].hide())):(this._slideToPosition(this._currentItem.position(),this._slideDuration),t.incoming[0].show(),this._itemChanged&&(this.trigger(u.UPDATE_COMPLETE,t),this._itemChanged=!1))},i._updateWrapAround=function(){this._items.length<=2?this._wrapAround=!1:this._originalWrapAround&&(this._wrapAround=this._originalWrapAround),this._isInstantiated&&(this._previousButtons||this._nextButtons)&&this._updatePaddleNavState()},i._destroyCurrentClip=function(){this._clip&&this._clip.playing()&&this._clip.destroy()},t.exports=u},6310:function(t,e,i){"use strict";var s=i(17650),n=i(37994);function r(t,e){n.call(this,t,e),t.style.position="absolute",t.style[s.transform]="translateZ(0)",this._parentElement=t.parentElement}r.CENTER_POINT_CHANGED="centerpointchanged",r.SELECTED=n.SELECTED,r.SHOW=n.SHOW,r.HIDE=n.HIDE;var o=n.prototype,i=r.prototype=Object.create(o);i.position=function(t){return void 0!==t&&(this._position=t),this._position||0},i.centerPoint=function(t){return void 0!==t&&(this._centerPoint=t,this.trigger(r.CENTER_POINT_CHANGED)),void 0!==this._centerPoint?this._centerPoint:null},i.getOriginalParentElement=function(){return this._parentElement},i.resize=function(){},i.destroy=function(){this._el.style.position=null,this._el.style.left=null,this._el.style[s.transform]=null,o.destroy.call(this)},t.exports=r},96667:function(t,e,i){"use strict";i(7312);var n=i(59752),s=i(6310);function r(t){s.call(this,document.createElement("div")),this._useClientWidthForItemWidth=t,this._items=[],this._currentWidth=0,this._el.classList.add("ac-gallery-slideitemwrapper")}var o=s.prototype,i=r.prototype=Object.create(o);i.addItem=function(t){this._items.push({el:t,parentElement:t.parentElement}),this._el.appendChild(t);var e,i,t=t.getAttribute("id");t&&(i=(e=this._el.getAttribute("id")||"").length?"-":"",this._el.setAttribute("id",e+=i+t))},i.removeItems=function(){for(var t,e,i=0,s=this._items.length;i<s;i++)(t=this._items[i].el).style.position=null,t.style.left=null,(e=this._items[i].parentElement)&&e.appendChild(t)},i.resize=function(){for(var t,e=this._currentWidth=0,i=this._items.length,s="rtl"===document.dir?"right":"left";e<i;e++)(t=this._items[e].el).style.position="absolute",t.style[s]=this._currentWidth+"px",this._currentWidth+=n(t,this._useClientWidthForItemWidth);this._el.style.width=this._currentWidth+"px"},i.destroy=function(){this.removeItems(),this._items=null,this._currentWidth=null;var t=this._el.parentElement;t&&t.removeChild(this._el),o.destroy.call(this)},t.exports=r},37710:function(t){"use strict";t.exports='<div class="paddlenav" data-analytics-gallery-interaction-type="paddlenav"><ul><li><button class="paddlenav-arrow paddlenav-arrow-previous" data-ac-gallery-previous-trigger="%ID%"></button></li><li><button class="paddlenav-arrow paddlenav-arrow-next" data-ac-gallery-next-trigger="%ID%"></button></li></ul></div>'},50194:function(t){"use strict";function e(t,e){this._target=t,this._tests={},this.addTests(e)}var i=e.prototype;i.addTests=function(t){this._tests=Object.assign(this._tests,t)},i._supports=function(t){return void 0!==this._tests[t]&&("function"==typeof this._tests[t]&&(this._tests[t]=this._tests[t]()),this._tests[t])},i._addClass=function(t,e){e=e||"no-",this._supports(t)?this._target.classList.add(t):this._target.classList.add(e+t)},i.htmlClass=function(){for(var t in this._target.classList.remove("no-js"),this._target.classList.add("js"),this._tests)this._tests.hasOwnProperty(t)&&this._addClass(t)},t.exports=e},1981:function(t){"use strict";function e(t,e){this._target=t||document.body,this._attr=e||"data-focus-method",this._focusMethod=this._lastFocusMethod=!1,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onWindowBlur=this._onWindowBlur.bind(this),this._bindEvents()}var i=e.prototype;i._bindEvents=function(){this._target.addEventListener("keydown",this._onKeyDown,!0),this._target.addEventListener("mousedown",this._onMouseDown,!0),this._target.addEventListener("touchstart",this._onTouchStart,!0),this._target.addEventListener("focus",this._onFocus,!0),this._target.addEventListener("blur",this._onBlur,!0),window.addEventListener("blur",this._onWindowBlur)},i._onKeyDown=function(t){this._focusMethod="key"},i._onMouseDown=function(t){"touch"!==this._focusMethod&&(this._focusMethod="mouse")},i._onTouchStart=function(t){this._focusMethod="touch"},i._onFocus=function(t){this._focusMethod||(this._focusMethod=this._lastFocusMethod),t.target.setAttribute(this._attr,this._focusMethod),this._lastFocusMethod=this._focusMethod,this._focusMethod=!1},i._onBlur=function(t){t.target.removeAttribute(this._attr)},i._onWindowBlur=function(t){this._focusMethod=!1},t.exports=e},24822:function(t,e,i){"use strict";i(94054);var s=i(50194),n=i(78843),r=(t.exports=new s(document.documentElement,n),t.exports.FeatureDetect=s,i(1981));document.addEventListener&&document.addEventListener("DOMContentLoaded",function(){new r})},78843:function(t,e,i){"use strict";i=i(22258);t.exports={touch:i,"progressive-image":!0}},61704:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(41678),r=i(37381),o=i(51082),a=i(18163),h="keydown",u="keyup";function l(t){this._keysDown={},this._DOMKeyDown=this._DOMKeyDown.bind(this),this._DOMKeyUp=this._DOMKeyUp.bind(this),this._context=t||document,n(this._context,h,this._DOMKeyDown,!0),n(this._context,u,this._DOMKeyUp,!0),s.call(this)}i=l.prototype=o(s.prototype);i.onDown=function(t,e){return this.on(h+":"+t,e)},i.onceDown=function(t,e){return this.once(h+":"+t,e)},i.offDown=function(t,e){return this.off(h+":"+t,e)},i.onUp=function(t,e){return this.on(u+":"+t,e)},i.onceUp=function(t,e){return this.once(u+":"+t,e)},i.offUp=function(t,e){return this.off(u+":"+t,e)},i.isDown=function(t){return this._keysDown[t+=""]||!1},i.isUp=function(t){return!this.isDown(t)},i.destroy=function(){return r(this._context,h,this._DOMKeyDown,!0),r(this._context,u,this._DOMKeyUp,!0),this._keysDown=null,this._context=null,s.prototype.destroy.call(this),this},i._DOMKeyDown=function(t){var t=this._normalizeKeyboardEvent(t),e=t.keyCode+="";this._trackKeyDown(e),this.trigger(h+":"+e,t)},i._DOMKeyUp=function(t){var t=this._normalizeKeyboardEvent(t),e=t.keyCode+="";this._trackKeyUp(e),this.trigger(u+":"+e,t)},i._normalizeKeyboardEvent=function(t){return new a(t)},i._trackKeyUp=function(t){this._keysDown[t]&&(this._keysDown[t]=!1)},i._trackKeyDown=function(t){this._keysDown[t]||(this._keysDown[t]=!0)},t.exports=l},36266:function(t,e,i){"use strict";i=i(61704);t.exports=new i},18163:function(t,e,i){"use strict";var s=i(2312),n=["keyLocation","keyIdentifier"],r="keyCode";function o(t){for(var e in this.originalEvent=t)-1===n.indexOf(e)&&"function"!=typeof t[e]&&(this[e]=t[e]);this[r]||(this[r]=this._getKeyCode()),this.location=void 0!==this.originalEvent.location?this.originalEvent.location:this.originalEvent.keyLocation}o.prototype={preventDefault:function(){if("function"==typeof this.originalEvent.preventDefault)return this.originalEvent.preventDefault();this.originalEvent.returnValue=!1},stopPropagation:function(){return this.originalEvent.stopPropagation()},_getKeyCode:function(){return s[this.code]||-1}},t.exports=o},2312:function(t){"use strict";t.exports={Backspace:8,Tab:9,Enter:13,NumpadEnter:13,ShiftLeft:16,ShiftRight:16,ControlLeft:17,ControlRight:17,AltLeft:18,AltRight:18,CapsLock:20,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadMultiply:106,NumpadAdd:107,NumpadSubtract:109,NumpadDecimal:110,NumpadDivide:111,NumpadEqual:187,Backquote:192,BracketLeft:219,BracketRight:221,Backslash:220,Semicolon:186,Quote:222,Space:32,Equal:187,Comma:188,Minus:189,Period:190,Slash:191}},14472:function(t){"use strict";t.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,COMMAND:91,CAPSLOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ASTERISK:106,NUMPAD_PLUS:107,NUMPAD_DASH:109,NUMPAD_DOT:110,NUMPAD_SLASH:111,NUMPAD_EQUALS:187,TICK:192,LEFT_BRACKET:219,RIGHT_BRACKET:221,BACKSLASH:220,SEMICOLON:186,APOSTRAPHE:222,APOSTROPHE:222,SPACEBAR:32,CLEAR:12,COMMA:188,DOT:190,SLASH:191}},47104:function(t,e,i){"use strict";var s=i(56695),i=i(97400);t.exports={createFlow:i,createVideo:s}},97400:function(t,e,i){var r=i(15870),o=i(70218);t.exports=function(t,e,i){var s,i=o(i||{},!0);function n(t){throw new Error(t)}return i.type="flow",e?e.basePath||n("Please provide a valid mediaSrc object with a basePath property."):n("Please provide both a valid container element and a valid mediaSrc object as arguments."),i.mediaObjectView?s=i.mediaObjectView:(s=new r(t,e,i)).options.mediaObjectView=s,s}},56695:function(t,e,i){var r=i(67483),o=i(46718),a=i(93707).isHandheld,h=i(93707).isTablet,u=i(70218);t.exports=function(t,e,i){var s,i=u(i||{},!0);function n(t){throw new Error(t)}return i.type="video",e?e.basePath||n("Please provide a valid mediaSrc object with a basePath property."):n("Please provide both a valid container element and a valid mediaSrc object as arguments."),i.mediaObjectView?s=i.mediaObjectView:(s=new(i.iosInline&&!window.matchMedia("(-webkit-video-playable-inline)").matches&&(a()||h())?o:r)(t,e,i)).options.mediaObjectView=s,s}},4645:function(t,e,i){"use strict";var s=i(3927).Model,i=i(4765);function n(t){s.apply(this,arguments)}i=n.prototype=i.create(s.prototype);i.defaultAttributes={type:"video",paused:!0,ended:!1,ready:!1,loadStart:!1,loaded:!1,error:!1,destroyed:!1,currentTime:0,playbackRate:1,duration:0,preload:!1,autoplay:!1,frameRate:24,enhanced:!1,looping:!1},i.getType=function(){return this.get("type")},i.getPaused=function(){return this.get("paused")},i.getEnded=function(){return this.get("ended")},i.getReady=function(){return this.get("ready")},i.getDestroyed=function(){return this.get("destroyed")},i.getLoadStart=function(){return this.get("loadedStart")},i.getLoaded=function(){return this.get("loaded")},i.getError=function(){return this.get("error")},i.getCurrentTime=function(){return this.get("currentTime")},i.getPlaybackRate=function(){return this.get("playbackRate")},i.getDuration=function(){return this.get("duration")},i.getPreload=function(){return this.get("preload")},i.getAutoplay=function(){return this.get("autoplay")},i.getFrameRate=function(){return this.get("frameRate")},i.getEnhanced=function(){return this.get("enhanced")},i.getLooping=function(){return this.get("looping")},i.setPaused=function(t){this.set({paused:t})},i.setEnded=function(t){this.set({ended:t})},i.setReady=function(t){this.set({ready:t})},i.setDestroyed=function(t){this.set({destroyed:t})},i.setDuration=function(t){this.set({duration:t})},i.setLoadStart=function(t){this.set({loadStart:t})},i.setLoaded=function(t){this.set({loaded:t})},i.setError=function(t){this.set({error:t})},i.setCurrentTime=function(t){this.set({currentTime:t})},i.setPlaybackRate=function(t){this.set({playbackRate:t})},i.setPreload=function(t){this.set({preload:t})},i.setAutoplay=function(t){this.set({autoplay:t})},i.setFrameRate=function(t){this.set({frameRate:t})},i.setEnhanced=function(t){this.set({enhanced:t})},i.setLooping=function(t){this.set({looping:t})},t.exports=n},16636:function(t,e,i){"use strict";function s(t,e,i){r.call(this,{element:t}),this.options=o.clone(i||{},!0),this.mediaSrc=e||"",this.model=this.options.model||new n(this.options),this._onLoadStartChange=this._onLoadStartChange.bind(this),this._onLoadedChange=this._onLoadedChange.bind(this),this._onPausedChange=this._onPausedChange.bind(this),this._onReadyChange=this._onReadyChange.bind(this),this._onErrorChange=this._onErrorChange.bind(this),this._onEnhancedChange=this._onEnhancedChange.bind(this),this._onCurrentTimeChange=this._onCurrentTimeChange.bind(this),this._onPlaybackRateChange=this._onPlaybackRateChange.bind(this),this._onDestroyedChange=this._onDestroyedChange.bind(this),this._onEndedChange=this._onEndedChange.bind(this),this._respondToPlay=this._respondToPlay.bind(this),this._respondToPause=this._respondToPause.bind(this),this._respondToTimeUpdate=this._respondToTimeUpdate.bind(this),this._respondToEnded=this._respondToEnded.bind(this),this._respondToDurationChange=this._respondToDurationChange.bind(this),this._respondToRateChange=this._respondToRateChange.bind(this),this._init()}var n=i(4645),r=i(92046).View,o=i(4765),i=s.prototype=o.create(r.prototype);i._init=function(){this._createMediaElement(),this._createMediaEmitter(),this._createMediaLoader(),this._bindEvents(),this._config()},i._createMediaElement=function(){},i._createMediaEmitter=function(){},i._createMediaLoader=function(){},i._config=function(){!0===this.options.preload&&(this._setPreload(!0),this.load()),!0===this.options.autoplay&&this._setAutoplay(!0),!0===this.options.looping&&this._setLooping(!0),this.options.frameRate&&this._setFrameRate(this.options.frameRate)},i._bindEvents=function(){this._bindViewEvents(),this._bindModelEvents()},i.destroy=function(){if(!this.getDestroyed())for(var t in this._destroy(),this._setDestroyed(!0),this.model.off(),this.off(),this)this.hasOwnProperty(t)&&"function"!=typeof this[t]&&(this[t]=null)},i._bindModelEvents=function(){this.model.on("change:loadStart",this._onLoadStartChange),this.model.on("change:loaded",this._onLoadedChange),this.model.on("change:paused",this._onPausedChange),this.model.on("change:ready",this._onReadyChange),this.model.on("change:error",this._onErrorChange),this.model.on("change:enhanced",this._onEnhancedChange),this.model.on("change:currentTime",this._onCurrentTimeChange),this.model.on("change:playbackRate",this._onPlaybackRateChange),this.model.on("change:destroyed",this._onDestroyedChange),this.model.on("change:ended",this._onEndedChange)},i._onLoadStartChange=function(){this.trigger("loadstart")},i._onLoadedChange=function(){this.trigger("loaded")},i._onPausedChange=function(t){!0===t.value?(this.trigger("pause"),this.el.classList.remove("mediaobject-playing")):(this.trigger("play"),this.el.classList.remove("mediaobject-ended"),this.el.classList.add("mediaobject-playing"))},i._onReadyChange=function(){this.trigger("ready")},i._onErrorChange=function(){this.trigger("error")},i._onEnhancedChange=function(){this.el.classList.add("mediaobject-enhanced"),this.mediaElement.classList.add("mediaobject-element"),this.trigger("enhanced")},i._onCurrentTimeChange=function(){this.trigger("timeupdate")},i._onPlaybackRateChange=function(){this.trigger("ratechange")},i._onDestroyedChange=function(){this.el.classList.remove("mediaobject-playing"),this.el.classList.remove("mediaobject-ended"),this.el.classList.remove("mediaobject-enhanced"),this.el.classList.add("mediaobject-destroyed"),this.trigger("destroyed")},i._onEndedChange=function(t){!0===t.value&&this.trigger("ended")},i._bindViewEvents=function(){this.mediaEmitter&&(this.mediaEmitter.on("play",this._respondToPlay),this.mediaEmitter.on("pause",this._respondToPause),this.mediaEmitter.on("timeupdate",this._respondToTimeUpdate),this.mediaEmitter.on("ended",this._respondToEnded),this.mediaEmitter.on("durationchange",this._respondToDurationChange),this.mediaEmitter.on("ratechange",this._respondToRateChange))},i._respondToPlay=function(){this.model.set({ended:!1,paused:!1})},i._respondToPause=function(){this.model.setPaused(!0)},i._respondToTimeUpdate=function(){var t=0;if(this.mediaElement.currentTime)t=this.mediaElement.currentTime;else{if(!this.mediaEmitter.currentTime)return;t=this.mediaEmitter.currentTime}this.getCurrentTime()!==t&&this.model.set({currentTime:t})},i._respondToEnded=function(){this.model.set({ended:!0,paused:!0}),this.el.classList.remove("mediaobject-playing"),this.el.classList.add("mediaobject-ended")},i._respondToDurationChange=function(){var t=0;if(this.mediaElement.duration)t=this.mediaElement.duration;else{if(!this.mediaEmitter.duration)return;t=this.mediaEmitter.duration}this.model.set({duration:t})},i._respondToRateChange=function(){var t=0;if(this.mediaElement.playbackRate)t=this.mediaElement.playbackRate;else{if(!this.mediaEmitter.playbackRate)return;t=this.mediaEmitter.playbackRate}this.model.set({playbackRate:t})},i.enhance=function(){},i.play=function(){},i.pause=function(){},i.reset=function(){},i.setCurrentTime=function(t){},i.setPlaybackRate=function(t){},i.goToFrame=function(t){t/=this.model.frameRate;return this.setCurrentTime(t)},i.goToPercent=function(t){t*=this.getDuration();return this.setCurrentTime(t)},i._setReady=function(t){this.model.setReady(t)},i._setLoadStart=function(t){this.model.setLoadStart(t)},i._setLoaded=function(t){this.model.setLoaded(t)},i._setError=function(t){this.model.setError(t)},i._setDuration=function(t){this.model.setDuration(t)},i._setPreload=function(t){this.model.setPreload(t)},i._setAutoplay=function(t){this.model.setAutoplay(t)},i._setFrameRate=function(t){this.model.setFrameRate(t)},i._setEnhanced=function(t){this.model.setEnhanced(t)},i._setDestroyed=function(t){this.model.setDestroyed(t)},i._setLooping=function(t){},i._destroy=function(){},i.getType=function(){return this.model.getType()},i.getPaused=function(){return this.model.getPaused()},i.getEnded=function(){return this.model.getEnded()},i.getReady=function(){return this.model.getReady()},i.getLoadStart=function(){return this.model.getLoadStart()},i.getLoaded=function(){return this.model.getLoaded()},i.getError=function(){return this.model.getError()},i.getDuration=function(){return this.model.getDuration()},i.getEnhanced=function(){return this.model.getEnhanced()},i.getCurrentTime=function(){return this.model.getCurrentTime()},i.getCurrentFrame=function(){return Math.floor(this.getCurrentTime()*this.options.frameRate)},i.getCurrentPercent=function(){return this.model.getCurrentTime()/this.getDuration()||0},i.getPlaybackRate=function(){return this.model.getPlaybackRate()},i.getFrameRate=function(){return this.model.getFrameRate()},i.getPreload=function(){return this.model.getPreload()},i.getAutoplay=function(){return this.model.getAutoplay()},i.getLooping=function(){return this.model.getLooping()},i.getDestroyed=function(){return!this.model||this.model.getDestroyed()},t.exports=s},15870:function(t,e,i){"use strict";function s(t,e,i){n.call(this,t,e,i),this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this),this._onReady=this._onReady.bind(this)}var n=i(16636),r=i(33333),o=i(53298).createFlow,a=i(48327),i=s.prototype=Object.create(n.prototype);i._createMediaElement=function(){this.mediaElement=document.createElement("canvas")},i._createMediaEmitter=function(){this.flowOptions={element:this.mediaElement,preload:!1,keyframeCache:this.options.keyframeCache||!1},this.mediaEmitter=o(this.flowOptions,this.mediaSrc)},i._createMediaLoader=function(){this.mediaLoader=this.mediaEmitter},i.load=function(){this._setLoadStart(!0),this.mediaLoader.once("loaded",this._onLoad),this.mediaLoader.once("error",this._onError),this.mediaEmitter.once("canplaythrough",this._onReady),this.loaded||this.mediaLoader.load().catch(this._onError)},i._onLoad=function(){this._setLoaded(!0)},i._onError=function(){this.model&&this._setError(!0)},i._onReady=function(){this._setReady(!0),this._setDuration(this.mediaEmitter.duration),this.setPlaybackRate(this.getPlaybackRate()),this._totalFrames=this._getTotalFrames(),this.getAutoplay()&&(!1===this.getEnhanced&&this.enhance(),this.play())},i._getTotalFrames=function(){return this.getDuration()*this.getFrameRate()},i.enhance=function(){this._setEnhanced(!0),a(function(){this.mediaElement&&this._inject()}.bind(this))},i._inject=function(){r.insertFirstChild(this.mediaElement,this.el)},i._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.destroy()},i._remove=function(){r.remove(this.mediaElement)},i.play=function(){!1!==this.model.getPaused()&&(this.mediaEmitter.currentTime>=this.getDuration()&&this.setCurrentTime(0),this.getReady()&&null!==this.mediaEmitter&&this.mediaEmitter.play())},i.pause=function(){!0!==this.model.getPaused()&&this.mediaEmitter.pause()},i.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},i.setCurrentTime=function(t){(t=t<0?0:t)>this.getDuration()&&(t=this.getDuration()),this.mediaEmitter.currentTime=t},i.setPlaybackRate=function(t){this.mediaEmitter.playbackRate=t},i._setLooping=function(t){this.mediaEmitter.loop=t,this.model.setLooping(t)},t.exports=s},46718:function(t,e,i){"use strict";function s(t,e,i){n.call(this,t,e,i),this._polyfillRAFEmitter=i.polyfillRAFEmitter||new o,this._boundHandlePolyfillRAFEmitterDraw=this._handlePolyfillRAFEmitterDraw.bind(this),this._polyfillRAFEmitter.on("draw",this._boundHandlePolyfillRAFEmitterDraw)}var n=i(67483),r=n.prototype,o=i(89294),i=s.prototype=Object.create(n.prototype);i._initInlineVideo=function(){r._initInlineVideo.apply(this,arguments),this._shouldLoop=!1},i._destroy=function(){r._destroy.apply(this,arguments),this._polyfillRAFEmitter&&(this._polyfillRAFEmitter.destroy(),this._polyfillRAFEmitter=null)},i.play=function(){!1!==this.model.getPaused()&&(this.model.setPaused(!1),this._polyfillRAFEmitter.run())},i.pause=function(){!0!==this.model.getPaused()&&(this.model.setPaused(!0),this._polyfillRAFEmitter.cancel())},i.setCurrentTime=function(t){r.setCurrentTime.apply(this,arguments),this._polyfillRAFEmitter.run()},i._handlePolyfillRAFEmitterDraw=function(t){var e,i,s,n=this.model.getCurrentTime(),r=this.model.getPlaybackRate(),o=this.mediaElement.duration,t=t.delta/1e3*r;this.model.getPaused()||(e=(n+=t)<=0,i=o<=n,s=0<=r,r=r<0,e&&(n=0),i&&(n=o),this._shouldLoop?(this._shouldLoop=!1,s?this.setCurrentTime(t):this.setCurrentTime(o-t)):(this.setCurrentTime(n),(e&&r||i&&s)&&(this.model.getLooping()?this._shouldLoop=!0:(this.pause(),this.model.setEnded(!0)))))},t.exports=s},67483:function(t,e,i){"use strict";function s(t,e,i){this.srcForVideoEl=null,this._cannotPlayInlineVideo=null,this._onLoaded=this._onLoaded.bind(this),this._onReady=this._onReady.bind(this),n.call(this,t,e,i),i.iosInline&&this._initInlineVideo()}var n=i(16636),r=n.prototype,o=i(48327),a=i(33333),h=i(70037).DOMEmitter,u=i(21873),l=i(93905).assetLoader,c=i(23952),d=i(93707).isHandheld,p=i(93707).isTablet,i=s.prototype=Object.create(n.prototype);i.inlineClassName="mediaobject-ios-inline-video",i.inlineAttribute="playsinline",i._cannotPlayInlineVideo=null,i._initInlineVideo=function(){this.mediaElement.hasAttribute("controls")&&this.mediaElement.removeAttribute("controls"),this.mediaElement.setAttribute(this.inlineAttribute,""),this.mediaElement.classList.add(this.inlineClassName)},i._createMediaElement=function(){this.mediaElement=document.createElement("video"),this._muteMediaElement(this.mediaElement)},i._muteMediaElement=function(t){t.setAttribute("muted",""),t.muted=!0},i._createMediaEmitter=function(){this.mediaEmitter=new h(this.mediaElement)},i._createMediaLoader=function(){var t;this.mediaSrc.basePath=this._forceTrailingSlash(this.mediaSrc.basePath),this.mediaSrc.splitFileLoading?(t=this.mediaSrc.basePath,this.mediaLoader=l.createAssetGroup({src:t,type:"splitfile"})):(this.mediaSrc.fileFormat=this._checkFileFormat(this.mediaSrc.fileFormat),t=this.mediaSrc.basePath+this.mediaSrc.filename+this.mediaSrc.fileFormat,this.srcForVideoEl=t)},i._forceTrailingSlash=function(t){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),t},i._checkFileFormat=function(t){return t=t&&0!==t.lastIndexOf(".")?"."+t:t},i.load=function(){var t;this._setLoadStart(!0),this.mediaSrc.splitFileLoading?(t=function(t){t=window.URL.createObjectURL(t.latest.data);this.mediaEmitter&&(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=t,this.mediaElement.load(),this.mediaLoader.destroy()}.bind(this),this.mediaLoader.load().then(t).catch(this._setError.bind(this,!0))):(this.cannotPlayInlineVideo()||(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=this.srcForVideoEl,this.cannotPlayInlineVideo()?this._onLoaded():(this.mediaElement.addEventListener("error",this._setError.bind(this,!0)),this.mediaElement.load()))},i._onLoaded=function(){this._setLoaded(!0)},i.cannotPlayInlineVideo=function(){var t,e;return null===this._cannotPlayInlineVideo&&(t="iOS"===c.os&&d(),e="iOS"===c.os&&p()&&c.version<8,this._cannotPlayInlineVideo=t||e),this._cannotPlayInlineVideo},i._onReady=function(){this._setReady(!0),this.getAutoplay()&&(this.getEnhanced()||this.enhance(),this.play())},i.enhance=function(){this._setEnhanced(!0),o(function(){"VIDEO"===this.mediaElement.tagName&&(a.insertLastChild(this.mediaElement,this.el),u.setStyle(this.mediaElement,{visibility:"hidden"}),o(function(){this.mediaElement&&(this.setPlaybackRate(this.getPlaybackRate()),u.setStyle(this.mediaElement,{visibility:"visible"}))}.bind(this)))}.bind(this))},i._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.off(),this.mediaLoader&&this.mediaLoader.destroy()},i._remove=function(){a.remove(this.mediaElement)},i._onEndedChange=function(t){r._onEndedChange.call(this,t),this.model.getPaused()||this.mediaElement.pause(),"iOS"===c.os&&d()&&!0===t.value&&this.mediaElement.webkitExitFullScreen()},i.play=function(){var t;!1!==this.model.getPaused()&&(t=this.mediaElement.play())&&"undefined"!=typeof Promise&&t instanceof Promise&&t.then(function(){}).catch(function(){})},i.pause=function(){!0!==this.model.getPaused()&&this.mediaElement.pause()},i.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},i.setCurrentTime=function(t){this.mediaElement.duration&&(this.model.setCurrentTime(t),this.mediaElement.currentTime=t)},i.setPlaybackRate=function(t){this.mediaElement.playbackRate=t},i._setLooping=function(t){this.mediaElement.loop=t,this.model.setLooping(t)},t.exports=s},35190:function(t){"use strict";t.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageXOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollLeft}},11693:function(t){"use strict";t.exports=function(t){var e;if((t=t||window)===window){if(e=window.pageYOffset)return e;t=document.documentElement||document.body.parentNode||document.body}return t.scrollTop}},44775:function(t,e,i){"use strict";t.exports={Modal:i(3391),Renderer:i(85637),classNames:i(44924),dataAttributes:i(91533)}},3391:function(t,e,i){"use strict";var s={addEventListener:i(14811),removeEventListener:i(58604),target:i(56240)},n={getScrollX:i(35190),getScrollY:i(11693)},r={create:i(51082),defaults:i(62183)},o=i(36266),a=i(14472),h=i(95350).EventEmitterMicro,u=i(85637),l={retainScrollPosition:!1};function c(t,e){h.call(this),this.options=r.defaults(l,t),this.renderer=new u(e),this.opened=!1,this._keysToClose=[a.ESCAPE],this._attachedKeysToClose=[],this.close=this.close.bind(this)}i=c.prototype=r.create(h.prototype);i.open=function(){this.options.retainScrollPosition&&this._saveScrollPosition(),this.opened||(this._attachEvents(),this.trigger("willopen"),this.renderer.open(),this.opened=!0,this.trigger("open"))},i.close=function(t){var e;!this.opened||t&&"click"===t.type&&(t=s.target(t),e=this.renderer.options.dataAttributes.close,!t.hasAttribute(e))||(this.trigger("willclose"),this._removeEvents(),this.renderer.close(),this.options.retainScrollPosition&&this._restoreScrollPosition(),this.opened=!1,this.trigger("close"))},i.render=function(){this.renderer.render()},i.appendContent=function(t,e){this.renderer.appendContent(t,e)},i.removeContent=function(t){this.renderer.removeContent(t)},i.destroy=function(){for(var t in this._removeEvents(),this.renderer.destroy(),this)this.hasOwnProperty(t)&&(this[t]=null)},i.addKeyToClose=function(t){-1===this._keysToClose.indexOf(t)&&(this._keysToClose.push(t),this._bindKeyToClose(t))},i.removeKeyToClose=function(t){var e=this._keysToClose.indexOf(t);-1!==e&&this._keysToClose.splice(e,1),this._releaseKeyToClose(t)},i._bindKeyToClose=function(t){-1===this._attachedKeysToClose.indexOf(t)&&(o.onUp(t,this.close),this._attachedKeysToClose.push(t))},i._releaseKeyToClose=function(t){var e=this._attachedKeysToClose.indexOf(t);-1!==e&&(o.offUp(t,this.close),this._attachedKeysToClose.splice(e,1))},i._removeEvents=function(){this.renderer.modalElement&&s.removeEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._releaseKeyToClose,this)},i._attachEvents=function(){this.renderer.modalElement&&s.addEventListener(this.renderer.modalElement,"click",this.close),this._keysToClose.forEach(this._bindKeyToClose,this)},i._restoreScrollPosition=function(){window.scrollTo(this._scrollX||0,this._scrollY||0)},i._saveScrollPosition=function(){this._scrollX=n.getScrollX(),this._scrollY=n.getScrollY()},t.exports=c},85637:function(t,e,i){"use strict";function s(t){this.options=r.defaults(a,t=t||{}),this.options.classNames=r.defaults(a.classNames,t.classNames),this.options.dataAttributes=r.defaults(a.dataAttributes,t.dataAttributes),this.modalElement=this.options.modalElement,this.contentElement=this.options.contentElement,this.closeButton=this.options.closeButton}var n={add:i(14610),remove:i(6017)},r={defaults:i(62183)},o={remove:i(73551),isElement:i(61425)},a={modalElement:null,contentElement:null,closeButton:null,classNames:i(44924),dataAttributes:i(91533)},i=s.prototype;i.render=function(){return o.isElement(this.modalElement)||(this.modalElement=this.renderModalElement(this.options.classNames.modalElement)),o.isElement(this.contentElement)||(this.contentElement=this.renderContentElement(this.options.classNames.contentElement)),!1!==this.closeButton&&(o.isElement(this.closeButton)||(this.closeButton=this.renderCloseButton(this.options.classNames.closeButton)),this.modalElement.appendChild(this.closeButton)),this.modalElement.appendChild(this.contentElement),document.body.appendChild(this.modalElement),this.modalElement},i.renderCloseButton=function(t){return t=t||this.options.classNames.closeButton,(t=this._renderElement("button",t)).setAttribute(this.options.dataAttributes.close,""),t},i.renderModalElement=function(t){return t=t||this.options.classNames.modalElement,this._renderElement("div",t)},i.renderContentElement=function(t){return t=t||this.options.classNames.contentElement,this._renderElement("div",t)},i.appendContent=function(t,e){o.isElement(t)&&(void 0===e?this.contentElement.appendChild(t):o.isElement(e)&&e.appendChild(t))},i.removeContent=function(t){t?this.modalElement.contains(t)&&o.remove(t):this._emptyContent()},i.open=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);n.add.apply(null,t),n.add.apply(null,e)},i.close=function(){var t=[document.documentElement].concat(this.options.classNames.documentElement),e=[this.modalElement].concat(this.options.classNames.modalOpen);n.remove.apply(null,t),n.remove.apply(null,e)},i.destroy=function(){var t,e=[document.documentElement].concat(this.options.classNames.documentElement);for(t in this.modalElement&&document.body.contains(this.modalElement)&&(this.close(),document.body.removeChild(this.modalElement)),n.remove.apply(null,e),this)this.hasOwnProperty(t)&&(this[t]=null)},i._renderElement=function(t,e){var t=document.createElement(t),i=[t];return e&&(i=i.concat(e)),n.add.apply(null,i),t},i._emptyContent=function(){this.contentElement.innerHTML=""},t.exports=s},44924:function(t){"use strict";t.exports={modalElement:"modal",modalOpen:"modal-open",documentElement:"has-modal",contentElement:"modal-content",closeButton:"modal-close"}},91533:function(t){"use strict";t.exports={close:"data-modal-close"}},68058:function(t,e,i){"use strict";t.exports={Modal:i(81469),createStandardModal:i(12498),createFullViewportModal:i(48435)}},81469:function(t,e,i){"use strict";var s=i(44775).Modal,n=i(95350).EventEmitterMicro,r=i(8142);function o(t){n.call(this),this.options=t||{},this._modal=new s(t,this.options.renderer),this.opened=!1,this._render(),this.closeButton=this._modal.renderer.closeButton,this.modalElement=this._modal.renderer.modalElement,this.contentElement=this._modal.renderer.contentElement,this.modalElement.setAttribute("role","dialog"),this.modalElement.setAttribute("aria-label","Modal"),this.modalElement.setAttribute("aria-modal","true"),this.modalElement.setAttribute("tabindex","-1"),this.closeButton.setAttribute("aria-label","Close"),this._circularTab=new r(this.modalElement),this._onWillOpen=this._onWillOpen.bind(this),this._onOpen=this._onOpen.bind(this),this._onWillClose=this._onWillClose.bind(this),this._onClose=this._onClose.bind(this),this._bindEvents()}i=o.prototype=Object.create(n.prototype);i.open=function(){this._modal.open(),this.opened=this._modal.opened},i.close=function(){this._modal.close()},i.appendContent=function(t){this._modal.appendContent(t)},i.removeContent=function(t){this._modal.removeContent(t)},i.destroy=function(){for(var t in this._releaseEvents(),this._modal.destroy(),this._removeModalFocus(),this._circularTab.destroy(),this._focusObj=null,this)this.hasOwnProperty(t)&&(this[t]=null)},i.addKeyToClose=function(t){this._modal.addKeyToClose(t)},i.removeKeyToClose=function(t){this._modal.removeKeyToClose(t)},i._render=function(){this._modal.render(),this._modal.renderer.modalElement.setAttribute("aria-hidden","true")},i._bindEvents=function(){this._modal.on("willopen",this._onWillOpen),this._modal.on("open",this._onOpen),this._modal.on("willclose",this._onWillClose),this._modal.on("close",this._onClose)},i._releaseEvents=function(){this._modal.off("willopen",this._onWillOpen),this._modal.off("open",this._onOpen),this._modal.off("willclose",this._onWillClose),this._modal.off("close",this._onClose)},i._onWillOpen=function(){this.trigger("willopen")},i._onOpen=function(){this.opened=this._modal.opened,this._giveModalFocus(),this.trigger("open")},i._onWillClose=function(){this.trigger("willclose"),this._removeModalFocus()},i._onClose=function(){this.opened=this._modal.opened,this.trigger("close")},i._giveModalFocus=function(){this.modalElement.removeAttribute("aria-hidden"),this._activeElement=document.activeElement,this._circularTab.start(!0),setTimeout(function(){this.modalElement.focus()}.bind(this),300)},i._removeModalFocus=function(){this._circularTab.stop(),this.modalElement.setAttribute("aria-hidden","true"),this._activeElement&&(this._activeElement.focus(),this._activeElement=null)},t.exports=o},48435:function(t,e,i){"use strict";var s=i(81469),i=i(44775).classNames,n={retainScrollPosition:!0,renderer:{classNames:{documentElement:[i.documentElement].concat("has-modal-full-viewport"),modalElement:[i.modalElement].concat("modal-full-viewport")}}};t.exports=function(t,e){var i=new s(n),e=e||{};return t&&i.appendContent(t),e.removeContainerPadding&&i.modalElement.classList.add("remove-container-padding"),i}},12498:function(t,e,i){"use strict";var r=i(81469),s=i(44775).classNames,o=i(44775).dataAttributes,a={add:i(14610)},h={renderer:{classNames:{documentElement:[s.documentElement].concat("has-modal-standard"),modalElement:[s.modalElement].concat("modal-standard")}}};t.exports=function(t){var e=new r(h),t=(t&&e.appendContent(t),document.createElement("div")),i=document.createElement("div"),s=document.createElement("div"),n=document.createElement("div");return a.add(t,"content-table"),a.add(i,"content-cell"),a.add(s,"content-wrapper"),a.add(n,"content-padding","large-8","medium-10"),e.modalElement.setAttribute(o.close,""),s.setAttribute(o.close,""),i.setAttribute(o.close,""),t.appendChild(i),i.appendChild(s),s.appendChild(n),e.modalElement.appendChild(t),n.appendChild(e.contentElement),n.appendChild(e.closeButton),e}},45131:function(t,e,i){"use strict";t.exports={CID:i(71144)}},71144:function(t,e,i){"use strict";i=i(3494).SharedInstance;function s(){this._idCount=0}var n=s.prototype;n._cidPrefix="cid",n.getNewCID=function(){var t=this._cidPrefix+"-"+this._idCount;return this._idCount++,t},t.exports=i.share("ac-mvc-cid:CID","1.0.0",s)},3927:function(t,e,i){"use strict";t.exports={Model:i(87119)}},87119:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(62183),r=i(51082),o=i(45131).CID;function a(t){s.call(this),this.attributes=n(this.defaultAttributes,t||{}),this.cid=o.getNewCID(),this.attributes[this.idAttribute]&&(this.id=this.attributes[this.idAttribute])}var h=s.prototype,i=a.prototype=r(h);i.defaultAttributes={},i.idAttribute="id",i.get=function(t){if(this.attributes)return this.attributes[t]},i.set=function(t,e){if(this.attributes){var i,s,n={},r=!1;for(i in t)!t.hasOwnProperty(i)||(s=this.get(i))===t[i]||"object"==typeof s&&"object"==typeof t[i]&&JSON.stringify(s)===JSON.stringify(t[i])||(r=!0,this.attributes[i]=t[i],s={value:t[i],previous:s},n[i]=s,this._triggerChange(i,s,e));r&&this._trigger("change",n,e)}},i.hasAttribute=function(t){return!!this.attributes&&void 0!==this.attributes[t]},i.eachAttribute=function(t,e){if(this.attributes)for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.call(e,{attribute:i,value:this.attributes[i]})},i.destroy=function(){for(var t in this.trigger("destroy"),h.destroy.call(this),this)this.hasOwnProperty(t)&&(this[t]=null)},i._trigger=function(t,e,i){!0!==(i=i||{}).silent&&this.trigger(t,e)},i._triggerChange=function(t,e,i){return this._trigger("change:"+t,e,i)},t.exports=a},92046:function(t,e,i){"use strict";t.exports={View:i(20875)}},20875:function(t,e,i){"use strict";var s=i(70037).DOMEmitter,n=i(45131).CID,r={create:i(51082),defaults:i(62183)},o={insertLastChild:i(28311),remove:i(73551)},a=i(14610),h=i(6017);function u(t){var e,i;this.options=r.defaults(this.defaultOptions,t||{}),this.cid=n.getNewCID(),this.model=this.options.model,this.options.template&&(this.template=this.options.template),t=this.options.tagName||this.tagName,e=this.options.element,i=this.options.className||this.className,e=e||document.createElement(t),s.call(this,e),i&&this.addClassName(i),this.options.events&&this.delegateEvents(this.options.events)}i=u.prototype=r.create(s.prototype);i.tagName="div",i.defaultOptions={},i.getTagName=function(){return this.el.tagName.toLowerCase()},i.appendTo=function(t){return o.insertLastChild(this.el,t),this},i.render=function(){},i.addClassName=function(t){return this._manipulateClassName(t,a)},i.removeClassName=function(t){return this._manipulateClassName(t,h)},i.destroy=function(){for(var t in this.emitterTrigger("destroy"),this.off(),o.remove(this.el),this)this.hasOwnProperty(t)&&(this[t]=null)},i.delegateEvents=function(t,e){for(var i in e=e||this,t)t.hasOwnProperty(i)&&"string"==typeof t[i]&&(t[i]=this[t[i]]);return this.on(t,e),this},i._manipulateClassName=function(t,e){var i;if("string"==typeof t)i=t.split(" ");else{if("object"!=typeof t||!Array.isArray(t))return this;i=t.slice()}return i.unshift(this.el),e.apply(this.el,i),this},t.exports=u},4765:function(t,e,i){"use strict";t.exports={clone:i(70218),create:i(51082),defaults:i(62183),extend:i(85535),getPrototypeOf:i(92582),isDate:i(75530),isEmpty:i(4274),isRegExp:i(65053),toQueryParameters:i(82351)}},70218:function(t,e,i){"use strict";i(90166);function s(t,e){for(var i in e)r.call(e,i)&&(null===e[i]?t[i]=null:"object"==typeof e[i]?(t[i]=Array.isArray(e[i])?[]:{},s(t[i],e[i])):t[i]=e[i]);return t}var n=i(85535),r=Object.prototype.hasOwnProperty;t.exports=function(t,e){return(e?s:n)({},t)}},51082:function(t){"use strict";function e(){}t.exports=function(t){if(1<arguments.length)throw new Error("Second argument not supported");if(null===t||"object"!=typeof t)throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(t):(e.prototype=t,new e)}},62183:function(t,e,i){"use strict";var s=i(85535);t.exports=function(t,e){if("object"!=typeof t)throw new TypeError("defaults: must provide a defaults object");if("object"!=typeof(e=e||{}))throw new TypeError("defaults: options must be a typeof object");return s({},t,e)}},85535:function(t,e,i){"use strict";i(77429);var s=Object.prototype.hasOwnProperty;t.exports=function(){var t=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),i=t.shift();return t.forEach(function(t){if(null!=t)for(var e in t)s.call(t,e)&&(i[e]=t[e])}),i}},92582:function(t){"use strict";var s=Object.prototype.hasOwnProperty;t.exports=function(t){if(Object.getPrototypeOf)return Object.getPrototypeOf(t);if("object"!=typeof t)throw new Error("Requested prototype of a value that is not an object.");if("object"==typeof this.__proto__)return t.__proto__;var e,i=t.constructor;if(s.call(t,"constructor")){if(e=i,!delete t.constructor)return null;i=t.constructor,t.constructor=e}return i?i.prototype:null}},75530:function(t){"use strict";t.exports=function(t){return"[object Date]"===Object.prototype.toString.call(t)}},4274:function(t){"use strict";var i=Object.prototype.hasOwnProperty;t.exports=function(t){if("object"!=typeof t)throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object");for(var e in t)if(i.call(t,e))return!1;return!0}},65053:function(t){"use strict";t.exports=function(t){return!!window.RegExp&&t instanceof RegExp}},82351:function(t,e,i){"use strict";var s=i(21447);t.exports=function(t){if("object"!=typeof t)throw new TypeError("toQueryParameters error: argument is not an object");return s(t,!1)}},37597:function(t,e,i){"use strict";t.exports={PageVisibilityManager:i(19629)}},19629:function(t,e,i){"use strict";var s=i(51082),n=i(95350).EventEmitterMicro;function r(){var t;void 0!==document.addEventListener&&(void 0!==document.hidden?(this._hidden="hidden",t="visibilitychange"):void 0!==document.mozHidden?(this._hidden="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(this._hidden="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(this._hidden="webkitHidden",t="webkitvisibilitychange"),void 0===document[this._hidden]?this.isHidden=!1:this.isHidden=document[this._hidden],t&&document.addEventListener(t,this._handleVisibilityChange.bind(this),!1),n.call(this))}i=r.prototype=s(n.prototype);i.CHANGED="changed",i._handleVisibilityChange=function(t){this.isHidden=document[this._hidden],this.trigger(this.CHANGED,{isHidden:this.isHidden})},t.exports=new r},28352:function(t,e,i){"use strict";t.exports={PointerTracker:i(12327)}},12327:function(t,e,i){"use strict";var s=i(80820),n=s.os.android,r=!s.browser.ie&&{passive:!1},o=i(22258)(),a=i(95350).EventEmitterMicro;function h(t,e,i){this._el=t,this._lockVertical=!1!==(i=i||{}).lockVertical,this._swipeThreshold=i.swipeThreshold||h.DEFAULT_SWIPE_THRESHOLD,this._pointerEvents=e||{},this._trackHover=i.trackHover,this._trackHover?(this._pointerEvents.down=this._pointerEvents.down||h.MOUSE_EVENTS.over,this._pointerEvents.up=this._pointerEvents.up||h.MOUSE_EVENTS.out):(this._pointerEvents.down=this._pointerEvents.down||(o?h.TOUCH_EVENTS:h.MOUSE_EVENTS).down,this._pointerEvents.up=this._pointerEvents.up||(o?h.TOUCH_EVENTS:h.MOUSE_EVENTS).up),this._pointerEvents.out=this._pointerEvents.out||(o?h.TOUCH_EVENTS:h.MOUSE_EVENTS).out,this._pointerEvents.move=this._pointerEvents.move||(o?h.TOUCH_EVENTS:h.MOUSE_EVENTS).move,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseMove=this._onMouseMove.bind(this),a.call(this),this._el.addEventListener(this._pointerEvents.down,this._onMouseDown,r),this._setCursorStyle("grab")}h.START="start",h.END="end",h.UPDATE="update",h.SWIPE_RIGHT="swiperight",h.SWIPE_LEFT="swipeleft",h.DEFAULT_SWIPE_THRESHOLD=n?2:8,h.TOUCH_EVENTS={down:"touchstart",up:"touchend",out:"mouseout",move:"touchmove"},h.MOUSE_EVENTS={down:"mousedown",up:"mouseup",out:"mouseout",move:"mousemove",over:"mouseover"};var u=a.prototype,s=h.prototype=Object.create(u);s.destroy=function(){return this._isDragging&&this._onMouseUp(),this._el.removeEventListener(this._pointerEvents.down,this._onMouseDown),this._setCursorStyle(null),this._el=null,this._pointerEvents=null,this._lockVertical=null,this._swipeThreshold=null,this._checkForTouchScrollY=null,this._isDragging=null,this._currentX=null,this._currentY=null,this._velocityX=null,this._velocityY=null,this._lastX=null,this._lastY=null,u.destroy.call(this)},s._onMouseDown=function(t){this._isDragging||(this._isDragging=!0,this._setCursorStyle("grabbing"),this._el.removeEventListener(this._pointerEvents.down,this._onMouseDown),document.body.addEventListener(this._pointerEvents.up,this._onMouseUp,r),document.addEventListener(this._pointerEvents.out,this._onMouseOut,r),document.body.addEventListener(this._pointerEvents.move,this._onMouseMove,r),this._checkForTouchScrollY=this._lockVertical&&!(!t.touches||!t.touches[0]),this._checkForTouchScrollY&&(this._lastY=this._getTouchY(t)),t=this._storeAndGetValues(t),this._velocityX=t.diffX=0,this._velocityY=t.diffY=0,this.trigger(h.START,t))},s._onMouseUp=function(t){var e;this._isDragging&&(this._isDragging=!1,this._setCursorStyle("grab"),this._el.addEventListener(this._pointerEvents.down,this._onMouseDown,r),document.body.removeEventListener(this._pointerEvents.up,this._onMouseUp),document.removeEventListener(this._pointerEvents.out,this._onMouseOut),document.body.removeEventListener(this._pointerEvents.move,this._onMouseMove),this._checkForTouchScrollY||this._trackHover?e=null:this._velocityX>this._swipeThreshold?e=h.SWIPE_LEFT:-1*this._velocityX>this._swipeThreshold&&(e=h.SWIPE_RIGHT),(t=this._storeAndGetValues(t)).swipe=e,this.trigger(h.END,t),e&&!this._trackHover&&this.trigger(e,t))},s._onMouseOut=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||this._onMouseUp(t)},s._onMouseMove=function(t){this._checkForTouchScrollY&&this._isVerticalTouchMove(t)?this._onMouseUp(t):(t.preventDefault(),this.trigger(h.UPDATE,this._storeAndGetValues(t)))},s._storeAndGetValues=function(t){if(void 0===t)return{};this._currentX=this._getPointerX(t),this._currentY=this._getPointerY(t),this._velocityX=this._lastX-this._currentX,this._velocityY=this._lastY-this._currentY;t={x:this._currentX,y:this._currentY,lastX:this._lastX,lastY:this._lastY,diffX:this._velocityX,diffY:this._velocityY,interactionEvent:t};return this._lastX=this._currentX,this._lastY=this._currentY,t},s._getPointerX=function(t){return t.pageX||(t.touches&&t.touches[0]?t.touches[0].pageX:t.clientX||0)},s._getPointerY=function(t){return t.pageY||(t.touches&&t.touches[0]?t.touches[0].pageY:t.clientY||0)},s._getTouchX=function(t){return t.touches&&t.touches[0]?t.touches[0].pageX:0},s._getTouchY=function(t){return t.touches&&t.touches[0]?t.touches[0].pageY:0},s._isVerticalTouchMove=function(t){var e=this._getTouchX(t),t=this._getTouchY(t),e=Math.abs(e-this._lastX),t=Math.abs(t-this._lastY);return this._checkForTouchScrollY=e<t,this._checkForTouchScrollY},s._setCursorStyle=function(t){this._el.style.cursor=t},t.exports=h},44527:function(t,e,i){"use strict";i(7312),i(90166),i(66190),i(15457),i(20027),i(77429),i(7349),i(30692),i(23235),i(91721),i(54655),i(74821),i(86847),i(42196)},7312:function(){function h(t){return"function"==typeof t||"[object Function]"===e.call(t)}function u(t){return t=function(t){t=Number(t);return isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t}(t),Math.min(Math.max(t,0),i)}var e,i;Array.from||(Array.from=(e=Object.prototype.toString,i=Math.pow(2,53)-1,function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,s=1<arguments.length?arguments[1]:void 0;if(void 0!==s){if(!h(s))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=arguments[2])}for(var n,r=u(e.length),o=h(this)?Object(new this(r)):new Array(r),a=0;a<r;)n=e[a],o[a]=s?void 0===i?s(n,a):s.call(i,n,a):n,a+=1;return o.length=r,o}))},90166:function(){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},66190:function(){Array.prototype.every||(Array.prototype.every=function(t,e){var i,s=Object(this),n=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<n;i+=1)if(i in s&&!t.call(e,s[i],i,s))return!1;return!0})},15457:function(){Array.prototype.filter||(Array.prototype.filter=function(t,e){var i,s=Object(this),n=s.length>>>0,r=[];if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<n;i+=1)i in s&&t.call(e,s[i],i,s)&&r.push(s[i]);return r})},20027:function(){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var s=arguments[1],n=0;n<i;){var r=e[n];if(t.call(s,r,n,e))return r;n++}}})},77429:function(){Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,s=Object(this);if("function"!=typeof t)throw new TypeError("No function object passed to forEach.");for(var n=this.length,r=0;r<n;r+=1)i=s[r],t.call(e,i,r,s)})},7349:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),s=i.length>>>0;if(0!=s)for(var n,r,e=0|e,o=Math.max(0<=e?e:s-Math.abs(e),0);o<s;){if((n=i[o])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;o++}return!1}})},30692:function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i=e||0,s=0;if(i<0&&this.length+e-1<0)throw"Wrapped past beginning of array while looking up a negative start index.";for(s=0;s<this.length;s++)if(this[s]===t)return s;return-1})},23235:function(){Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t,e){var i,s=Object(this),n=s.length>>>0;if(e=parseInt(e,10),!(n<=0))for(i=0<=(i="number"==typeof e?Math.min(n-1,e):n-1)?i:n-Math.abs(i);0<=i;--i)if(i in s&&t===s[i])return i;return-1})},91721:function(){Array.prototype.map||(Array.prototype.map=function(t,e){var i,s=Object(this),n=s.length>>>0,r=new Array(n);if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<n;i+=1)i in s&&(r[i]=t.call(e,s[i],i,s));return r})},54655:function(){Array.prototype.reduce||(Array.prototype.reduce=function(t,e){var i,s=Object(this),n=s.length>>>0,r=0;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(void 0===e){if(!n)throw new TypeError("Reduce of empty array with no initial value");i=s[0],r=1}else i=e;for(;r<n;)r in s&&(i=t.call(void 0,i,s[r],r,s),r+=1);return i})},74821:function(){Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t,e){var i,s=Object(this),n=s.length>>>0,r=n-1;if("function"!=typeof t)throw new TypeError(t+" is not a function");if(void 0===e){if(!n)throw new TypeError("Reduce of empty array with no initial value");i=s[n-1],r=n-2}else i=e;for(;0<=r;)r in s&&(i=t.call(void 0,i,s[r],r,s),--r);return i})},86847:function(){!function(){"use strict";var a=Array.prototype.slice;try{a.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,e){if(e=void 0!==e?e:this.length,"[object Array]"===Object.prototype.toString.call(this))return a.call(this,t,e);var i,s=[],n=this.length,r=t||0,o=(e<0?n+e:e||n)-(r=0<=r?r:n+r);if(0<o)if(s=new Array(o),this.charAt)for(i=0;i<o;i++)s[i]=this.charAt(r+i);else for(i=0;i<o;i++)s[i]=this[r+i];return s}}}()},42196:function(){Array.prototype.some||(Array.prototype.some=function(t,e){var i,s=Object(this),n=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=0;i<n;i+=1)if(i in s&&!0===t.call(e,s[i],i,s))return!0;return!1})},68493:function(){if(document.createEvent)try{new window.CustomEvent("click")}catch(t){window.CustomEvent=(e.prototype=window.Event.prototype,e)}function e(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}},55815:function(t,e,i){"use strict";i(71654),i(41293),i(38904)},71654:function(){Date.now||(Date.now=function(){return(new Date).getTime()})},41293:function(){Date.prototype.toISOString||(Date.prototype.toISOString=function(){if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t,e,i={year:this.getUTCFullYear(),month:this.getUTCMonth()+1,day:this.getUTCDate(),hours:this.getUTCHours(),minutes:this.getUTCMinutes(),seconds:this.getUTCSeconds(),mseconds:(this.getUTCMilliseconds()/1e3).toFixed(3).substr(2,3)};for(t in i)i.hasOwnProperty(t)&&"year"!==t&&"mseconds"!==t&&(i[t]=1===String(i[t]).length?"0"+String(i[t]):String(i[t]));return(i.year<0||9999<i.year)&&(e=i.year<0?"-":"+",i.year=e+String(Math.abs(i.year/1e6)).substr(2,6)),i.year+"-"+i.month+"-"+i.day+"T"+i.hours+":"+i.minutes+":"+i.seconds+"."+i.mseconds+"Z"})},38904:function(){Date.prototype.toJSON||(Date.prototype.toJSON=function(t){var e=Object(this),i=function(t){var e=typeof t;return!![null,"undefined","boolean","string","number"].some(function(t){return t===e})},s=function(t){var e;if(i(t))return t;if((e="function"==typeof t.valueOf?t.valueOf():"function"==typeof t.toString?t.toString():null)&&i(e))return e;throw new TypeError(t+" cannot be converted to a primitive")}(e);if("number"==typeof s&&!isFinite(s))return null;if("function"!=typeof e.toISOString)throw new TypeError("toISOString is not callable");return e.toISOString.call(e)})},78684:function(t,e,i){"use strict";i(51426),i(77078),i(90659)},51426:function(){
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/
"document"in self&&("classList"in document.createElement("_")?function(){"use strict";var t,i,e=document.createElement("_");e.classList.add("c1","c2"),e.classList.contains("c2")||((t=function(t){var s=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){for(var e=arguments.length,i=0;i<e;i++)s.call(this,arguments[i])}})("add"),t("remove")),e.classList.toggle("c3",!1),e.classList.contains("c3")&&(i=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)})}():function(e){"use strict";if("Element"in e){var i="classList",t="prototype",e=e.Element[t],s=Object,r=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},n=Array[t].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return n.call(t,e)},h=function(t){for(var e=r.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],s=0,n=i.length;s<n;s++)this.push(i[s]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=h[t]=[],l=function(){return new h(this)};if(o[t]=Error[t],u.item=function(t){return this[t]||null},u.contains=function(t){return-1!==a(this,t+="")},u.add=function(){for(var t,e=arguments,i=0,s=e.length,n=!1;-1===a(this,t=e[i]+"")&&(this.push(t),n=!0),++i<s;);n&&this._updateClassName()},u.remove=function(){var t,e,i=arguments,s=0,n=i.length,r=!1;do{for(e=a(this,t=i[s]+"");-1!==e;)this.splice(e,1),r=!0,e=a(this,t)}while(++s<n);r&&this._updateClassName()},u.toggle=function(t,e){var i=this.contains(t+=""),s=i?!0!==e&&"remove":!1!==e&&"add";return s&&this[s](t),!0===e||!1===e?e:!i},u.toString=function(){return this.join(" ")},s.defineProperty){u={get:l,enumerable:!0,configurable:!0};try{s.defineProperty(e,i,u)}catch(t){-2146823252===t.number&&(u.enumerable=!1,s.defineProperty(e,i,u))}}else s[t].__defineGetter__&&e.__defineGetter__(i,l)}}(self))},77078:function(){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;0<=--i&&e.item(i)!==this;);return-1<i})},90659:function(t){"use strict";t.exports=function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}},91217:function(t,e,i){"use strict";i(49810)},49810:function(){Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){return s.apply(this instanceof n&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))}var i=Array.prototype.slice.call(arguments,1),s=this,n=function(){};return n.prototype=this.prototype,e.prototype=new n,e})},10147:function(){"object"!=typeof JSON&&(JSON={}),!function(){"use strict";function f(t){return t<10?"0"+t:t}var cx,escapable,gap,indent,meta,rep;function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,s,n,r,o,a=gap,h=e[t];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),typeof(h="function"==typeof rep?rep.call(e,t,h):h)){case"string":return quote(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(h)){for(r=h.length,i=0;i<r;i+=1)o[i]=str(i,h)||"null";n=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]"}else{if(rep&&"object"==typeof rep)for(r=rep.length,i=0;i<r;i+=1)"string"==typeof rep[i]&&(n=str(s=rep[i],h))&&o.push(quote(s)+(gap?": ":":")+n);else for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(n=str(s,h))&&o.push(quote(s)+(gap?": ":":")+n);n=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}"}return gap=a,n}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,i){var s;if(indent=gap="","number"==typeof i)for(s=0;s<i;s+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(!(rep=e)||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){var j;function walk(t,e){var i,s,n=t[e];if(n&&"object"==typeof n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(void 0!==(s=walk(n,i))?n[i]=s:delete n[i]);return reviver.call(t,e,n)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},91478:function(t,e,i){"use strict";i(22185)},22185:function(){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)})},12702:function(t,e,i){"use strict";i(74305),i(99321),i(76333),i(41514)},74305:function(){"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t})},99321:function(){var e;Object.create||(e=function(){},Object.create=function(t){if(1<arguments.length)throw new Error("Second argument not supported");if(null===t||"object"!=typeof t)throw new TypeError("Object prototype may only be an Object.");return e.prototype=t,new e})},76333:function(){Object.is||(Object.is=function(t,e){return 0===t&&0===e?1/t==1/e:t!=t?e!=e:t===e})},41514:function(){Object.keys||(Object.keys=function(t){var e,i=[];if(!t||"function"!=typeof t.hasOwnProperty)throw"Object.keys called on non-object.";for(e in t)t.hasOwnProperty(e)&&i.push(e);return i})},57379:function(t,e,i){t.exports=i(81648).polyfill()},10765:function(t,e,i){"use strict";i(46765),i(35414)},35414:function(){String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return!((e="number"!=typeof e?0:e)+t.length>this.length)&&-1!==this.indexOf(t,e)})},46765:function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},78453:function(){window.XMLHttpRequest=window.XMLHttpRequest||function(){var e;try{e=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{e=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}}return e}},94054:function(t,e,i){"use strict";i(44527),i(20833),i(68493),i(55815),i(78684),i(91217),i(34918),i(86204),i(10147),i(62245),i(91478),i(12702),i(50982),i(57379),i(82743),i(10765),i(78453)},20833:function(t,e,i){i(12276)},34918:function(){function o(t,e,i){t.document;var s=t.currentStyle[e].match(/(-?[\d\.]+)(%|cm|em|in|mm|pc|pt|)/)||[0,0,""],n=s[1],s=s[2];return i=i&&(/%|em/.test(s)&&t.parentElement?o(t.parentElement,"fontSize",null):16),e="fontSize"==e?i:/width/i.test(e)?t.clientWidth:t.clientHeight,"%"==s?n/100*e:"cm"==s?.3937*n*96:"em"==s?n*i:"in"==s?96*n:"mm"==s?.3937*n*96/10:"pc"==s?12*n*96/72:"pt"==s?96*n/72:n}function a(t,e){var i="border"==e?"Width":"",s=e+"Top"+i,n=e+"Right"+i,r=e+"Bottom"+i,i=e+"Left"+i;t[e]=(t[s]==t[n]&&t[s]==t[r]&&t[s]==t[i]?[t[s]]:t[s]==t[r]&&t[i]==t[n]?[t[s],t[n]]:t[i]==t[n]?[t[s],t[n],t[r]]:[t[s],t[n],t[r],t[i]]).join(" ")}function e(t){function e(t){return"-"+t.toLowerCase()}var i,s=this,n=t.currentStyle,r=o(t,"fontSize");for(i in n)if(Array.prototype.push.call(s,"styleFloat"==i?"float":i.replace(/[A-Z]/,e)),"width"==i)s[i]=t.offsetWidth+"px";else if("height"==i)s[i]=t.offsetHeight+"px";else if("styleFloat"==i)s.float=n[i],s.cssFloat=n[i];else if(/margin.|padding.|border.+W/.test(i)&&"auto"!=s[i])s[i]=Math.round(o(t,i,r))+"px";else if(/^outline/.test(i))try{s[i]=n[i]}catch(t){s.outlineColor=n.color,s.outlineStyle=s.outlineStyle||"none",s.outlineWidth=s.outlineWidth||"0px",s.outline=[s.outlineColor,s.outlineWidth,s.outlineStyle].join(" ")}else s[i]=n[i];a(s,"margin"),a(s,"padding"),a(s,"border"),s.fontSize=Math.round(r)+"px"}window.getComputedStyle||(e.prototype={constructor:e,getPropertyPriority:function(){throw new Error("NotSupportedError: DOM Exception 9")},getPropertyValue:function(t){return this[t.replace(/-\w/g,function(t){return t[1].toUpperCase()})]},item:function(t){return this[t]},removeProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},setProperty:function(){throw new Error("NoModificationAllowedError: DOM Exception 7")},getPropertyCSSValue:function(){throw new Error("NotSupportedError: DOM Exception 9")}},window.getComputedStyle=function(t){return new e(t)})},86204:function(t,e,i){i(95128)},62245:function(t,e,i){i(33733),i(27637)},50982:function(t,e,i){"use strict";i(13106)},13106:function(t,e,i){var s;
/*! MIT License
 *
 * performance.now polyfill
 * copyright Paul Irish 2015
 *
 */
i(71654),"performance"in window==0&&(window.performance={}),"now"in window.performance==0&&(s=Date.now(),performance.timing&&performance.timing.navigationStart&&(s=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-s})},82743:function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var i=Date.now(),s=Math.max(0,16-(i-r)),n=window.setTimeout(function(){t(i+s)},s);return r=i+s,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})},34972:function(t,e,i){"use strict";var o=i(57624),a=i(82137),h=i(16063),u=i(98673),l={};t.exports=function t(e,i){var s,n,r;if(i=i||"div",e=e.toLowerCase(),i in l||(l[i]={}),e in(n=l[i]))return n[e];if(o(e,i))return n[e]=e;if(e in a)for(r=0;r<a[e].length;r++)if(s=a[e][r],o(s.toLowerCase(),i))return n[e]=s;for(r=0;r<u.evt.length;r++)if(s=u.evt[r]+e,o(s,i))return u.reduce(r),n[e]=s;return"window"!==i&&h.indexOf(e)?n[e]=t(e,"window"):n[e]=!1}},34428:function(t,e,i){"use strict";var s=i(77795),n=i(1286),r=i(51578);t.exports=function(t,e){var i;if(!(t=n(t)))return!1;if(i=s[t].css,void 0!==e){if(!1===(e=r(t,e)))return!1;i+=":"+e+";"}return i}},1286:function(t,e,i){"use strict";function r(t,e){var i=n(t),s=!1!==e&&n(e);return o[t]=o[e]=o[i]=o[s]={dom:e,css:s},e}var o=i(77795),a=i(99909),n=i(66733),h=i(26181),u=i(98673);t.exports=function(t){var e,i,s,n;if((t+="")in o)return o[t].dom;for(s=a(),i=(t=h(t)).charAt(0).toUpperCase()+t.substring(1),e="filter"===t?["WebkitFilter","filter"]:(t+" "+u.dom.join(i+" ")+i).split(" "),n=0;n<e.length;n++)if(void 0!==s.style[e[n]])return 0!==n&&u.reduce(n-1),r(t,e[n]);return r(t,!1)}},51578:function(t,e,i){"use strict";var s=i(1286),a=i(97747),h=i(98673),n=i(77795),u={},l=/(\([^\)]+\))/gi,c=/([^ ,;\(]+(\([^\)]+\))?)/gi;t.exports=function(r,t){var o;return t+="",!!(r=s(r))&&((a(r,t)||(o=n[r].css,""!==(t=(t=t.replace(c,function(e){var t,i,s,n;if("#"===e[0]||!isNaN(e[0]))return e;if(i=e.replace(l,""),(s=o+":"+i)in u)return!1===u[s]?"":e.replace(i,u[s]);for(t=h.css.map(function(t){return t+e}),t=[e].concat(t),n=0;n<t.length;n++)if(a(r,t[n]))return 0!==n&&h.reduce(n-1),u[s]=t[n].replace(l,""),t[n];return u[s]=!1,""})).trim())))&&t)}},82137:function(t){"use strict";t.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},99909:function(t){"use strict";var e;t.exports=function(){return e?(e.style.cssText="",e.removeAttribute("style")):e=document.createElement("_"),e},t.exports.resetElement=function(){e=null}},98673:function(t){"use strict";function e(){this.initialize()}var i=["-webkit-","-moz-","-ms-"],s=["Webkit","Moz","ms"],n=["webkit","moz","ms"],r=e.prototype;r.initialize=function(){this.reduced=!1,this.css=i,this.dom=s,this.evt=n},r.reduce=function(t){this.reduced||(this.reduced=!0,this.css=[this.css[t]],this.dom=[this.dom[t]],this.evt=[this.evt[t]])},t.exports=new e},77795:function(t){"use strict";t.exports={}},97747:function(t,e,i){"use strict";var n,r,o=i(77795),a=i(99909),h=!1;t.exports=function(t,e){var i,s;if(!h){h=!0,n="CSS"in window&&"supports"in window.CSS,r=!1,s=a();try{s.style.width="invalid"}catch(t){r=!0}}if(n)return t=o[t].css,CSS.supports(t,e);if(i=(s=a()).style[t],r)try{s.style[t]=e}catch(t){return!1}else s.style[t]=e;return s.style[t]&&s.style[t]!==i},t.exports.resetFlags=function(){h=!1}},16063:function(t){"use strict";t.exports=["transitionend","animationstart","animationend","animationiteration"]},59981:function(t){"use strict";var e=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi;t.exports=function(t){return(t=String.prototype.replace.call(t,e,"")).charAt(0).toLowerCase()+t.substring(1)}},57624:function(t){"use strict";var i={window:window,document:document};t.exports=function(t,e){return t="on"+t,e in i||(i[e]=document.createElement(e)),t in(e=i[e])||"setAttribute"in e&&(e.setAttribute(t,"return;"),"function"==typeof e[t])}},66733:function(t){"use strict";var e=/^(webkit|moz|ms)/gi;t.exports=function(t){return"cssfloat"===t.toLowerCase()?"float":(t=e.test(t)?"-"+t:t).replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}},26181:function(t){"use strict";var e=/-([a-z])/g;t.exports=function(t){return"float"===t.toLowerCase()?"cssFloat":"Ms"===(t=t.replace(e,function(t,e){return e.toUpperCase()})).substr(0,2)?"ms"+t.substring(2):t}},63197:function(t,e,i){"use strict";t.exports={Queue:i(85699),QueueItem:i(88202),LiveQueue:i(44415)}},44415:function(t,e,i){"use strict";i(57379),i(82743),i(49810);var s=i(85699),n=i(88202);function r(t){this._queue=new s,this._maxProcesses=t||1,this._availableSlots=this._maxProcesses,this._rafId=0,this._isRunning=!1,this._boundFunctions={_run:this._run.bind(this),_releaseSlot:this._releaseSlot.bind(this)}}i=r.prototype;i.start=function(){this._isRunning&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(this._boundFunctions._run),this._isRunning=!0},i.pause=function(){this._isRunning&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._isRunning=!1},i.stop=function(){this.pause(),this.clear()},i.enqueue=function(t,e){if("function"!=typeof t)throw new Error("LiveQueue can only enqueue functions");void 0===e&&(e=s.PRIORITY_DEFAULT);t=new n(t,e);return this.enqueueQueueItem(t)},i.enqueueQueueItem=function(t){return this._queue.enqueueQueueItem(t),this._isRunning&&0===this._rafId&&this.start(),t},i.dequeueQueueItem=function(t){return this._queue.dequeueQueueItem(t)},i.clear=function(){this._queue=new s},i.destroy=function(){this.pause(),this._isRunning=!1,this._queue=null,this._boundFunctions=null},i.count=function(){return this._queue.count()+this.pending()},i.pending=function(){return this._maxProcesses-this._availableSlots},i.isEmpty=function(){return 0===this.count()},i._run=function(){var t;this._isRunning&&(this._rafId=requestAnimationFrame(this._boundFunctions._run),this._queue.isEmpty()||0===this._availableSlots||(t=this._queue.dequeue().data(),this._isPromise(t)&&(this._retainSlot(),t.then(this._boundFunctions._releaseSlot,this._boundFunctions._releaseSlot)),this._stopRunningIfDone()))},i._retainSlot=function(){this._availableSlots--},i._releaseSlot=function(){this._availableSlots++,this._stopRunningIfDone()},i._stopRunningIfDone=function(){0!=this._rafId&&0===this._queue.count()&&this._availableSlots==this._maxProcesses&&(cancelAnimationFrame(this._rafId),this._rafId=0)},i._isPromise=function(t){return!(!t||"function"!=typeof t.then)},t.exports=r},85699:function(t,e,i){"use strict";var s=i(88202);function n(){this._items=[]}i=n.prototype;i.enqueue=function(t,e){t=new s(t,e=void 0===e?n.PRIORITY_DEFAULT:e);return this.enqueueQueueItem(t)},i.enqueueQueueItem=function(t){return-1===this._items.indexOf(t)&&this._items.push(t),t},i.dequeue=function(){this._heapSort();var t=this._items.length-1,e=this._items[0];return this._items[0]=this._items[t],this._items.pop(),e},i.dequeueQueueItem=function(t){var e=this._items.indexOf(t);return-1<e&&this._items.splice(e,1),t},i.peek=function(){return 0==this.count()?null:(this._heapSort(),this._items[0])},i.isEmpty=function(){return 0===this._items.length},i.count=function(){return this._items.length},i.toString=function(){for(var t=["Queue total items: "+this.count()+"\n"],e=0;e<this.count();++e)t.push(this._items[e].toString()+"\n");return t.join("")},i._heapSort=function(){for(var t=this._items.length-1;0<=t;t--)for(var e=t;0<e;){0;var i=Math.floor((e-1)/2);if(0<=this._items[e].compareTo(this._items[i]))break;var s=this._items[e];this._items[e]=this._items[i],this._items[i]=s,e=i}},n.PRIORITY_LOW=10,n.PRIORITY_DEFAULT=5,n.PRIORITY_HIGH=1,t.exports=n},88202:function(t){"use strict";var i=0;function e(t,e){this.priority=e,this.data=t,this.insertionOrder=i++}var s=e.prototype;s.compareTo=function(t){return this.priority<t.priority||!(this.priority>t.priority)&&this.insertionOrder<t.insertionOrder?-1:1},s.toString=function(){return"QueueItem {priority:"+this.priority+",\tdata:"+this.data+"\tinsertionOrder:"+this.insertionOrder+"}"},t.exports=e},19474:function(t,e,i){"use strict";function s(){this._currentID=0}i=i(3494).SharedInstance;s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=i.share("ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance","1.0.3",s)},89294:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(70756),r=i(19474);function o(t){t=t||{},s.call(this),this.id=r.getNewID(),this.executor=t.executor||n,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},i._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=o},77634:function(t,e,i){"use strict";function s(t){this.rafEmitter=new n,this.rafEmitter.on(t,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0}var n=i(66428),i=s.prototype;i.requestAnimationFrame=function(t){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2,this._currentFrameID},i.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),-1!==this._cancelFrameIdx&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},i._onRAFExecuted=function(t){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t)},t.exports=s},77564:function(t,e,i){"use strict";function s(){this.events={}}var n=i(77634),i=s.prototype;i.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},i.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new s},66428:function(t,e,i){"use strict";function s(t){n.call(this,t)}var n=i(89294);(s.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=s},48327:function(t,e,i){"use strict";i=i(77564);t.exports=i.requestAnimationFrame("draw")},71422:function(t,e,i){"use strict";function s(t){this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}i(13106),(i=s.prototype).subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.trigger=function(t,e){for(var i=0;i<this._subscriberArrayLength;i++)null!==this._subscribers[this._subscribersOrder[i]]&&!1===this._subscribers[this._subscribersOrder[i]]._didDestroy&&this._subscribers[this._subscribersOrder[i]].trigger(t,e)},i.destroy=function(){var t=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},i.useExternalAnimationFrame=function(t){var e;if("boolean"==typeof t)return e=this._isUsingExternalAnimationFrame,t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),(this._isUsingExternalAnimationFrame=t)?this._boundOnExternalAnimationFrame:e||!1},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},i._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,t=!(this._willRun=!1)),this._isRunning||this._reset(),t},i._onSubscribersAnimationFrameStart=function(t){for(var e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameStart(t)},i._onSubscribersAnimationFrameEnd=function(t){for(var e=0;e<this._subscriberArrayLength;e++)null!==this._subscribers[this._subscribersOrder[e]]&&!1===this._subscribers[this._subscribersOrder[e]]._didDestroy&&this._subscribers[this._subscribersOrder[e]]._onAnimationFrameEnd(t)},i._onAnimationFrame=function(t){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,1e3<=this._rafData.delta&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},i._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},i._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=s},70756:function(t,e,i){"use strict";var s=i(3494).SharedInstance,i=i(71422);t.exports=s.share("ac-raf-executor:sharedRAFExecutorInstance","2.0.1",i)},23238:function(t,e,i){"use strict";var s=i(33911);t.exports=function(t,e){return e?{width:(e=s(t)).width,height:e.height}:{width:t.offsetWidth,height:t.offsetHeight}}},77877:function(t,e,i){"use strict";var n=i(23238),r=i(33911);t.exports=function(t,e){var i,s;return e?(i=r(t),t.offsetParent&&(s=r(t.offsetParent),i.top-=s.top,i.left-=s.left)):(s=n(t,e),i={top:t.offsetTop,left:t.offsetLeft,width:s.width,height:s.height}),{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},33911:function(t){"use strict";t.exports=function(t){t=t.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}},84237:function(t,e,i){"use strict";var n=i(23238),r=i(77877),s=i(5533).Clip,o=i(22258);function a(t,e){this.el=t,this._options=e||{},this._wrapper=this.el.querySelector(this._options.itemsSelector),this._items=Array.prototype.slice.call(this.el.querySelectorAll(this._options.itemSelector)),this.lastCenteredItem=this._items[0],this._isRightToLeft="rtl"===window.getComputedStyle(t).direction,this._inlineStart=this._isRightToLeft?"right":"left",this._inlineEnd=this._isRightToLeft?"left":"right",this._scrollType=this._scrollDirection(),this._usePaddles=void 0===this._options.usePaddles?o():this._options.usePaddles,this.centerItem=this.centerItem.bind(this),this._onScrollClipUpdate=this._onScrollClipUpdate.bind(this),this._init()}i=a.prototype;i._init=function(){this._usePaddles&&this._setupPaddles()},i.centerItem=function(t,e){this.lastCenteredItem=t;var i=.5*n(this.el).width,s=r(t).left,t=n(t).width,s=Math.round(s+.5*t-i);e?this.el.scrollLeft=this._setNormalizedScroll(s):(this._destroyCurrentClip(),this._isRightToLeft&&(s*=-1),this._smoothScrollTo(s))},i._getPaddles=function(){var t=this._isRightToLeft?this._options.rightPaddleSelector:this._options.leftPaddleSelector,e=this._isRightToLeft?this._options.leftPaddleSelector:this._options.rightPaddleSelector;return{start:this.el.querySelector(t),end:this.el.querySelector(e)}},i._setupPaddles=function(){this.el.classList.add("with-paddles"),this._paddles=this._getPaddles(),this._children=this._wrapper.children,this._childCount=this._wrapper.children.length,this._onScrollClipComplete=this._onScrollClipComplete.bind(this),this._onPaddleStartClick=this._onPaddleStartClick.bind(this),this._paddles.start.addEventListener("click",this._onPaddleStartClick),this._onPaddleEndClick=this._onPaddleEndClick.bind(this),this._paddles.end.addEventListener("click",this._onPaddleEndClick),this._onScroll=this._onScroll.bind(this),this._wrapper.addEventListener("scroll",this._onScroll),this._updateElementMetrics=this._updateElementMetrics.bind(this),window.addEventListener("resize",this._updateElementMetrics),window.addEventListener("orientationchange",this._updateElementMetrics),this._updateElementMetrics()},i._updateElementMetrics=function(){this._wrapperWidth=this._wrapper.offsetWidth,this._contentWidth=this._wrapper.scrollWidth,this._contentWidth<=this._wrapperWidth&&(this._destroyCurrentClip(),0!==this._wrapper.scrollLeft&&(this._wrapper.scrollLeft=0)),this._scrollStart=this._wrapper.scrollLeft,this._usePaddles&&(this._paddleWidth=this._paddles.start.offsetWidth,this._updatePaddleDisplay())},i._onScroll=function(){this._lockPaddles||(this._scrollStart=this._wrapper.scrollLeft,this._updatePaddleDisplay())},i._updatePaddleDisplay=function(){var t=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth;this._paddles.start.disabled=this._getNormalizedScroll(this._scrollStart)<=1,this._paddles.end.disabled=t>=this._contentWidth-1},i._onPaddleStartClick=function(t){this._smoothScrollTo(this._getPaddleStartScrollDestination())},i._getPaddleStartScrollDestination=function(){for(var t,e=this._getNormalizedScroll(this._scrollStart),i=this._childCount-1;0<i;i--)if((t=this._normalizePosition(r(this._children[i])))[this._inlineStart]<e)return t[this._inlineEnd]-this._wrapperWidth;return 0},i._onPaddleEndClick=function(t){this._smoothScrollTo(this._getPaddleEndScrollDestination())},i._getPaddleEndScrollDestination=function(){for(var t,e=this._getNormalizedScroll(this._scrollStart)+this._wrapperWidth,i=0;i<this._childCount;i++)if((t=this._normalizePosition(r(this._children[i])))[this._inlineEnd]>e)return t[this._inlineStart];return this._contentWidth},i._getBoundedScrollX=function(t){var e=this._contentWidth-this._wrapperWidth;return Math.max(Math.min(t,e),0)},i._smoothScrollTo=function(t){var e,i;this._updateElementMetrics(),this._lockPaddles||t===this._scrollStart||(e={scrollLeft:this._wrapper.scrollLeft},t={scrollLeft:this._setNormalizedScroll(t)},i={ease:this._options.scrollEasing,onUpdate:this._onScrollClipUpdate},this._usePaddles&&(this._lockPaddles=!0,i.onComplete=this._onScrollClipComplete),this._clip=s.to(e,this._options.scrollDuration,t,i))},i._onScrollClipUpdate=function(t){this._scrollStart=this._wrapper.scrollLeft=Math.round(t.target().scrollLeft)},i._onScrollClipComplete=function(){this._updatePaddleDisplay(),this._lockPaddles=!1},i._scrollDirection=function(){var t="reverse",e=document.createElement("div");return e.style.cssText="width:2px; height:1px; position:absolute; top:-1000px; overflow:scroll; font-size: 14px;",e.style.direction="rtl",e.innerHTML="test",document.body.appendChild(e),0<e.scrollLeft?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),document.body.removeChild(e),t},i._getNormalizedScroll=function(t){var e;return this._isRightToLeft?(e=Math.abs(t),"default"===this._scrollType?this._contentWidth-this._wrapperWidth-e:e):t},i._setNormalizedScroll=function(t){t=this._getBoundedScrollX(t);return this._isRightToLeft&&"reverse"!==this._scrollType?"negative"===this._scrollType?-t:-(t-this._contentWidth+this._wrapperWidth):t},i._normalizePosition=function(t){return this._isRightToLeft?{top:t.top,right:this._wrapperWidth-t.right+this._paddleWidth,bottom:t.bottom,left:this._wrapperWidth-t.left+this._paddleWidth}:{top:t.top,right:t.right-this._paddleWidth,bottom:t.bottom,left:t.left-this._paddleWidth}},i._destroyCurrentClip=function(){this._clip&&this._clip.playing()&&(this._clip.destroy(),this._lockPaddles=!1)},i._destroyPaddles=function(){this._paddles.start.removeEventListener("click",this._onPaddleStartClick),this._paddles.end.removeEventListener("click",this._onPaddleEndClick),this._wrapper.removeEventListener("scroll",this._onScroll),this._paddles=null},i.destroy=function(){this._items=null,this._destroyCurrentClip(),this._destroyPaddles(),window.removeEventListener("resize",this._updateElementMetrics),window.removeEventListener("orientationchange",this._updateElementMetrics)},t.exports=a},20442:function(t,e,i){"use strict";i=i(84237);t.exports={ScrollContainer:i}},3494:function(t,e,i){"use strict";t.exports={SharedInstance:i(7814)}},7814:function(t){"use strict";var s,e="undefined"!=typeof window?window:{},i="SharedInstance",n=e.AC,r=(s={},{get:function(t,e){var i=null;return i=s[t]&&s[t][e]?s[t][e]:i},set:function(t,e,i){return s[t]||(s[t]={}),s[t][e]="function"==typeof i?new i:i,s[t][e]},share:function(t,e,i){return this.get(t,e)||this.set(t,e,i)},remove:function(t,e){var i=typeof e;if("string"==i||"number"==i)return s[t]&&s[t][e]?void(s[t][e]=null):void 0;s[t]&&(s[t]=null)}});(n=n||(e.AC={}))[i]||(n[i]=r),t.exports=n[i]},59039:function(t,e,i){"use strict";var r=i(91638).Clip,o=i(480);t.exports=function(t,e,i,s,n){if(o("opacity")){if(n=n||{},s)return n.autoplay=!1!==n.autoplay||n.autoplay,n.propsFrom=n.propsFrom||{},n.propsFrom.opacity=e,n.autoplay?r.to(t,s,{opacity:i},n):new r(t,s,{opacity:i},n);t.style.opacity=i}else t.style.visibility=i?"visible":"hidden";"function"==typeof n.onStart&&n.onStart(),"function"==typeof n.onComplete&&n.onComplete()}},97253:function(t,e,i){"use strict";var s=i(91638).Clip,n=i(480);t.exports=function(t,e,i){if(i=i||{},n("opacity")){if(e)return i.autoplay=!1!==i.autoplay||i.autoplay,i.autoplay?s.to(t,e,{opacity:1},i):new s(t,e,{opacity:1},i);t.style.opacity=1}else t.style.visibility="visible";"function"==typeof i.onStart&&i.onStart(),"function"==typeof i.onComplete&&i.onComplete()}},54372:function(t,e,i){"use strict";var s=i(91638).Clip,n=i(480);t.exports=function(t,e,i){if(i=i||{},n("opacity")){if(e)return i.autoplay=!1!==i.autoplay||i.autoplay,i.autoplay?s.to(t,e,{opacity:0},i):new s(t,e,{opacity:0},i);t.style.opacity=0}else t.style.visibility="hidden";"function"==typeof i.onStart&&i.onStart(),"function"==typeof i.onComplete&&i.onComplete()}},87203:function(t,e,i){"use strict";var a=i(91638).Clip,h=i(21873);t.exports=function(t,e,i,s,n){(n=n||{}).autoplay=!1!==n.autoplay||n.autoplay;var r=n.onStart||null,o=n.onComplete||null,e={transform:{translateX:e+"px",translateY:i+"px"}};if(s)return n.onStart=function(){t.style.willChange="transform",null!==r&&r.call(this)},n.onComplete=function(){t.style.willChange="",null!==o&&o.call(this)},n.autoplay?a.to(t,s,e,n):new a(t,s,e,n);h.setStyle(t,e),"function"==typeof n.onStart&&n.onStart(),"function"==typeof n.onComplete&&n.onComplete()}},96547:function(t,e,i){"use strict";var r=i(17650),o=i(63372).Transform,a=i(87203);t.exports=function(t,e,i,s){var n=new o;return n.setMatrixValue(getComputedStyle(t)[r.transform]),a(t,e,n.getTranslateY(),i,s)}},19273:function(t,e,i){"use strict";var s=i(20442).ScrollContainer,n={itemsSelector:".tabnav-items",itemSelector:".tabnav-link",leftPaddleSelector:".tabnav-paddle-left",rightPaddleSelector:".tabnav-paddle-right",scrollEasing:"ease-out",scrollDuration:.5,usePaddles:!0};t.exports=function(t,e){return e=Object.assign({},n,e),new s(t,e)}},63372:function(t,e,i){"use strict";t.exports={Transform:i(72497)}},72497:function(t,e,i){"use strict";var m=i(54001),f=i(65636),_=i(14113),n=Math.PI/180,g=180/Math.PI;function s(){this.m=m.create()}function b(t){return Math.abs(t)<1e-4}i=s.prototype;i.rotateX=function(t){return m.rotateX(this.m,this.m,n*t),this},i.rotateY=function(t){return m.rotateY(this.m,this.m,n*t),this},i.rotateZ=function(t){return m.rotateZ(this.m,this.m,n*t),this},i.rotate=i.rotateZ,i.rotate3d=function(t,e,i,s){return m.rotate(this.m,this.m,n*s,[t,e=null==e?t:e,i=null!==i&&void 0!==e?i:t]),this},i.rotateAxisAngle=i.rotate3d,i.scale=function(t,e){return m.scale(this.m,this.m,[t,e=e||t,1]),this},i.scaleX=function(t){return m.scale(this.m,this.m,[t,1,1]),this},i.scaleY=function(t){return m.scale(this.m,this.m,[1,t,1]),this},i.scaleZ=function(t){return m.scale(this.m,this.m,[1,1,t]),this},i.scale3d=function(t,e,i){return m.scale(this.m,this.m,[t,e,i]),this},i.skew=function(t,e){if(null==e)return this.skewX(t);t*=n,e*=n;var i=m.create();return i[4]=Math.tan(t),i[1]=Math.tan(e),m.multiply(this.m,this.m,i),this},i.skewX=function(t){t*=n;var e=m.create();return e[4]=Math.tan(t),m.multiply(this.m,this.m,e),this},i.skewY=function(t){t*=n;var e=m.create();return e[1]=Math.tan(t),m.multiply(this.m,this.m,e),this},i.translate=function(t,e){return m.translate(this.m,this.m,[t,e=e||0,0]),this},i.translate3d=function(t,e,i){return m.translate(this.m,this.m,[t,e,i]),this},i.translateX=function(t){return m.translate(this.m,this.m,[t,0,0]),this},i.translateY=function(t){return m.translate(this.m,this.m,[0,t,0]),this},i.translateZ=function(t){return m.translate(this.m,this.m,[0,0,t]),this},i.perspective=function(t){var e=m.create();0!==t&&(e[11]=-1/t),m.multiply(this.m,this.m,e)},i.inverse=function(){var t=this.clone();return t.m=m.invert(t.m,this.m),t},i.reset=function(){return m.identity(this.m),this},i.getTranslateXY=function(){var t=this.m;return this.isAffine(),[t[12],t[13]]},i.getTranslateXYZ=function(){var t=this.m;return this.isAffine()?[t[12],t[13],0]:[t[12],t[13],t[14]]},i.getTranslateX=function(){var t=this.m;return this.isAffine(),t[12]},i.getTranslateY=function(){var t=this.m;return this.isAffine(),t[13]},i.getTranslateZ=function(){var t=this.m;return this.isAffine()?0:t[14]},i.clone=function(){var t=new s;return t.m=m.clone(this.m),t},i.toArray=function(){var t=this.m;return this.isAffine()?[t[0],t[1],t[4],t[5],t[12],t[13]]:[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]},i.fromArray=function(t){return this.m=Array.prototype.slice.call(t),this},i.setMatrixValue=function(t){t=String(t).trim();var e=m.create();if("none"!==t){var i,s,n=t.slice(0,t.indexOf("("));if("matrix3d"===n)for(i=t.slice(9,-1).split(","),s=0;s<i.length;s++)e[s]=parseFloat(i[s]);else{if("matrix"!==n)throw new TypeError("Invalid Matrix Value");for(s=(i=t.slice(7,-1).split(",")).length;s--;)i[s]=parseFloat(i[s]);e[0]=i[0],e[1]=i[1],e[12]=i[4],e[4]=i[2],e[5]=i[3],e[13]=i[5]}}return this.m=e,this};i.decompose=function(t){t=t||!1;for(var e=m.clone(this.m),i=f.create(),s=f.create(),n=f.create(),r=_.create(),o=_.create(),a=(f.create(),0);a<16;a++)e[a]/=e[15];var h=m.clone(e),u=(h[3]=0,h[7]=0,h[11]=0,h[15]=1,e[3],e[7],e[11],e[12]),l=e[13],c=e[14],d=(e[15],_.create()),p=(r=b(e[3])&&b(e[7])&&b(e[11])?_.fromValues(0,0,0,1):(d[0]=e[3],d[1]=e[7],d[2]=e[11],d[3]=e[15],h=m.invert(m.create(),h),h=m.transpose(m.create(),h),_.transformMat4(r,d,h)),i[0]=u,i[1]=l,i[2]=c,[f.create(),f.create(),f.create()]),d=(p[0][0]=e[0],p[0][1]=e[1],p[0][2]=e[2],p[1][0]=e[4],p[1][1]=e[5],p[1][2]=e[6],p[2][0]=e[8],p[2][1]=e[9],p[2][2]=e[10],s[0]=f.length(p[0]),f.normalize(p[0],p[0]),n[0]=f.dot(p[0],p[1]),p[1]=this._combine(p[1],p[0],1,-n[0]),s[1]=f.length(p[1]),f.normalize(p[1],p[1]),n[0]/=s[1],n[1]=f.dot(p[0],p[2]),p[2]=this._combine(p[2],p[0],1,-n[1]),n[2]=f.dot(p[1],p[2]),p[2]=this._combine(p[2],p[1],1,-n[2]),s[2]=f.length(p[2]),f.normalize(p[2],p[2]),n[1]/=s[2],n[2]/=s[2],f.cross(f.create(),p[1],p[2]));if(f.dot(p[0],d)<0)for(a=0;a<3;a++)s[a]*=-1,p[a][0]*=-1,p[a][1]*=-1,p[a][2]*=-1;o[0]=.5*Math.sqrt(Math.max(1+p[0][0]-p[1][1]-p[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-p[0][0]+p[1][1]-p[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-p[0][0]-p[1][1]+p[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+p[0][0]+p[1][1]+p[2][2],0)),p[2][1]>p[1][2]&&(o[0]=-o[0]),p[0][2]>p[2][0]&&(o[1]=-o[1]),p[1][0]>p[0][1]&&(o[2]=-o[2]);h=_.fromValues(o[0],o[1],o[2],2*Math.acos(o[3])),u=this._rotationFromQuat(o);return t&&(n[0]=Math.round(n[0]*g*100)/100,n[1]=Math.round(n[1]*g*100)/100,n[2]=Math.round(n[2]*g*100)/100,u[0]=Math.round(u[0]*g*100)/100,u[1]=Math.round(u[1]*g*100)/100,u[2]=Math.round(u[2]*g*100)/100,h[3]=Math.round(h[3]*g*100)/100),{translation:i,scale:s,skew:n,perspective:r,quaternion:o,eulerRotation:u,axisAngle:h}},i.recompose=function(t,e,i,s,n){t=t||f.create(),e=e||f.create(),i=i||f.create(),s=s||_.create(),n=n||_.create();n=m.fromRotationTranslation(m.create(),n,t),n[3]=s[0],n[7]=s[1],n[11]=s[2],n[15]=s[3],t=m.create();return 0!==i[2]&&(t[9]=i[2],m.multiply(n,n,t)),0!==i[1]&&(t[9]=0,t[8]=i[1],m.multiply(n,n,t)),i[0]&&(t[8]=0,t[4]=i[0],m.multiply(n,n,t)),m.scale(n,n,e),this.m=n,this},i.isAffine=function(){return 0===this.m[2]&&0===this.m[3]&&0===this.m[6]&&0===this.m[7]&&0===this.m[8]&&0===this.m[9]&&1===this.m[10]&&0===this.m[11]&&0===this.m[14]&&1===this.m[15]},i.toString=function(){var t=this.m;return this.isAffine()?"matrix("+t[0]+", "+t[1]+", "+t[4]+", "+t[5]+", "+t[12]+", "+t[13]+")":"matrix3d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},i.toCSSString=i.toString,i._combine=function(t,e,i,s){var n=f.create();return n[0]=i*t[0]+s*e[0],n[1]=i*t[1]+s*e[1],n[2]=i*t[2]+s*e[2],n},i._matrix2dToMat4=function(t){for(var e=m.create(),i=0;i<4;i++)for(var s=0;s<4;s++)e[4*i+s]=t[i][s];return e},i._mat4ToMatrix2d=function(t){for(var e=[],i=0;i<4;i++){e[i]=[];for(var s=0;s<4;s++)e[i][s]=t[4*i+s]}return e},i._rotationFromQuat=function(t){var e,i,s,n=t[3]*t[3],r=t[0]*t[0],o=t[1]*t[1],a=t[2]*t[2],h=r+o+a+n,u=t[0]*t[1]+t[2]*t[3];return.499*h<u?(i=2*Math.atan2(t[0],t[3]),s=Math.PI/2,f.fromValues(e=0,i,s)):u<-.499*h?(i=-2*Math.atan2(t[0],t[3]),s=-Math.PI/2,f.fromValues(e=0,i,s)):(i=Math.atan2(2*t[1]*t[3]-2*t[0]*t[2],r-o-a+n),s=Math.asin(2*u/h),e=Math.atan2(2*t[0]*t[3]-2*t[1]*t[2],o-r-a+n),f.fromValues(e,i,s))},t.exports=s},54001:function(t,e,i){i={create:i(26252),rotate:i(90397),rotateX:i(64663),rotateY:i(82113),rotateZ:i(50974),scale:i(64028),multiply:i(29401),translate:i(42602),invert:i(64481),clone:i(48447),transpose:i(59683),identity:i(36312),fromRotationTranslation:i(71872)};t.exports=i},65636:function(t,e,i){i={create:i(23544),dot:i(58368),normalize:i(60091),length:i(97563),cross:i(53858),fromValues:i(45221)};t.exports=i},14113:function(t,e,i){i={create:i(47330),transformMat4:i(54020),fromValues:i(13444)};t.exports=i},21447:function(t){"use strict";t.exports=function(s,t){var e,n,r="";return s&&(e=Object.keys(s),n=e.length-1,e.forEach(function(t,e){var i=s[t],t=(t=t.trim())+(i=null===(i=i&&"string"==typeof i?i.trim():i)?"":"="+i)+(e===n?"":"&");r=r?r.concat(t):t})),r&&!1!==t?"?"+r:r}},23952:function(t,e,i){"use strict";var s={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=i(1331)(s)},32792:function(t){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{name:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{name:"",major:0,minor:0,patch:0}}}},77181:function(t){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return-1<t.ua.indexOf("Edge")||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return-1<t.ua.indexOf("Firefox")&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return-1<t.ua.indexOf("Safari")&&-1<t.vendor.indexOf("Apple")},version:"Version"},{name:"ie",test:function(t){return-1<t.ua.indexOf("IE")||-1<t.ua.indexOf("Trident")},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return t=document.documentMode?parseInt(document.documentMode,10):t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(t){return-1<t.platform.indexOf("Win")},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return-1<t.platform.indexOf("Mac")}},{name:"ios",test:function(t){return-1<t.ua.indexOf("iPhone")||-1<t.ua.indexOf("iPad")},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return-1<t.platform.indexOf("Linux")&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return-1<t.ua.indexOf("Firefox")&&-1<t.ua.indexOf("Mobile")},version:"rv"},{name:"android",userAgent:"Android"},{name:"chromeos",userAgent:"CrOS"}]}},1331:function(t,e,i){"use strict";var s=i(32792),n=i(77181);function h(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);for(var i,s=t.version||t.userAgent,n=(s="string"==typeof s?[s]:s).length,r=0;r<n;r++)if((i=e.match((i=s[r],new RegExp(i+"[a-zA-Z\\s/:]+([0-9_.]+)","i"))))&&1<i.length)return i[1].replace(/_/g,".")}function r(t,e,i){for(var s,n,r,o=t.length,a=0;a<o;a++)if("function"==typeof t[a].test?!0===t[a].test(i)&&(s=t[a].name):-1<i.ua.indexOf(t[a].userAgent)&&(s=t[a].name),s)return e[s]=!0,"string"==typeof(n=h(t[a],i.ua))?(r=n.split("."),e.version.name=n,r&&0<r.length&&(e.version.major=parseInt(r[0]||0),e.version.minor=parseInt(r[1]||0),e.version.patch=parseInt(r[2]||0))):"edge"===s&&(e.version.name="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0"),"function"==typeof t[a].parseDocumentMode&&(e.version.documentMode=t[a].parseDocumentMode()),e;return e}t.exports=function(t){var e={};return e.browser=r(n.browser,s.browser,t),e.os=r(n.os,s.os,t),e}},42488:function(t){t.exports={majorVersionNumber:"3.x"}},84503:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(15073),r=i(432);function o(t){t=t||{},s.call(this),this.id=r.getNewID(),this.executor=t.executor||n,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},i._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=o},81627:function(t,e,i){"use strict";var s=i(48010);function n(t){this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1;var e=null,i=null;"undefined"!=typeof window?(e=window.requestAnimationFrame,i=window.cancelAnimationFrame):e=i=function(){},this._requestAnimationFrame=e,this._cancelAnimationFrame=i,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(i=n.prototype).frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},i.useExternalAnimationFrame=function(t){var e;if("boolean"==typeof t)return e=this._isUsingExternalAnimationFrame,t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),(this._isUsingExternalAnimationFrame=t)?this._boundOnExternalAnimationFrame:e||!1},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,t=!(this._willRun=!1)),this._isRunning||this._reset(),t},i._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,1e3<=this._rafData.delta&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=n},34427:function(t,e,i){"use strict";function s(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0}var n=i(20676),i=s.prototype;i.requestAnimationFrame=function(t,e){return!0===e&&0<this.rafEmitter.executor.phaseIndex&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},i.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),-1<this._cancelFrameIdx?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),-1<this._cancelFrameIdx?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),-1<this._cancelFrameIdx&&this._cancelRunningAnimationFrame()))},i._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},i._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},i._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},i._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},i._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},i._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},i._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},i._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=s},78712:function(t,e,i){"use strict";function s(){this.events={}}var n=i(34427),i=s.prototype;i.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},i.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new s},20676:function(t,e,i){"use strict";function s(t){n.call(this,t)}var n=i(84503);(s.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=s},28371:function(t,e,i){"use strict";i=i(78712);t.exports=i.cancelAnimationFrame("update")},23364:function(t,e,i){"use strict";i=i(78712);t.exports=i.requestAnimationFrame("draw")},18020:function(t,e,i){"use strict";i=i(78712);t.exports=i.requestAnimationFrame("external")},432:function(t,e,i){"use strict";function s(){this._currentID=0}var n=i(3494).SharedInstance,i=i(42488).majorVersionNumber;s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",i,s)},15073:function(t,e,i){"use strict";var s=i(3494).SharedInstance,n=i(42488).majorVersionNumber,i=i(81627);t.exports=s.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",n,i)},4656:function(t,e,i){"use strict";i=i(78712);t.exports=i.requestAnimationFrame("update")},49208:function(t){t.exports={version:"3.6.5",major:"3.x",majorMinor:"3.6"}},58075:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro;const o=i(10921),a=i(20637),h=i(55617),u=i(27481),n=i(29533),r=i(79679),l=i(9297),c=i(49208),d={};"undefined"!=typeof window&&(d.update=i(4656),d.cancelUpdate=i(28371),d.external=i(18020),d.draw=i(23364));let p=null;class m extends s{constructor(){if(super(),p)throw"You cannot create multiple AnimSystems. You probably want to create multiple groups instead. You can have unlimited groups on a page";(p=this).groups=[],this.scrollSystems=[],this.timeSystems=[],this.tweenGroup=null,this._forceUpdateRAFId=-1,this.initialized=!1,this.model=o,this.plugins={keyframe:[],parser:[]},this.version=c.version,this._resolveReady=()=>{},this.ready=new Promise(t=>this._resolveReady=t),this.onScroll=this.onScroll.bind(this),this.onResizedDebounced=this.onResizedDebounced.bind(this),this.onResizeImmediate=this.onResizeImmediate.bind(this)}initialize(){return this.initialized||"undefined"==typeof window||(this.initialized=!0,this.timeSystems=[],this.scrollSystems=[],this.groups=[],this.setupEvents(),this.initializeResizeFilter(),this.initializeModel(),this.createDOMGroups(),this.createDOMKeyframes(),this.tweenGroup=new l(null,this),this.groups.unshift(this.tweenGroup),this._resolveReady()),this.ready}use(t,e){t.install(this,e)}remove(){return this.initialized?Promise.all(this.groups.map(t=>t.remove())).then(()=>{this.groups=null,this.scrollSystems=null,this.timeSystems=null,window.clearTimeout(o.RESIZE_TIMEOUT),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),this._events={},this.initialized=!1,this.ready=new Promise(t=>this._resolveReady=t)}):(this.ready=new Promise(t=>this._resolveReady=t),Promise.resolve())}destroy(){return this.remove()}createTimeGroup(t,e){t instanceof HTMLElement||(t=(e=t||{}).el);let i=new r(t,this);return e&&e.name&&(i.name=e.name),this.groups.push(i),this.timeSystems.push(i),this.trigger(o.EVENTS.ON_GROUP_CREATED,i),i}createScrollGroup(t,e){if(!t)throw"AnimSystem scroll based groups must supply an HTMLElement";let i=new n(t,this);return(e=e||{}).name&&(i.name=e.name),e.getPosition&&e.getMaxPosition&&(i.getPosition=e.getPosition,i.createViewableRange=()=>({a:0,d:e.getMaxPosition()})),i.getPosition=e.getPosition||i.getPosition,i.getPosition=e.getPosition||i.getPosition,this.groups.push(i),this.scrollSystems.push(i),this.trigger(o.EVENTS.ON_GROUP_CREATED,i),i}removeGroup(e){return Promise.all(e.keyframeControllers.map(t=>e.removeKeyframeController(t))).then(()=>{let t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1),-1!==(t=this.scrollSystems.indexOf(e))&&this.scrollSystems.splice(t,1),-1!==(t=this.timeSystems.indexOf(e))&&this.timeSystems.splice(t,1),e.destroy()})}createDOMGroups(){document.body.setAttribute("data-anim-scroll-group","body"),document.querySelectorAll("[data-anim-scroll-group]").forEach(t=>this.createScrollGroup(t)),document.querySelectorAll("[data-anim-time-group]").forEach(t=>this.createTimeGroup(t)),this.trigger(o.EVENTS.ON_DOM_GROUPS_CREATED,this.groups)}createDOMKeyframes(){let i=[];["data-anim-keyframe",a.DATA_ATTRIBUTE,h.DATA_ATTRIBUTE,u.DATA_ATTRIBUTE].forEach(function(e){for(let t=0;t<12;t++)i.push(e+(0===t?"":"-"+(t-1)))});for(let t=0;t<i.length;t++){var e=i[t],s=document.querySelectorAll("["+e+"]");for(let t=0;t<s.length;t++){const r=s[t];var n=JSON.parse(r.getAttribute(e));this.addKeyframe(r,n)}}d.update(()=>{null!==this.groups&&(this.groups.forEach(t=>t.onKeyframesDirty({silent:!0})),this.groups.forEach(t=>t.trigger(o.EVENTS.ON_DOM_KEYFRAMES_CREATED,t)),this.trigger(o.EVENTS.ON_DOM_KEYFRAMES_CREATED,this),this.groups.forEach(t=>{t.forceUpdate({waitForNextUpdate:!1,silent:!0}),t.reconcile()}),this.onScroll())},!0)}initializeResizeFilter(){if(!o.cssDimensionsTracker){const t=document.querySelector(".cssDimensionsTracker")||document.createElement("div");t.setAttribute("cssDimensionsTracker","true"),t.style.position="fixed",t.style.top="0",t.style.width="100%",t.style.height="100vh",t.style.pointerEvents="none",t.style.visibility="hidden",t.style.zIndex="-1",document.documentElement.appendChild(t),o.cssDimensionsTracker=t}}initializeModel(){o.pageMetrics.windowHeight=o.cssDimensionsTracker.clientHeight,o.pageMetrics.windowWidth=o.cssDimensionsTracker.clientWidth,o.pageMetrics.scrollY=window.scrollY||window.pageYOffset,o.pageMetrics.scrollX=window.scrollX||window.pageXOffset,o.pageMetrics.breakpoint=o.getBreakpoint();var t=document.documentElement.getBoundingClientRect();o.pageMetrics.documentOffsetX=t.left+o.pageMetrics.scrollX,o.pageMetrics.documentOffsetY=t.top+o.pageMetrics.scrollY}setupEvents(){window.removeEventListener("scroll",this.onScroll),window.addEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResizeImmediate),window.addEventListener("resize",this.onResizeImmediate)}onScroll(){o.pageMetrics.scrollY=window.scrollY||window.pageYOffset,o.pageMetrics.scrollX=window.scrollX||window.pageXOffset;for(let t=0,e=this.scrollSystems.length;t<e;t++)this.scrollSystems[t].updateTimeline();this.trigger(o.PageEvents.ON_SCROLL,o.pageMetrics)}onResizeImmediate(){var t=o.cssDimensionsTracker.clientWidth,e=o.cssDimensionsTracker.clientHeight;t===o.pageMetrics.windowWidth&&e===o.pageMetrics.windowHeight||(o.pageMetrics.windowWidth=t,o.pageMetrics.windowHeight=e,o.pageMetrics.scrollY=window.scrollY||window.pageYOffset,o.pageMetrics.scrollX=window.scrollX||window.pageXOffset,t=document.documentElement.getBoundingClientRect(),o.pageMetrics.documentOffsetX=t.left+o.pageMetrics.scrollX,o.pageMetrics.documentOffsetY=t.top+o.pageMetrics.scrollY,window.clearTimeout(o.RESIZE_TIMEOUT),o.RESIZE_TIMEOUT=window.setTimeout(this.onResizedDebounced,250),this.trigger(o.PageEvents.ON_RESIZE_IMMEDIATE,o.pageMetrics))}onResizedDebounced(){d.update(()=>{var t=o.pageMetrics.breakpoint,e=o.getBreakpoint();if(e!==t){o.pageMetrics.previousBreakpoint=t,o.pageMetrics.breakpoint=e;for(let t=0,e=this.groups.length;t<e;t++)this.groups[t]._onBreakpointChange();this.trigger(o.PageEvents.ON_BREAKPOINT_CHANGE,o.pageMetrics)}for(let t=0,e=this.groups.length;t<e;t++)this.groups[t].forceUpdate({waitForNextUpdate:!1});this.trigger(o.PageEvents.ON_RESIZE_DEBOUNCED,o.pageMetrics)},!0)}forceUpdate({waitForNextUpdate:t=!0,silent:s=!1}={}){-1!==this._forceUpdateRAFId&&d.cancelUpdate(this._forceUpdateRAFId);var e=()=>{for(let t=0,e=this.groups.length;t<e;t++){const i=this.groups[t];i.forceUpdate({waitForNextUpdate:!1,silent:s})}return-1};this._forceUpdateRAFId=t?d.update(e,!0):e()}addKeyframe(t,e){let i=this.getGroupForTarget(t);return(i=i||this.getGroupForTarget(document.body)).addKeyframe(t,e)}addEvent(t,e){let i=this.getGroupForTarget(t);return(i=i||this.getGroupForTarget(document.body)).addEvent(t,e)}getTimeGroupForTarget(t){return this._getGroupForTarget(t,t=>t instanceof r)}getScrollGroupForTarget(t){return this._getGroupForTarget(t,t=>!(t instanceof r))}getGroupForTarget(t){return this._getGroupForTarget(t,()=>!0)}getGroupByName(e){return this.groups.find(t=>t.name===e)}_getGroupForTarget(t,e){if(t._animInfo&&t._animInfo.group&&e(t._animInfo.group))return t._animInfo.group;let i=t;for(;i;){if(i._animInfo&&i._animInfo.isGroup&&e(i._animInfo.group))return i._animInfo.group;i=i.parentElement}}getControllerForTarget(t){return t._animInfo&&t._animInfo.controller?t._animInfo.controller:null}addTween(t,e){return this.tweenGroup.addKeyframe(t,e)}}t.exports="undefined"==typeof window?new m:window.AC.SharedInstance.share("AnimSystem",c.major,m),t.exports.default=t.exports},94625:function(t,e,i){const o=i(10921);class s{constructor(t,e){this._index=0,this.keyframe=t,e&&(this.name=e)}get start(){return this.keyframe.jsonProps.start}set index(t){this._index=t}get index(){return this._index}}t.exports=class{constructor(t){this.timeGroup=t,this.chapters=[],this.chapterNames={},this.currentChapter=null,this.tween=null,this.destroyed=!1}destroy(){this.destroyed=!0,this.tween&&!this.tween.destroyed&&this.tween.remove(),this.tween=null}addChapter(t){var{position:e,name:i}=t;if(void 0===e)throw ReferenceError("Cannot add chapter without target position.");t._impIsFirst||0!==this.chapters.length||this.addChapter({position:0,_impIsFirst:!0});t=this.timeGroup.addKeyframe(this,{start:e,end:e,event:"Chapter"}),this.timeGroup.forceUpdate({waitForNextFrame:!1,silent:!0}),e=new s(t,i);if(this.chapters.push(e),i){if(this.chapterNames.hasOwnProperty(i))throw ReferenceError(`Duplicate chapter name assigned - "${i}" is already in use`);this.chapterNames[i]=e}return this.chapters.sort((t,e)=>t.start-e.start).forEach((t,e)=>t.index=e),this.currentChapter=this.currentChapter||this.chapters[0],e}playToChapter(e){let s;if(e.hasOwnProperty("index"))s=this.chapters[e.index];else{if(!e.hasOwnProperty("name"))throw ReferenceError("Cannot play to chapter without target index or name");s=this.chapterNames[e.name]}if(s&&(this.currentChapter!==s||!0===e.force)){let t=e.ease||"easeInOutCubic";this.tween&&this.tween.controller&&(this.tween.remove(),t=e.ease||"easeOutQuint"),this.timeGroup.timeScale(e.timeScale||1);var e=void 0!==e.duration?e.duration:this.getDurationToChapter(s),n=this.timeGroup.time(),r=s.start;let i=!1;return this.tween=this.timeGroup.anim.addTween({time:n},{easeFunction:t,duration:e,time:[n,r],onStart:()=>{this.destroyed||this.timeGroup.trigger(o.EVENTS.ON_CHAPTER_INITIATED,{player:this,next:s})},onDraw:t=>{var e;this.destroyed||(e=t.tweenProps.time.current,this.timeGroup.time(e),.5<t.keyframe.curvedT&&!i&&(i=!0,this.currentIndex=s.index,this.currentChapter=s,this.timeGroup.trigger(o.EVENTS.ON_CHAPTER_OCCURRED,{player:this,current:s})))},onComplete:()=>{this.destroyed||(this.timeGroup.trigger(o.EVENTS.ON_CHAPTER_COMPLETED,{player:this,current:s}),this.timeGroup.paused(!0),this.tween=null)}}),this.tween}}getDurationToChapter(t){var e=this.chapters[t.index-1]||this.chapters[t.index+1];return Math.abs(e.start-t.start)}}},20637:function(t,e,i){"use strict";const h=i(10921),u=i(99171),l=i(21927),s=i(39917),c=i(1777),d=i(486),p=i(97297),n=i(43728),m=i(35157),f=i(6629),r=i(78264),{cssAttributes:_,suffixFreeAttributes:g,domAttributes:b}=i(93018);class o{constructor(e,t){this.controller=e,this.anchors=[],this.jsonProps=t,this.ease=e.group.defaultEase,this.easeFunction=c.linear,this.start=0,this.end=0,this.localT=0,this.curvedT=0,this.id=0,this.event="",this.needsEventDispatch=!1,this.snapAtCreation=!1,this.isEnabled=!1,this.animValues={},this.breakpointMask=h.KeyframeDefaults.breakpointMask,this.disabledWhen=[],this.keyframeType=h.KeyframeTypes.Interpolation,this.hold=!1,this.preserveState=!1;let i=this.markedForRemoval=!1;Object.defineProperty(this,"hidden",{get(){return i},set(t){i=t,e.group.keyframesDirty=!0}}),this.uuid=r(),this.destroyed=!1}destroy(){this.destroyed=!0,this.controller=null,this.disabledWhen=null,this.anchors=null,this.jsonProps=null,this.easeFunction=null,this.animValues=null}remove(){return this.controller.removeKeyframe(this)}parseOptions(n){(this.jsonProps=n).relativeTo&&console.error(`KeyframeError: relativeTo has been removed. Use 'anchors' property instead. Found 'relativeTo':"${n.relativeTo}"`),void 0===n.end&&void 0===n.duration&&(n.end=n.start),""!==n.anchors&&n.anchors?(this.anchors=[],n.anchors=Array.isArray(n.anchors)?n.anchors:[n.anchors],n.anchors.forEach((e,i)=>{var t=m(e,this.controller.group.element);if(t)this.anchors.push(t),this.controller.group.metrics.add(t);else{let t="string"==typeof e?" Provided value was a string, so a failed attempt was made to find anchor with the provided querystring in group.element, or in the document.":"";void console.warn("Keyframe on",this.controller.element,` failed to find anchor at index ${i} in array`,n.anchors,". Anchors must be JS Object references, Elements references, or valid query selector strings. "+t)}})):(this.anchors=[],n.anchors=[]),n.ease?this.ease=parseFloat(n.ease):n.ease=this.ease,n.hasOwnProperty("snapAtCreation")?this.snapAtCreation=n.snapAtCreation:n.snapAtCreation=this.snapAtCreation,n.easeFunction||(n.easeFunction=h.KeyframeDefaults.easeFunctionString),n.breakpointMask?this.breakpointMask=n.breakpointMask:n.breakpointMask=this.breakpointMask,n.disabledWhen?this.disabledWhen=Array.isArray(n.disabledWhen)?n.disabledWhen:[n.disabledWhen]:n.disabledWhen=this.disabledWhen,n.hasOwnProperty("hold")?this.hold=n.hold:n.hold=this.hold,n.hasOwnProperty("preserveState")?this.preserveState=n.preserveState:n.preserveState=h.KeyframeDefaults.preserveState,this.easeFunction=c[n.easeFunction],c.hasOwnProperty(n.easeFunction)||(n.easeFunction.includes("bezier")?this.easeFunction=d.fromCSSString(n.easeFunction):n.easeFunction.includes("spring")?this.easeFunction=p.fromCSSString(n.easeFunction):console.error("Keyframe parseOptions cannot find 'easeFunction' named '"+n.easeFunction+"'"));for(let s in n)if(-1===h.KeyframeJSONReservedWords.indexOf(s)){let i=n[s];if(Array.isArray(i)){if(1===i.length&&(i[1]=i[0],i[0]=null),void 0===this.controller.tweenProps[s]||!this.controller._ownerIsElement){let t=0;this.controller._ownerIsElement||(t=this.controller.element[s]||0);var r,o=s.startsWith("--"),a=i[2]||(o||g.includes(s)?void 0:"px");let e=this.controller.group.anim.plugins.keyframe.reduce((t,e)=>t||e.parseProp.call(this,n,s),null);!e&&this.controller._ownerIsElement&&(o||_.includes(s)?(o=f(s),r=n.round||["zIndex"].includes(o),t=parseFloat(this.controller.getTargetComputedStyle().getPropertyValue(o)),isNaN(t)&&(t=0),e=new l(t,h.KeyframeDefaults.epsilon,this.snapAtCreation,s,r,a),this.controller.cssAttributes.push(e)):b.includes(s)&&(e=new u(t,h.KeyframeDefaults.epsilon,this.snapAtCreation,s,n.round,a),this.controller.domAttributes.push(e))),e=e||new u(t,h.KeyframeDefaults.epsilon,this.snapAtCreation,s,n.round,a),this.controller.tweenProps[s]=e}this.animValues[s]=this.controller.group.expressionParser.parseArray(this,i);let t=this.controller.tweenProps[s];t.calculateEpsilon(n,this.animValues[s])}}this.keyframeType=this.hold?h.KeyframeTypes.InterpolationForward:h.KeyframeTypes.Interpolation,n.event&&(this.event=n.event)}overwriteProps(t){this.animValues={};t=Object.assign({},this.jsonProps,t);this.controller.updateKeyframe(this,t)}updateLocalProgress(t){var e;this.start===this.end||t<this.start||t>this.end?this.localT=t<this.start?this.hold?this.localT:0:t>this.end?1:0:(t=(t-this.start)/(this.end-this.start),e=this.hold?this.localT:0,this.localT=s.clamp(t,e,1)),this.curvedT=this.easeFunction(this.localT)}reconcile(t){let e=this.controller.tweenProps[t];e.reconcile(this.animValues[t],this.curvedT)&&!this.needsEventDispatch&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this))}reset(t){this.localT=t||0;var e,t=this.ease;for(e in this.ease=1,this.animValues)this.reconcile(e);this.ease=t}onDOMRead(t){t=this.controller.tweenProps[t].update(this.animValues[t],this.curvedT,this.ease);return""===this.event||this.needsEventDispatch||t&&(this.needsEventDispatch=!0,this.controller.keyframesRequiringDispatch.push(this)),t}isInRange(t){return t>=this.start&&t<=this.end}setEnabled(e){e=e||n(Array.from(document.documentElement.classList));var t=-1!==this.breakpointMask.indexOf(h.pageMetrics.breakpoint);let i=!1;return 0<this.disabledWhen.length&&(i=this.disabledWhen.some(t=>void 0!==e[t])),this.isEnabled=t&&!i,this.isEnabled}evaluateConstraints(){this.start=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.start),this.end=this.controller.group.expressionParser.parseTimeValue(this,this.jsonProps.end),this.evaluateInterpolationConstraints()}evaluateInterpolationConstraints(){for(var t in this.animValues){var e=this.jsonProps[t];this.animValues[t]=this.controller.group.expressionParser.parseArray(this,e)}}}o.DATA_ATTRIBUTE="data-anim-tween",t.exports=o},55617:function(t,e,i){"use strict";const n=i(20637),r=i(10921),o=i(99171);class a extends n{constructor(t,e){super(t,e),this.keyframeType=r.KeyframeTypes.CSSClass,this._triggerType=a.TRIGGER_TYPE_CSS_CLASS,this.cssClass="",this.friendlyName="",this.style={on:null,off:null},this.toggle=r.KeyframeDefaults.toggle,this.isApplied=!1}parseOptions(t){if(!this.controller._ownerIsElement)throw new TypeError("CSS Keyframes cannot be applied to JS Objects");if(t.x=void 0,t.y=void 0,t.z=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotationX=void 0,t.rotationY=void 0,t.rotationZ=void 0,t.rotation=void 0,t.opacity=void 0,(t.hold=void 0)!==t.toggle&&(this.toggle=t.toggle),void 0!==t.cssClass)this._triggerType=a.TRIGGER_TYPE_CSS_CLASS,this.cssClass=t.cssClass,this.friendlyName="."+this.cssClass,void 0===this.controller.tweenProps.targetClasses&&(this.controller.tweenProps.targetClasses={add:[],remove:[]});else{if(void 0===t.style||!this.isValidStyleProperty(t.style))throw new TypeError("KeyframeCSSClass no 'cssClass` property found. If using `style` property its also missing or invalid");if(this._triggerType=a.TRIGGER_TYPE_STYLE_PROPERTY,this.style=t.style,this.friendlyName="style",this.toggle=void 0!==this.style.off||this.toggle,this.toggle&&void 0===this.style.off)for(var e in this.style.off={},this.style.on)this.style.off[e]="";void 0===this.controller.tweenProps.targetStyles&&(this.controller.tweenProps.targetStyles={})}if(void 0===t.end&&(t.end=t.start),t.toggle=this.toggle,this._triggerType===a.TRIGGER_TYPE_CSS_CLASS)this.isApplied=this.controller.element.classList.contains(this.cssClass);else{var i,s=getComputedStyle(this.controller.element);for(i in this.isApplied=!0,this.style.on)if(s[i]!==this.style.on[i]){this.isApplied=!1;break}}n.prototype.parseOptions.call(this,t),this.animValues[this.friendlyName]=[0,0],void 0===this.controller.tweenProps[this.friendlyName]&&(this.controller.tweenProps[this.friendlyName]=new o(0,1,!1,this.friendlyName)),this.keyframeType=r.KeyframeTypes.CSSClass}updateLocalProgress(t){this.isApplied&&!this.toggle||(this.start!==this.end?!this.isApplied&&t>=this.start&&t<=this.end?this._apply():this.isApplied&&this.toggle&&(t<this.start||t>this.end)&&this._unapply():!this.isApplied&&t>=this.start?this._apply():this.isApplied&&this.toggle&&t<this.start&&this._unapply())}_apply(){if(this._triggerType===a.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.add.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.on)this.controller.tweenProps.targetStyles[t]=this.style.on[t];this.controller.needsStyleUpdate=!0}this.isApplied=!0}_unapply(){if(this._triggerType===a.TRIGGER_TYPE_CSS_CLASS)this.controller.tweenProps.targetClasses.remove.push(this.cssClass),this.controller.needsClassUpdate=!0;else{for(var t in this.style.off)this.controller.tweenProps.targetStyles[t]=this.style.off[t];this.controller.needsStyleUpdate=!0}this.isApplied=!1}isValidStyleProperty(t){if(!t.hasOwnProperty("on"))return!1;if("object"!=typeof t.on)throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");if(this.toggle&&t.hasOwnProperty("off")&&"object"!=typeof t.off)throw new TypeError("KeyframeCSSClass `style` property should be in the form of: {on:{visibility:'hidden', otherProperty: 'value'}}");return!0}reconcile(t){}onDOMRead(t){}evaluateInterpolationConstraints(){}}a.TRIGGER_TYPE_CSS_CLASS=0,a.TRIGGER_TYPE_STYLE_PROPERTY=1,a.DATA_ATTRIBUTE="data-anim-classname",t.exports=a},53570:function(t,e,i){"use strict";const r=i(10921),n=i(99171),s=i(26126),o=i(76033),a=i(55617),h=i(57382),u=i(43728),l=i(78264);var c=i(95350).EventEmitterMicro;const d=i(4707),p={},{transformAttributes:m,cssAttributes:f,domAttributes:_}=("undefined"!=typeof window&&(p.update=i(4656),p.external=i(18020),p.draw=i(23364)),i(93018)),g=Math.PI/180,b={create:i(26252),rotateX:i(64663),rotateY:i(82113),rotateZ:i(50974),scale:i(64028)};class y extends c{constructor(t,e){super(),this._events.draw=[],this.uuid=l(),this.group=t,this.element=e,this._ownerIsElement=this.element instanceof Element,this._ownerIsElement?this.friendlyName=this.element.tagName+"."+Array.from(this.element.classList).join("."):this.friendlyName=this.element.friendlyName||this.uuid,this.element._animInfo=this.element._animInfo||new o(t,this),(this.element._animInfo.controller=this).element._animInfo.group=this.group,this.element._animInfo.controllers.push(this),this.tweenProps=this.element._animInfo.tweenProps,this.eventObject=new s(this),this.needsStyleUpdate=!1,this.needsClassUpdate=!1,this.elementMetrics=this.group.metrics.add(this.element),this.attributes=[],this.cssAttributes=[],this.domAttributes=[],this.keyframes={},this._allKeyframes=[],this._activeKeyframes=[],this.keyframesRequiringDispatch=[],this.updateCachedValuesFromElement(),this.boundsMin=0,this.boundsMax=0,this.mat2d=new Float32Array(6),this.mat4=b.create(),this.needsWrite=!0,this.onDOMWriteImp=this._ownerIsElement?this.onDOMWriteForElement:this.onDOMWriteForObject}destroy(){var t;this.element._animInfo&&(this.element._animInfo.controller===this&&(this.element._animInfo.controller=null),-1!==(t=this.element._animInfo.controllers.indexOf(this))&&this.element._animInfo.controllers.splice(t,1),0===this.element._animInfo.controllers.length?this.element._animInfo=null:(t=this.element._animInfo.controllers.find(t=>t.group!==t.group.anim.tweenGroup))&&(this.element._animInfo.controller=t,this.element._animInfo.group=t.group)),this.eventObject.controller=null,this.eventObject.element=null,this.eventObject.keyframe=null,this.eventObject.tweenProps=null,this.eventObject=null,this.elementMetrics=null,this.group=null,this.keyframesRequiringDispatch=null;for(let t=0;t<this._allKeyframes.length;t++)this._allKeyframes[t].destroy();this._allKeyframes=null,this._activeKeyframes=null,this.attributes=null,this.keyframes=null,this.element=null,this.tweenProps=null,this.destroyed=!0,super.destroy()}remove(){return this.group.removeKeyframeController(this)}updateCachedValuesFromElement(){if(this._ownerIsElement){const e=this.getTargetComputedStyle(!0);var t=new DOMMatrix(e.getPropertyValue("transform"));let i=d(t),s=r.KeyframeDefaults.epsilon;["x","y","z"].forEach((t,e)=>{this.tweenProps[t]=new n(i.translation[e],s,!1,t)}),this.tweenProps.rotation=new n(i.rotation[2],s,!1,"rotation"),["rotationX","rotationY","rotationZ"].forEach((t,e)=>{this.tweenProps[t]=new n(i.rotation[e],s,!1,t)}),this.tweenProps.scale=new n(i.scale[0],s,!1,"scale"),["scaleX","scaleY","scaleZ"].forEach((t,e)=>{this.tweenProps[t]=new n(i.scale[e],s,!1,t)})}}addKeyframe(t){let e=h(t);if(!e)throw new Error("AnimSystem Cannot create keyframe for from options `"+t+"`");let i=new e(this,t);return i.parseOptions(t),i.id=this._allKeyframes.length,this._allKeyframes.push(i),i}needsUpdate(){for(let t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t];if(this.tweenProps[i].needsUpdate())return!0}return!1}updateLocalProgress(i){for(let e=0,t=this.attributes.length;e<t;e++){var s=this.attributes[e];let t=this.keyframes[this.attributes[e]];if(1===t.length)t[0].updateLocalProgress(i);else{let t=this.getNearestKeyframeForAttribute(s,i);t&&t.updateLocalProgress(i)}}}reconcile(){for(let e=0,t=this.attributes.length;e<t;e++){var i=this.attributes[e];let t=this.getNearestKeyframeForAttribute(i,this.group.position.local);t.updateLocalProgress(this.group.position.local),t.snapAtCreation&&t.reconcile(i)}}determineActiveKeyframes(i){i=i||u(Array.from(document.documentElement.classList));let t=this._activeKeyframes,e=this.attributes,r={};this._activeKeyframes=[],this.attributes=[],this.keyframes={};for(let e=0;e<this._allKeyframes.length;e++){let t=this._allKeyframes[e];if(t.markedForRemoval||t.hidden||!t.setEnabled(i))for(var s in t.animValues)this.tweenProps[s].isActive=t.preserveState,t.preserveState&&(r[s]=!0);else for(var n in this._activeKeyframes.push(t),t.animValues)this.keyframes[n]=this.keyframes[n]||[],this.keyframes[n].push(t),-1===this.attributes.indexOf(n)&&(r[n]=!0,this.attributes.push(n),this.tweenProps[n].isActive=!0)}this.attributes.forEach(t=>this.tweenProps[t].isActive=!0),this.cssAttributes=this.attributes.filter(t=>f.includes(t)||t.startsWith("--")).map(t=>this.tweenProps[t]),this.domAttributes=this.attributes.filter(t=>_.includes(t)).map(t=>this.tweenProps[t]);let o=t.filter(t=>-1===this._activeKeyframes.indexOf(t));if(0!==o.length){let n=e.filter(t=>-1===this.attributes.indexOf(t)&&!r.hasOwnProperty(t));if(0!==n.length)if(this.needsWrite=!0,this._ownerIsElement)p.external(()=>{var t=n.some(t=>m.includes(t)),e=t&&Object.keys(r).some(t=>m.includes(t));t&&!e&&this.element.style.removeProperty("transform");for(let e=0,t=n.length;e<t;++e){var i=n[e];let t=this.tweenProps[i];var s=t.isActive?t.target:t.initialValue;t.current=t.target=s,!t.isActive&&f.includes(i)&&(this.element.style[i]=null)}for(let e=0,t=o.length;e<t;++e){let t=o[e];t instanceof a&&!t.preserveState&&t._unapply()}},!0);else for(let e=0,t=n.length;e<t;++e){let t=this.tweenProps[n[e]];t.current=t.target,t.isActive=!1}}}onDOMRead(i){for(let e=0,t=this.attributes.length;e<t;e++){var s=this.attributes[e];let t=this.getNearestKeyframeForAttribute(s,i);t&&t.onDOMRead(s)&&(this.needsWrite=!0)}}onDOMWrite(){(this.needsWrite||this.needsClassUpdate||this.needsStyleUpdate)&&(this.needsWrite=!1,this.onDOMWriteImp(),this.handleEventDispatch())}onDOMWriteForObject(){for(let t=0,e=this.attributes.length;t<e;t++){var i=this.attributes[t];this.element[i]=this.tweenProps[i].current}}onDOMWriteForElement(i=this.element.style){this.handleStyleTransform(i);for(let t=0,e=this.cssAttributes.length;t<e;t++)this.cssAttributes[t].set(i);for(let t=0,e=this.domAttributes.length;t<e;t++)this.domAttributes[t].set(this.element);if(this.needsStyleUpdate){for(var t in this.tweenProps.targetStyles)null!==this.tweenProps.targetStyles[t]&&(this.element.style[t]=this.tweenProps.targetStyles[t]),this.tweenProps.targetStyles[t]=null;this.needsStyleUpdate=!1}this.needsClassUpdate&&(0<this.tweenProps.targetClasses.add.length&&this.element.classList.add.apply(this.element.classList,this.tweenProps.targetClasses.add),0<this.tweenProps.targetClasses.remove.length&&this.element.classList.remove.apply(this.element.classList,this.tweenProps.targetClasses.remove),this.tweenProps.targetClasses.add.length=0,this.tweenProps.targetClasses.remove.length=0,this.needsClassUpdate=!1)}handleStyleTransform(t=this.element.style){var e=this.tweenProps;if(e.z.isActive||e.rotationX.isActive||e.rotationY.isActive){const l=this.mat4;l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1;var i=e.x.current,s=e.y.current,n=e.z.current;l[12]=l[0]*i+l[4]*s+l[8]*n+l[12],l[13]=l[1]*i+l[5]*s+l[9]*n+l[13],l[14]=l[2]*i+l[6]*s+l[10]*n+l[14],l[15]=l[3]*i+l[7]*s+l[11]*n+l[15],0===e.rotation.current&&0===e.rotationZ.current||(i=(e.rotation.current||e.rotationZ.current)*g,b.rotateZ(l,l,i)),0!==e.rotationX.current&&(s=e.rotationX.current*g,b.rotateX(l,l,s)),0!==e.rotationY.current&&(n=e.rotationY.current*g,b.rotateY(l,l,n)),1===e.scale.current&&1===e.scaleX.current&&1===e.scaleY.current||b.scale(l,l,[e.scale.current,e.scale.current,1]),t.transform="matrix3d("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+","+l[6]+","+l[7]+","+l[8]+","+l[9]+","+l[10]+","+l[11]+","+l[12]+","+l[13]+","+l[14]+","+l[15]+")"}else if(e.x.isActive||e.y.isActive||e.rotation.isActive||e.rotationZ.isActive||e.scale.isActive||e.scaleX.isActive||e.scaleY.isActive){const c=this.mat2d;c[0]=1,c[1]=0,c[2]=0,c[3]=1,c[4]=0,c[5]=0;var i=e.x.current,s=e.y.current,n=c[0],r=c[1],o=c[2],a=c[3],h=c[4],u=c[5];c[0]=n,c[1]=r,c[2]=o,c[3]=a,c[4]=n*i+o*s+h,c[5]=r*i+a*s+u,0===e.rotation.current&&0===e.rotationZ.current||(n=(e.rotation.current||e.rotationZ.current)*g,o=c[0],h=c[1],r=c[2],i=c[3],a=c[4],s=c[5],u=Math.sin(n),n=Math.cos(n),c[0]=o*n+r*u,c[1]=h*n+i*u,c[2]=o*-u+r*n,c[3]=h*-u+i*n,c[4]=a,c[5]=s),e.scaleX.isActive||e.scaleY.isActive?(c[0]=c[0]*e.scaleX.current,c[1]=c[1]*e.scaleX.current,c[2]=c[2]*e.scaleY.current,c[3]=c[3]*e.scaleY.current):(c[0]=c[0]*e.scale.current,c[1]=c[1]*e.scale.current,c[2]=c[2]*e.scale.current,c[3]=c[3]*e.scale.current),t.transform="matrix("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+")"}}handleEventDispatch(){if(0!==this.keyframesRequiringDispatch.length){for(let e=0,t=this.keyframesRequiringDispatch.length;e<t;e++){let t=this.keyframesRequiringDispatch[e];t.needsEventDispatch=!1,this.eventObject.keyframe=t,this.eventObject.pageMetrics=r.pageMetrics,this.eventObject.event=t.event,this.trigger(t.event,this.eventObject)}this.keyframesRequiringDispatch.length=0}if(0!==this._events.draw.length){this.eventObject.keyframe=null,this.eventObject.event="draw";for(let t=this._events.draw.length-1;0<=t;t--)this._events.draw[t](this.eventObject)}}updateAnimationConstraints(){for(let t=0,e=this._activeKeyframes.length;t<e;t++)this._activeKeyframes[t].evaluateConstraints();this.attributes.forEach(t=>{1!==this.keyframes[t].length&&this.keyframes[t].sort(r.KeyframeComparison)}),this.updateDeferredPropertyValues()}refreshMetrics(){let e=new Set([this.element]);this._allKeyframes.forEach(t=>t.anchors.forEach(t=>e.add(t))),this.group.metrics.refreshCollection(e),this.group.keyframesDirty=!0}getTargetComputedStyle(t=!1){return this._ownerIsElement?(!t&&void 0!==this.group.computedStyleCache[this.uuid]||(this.group.computedStyleCache[this.uuid]=getComputedStyle(this.element)),this.group.computedStyleCache[this.uuid]):null}updateDeferredPropertyValues(){for(let t=0,e=this.attributes.length;t<e;t++){var s=this.attributes[t],n=this.keyframes[s],i=n[0];if(!(i.keyframeType>r.KeyframeTypes.InterpolationForward))for(let e=0,i=n.length;e<i;e++){let t=n[e];null===t.jsonProps[s][0]&&(0===e?t.jsonProps[s][0]=t.animValues[s][0]=this.tweenProps[s].current:t.animValues[s][0]=n[e-1].animValues[s][1]),null===t.jsonProps[s][1]&&(e===i-1?t.animValues[s][1]=this.tweenProps[s].current:t.animValues[s][1]=n[e+1].animValues[s][0]),t.snapAtCreation&&(t.jsonProps[s][0]=t.animValues[s][0],t.jsonProps[s][1]=t.animValues[s][1])}}}getBounds(i){this.boundsMin=Number.MAX_VALUE,this.boundsMax=-Number.MAX_VALUE;for(let t=0,e=this.attributes.length;t<e;t++){var s=this.keyframes[this.attributes[t]];for(let t=0;t<s.length;t++){var n=s[t];this.boundsMin=Math.min(n.start,this.boundsMin),this.boundsMax=Math.max(n.end,this.boundsMax),i.min=Math.min(n.start,i.min),i.max=Math.max(n.end,i.max)}}}getNearestKeyframeForAttribute(t,i){i=void 0!==i?i:this.group.position.local;let s=null,n=Number.POSITIVE_INFINITY;var r=this.keyframes[t];if(void 0===r)return null;var o=r.length;if(0===o)return null;if(1===o)return r[0];for(let e=0;e<o;e++){let t=r[e];if(t.isInRange(i)){s=t;break}var a=Math.min(Math.abs(i-t.start),Math.abs(i-t.end));a<n&&(n=a,s=t)}return s}getAllKeyframesForAttribute(t){return this.keyframes[t]}updateKeyframe(t,e){t.parseOptions(e),t.evaluateConstraints(),this.group.keyframesDirty=!0,p.update(()=>{this.trigger(r.EVENTS.ON_KEYFRAME_UPDATED,t),this.group.trigger(r.EVENTS.ON_KEYFRAME_UPDATED,t)},!0)}removeKeyframe(i){return i.controller!==this?Promise.resolve(null):(i.markedForRemoval=!0,this.group.keyframesDirty=!0,new Promise(e=>{this.group.rafEmitter.executor.eventEmitter.once("before:draw",()=>{e(i),i.destroy();var t=this._allKeyframes.indexOf(i);-1!==t&&this._allKeyframes.splice(t,1)})}))}updateAnimation(t,e){return this.group.gui&&console.warn("KeyframeController.updateAnimation(keyframe,props) has been deprecated. Please use updateKeyframe(keyframe,props)"),this.updateKeyframe(t,e)}}t.exports=y},27481:function(t,e,i){"use strict";var s=i(20637);const n=i(10921),r=i(99171);class o extends s{constructor(t,e){super(t,e),this.keyframeType=n.KeyframeTypes.Event,this.isApplied=!1,this.hasDuration=!1,this.isCurrentlyInRange=!1}parseOptions(t){t.x=void 0,t.y=void 0,t.scale=void 0,t.scaleX=void 0,t.scaleY=void 0,t.rotation=void 0,t.style=void 0,t.cssClass=void 0,t.rotation=void 0,t.opacity=void 0,t.hold=void 0,this.event=t.event,this.animValues[this.event]=[0,0],void 0===this.controller.tweenProps[this.event]&&(this.controller.tweenProps[this.event]=new r(0,1,!1,this.event)),super.parseOptions(t),this.keyframeType=n.KeyframeTypes.Event}updateLocalProgress(t){var e,i;if(this.hasDuration)return(e=this.isCurrentlyInRange)===(i=t>=this.start&&t<=this.end)?void 0:void((this.isCurrentlyInRange=i)&&!e?this._trigger(this.event+":enter"):e&&!i&&this._trigger(this.event+":exit"));!this.isApplied&&t>=this.start?(this.isApplied=!0,this._trigger(this.event)):this.isApplied&&t<this.start&&(this.isApplied=!1,this._trigger(this.event+":reverse"))}_trigger(t){this.controller.eventObject.event=t,(this.controller.eventObject.keyframe=this).controller.trigger(t,this.controller.eventObject)}evaluateConstraints(){super.evaluateConstraints(),this.hasDuration=this.start!==this.end}reset(t){this.isApplied=!1,this.isCurrentlyInRange=!1,super.reset(t)}onDOMRead(t){}reconcile(t){}evaluateInterpolationConstraints(){}}o.DATA_ATTRIBUTE="data-anim-event",t.exports=o},76033:function(t,e,i){const s=i(4161);t.exports=class{constructor(t,e,i=!1){this.isGroup=i,this.group=t,this.controller=e,this.controllers=[],this.tweenProps=new s}}},10921:function(t,e,i){"use strict";const s={GUI_INSTANCE:null,ANIM_INSTANCE:null,VIEWPORT_EMITTER_ELEMENT:void 0,LOCAL_STORAGE_KEYS:{GuiPosition:"anim-ui.position",GroupCollapsedStates:"anim-ui.group-collapsed-states",scrollY:"anim-ui.scrollY-position",path:"anim-ui.path"},RESIZE_TIMEOUT:-1,BREAKPOINTS:[{name:"S",mediaQuery:"only screen and (max-width: 734px)"},{name:"M",mediaQuery:"only screen and (max-width: 1068px)"},{name:"L",mediaQuery:"only screen and (min-width: 1069px)"}],getBreakpoint:function(){for(let t=0;t<s.BREAKPOINTS.length;t++){var e=s.BREAKPOINTS[t];if(window.matchMedia(e.mediaQuery).matches)return e.name}},KeyframeDefaults:{ease:1,epsilon:.05,preserveState:!1,easeFunctionString:"linear",easeFunction:"linear",hold:!1,snapAtCreation:!1,toggle:!1,breakpointMask:"SMLX",event:"",disabledWhen:[],cssClass:""},KeyframeTypes:{Interpolation:0,InterpolationForward:1,CSSClass:2,Event:3},EVENTS:{ON_DOM_KEYFRAMES_CREATED:"ON_DOM_KEYFRAMES_CREATED",ON_DOM_GROUPS_CREATED:"ON_DOM_GROUPS_CREATED",ON_GROUP_CREATED:"ON_GROUP_CREATED",ON_KEYFRAME_UPDATED:"ON_KEYFRAME_UPDATED",ON_TIMELINE_START:"ON_TIMELINE_START",ON_TIMELINE_UPDATE:"ON_TIMELINE_UPDATE",ON_TIMELINE_COMPLETE:"ON_TIMELINE_COMPLETE",ON_CHAPTER_INITIATED:"ON_CHAPTER_INITIATED",ON_CHAPTER_OCCURRED:"ON_CHAPTER_OCCURRED",ON_CHAPTER_COMPLETED:"ON_CHAPTER_COMPLETED"},PageEvents:{ON_SCROLL:"ON_SCROLL",ON_RESIZE_IMMEDIATE:"ON_RESIZE_IMMEDIATE",ON_RESIZE_DEBOUNCED:"ON_RESIZE_DEBOUNCED",ON_BREAKPOINT_CHANGE:"ON_BREAKPOINT_CHANGE"},KeyframeJSONReservedWords:["event","cssClass","style","anchors","start","end","epsilon","easeFunction","ease","breakpointMask","disabledWhen"],TweenProps:i(4161),TargetValue:i(99171),CSSTargetValue:i(21927),pageMetrics:new function(){this.scrollX=0,this.scrollY=0,this.windowWidth=0,this.windowHeight=0,this.documentOffsetX=0,this.documentOffsetY=0,this.previousBreakpoint="",this.breakpoint=""},KeyframeComparison:function(t,e){return t.start<e.start?-1:t.start>e.start?1:0}};t.exports=s},1139:function(t){const e={easeInCubic:"cubic-bezier(0.42, 0.0, 1.0, 1.0)",easeOutCubic:"cubic-bezier(0.0, 0.0, 0.58, 1.0)",easeInOutCubic:"cubic-bezier(0.42, 0.0, 0.58, 1.0)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",linear:"cubic-bezier(0.0, 0.0, 1.0, 1.0)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1.0)","ease-in":"cubic-bezier(0.42, 0.0, 1.0, 1.0)","ease-out":"cubic-bezier(0.0, 0.0, 0.58, 1.0)","ease-in-out":"cubic-bezier(0.42, 0.0, 0.58, 1.0)"};t.exports=e},21927:function(t,e,i){var s=i(99171);const o=i(6629);class n extends s{constructor(t,e,i,s,n=!1,r=void 0){super(t,e,i,s=o(s),n,r)}set(t){let e=this.current;this.round&&(e=Math.round(e)),this.suffix&&(e+=this.suffix),t.setProperty(this.key,e)}}t.exports=n},1777:function(t){"use strict";t.exports=new class{constructor(){this.linear=function(t){return t},this.easeInQuad=function(t){return t*t},this.easeOutQuad=function(t){return t*(2-t)},this.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1},this.easeInSin=function(t){return 1+Math.sin(Math.PI/2*t-Math.PI/2)},this.easeOutSin=function(t){return Math.sin(Math.PI/2*t)},this.easeInOutSin=function(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2},this.easeInElastic=function(t){return 0===t?t:(.04-.04/t)*Math.sin(25*t)+1},this.easeOutElastic=function(t){return.04*t/--t*Math.sin(25*t)},this.easeInOutElastic=function(t){return(t-=.5)<0?(.02+.01/t)*Math.sin(50*t):(.02-.01/t)*Math.sin(50*t)+1},this.easeOutBack=function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},this.easeInCubic=function(t){return t*t*t},this.easeOutCubic=function(t){return--t*t*t+1},this.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},this.easeInQuart=function(t){return t*t*t*t},this.easeOutQuart=function(t){return 1- --t*t*t*t},this.easeInOutQuart=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},this.easeInQuint=function(t){return t*t*t*t*t},this.easeOutQuint=function(t){return 1+--t*t*t*t*t},this.easeInOutQuint=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}}},22289:function(t,e,i){"use strict";const s=i(10921),n=(t,e)=>null==t?e:t;class r{constructor(t){this.top=0,this.bottom=0,this.left=0,this.right=0,this.height=0,this.width=0}toString(){return`top:${this.top}, bottom:${this.bottom}, left:${this.left}, right:${this.right}, height:${this.height}, width:`+this.width}toObject(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right,height:this.height,width:this.width}}}t.exports=class{constructor(){this.clear()}clear(){this._metrics=new WeakMap}destroy(){this._metrics=null}add(t){var e=this._metrics.get(t);return e||(e=new r(t),this._metrics.set(t,e),this._refreshMetrics(t,e))}get(t){return this._metrics.get(t)}refreshCollection(t){t.forEach(t=>this._refreshMetrics(t,null))}refreshMetrics(t){return this._refreshMetrics(t)}_refreshMetrics(e,i){var t;if(i=i||this._metrics.get(e),e instanceof Element)if(void 0===e.offsetWidth)t=e.getBoundingClientRect(),i.width=t.width,i.height=t.height,i.top=s.pageMetrics.scrollY+t.top,i.left=s.pageMetrics.scrollX+t.left;else{i.width=e.offsetWidth,i.height=e.offsetHeight,i.top=s.pageMetrics.documentOffsetY,i.left=s.pageMetrics.documentOffsetX;let t=e;for(;t;)i.top+=t.offsetTop,i.left+=t.offsetLeft,t=t.offsetParent}else i.width=n(e.width,0),i.height=n(e.height,0),i.top=n(e.top,n(e.y,0)),i.left=n(e.left,n(e.x,0));return i.right=i.left+i.width,i.bottom=i.top+i.height,i}}},26126:function(t){t.exports=class{constructor(t){this.controller=t,this.element=this.controller.element,this.keyframe=null,this.event="",this.tweenProps=this.controller.tweenProps}}},57382:function(t,e,i){"use strict";function s(t){for(var e in t){var i=t[e];if(-1===n.KeyframeJSONReservedWords.indexOf(e)&&Array.isArray(i))return 1}}const n=i(10921),r=i(20637),o=i(27481),a=i(55617);t.exports=function(t){if(void 0!==t.cssClass||void 0!==t.style){if(s(t))throw"CSS Keyframes cannot tween values, please use multiple keyframes instead";return a}if(s(t))return r;if(t.event)return o;throw delete t.anchors,"Could not determine tween type based on "+JSON.stringify(t)}},84585:function(t){t.exports=class{constructor(){this.local=0,this.localUnclamped=0,this.lastPosition=0}}},97297:function(t,e,i){"use strict";const a=i(39917)["map"],h={};class u{constructor(t,e,i,s){this.mass=t,this.stiffness=e,this.damping=i,this.initialVelocity=s,this.m_w0=Math.sqrt(this.stiffness/this.mass),this.m_zeta=this.damping/(2*Math.sqrt(this.stiffness*this.mass)),this.m_zeta<1?(this.m_wd=this.m_w0*Math.sqrt(1-this.m_zeta*this.m_zeta),this.m_A=1,this.m_B=(this.m_zeta*this.m_w0-this.initialVelocity)/this.m_wd):(this.m_wd=0,this.m_A=1,this.m_B=-this.initialVelocity+this.m_w0)}solve(t){return 1-(t=this.m_zeta<1?Math.exp(-t*this.m_zeta*this.m_w0)*(this.m_A*Math.cos(this.m_wd*t)+this.m_B*Math.sin(this.m_wd*t)):(this.m_A+this.m_B*t)*Math.exp(-t*this.m_w0))}}const l=/\d*\.?\d+/g;u.fromCSSString=function(i){let t=i.match(l);if(4!==t.length)throw`SpringEasing could not convert ${cssString} to spring params`;var e=t.map(Number);let s=new u(...e);const n=s.solve.bind(s);let r=0;let o=function(){if(!h[i]){let t=0,e;for(;;)if(r+=1/6,1===n(r)){if(16<=++t){e=r*(1/6);break}}else t=0;h[i]=e}return h[i]}();return function(t){return 0===t||1===t?t:n(a(t,0,1,0,o))}},t.exports=u},99171:function(t){t.exports=class{constructor(t,e,i,s,n=!1,r=void 0){this.epsilon=parseFloat(e),this.snapAtCreation=i,this.initialValue=t,this.target=t,this.current=t,this.previousValue=t,this.isActive=!1,this.key=s,this.round=n,this.suffix=r}update(t,e,i){this.target=t[0]+e*(t[1]-t[0]),this.previousValue=this.current,this.current+=(this.target-this.current)*i;let s=this.delta(this.current,this.target);return s<this.epsilon&&(this.current=this.target,s=0),s>this.epsilon||0===s&&this.previousValue!==this.current}reconcile(t,e){return this.initialValue=t[0],this.update(t,e,1)}needsUpdate(){return this.delta(this.current,this.target)>this.epsilon}delta(t,e){return Math.abs(t-e)}calculateEpsilon(t,e){t.epsilon?this.epsilon=t.epsilon:(t=this.delta(e[0],e[1]),e=Math.min(.001*t,this.epsilon,.05),this.epsilon=Math.max(e,.001))}set(t){let e=this.current;this.round&&(e=Math.round(e)),this.suffix&&(e+=this.suffix),t[this.key]=e}}},4161:function(t){t.exports=class{}},78264:function(t){t.exports=()=>Math.random().toString(16).slice(-4)},486:function(t){"use strict";const a=Math.abs;class s{constructor(t,e,i,s){this.cp=new Float32Array(6),this.cp[0]=3*t,this.cp[1]=3*(i-t)-this.cp[0],this.cp[2]=1-this.cp[0]-this.cp[1],this.cp[3]=3*e,this.cp[4]=3*(s-e)-this.cp[3],this.cp[5]=1-this.cp[3]-this.cp[4]}sampleCurveX(t){return((this.cp[2]*t+this.cp[1])*t+this.cp[0])*t}sampleCurveY(t){return((this.cp[5]*t+this.cp[4])*t+this.cp[3])*t}sampleCurveDerivativeX(t){return(3*this.cp[2]*t+2*this.cp[1])*t+this.cp[0]}solveCurveX(t){for(var e,i,s,n,r=t,o=0;o<5;o++){if(s=this.sampleCurveX(r)-t,a(s)<1e-5)return r;if(n=this.sampleCurveDerivativeX(r),a(n)<1e-5)break;r-=s/n}if((r=t)<(e=0))return e;if((i=1)<r)return i;for(;e<i;){if(s=this.sampleCurveX(r),a(s-t)<1e-5)return r;s<t?e=r:i=r,r=.5*(i-e)+e}return r}solve(t){return this.sampleCurveY(this.solveCurveX(t))}}const n=/\d*\.?\d+/g;s.fromCSSString=function(t){let e=t.match(n);if(4!==e.length)throw`UnitBezier could not convert ${t} to cubic-bezier`;t=e.map(Number);let i=new s(t[0],t[1],t[2],t[3]);return i.solve.bind(i)},t.exports=s},43532:function(t){t.exports=class{constructor(t,e){this.a=t.top-e,this.a<0&&(this.a=t.top),this.b=t.top,this.d=t.bottom,this.c=Math.max(this.d-e,this.b)}}},93018:function(t){let e=["borderRadius","bottom","fontSize","fontWeight","height","left","lineHeight","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","opacity","paddingBottom","paddingLeft","paddingRight","paddingTop","right","top","width","zIndex","strokeDashoffset"];e.push(...e.map(t=>t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())));t.exports={transformAttributes:["x","y","z","scale","scaleX","scaleY","rotation","rotationX","rotationY","rotationZ"],cssAttributes:e,domAttributes:["scrollLeft","scrollTop","scrollBy","scrollTo","currentTime"],suffixFreeAttributes:["opacity","z-index","font-weight","zIndex","fontWeight","scrollLeft","scrollTop","scrollBy","scrollTo","currentTime"]}},54013:function(t,e,i){"use strict";const s=i(43425),n=new(i(22289));class r{constructor(t){this.group=t,this.data={target:null,anchors:null,metrics:this.group.metrics}}parseArray(t,e){return[this.parseExpression(t,e[0]),this.parseExpression(t,e[1])]}parseExpression(i,s){if(!s)return null;if("number"==typeof s)return s;if("string"!=typeof s)throw`Expression must be a string, received ${typeof s}: `+s;return this.data.target=i.controller.element,this.data.anchors=i.anchors,this.data.keyframe=i.keyframe,this.group.anim.plugins.parser.reduce((t,e)=>t||e.parseExpression.call(this,i,s),null)||r._parse(s,this.data)}parseTimeValue(t,e){return"number"==typeof e?e:(t=this.group.expressionParser.parseExpression(t,e),this.group.convertScrollPositionToTValue(t))}destroy(){this.group=null}static parse(t,e){return(e=e||{})&&(n.clear(),e.target&&n.add(e.target),e.anchors&&e.anchors.forEach(t=>n.add(t))),e.metrics=n,r._parse(t,e)}static _parse(t,e){return s.Parse(t).execute(e)}}r.programs=s.programs,"undefined"!=typeof window&&(window.ExpressionParser=r),t.exports=r},43425:function(t,e,i){const r=i(10921),s=i(39917),n={},o={smoothstep:(t,e,i)=>(i=o.clamp((i-t)/(e-t),0,1))*i*(3-2*i),deg:t=>180*t/Math.PI,rad:t=>t*Math.PI/180,random:(t,e)=>Math.random()*(e-t)+t,atan:Math.atan2};Object.getOwnPropertyNames(Math).forEach(t=>o[t]?null:o[t.toLowerCase()]=Math[t]),Object.getOwnPropertyNames(s).forEach(t=>o[t]?null:o[t.toLowerCase()]=s[t]);let a=null;function h(t,e,i,s=0){throw i=e.slice(Math.max(i,0),Math.min(e.length,i+3)),t=new Error(`Expression Error. ${t} in expression "${e}", near "${i}"`),console.error(t.message,a?a.keyframe||a.target:""),t}const u={ANCHOR_CONST:"a",ALPHA:"ALPHA",LPAREN:"(",RPAREN:")",PLUS:"PLUS",MINUS:"MINUS",MUL:"MUL",DIV:"DIV",INTEGER_CONST:"INTEGER_CONST",FLOAT_CONST:"FLOAT_CONST",COMMA:",",EOF:"EOF"},l={NUMBERS:/\d|\d\.\d/,DIGIT:/\d/,OPERATOR:/[-+*/]/,PAREN:/[()]/,WHITE_SPACE:/\s/,ALPHA:/[a-zA-Z]|%/,ALPHANUMERIC:/[a-zA-Z0-9]/,OBJECT_UNIT:/^(t|l|b|r|%w|%h|%|h|w)$/,GLOBAL_METRICS_UNIT:/^(px|vh|vw)$/,ANY_UNIT:/^(t|l|b|r|%w|%h|%|h|w|px|vh|vw)$/,MATH_FUNCTION:new RegExp(`\\b(${Object.keys(o).join("|")})\\b`,"i")},c={round:1,clamp:3,lerp:3,random:2,atan:2,floor:1,ceil:1,abs:1,cos:1,sin:1,smoothstep:3,rad:1,deg:1,pow:2,calc:1};class d{constructor(t,e){this.type=t,this.value=e}}d.ONE=new d("100",100),d.EOF=new d(u.EOF,null);class p{constructor(t){this.type=t}}class m extends p{constructor(t,e){super("UnaryOp"),this.token=this.op=t,this.expr=e}}class f extends p{constructor(t,e,i){super("BinOp"),this.left=t,this.op=e,this.right=i}}class _ extends p{constructor(t,e){if(super("MathOp"),this.op=t,this.list=e,c[t.value]&&e.length!==c[t.value])throw new Error(`Incorrect number of arguments for '${t.value}'. Received ${e.length}, expected `+c[t.value])}}class g extends p{constructor(t){super("Num"),this.token=t,this.value=t.value}}(class extends null{});class b extends p{constructor(t,e,i){super("RefValue"),this.num=t,this.ref=e,this.unit=i}}class y extends p{constructor(t,e){super("CSSValue"),this.ref=t,this.propertyName=e}}class v extends p{constructor(t,e){super("PropValue"),this.ref=t,this.propertyName=e}}class E{constructor(t){this.text=t,this.pos=0,this.char=this.text[this.pos],this.tokens=[];let e;for(;(e=this.getNextToken())&&e!==d.EOF;)this.tokens.push(e);this.tokens.push(e)}advance(){this.char=this.text[++this.pos]}skipWhiteSpace(){for(;null!=this.char&&l.WHITE_SPACE.test(this.char);)this.advance()}name(){let t="";for(;null!=this.char&&l.ALPHA.test(this.char);)t+=this.char,this.advance();return new d(u.ALPHA,t)}number(){let t="";for("."===this.char&&(t+=this.char,this.advance());null!=this.char&&l.DIGIT.test(this.char);)t+=this.char,this.advance();if(null!=this.char&&"."===this.char)for(t.includes(".")&&h("Number appears to contain 2 decimal points",this.text,this.pos),t+=this.char,this.advance();null!=this.char&&l.DIGIT.test(this.char);)t+=this.char,this.advance();return"."===t&&h("Attempted to parse a number, but found only a decimal point",this.text,this.pos),t.includes(".")?new d(u.FLOAT_CONST,parseFloat(t)):new d(u.INTEGER_CONST,parseInt(t))}getNextToken(){for(;null!=this.char;)if(l.WHITE_SPACE.test(this.char))this.skipWhiteSpace();else{if("."===this.char||l.DIGIT.test(this.char))return this.number();if(","===this.char)return this.advance(),new d(u.COMMA,",");if(l.OPERATOR.test(this.char)){let t="";var e=this.char;switch(e){case"+":t=u.PLUS;break;case"-":t=u.MINUS;break;case"*":t=u.MUL;break;case"/":t=u.DIV}return this.advance(),new d(t,e)}if(l.PAREN.test(this.char)){let t="";e=this.char;switch(e){case"(":t=u.LPAREN;break;case")":t=u.RPAREN}return this.advance(),new d(t,e)}if(l.ALPHA.test(this.char))return this.name();h(`Unexpected character "${this.char}"`,this.text,this.pos)}return d.EOF}}class w{constructor(t){this.lexer=t,this.pos=0}get currentToken(){return this.lexer.tokens[this.pos]}error(t,e=""){h(t,e,this.lexer.text,this.pos)}consume(t){var e=this.currentToken;return e.type===t?this.pos+=1:this.error(`Invalid token ${this.currentToken.value}, expected `+t),e}consumeList(t){t.includes(this.currentToken)?this.pos+=1:this.error(`Invalid token ${this.currentToken.value}, expected `+tokenType)}expr(){let t=this.term();for(;this.currentToken.type===u.PLUS||this.currentToken.type===u.MINUS;){var e=this.currentToken;switch(e.value){case"+":this.consume(u.PLUS);break;case"-":this.consume(u.MINUS)}t=new f(t,e,this.term())}return t}term(){let t=this.factor();for(;this.currentToken.type===u.MUL||this.currentToken.type===u.DIV;){var e=this.currentToken;switch(e.value){case"*":this.consume(u.MUL);break;case"/":this.consume(u.DIV)}t=new f(t,e,this.factor())}return t}factor(){if(this.currentToken.type===u.PLUS)return new m(this.consume(u.PLUS),this.factor());if(this.currentToken.type===u.MINUS)return new m(this.consume(u.MINUS),this.factor());if(this.currentToken.type===u.INTEGER_CONST||this.currentToken.type===u.FLOAT_CONST){var e=new g(this.currentToken);if(this.pos+=1,l.OPERATOR.test(this.currentToken.value)||this.currentToken.type===u.RPAREN||this.currentToken.type===u.COMMA||this.currentToken.type===u.EOF)return e;if(this.currentToken.type===u.ALPHA&&this.currentToken.value===u.ANCHOR_CONST)return this.consume(u.ALPHA),new b(e,this.anchorIndex(),this.unit(l.ANY_UNIT));if(this.currentToken.type===u.ALPHA)return"%a"===this.currentToken.value&&this.error("%a is invalid, try removing the %"),new b(e,null,this.unit());this.error("Expected a scaling unit type","Such as 'h' / 'w'")}else{if(l.OBJECT_UNIT.test(this.currentToken.value))return new b(new g(d.ONE),null,this.unit());if(this.currentToken.value===u.ANCHOR_CONST){this.consume(u.ALPHA);e=this.anchorIndex();if(l.OBJECT_UNIT.test(this.currentToken.value))return new b(new g(d.ONE),e,this.unit())}else if(this.currentToken.type===u.ALPHA){if("calc"===this.currentToken.value)return this.consume(u.ALPHA),this.expr();if("css"===this.currentToken.value||"var"===this.currentToken.value||"prop"===this.currentToken.value){const i="prop"!==this.currentToken.value?y:v;this.consume(u.ALPHA),this.consume(u.LPAREN);e=this.propertyName();let t=null;return this.currentToken.type===u.COMMA&&(this.consume(u.COMMA),this.consume(u.ALPHA),t=this.anchorIndex()),this.consume(u.RPAREN),new i(t,e)}if(l.MATH_FUNCTION.test(this.currentToken.value)){e=this.currentToken.value.toLowerCase();if("number"==typeof o[e])return this.consume(u.ALPHA),new g(new d(u.ALPHA,o[e]));e=d[e]||new d(e,e);const s=[];this.consume(u.ALPHA),this.consume(u.LPAREN);for(var t;this.currentToken.value===u.COMMA&&this.consume(u.COMMA),t=this.expr(),s.push(t),this.currentToken.value===u.COMMA;);return this.consume(u.RPAREN),new _(e,s)}}else if(this.currentToken.type===u.LPAREN)return this.consume(u.LPAREN),e=this.expr(),this.consume(u.RPAREN),e}this.error("Unexpected token "+this.currentToken.value)}propertyName(){let t="";for(;this.currentToken.type===u.ALPHA||this.currentToken.type===u.MINUS;)t+=this.currentToken.value,this.pos+=1;return t}unit(t=l.ANY_UNIT){const e=this.currentToken;if(e.type===u.ALPHA&&t.test(e.value))return this.consume(u.ALPHA),new d(u.ALPHA,e.value=e.value.replace(/%(h|w)/,"$1").replace("%","h"));this.error("Expected unit type")}anchorIndex(){var t=this.currentToken;if(t.type===u.INTEGER_CONST)return this.consume(u.INTEGER_CONST),new g(t);this.error("Invalid anchor reference",". Should be something like a0, a1, a2")}parse(){var t=this.expr();return this.currentToken!==d.EOF&&this.error("Unexpected token "+this.currentToken.value),t}}class x{constructor(t){this.parser=t,this.root=t.parse()}visit(t){let e=this[t.type];if(e)return e.call(this,t);throw new Error("No visit method named, "+e)}BinOp(t){switch(t.op.type){case u.PLUS:return this.visit(t.left)+this.visit(t.right);case u.MINUS:return this.visit(t.left)-this.visit(t.right);case u.MUL:return this.visit(t.left)*this.visit(t.right);case u.DIV:return this.visit(t.left)/this.visit(t.right)}}RefValue(t){var e=this.unwrapReference(t),i=t.unit.value,s=t.num.value,n=a.metrics.get(e);switch(i){case"h":return.01*s*n.height;case"t":return.01*s*n.top;case"vh":return.01*s*r.pageMetrics.windowHeight;case"vw":return.01*s*r.pageMetrics.windowWidth;case"px":return s;case"w":return.01*s*n.width;case"b":return.01*s*n.bottom;case"l":return.01*s*n.left;case"r":return.01*s*n.right}}PropValue(t){return(null===t.ref?a.target:a.anchors[t.ref.value])[t.propertyName]}CSSValue(t){var e=this.unwrapReference(t),e=getComputedStyle(e).getPropertyValue(t.propertyName);return""===e?0:x.Parse(e).execute(a)}Num(t){return t.value}UnaryOp(t){return t.op.type===u.PLUS?+this.visit(t.expr):t.op.type===u.MINUS?-this.visit(t.expr):void 0}MathOp(t){var e=t.list.map(t=>this.visit(t));return o[t.op.value].apply(null,e)}unwrapReference(t){return null===t.ref?a.target:(t.ref.value>=a.anchors.length&&console.error("Not enough anchors supplied for expression "+this.parser.lexer.text,a.target),a.anchors[t.ref.value])}execute(t){return a=t,this.visit(this.root)}static Parse(t){return n[t]||(n[t]=new x(new w(new E(t))))}}x.programs=n,t.exports=x},29533:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro;const n=i(39917),r=i(43728),o=i(10921),a=i(76033),h=i(84585),u=i(43532),l=i(22289),c=i(54013),d=i(53570),p={};"undefined"!=typeof window&&(p.create=i(84503),p.update=i(4656),p.draw=i(23364));let m=0;class f extends s{constructor(t,e){super(),this.anim=e,this.element=t,this.name=this.name||t.getAttribute("data-anim-scroll-group"),this.isEnabled=!0,this.position=new h,this.metrics=new l,this.metrics.add(this.element),this.expressionParser=new c(this),this.boundsMin=0,this.boundsMax=0,this.timelineUpdateRequired=!1,this._keyframesDirty=!1,this.viewableRange=this.createViewableRange(),this.defaultEase=o.KeyframeDefaults.ease,this.keyframeControllers=[],this.updateProgress(this.getPosition()),this.onDOMRead=this.onDOMRead.bind(this),this.onDOMWrite=this.onDOMWrite.bind(this),this.gui=null,this.computedStyleCache={},this.destroyed=!1,this.finalizeInit()}finalizeInit(){this.element._animInfo=new a(this,null,!0),this.setupRAFEmitter()}destroy(){this.destroyed=!0,this.expressionParser.destroy(),this.expressionParser=null;for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].destroy();this.keyframeControllers=null,this.position=null,this.viewableRange=null,this.gui&&(this.gui.destroy(),this.gui=null),this.metrics.destroy(),this.metrics=null,this.rafEmitter.destroy(),this.rafEmitter=null,this.anim=null,this.element._animInfo&&this.element._animInfo.group===this&&(this.element._animInfo.group=null,this.element._animInfo=null),this.element=null,this.isEnabled=!1,super.destroy()}removeKeyframeController(i){return this.keyframeControllers.includes(i)?(i._allKeyframes.forEach(t=>t.markedForRemoval=!0),this.keyframesDirty=!0,new Promise(e=>{p.draw(()=>{var t=this.keyframeControllers.indexOf(i);-1!==t&&(this.keyframeControllers.splice(t,1),i.onDOMWrite(),i.destroy(),this.gui&&this.gui.create()),e()})})):Promise.resolve()}remove(){return this.anim.removeGroup(this)}clear(){return Promise.all(this.keyframeControllers.map(t=>this.removeKeyframeController(t)))}setupRAFEmitter(t){this.rafEmitter&&this.rafEmitter.destroy(),this.rafEmitter=t||new p.create,this.rafEmitter.on("update",this.onDOMRead),this.rafEmitter.on("draw",this.onDOMWrite),this.rafEmitter.once("external",()=>this.reconcile())}requestDOMChange(){return!!this.isEnabled&&this.rafEmitter.run()}onDOMRead(){this.keyframesDirty&&this.onKeyframesDirty();for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMRead(this.position.local)}onDOMWrite(){for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].onDOMWrite();this.needsUpdate()&&this.requestDOMChange(),this.computedStyleCache={}}needsUpdate(){if(this._keyframesDirty)return!0;for(let t=0,e=this.keyframeControllers.length;t<e;t++)if(this.keyframeControllers[t].needsUpdate())return!0;return!1}addKeyframe(t,e){let i=this.getControllerForTarget(t);return null===i&&(i=new d(this,t),this.keyframeControllers.push(i)),this.keyframesDirty=!0,i.addKeyframe(e)}addEvent(t,e){e.event=e.event||"Generic-Event-Name-"+m++;var i=void 0!==e.end&&e.end!==e.start;const s=this.addKeyframe(t,e);return i?(e.onEnterOnce&&s.controller.once(e.event+":enter",e.onEnterOnce),e.onExitOnce&&s.controller.once(e.event+":exit",e.onExitOnce),e.onEnter&&s.controller.on(e.event+":enter",e.onEnter),e.onExit&&s.controller.on(e.event+":exit",e.onExit)):(e.onEventOnce&&s.controller.once(e.event,e.onEventOnce),e.onEventReverseOnce&&s.controller.once(e.event+":reverse",e.onEventReverseOnce),e.onEvent&&s.controller.on(e.event,e.onEvent),e.onEventReverse&&s.controller.on(e.event+":reverse",e.onEventReverse)),s}forceUpdate({waitForNextUpdate:t=!0,silent:e=!1}={}){this.isEnabled&&(this.refreshMetrics(),this.timelineUpdateRequired=!0,t?this.keyframesDirty=!0:this.onKeyframesDirty({silent:e}))}onKeyframesDirty({silent:t=!1}={}){this.determineActiveKeyframes(),this.keyframesDirty=!1,this.metrics.refreshMetrics(this.element),this.viewableRange=this.createViewableRange();for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].updateAnimationConstraints();this.updateBounds(),this.updateProgress(this.getPosition()),t||this.updateTimeline(),this.gui&&this.gui.create()}refreshMetrics(){let e=new Set([this.element]);this.keyframeControllers.forEach(t=>{e.add(t.element),t._allKeyframes.forEach(t=>t.anchors.forEach(t=>e.add(t)))}),this.metrics.refreshCollection(e),this.viewableRange=this.createViewableRange()}reconcile(){for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].reconcile()}determineActiveKeyframes(i){i=i||r(Array.from(document.documentElement.classList));for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].determineActiveKeyframes(i)}updateBounds(){if(0===this.keyframeControllers.length)this.boundsMin=0,this.boundsMax=0;else{let i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].getBounds(i);var t=this.convertTValueToScrollPosition(i.min),e=this.convertTValueToScrollPosition(i.max);e-t<o.pageMetrics.windowHeight?(i.min=this.convertScrollPositionToTValue(t-.5*o.pageMetrics.windowHeight),i.max=this.convertScrollPositionToTValue(e+.5*o.pageMetrics.windowHeight)):(i.min-=.001,i.max+=.001),this.boundsMin=i.min,this.boundsMax=i.max,this.timelineUpdateRequired=!0}}createViewableRange(){return new u(this.metrics.get(this.element),o.pageMetrics.windowHeight)}_onBreakpointChange(t,e){this.keyframesDirty=!0,this.determineActiveKeyframes()}updateProgress(t){this.hasDuration()?(this.position.localUnclamped=(t-this.viewableRange.a)/(this.viewableRange.d-this.viewableRange.a),this.position.local=n.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}performTimelineDispatch(){for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].updateLocalProgress(this.position.local);this.trigger(o.EVENTS.ON_TIMELINE_UPDATE,this.position.local),this.trigger("update",this.position.local),this.timelineUpdateRequired=!1,this.position.lastPosition!==this.position.local&&(this.position.lastPosition<=this.boundsMin&&this.position.localUnclamped>this.boundsMin?(this.trigger(o.EVENTS.ON_TIMELINE_START,this),this.trigger("start",this)):this.position.lastPosition>=this.boundsMin&&this.position.localUnclamped<this.boundsMin?(this.trigger(o.EVENTS.ON_TIMELINE_START+":reverse",this),this.trigger("start:reverse",this)):this.position.lastPosition<=this.boundsMax&&this.position.localUnclamped>=this.boundsMax?(this.trigger(o.EVENTS.ON_TIMELINE_COMPLETE,this),this.trigger("complete",this)):this.position.lastPosition>=this.boundsMax&&this.position.localUnclamped<this.boundsMax&&(this.trigger(o.EVENTS.ON_TIMELINE_COMPLETE+":reverse",this),this.trigger("complete:reverse",this))),null!==this.gui&&this.gui.onScrollUpdate(this.position)}updateTimeline(t){if(!this.isEnabled)return!1;void 0===t&&(t=this.getPosition()),this.updateProgress(t);var e=this.position.lastPosition===this.boundsMin||this.position.lastPosition===this.boundsMax,i=this.position.localUnclamped===this.boundsMin||this.position.localUnclamped===this.boundsMax;!this.timelineUpdateRequired&&e&&i&&this.position.lastPosition===t?this.position.local=this.position.localUnclamped:this.timelineUpdateRequired||this.position.localUnclamped>this.boundsMin&&this.position.localUnclamped<this.boundsMax||(e=this.position.lastPosition>this.boundsMin&&this.position.lastPosition<this.boundsMax,i=this.position.localUnclamped<=this.boundsMin||this.position.localUnclamped>=this.boundsMax,e&&i)?(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped):(t=this.position.lastPosition<this.boundsMin&&this.position.localUnclamped>this.boundsMax,e=this.position.lastPosition>this.boundsMax&&this.position.localUnclamped<this.boundsMax,(t||e)&&(this.performTimelineDispatch(),this.requestDOMChange(),this.position.lastPosition=this.position.localUnclamped),null!==this.gui&&this.gui.onScrollUpdate(this.position))}_onScroll(t){this.updateTimeline(t)}convertScrollPositionToTValue(t){return this.hasDuration()?n.map(t,this.viewableRange.a,this.viewableRange.d,0,1):0}convertTValueToScrollPosition(t){return this.hasDuration()?n.map(t,0,1,this.viewableRange.a,this.viewableRange.d):0}hasDuration(){return this.viewableRange.a!==this.viewableRange.d}getPosition(){return o.pageMetrics.scrollY}getControllerForTarget(t){if(t._animInfo&&t._animInfo.controllers){if(t._animInfo.controller&&t._animInfo.controller.group===this)return t._animInfo.controller;var i=t._animInfo.controllers;for(let t=0,e=i.length;t<e;t++)if(i[t].group===this)return i[t]}return null}trigger(e,i){if(void 0!==this._events[e])for(let t=this._events[e].length-1;0<=t;t--)void 0!==i?this._events[e][t](i):this._events[e][t]()}set keyframesDirty(t){this._keyframesDirty=t,this._keyframesDirty&&this.requestDOMChange()}get keyframesDirty(){return this._keyframesDirty}}t.exports=f},79679:function(t,e,i){"use strict";var s=i(29533);const n=i(94625),r=i(39917);let o=0;const a={};"undefined"!=typeof window&&(a.create=i(84503));class h extends s{constructor(t,e){t||((t=document.createElement("div")).className="TimeGroup-"+o++),super(t,e),this.name=this.name||t.getAttribute("data-anim-time-group"),this._isPaused=!0,this._repeats=0,this._isReversed=!1,this._timeScale=1,this._chapterPlayer=new n(this),this.now=performance.now()}finalizeInit(){if(!this.anim)throw"TimeGroup not instantiated correctly. Please use `AnimSystem.createTimeGroup(el)`";this.onPlayTimeUpdate=this.onPlayTimeUpdate.bind(this),super.finalizeInit()}progress(t){if(void 0===t)return 0===this.boundsMax?0:this.position.local/this.boundsMax;t*=this.boundsMax;this.timelineUpdateRequired=!0,this.updateTimeline(t)}time(t){if(void 0===t)return this.position.local;t=r.clamp(t,this.boundsMin,this.duration),this.timelineUpdateRequired=!0,this.updateTimeline(t)}play(t){this.reversed(!1),this.isEnabled=!0,this._isPaused=!1,this.time(t),this.now=performance.now(),this._playheadEmitter.run()}reverse(t){this.reversed(!0),this.isEnabled=!0,this._isPaused=!1,this.time(t),this.now=performance.now(),this._playheadEmitter.run()}reversed(t){if(void 0===t)return this._isReversed;this._isReversed=t}restart(){this._isReversed?(this.progress(1),this.reverse(this.time())):(this.progress(0),this.play(this.time()))}pause(t){this.time(t),this._isPaused=!0}paused(t){return void 0===t?this._isPaused:(this._isPaused=t,this._isPaused||this.play(),this)}onPlayTimeUpdate(){if(!this._isPaused){var i=performance.now();let t=(i-this.now)/1e3,e=(this.now=i,this._isReversed&&(t=-t),this.time()+t*this._timeScale);if(this._repeats===h.REPEAT_FOREVER||0<this._repeats){let t=!1;!this._isReversed&&e>this.boundsMax?(e-=this.boundsMax,t=!0):this._isReversed&&e<0&&(e=this.boundsMax+e,t=!0),t&&(this._repeats=this._repeats===h.REPEAT_FOREVER?h.REPEAT_FOREVER:this._repeats-1)}this.time(e);var i=!this._isReversed&&this.position.local!==this.duration,s=this._isReversed&&0!==this.position.local;i||s?this._playheadEmitter.run():this.paused(!0)}}updateProgress(t){this.hasDuration()?(this.position.localUnclamped=t,this.position.local=r.clamp(this.position.localUnclamped,this.boundsMin,this.boundsMax)):this.position.local=this.position.localUnclamped=0}updateBounds(){if(0===this.keyframeControllers.length)this.boundsMin=0,this.boundsMax=0;else{var i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(let t=0,e=this.keyframeControllers.length;t<e;t++)this.keyframeControllers[t].getBounds(i);this.boundsMin=0,this.boundsMax=i.max,this.viewableRange.a=this.viewableRange.b=0,this.viewableRange.c=this.viewableRange.d=this.boundsMax,this.timelineUpdateRequired=!0}}setupRAFEmitter(t){this._playheadEmitter=new a.create,this._playheadEmitter.on("update",this.onPlayTimeUpdate),super.setupRAFEmitter(t)}get duration(){return this.keyframesDirty&&this.onKeyframesDirty({silent:!0}),this.boundsMax}timeScale(t){return void 0===t?this._timeScale:(this._timeScale=t,this)}repeats(t){if(void 0===t)return this._repeats;this._repeats=t}getPosition(){return this.position.local}addChapter(t){return this._chapterPlayer.addChapter(t)}playToChapter(t){return this._chapterPlayer.playToChapter(t)}convertScrollPositionToTValue(t){return t}convertTValueToScrollPosition(t){return t}hasDuration(){return 0<this.duration}destroy(){this._chapterPlayer.destroy(),this._playheadEmitter.destroy(),this._playheadEmitter=null,super.destroy()}get timelineProgress(){return this.progress()}set timelineProgress(t){this.progress(t)}get progressValue(){return this.progress()}set progressValue(t){this.progress(t)}get timeValue(){return this.time()}set timeValue(t){this.time(t)}}h.REPEAT_FOREVER=-1,t.exports=h},9297:function(t,e,i){var s=i(29533);i(94625);const n=i(39917);let r=0;const o={};"undefined"!=typeof window&&(o.create=i(84503));class a extends s{constructor(t,e){t||((t=document.createElement("div")).className="TweenGroup-"+r++),super(t,e),this.name="Tweens",this.keyframes=[],this._isPaused=!1,this.now=performance.now()}finalizeInit(){this.onTimeEmitterUpdate=this.onTimeEmitterUpdate.bind(this),this.removeExpiredKeyframeControllers=this.removeExpiredKeyframeControllers.bind(this),super.finalizeInit()}destroy(){this._timeEmitter.destroy(),this._timeEmitter=null,this._keyframes=[],super.destroy()}setupRAFEmitter(t){this.now=performance.now(),this._timeEmitter=new o.create,this._timeEmitter.on("update",this.onTimeEmitterUpdate),this._timeEmitter.run(),super.setupRAFEmitter(t)}addKeyframe(t,e){if(void 0!==e.start||void 0!==e.end)throw Error("Tweens do not have a start or end, they can only have a duration. Consider using a TimeGroup instead");if("number"!=typeof e.duration)throw Error("Tween options.duration is undefined, or is not a number");e.start=(e.delay||0)+this.position.localUnclamped,e.end=e.start+e.duration,e.preserveState=!0,e.snapAtCreation=!0;let i,s,n=(t._animInfo&&(i=t._animInfo.group,s=t._animInfo.controller),super.addKeyframe(t,e));return t._animInfo.group=i,t._animInfo.controller=s,e.onStart&&n.controller.once("draw",t=>{t.keyframe=n,e.onStart(t),t.keyframe=null}),e.onDraw&&n.controller.on("draw",t=>{t.keyframe=n,e.onDraw(t),t.keyframe=null}),this.removeOverlappingProps(n),this.keyframes.push(n),this._timeEmitter.willRun()||(this.now=performance.now(),this._timeEmitter.run()),n}removeOverlappingProps(s){if(!(s.controller._allKeyframes.length<=1)){let i=Object.keys(s.animValues);var n=s.controller;for(let t=0,e=n._allKeyframes.length;t<e;t++){const r=n._allKeyframes[t];if(r!==s&&!r.markedForRemoval){let t=Object.keys(r.animValues),e=t.filter(t=>i.includes(t));e.length===t.length?r.markedForRemoval=!0:e.forEach(t=>delete r.animValues[t])}}}}onTimeEmitterUpdate(t){var e,i;this._isPaused||0===this.keyframeControllers.length||(e=((i=performance.now())-this.now)/1e3,this.now=i,i=this.position.local+e,this.position.local=this.position.localUnclamped=i,this.onTimeUpdate())}onTimeUpdate(){for(let t=0,e=this.keyframes.length;t<e;t++)this.keyframes[t].updateLocalProgress(this.position.localUnclamped);this.requestDOMChange(),this._timeEmitter.run(),null!==this.gui&&this.gui.onScrollUpdate(this.position)}onDOMRead(){if(this.keyframesDirty&&this.onKeyframesDirty(),0!==this.keyframes.length)for(let t=0,e=this.keyframes.length;t<e;t++)for(var i in this.keyframes[t].controller.needsWrite=!0,this.keyframes[t].animValues)this.keyframes[t].onDOMRead(i)}onDOMWrite(){super.onDOMWrite(),this.removeExpiredKeyframes()}removeExpiredKeyframes(){let e=this.keyframes.length;for(var t=e;e--;){let t=this.keyframes[e];t.destroyed?this.keyframes.splice(e,1):(t.markedForRemoval&&(t.jsonProps.onComplete&&1===t.localT&&((t.controller.eventObject.keyframe=t).jsonProps.onComplete(t.controller.eventObject),t.jsonProps.onComplete=null),null!==this.gui&&this.gui.isDraggingPlayhead||(t.remove(),this.keyframes.splice(e,1))),1===t.localT&&(t.markedForRemoval=!0))}this.keyframes.length===t&&0!==this.keyframes.length||this._timeEmitter.executor.eventEmitter.once("after:draw",this.removeExpiredKeyframeControllers)}removeExpiredKeyframeControllers(){for(let t=0,e=this.keyframeControllers.length;t<e;t++){let i=!0,s=this.keyframeControllers[t];for(let t=0,e=s._allKeyframes.length;t<e;t++)if(!s._allKeyframes[t].destroyed){i=!1;break}i&&s.remove()}}updateBounds(){this.boundsMin=Math.min(...this.keyframes.map(t=>t.start)),this.boundsMax=Math.max(...this.keyframes.map(t=>t.end))}play(){this.isEnabled=!0,this._isPaused=!1,this.now=performance.now(),this._timeEmitter.run()}pause(){this._isPaused=!0}paused(){return this._isPaused}time(t){if(void 0===t)return this.position.local;this.position.local=this.position.localUnclamped=n.clamp(t,this.boundsMin,this.boundsMax),this.onTimeUpdate()}performTimelineDispatch(){}hasDuration(){return!0}getPosition(){return this.position.local}updateProgress(t){}get duration(){return this.boundsMax}}t.exports=a},43728:function(t){t.exports=function(t){return t.reduce((t,e)=>(t[e]=e,t),{})}},6629:function(t){t.exports=function(t){return t.startsWith("--")?t:t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}},35157:function(t){t.exports=function(t,e){if("string"!=typeof t)return t;try{return(e||document).querySelector(t)||document.querySelector(t)}catch(t){return!1}}},30338:function(t){t.exports={majorVersionNumber:"3.x"}},71860:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(57283),r=i(83017);function o(t){t=t||{},s.call(this),this.id=r.getNewID(),this.executor=t.executor||n,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},i._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=o},57234:function(t,e,i){"use strict";var s=i(48010);function n(t){this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1;var e=null,i=null;"undefined"!=typeof window?(e=window.requestAnimationFrame,i=window.cancelAnimationFrame):e=i=function(){},this._requestAnimationFrame=e,this._cancelAnimationFrame=i,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(i=n.prototype).frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},i.useExternalAnimationFrame=function(t){var e;if("boolean"==typeof t)return e=this._isUsingExternalAnimationFrame,t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),(this._isUsingExternalAnimationFrame=t)?this._boundOnExternalAnimationFrame:e||!1},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,t=!(this._willRun=!1)),this._isRunning||this._reset(),t},i._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,1e3<=this._rafData.delta&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=n},5646:function(t,e,i){"use strict";function s(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0}var n=i(84396),i=s.prototype;i.requestAnimationFrame=function(t,e){return!0===e&&0<this.rafEmitter.executor.phaseIndex&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},i.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),-1<this._cancelFrameIdx?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),-1<this._cancelFrameIdx?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),-1<this._cancelFrameIdx&&this._cancelRunningAnimationFrame()))},i._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},i._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},i._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},i._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},i._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},i._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},i._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},i._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=s},25552:function(t,e,i){"use strict";function s(){this.events={}}var n=i(5646),i=s.prototype;i.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},i.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new s},84396:function(t,e,i){"use strict";function s(t){n.call(this,t)}var n=i(71860);(s.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=s},11850:function(t,e,i){"use strict";i=i(25552);t.exports=i.requestAnimationFrame("draw")},83017:function(t,e,i){"use strict";function s(){this._currentID=0}var n=i(3494).SharedInstance,i=i(30338).majorVersionNumber;s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",i,s)},57283:function(t,e,i){"use strict";var s=i(3494).SharedInstance,n=i(30338).majorVersionNumber,i=i(57234);t.exports=s.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",n,i)},95312:function(t,e,i){"use strict";i=i(25552);t.exports=i.requestAnimationFrame("update")},48266:function(t,e,i){"use strict";const s=i(95312),n=i(11850),r=i(93101),o=i(79654),a=i(73202),h=i(9604);t.exports=class{constructor(t,e={}){if("number"!=typeof t||!isFinite(t))throw new TypeError(`Clip duration must be a finite number; got "${t}"`);"function"==typeof e&&(e={draw:e}),this.ease=o(e.ease),this.update=o(e.update),this.draw=o(e.draw),this.prepare=o(e.prepare),this.finish=o(e.finish),this._duration=1e3*t,this._startTime=null,this._isPrepared=!1,this._promise=null,this._isPlaying=!1}get isReversed(){return this._duration<0}get isComplete(){var t=this.progress;return!this.isReversed&&1<=t||this.isReversed&&t<=0}get progress(){if(0===this._duration)return 1;let t=(this.lastFrameTime-this._startTime)/this._duration;return this.isReversed&&(t=1+t),h(t,0,1)}get easedProgress(){return this.ease?this.ease(this.progress):this.progress}_run(t,e){this.lastFrameTime=Date.now(),null===this._startTime&&(this._startTime=this.lastFrameTime);const i=this.easedProgress;this.update&&s(()=>this._isPlaying&&this.update(i)),n(()=>{this._isPlaying&&(this.draw&&this.draw(i),this.isComplete?a(n,[this.finish,e]):this._run(this,e))})}play(){if("function"!=typeof this.draw)throw new Error('Clip must be given a "draw" function as an option or have its "draw" method overriden.');return this._isPlaying=!0,this._promise||(this._promise=new Promise((t,e)=>{!this._isPrepared&&this.prepare?(this._isPrepared=!0,n(()=>r(this.prepare(),()=>{this._run(this,t)}))):this._run(this,t)})),this._promise}destroy(){this._isPlaying=!1,this.draw=this.finish=this.update=this.prepare=null}static play(){return new this(...arguments).play()}}},93101:function(t){"use strict";t.exports=function(t,e){t instanceof Promise?t.then(e):e()}},9604:function(t){"use strict";t.exports=function(t,e,i){return Math.min(Math.max(t,e),i)}},79654:function(t){"use strict";t.exports=function(t){return"function"==typeof t?t:null}},73202:function(t){"use strict";t.exports=function(e,i){const s=i.length;let n=0;!function t(){"function"==typeof i[n]&&e(i[n]),++n<s&&t()}()}},4707:function(t){"use strict";"undefined"!=typeof window&&(window.DOMMatrix=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix);const u=180/Math.PI,d=t=>Math.round(1e6*t)/1e6;function p(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function m(t,e){return 0===e?Array.from(t):[t[0]/e,t[1]/e,t[2]/e]}function f(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _(t,e,i,s){return[t[0]*i+e[0]*s,t[1]*i+e[1]*s,t[2]*i+e[2]*s]}let g=function(t){var[t,e,i,s]=t,n=t*t,r=e*e,o=i*i,a=t*e+i*s,h=s*s+n+r+o;return.49999*h<a?[0,2*Math.atan2(t,s)*u,90]:a<-.49999*h?[0,-2*Math.atan2(t,s)*u,-90]:[d(Math.atan2(2*t*s-2*e*i,1-2*n-2*o)*u),d(Math.atan2(2*e*s-2*t*i,1-2*r-2*o)*u),d(Math.asin(2*t*e+2*i*s)*u)]};t.exports=function(e){e instanceof Element&&(e=String(getComputedStyle(e).transform).trim());var i=new DOMMatrix(e);const s=new Array(4);for(let e=1;e<5;e++){const o=s[e-1]=new Float32Array(4);for(let t=1;t<5;t++)o[t-1]=i["m"+e+t]}{var n=s;const a=new Float32Array(4),h=new Float32Array(3),u=new Float32Array(3),l=new Float32Array(3),c=(l[0]=n[3][0],l[1]=n[3][1],l[2]=n[3][2],new Array(3));for(let t=0;t<3;t++)c[t]=n[t].slice(0,3);h[0]=p(c[0]),c[0]=m(c[0],h[0]),u[0]=f(c[0],c[1]),c[1]=_(c[1],c[0],1,-u[0]),h[1]=p(c[1]),c[1]=m(c[1],h[1]),u[0]/=h[1],u[1]=f(c[0],c[2]),c[2]=_(c[2],c[0],1,-u[1]),u[2]=f(c[1],c[2]),c[2]=_(c[2],c[1],1,-u[2]),h[2]=p(c[2]),c[2]=m(c[2],h[2]),u[1]/=h[2],u[2]/=h[2],e=c[1],r=c[2];var r,e=[e[1]*r[2]-e[2]*r[1],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]];if(f(c[0],e)<0)for(let t=0;t<3;t++)h[t]*=-1,c[t][0]*=-1,c[t][1]*=-1,c[t][2]*=-1;a[0]=.5*Math.sqrt(Math.max(1+c[0][0]-c[1][1]-c[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-c[0][0]+c[1][1]-c[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-c[0][0]-c[1][1]+c[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+c[0][0]+c[1][1]+c[2][2],0)),c[2][1]>c[1][2]&&(a[0]=-a[0]),c[0][2]>c[2][0]&&(a[1]=-a[1]),c[1][0]>c[0][1]&&(a[2]=-a[2]);let t;return t=a[0]<.001&&0<=a[0]&&a[1]<.001&&0<=a[1]?[0,0,d(180*Math.atan2(c[0][1],c[0][0])/Math.PI)]:g(a),{translation:l,rotation:t,eulerRotation:t,scale:[d(h[0]),d(h[1]),d(h[2])]}}}},50328:function(t,e,i){"use strict";t.exports={getContentDimensions:i(42297),getDimensions:i(96129),getMaxScrollPosition:i(70236),getPagePosition:i(24772),getPercentInViewport:i(47607),getPixelsInViewport:i(87451),getPosition:i(44751),getScrollPosition:i(39616),getViewportPosition:i(59420),isInViewport:i(95677)}},42297:function(t){"use strict";t.exports=function(t,e){var i=1;return e&&(i=t.getBoundingClientRect().width/t.offsetWidth),{width:t.scrollWidth*i,height:t.scrollHeight*i}}},96129:function(t){"use strict";t.exports=function(t,e){return e?{width:(e=t.getBoundingClientRect()).width,height:e.height}:{width:t.offsetWidth,height:t.offsetHeight}}},70236:function(t){"use strict";function s(t,e){return"x"===e?t.scrollWidth-t.clientWidth:t.scrollHeight-t.clientHeight}t.exports=function(t,e){var i=typeof t;return e="string"==i?t:e,t=t&&"string"!=i&&t!==window?t:document.documentElement,e&&/^[xy]$/i.test(e)?s(t,e):{x:s(t,"x"),y:s(t,"y")}}},24772:function(t,e,i){"use strict";var n=i(96129),r=i(39616);t.exports=function(t,e){if(e)var e=r(),i=t.getBoundingClientRect(),s={top:i.top+e.y,right:i.right+e.x,bottom:i.bottom+e.y,left:i.left+e.x};else{i=n(t);for(s={top:t.offsetTop,right:i.width,bottom:i.height,left:t.offsetLeft};t=t.offsetParent;)s.top+=t.offsetTop,s.left+=t.offsetLeft;s.right+=s.left,s.bottom+=s.top}e=document.documentElement.offsetTop,i=document.documentElement.offsetLeft;return{top:s.top+e,right:s.right+i,bottom:s.bottom+e,left:s.left+i}}},47607:function(t,e,i){"use strict";var s=i(96129),n=i(87451);t.exports=function(t,e){var i=n(t,e),t=s(t,e);return{x:i.x/t.width,y:i.y/t.height}}},87451:function(t,e,i){"use strict";var n=i(59420);t.exports=function(t,e){var i=window.innerWidth,s=window.innerHeight,t=n(t,e),e={x:t.right-t.left,y:t.bottom-t.top};return t.top<0&&(e.y+=t.top),t.bottom>s&&(e.y-=t.bottom-s),t.left<0&&(e.x+=t.left),t.right>i&&(e.x-=t.right-i),e.x=e.x<0?0:e.x,e.y=e.y<0?0:e.y,e}},44751:function(t,e,i){"use strict";var a=i(96129);t.exports=function(t,e){var i,s,n,r,o;return e?(i=(r=t.getBoundingClientRect()).top,s=r.left,n=r.width,r=r.height,t.offsetParent&&(i-=(o=t.offsetParent.getBoundingClientRect()).top,s-=o.left)):(o=a(t,e),i=t.offsetTop,s=t.offsetLeft,n=o.width,r=o.height),{top:i,right:s+n,bottom:i+r,left:s}}},39616:function(t){"use strict";function s(t){return"x"===t?window.scrollX||window.pageXOffset:window.scrollY||window.pageYOffset}function n(t,e,i){return"x"===e?i?s("x"):t.scrollLeft:i?s("y"):t.scrollTop}t.exports=function(t,e){var i=typeof t,i=(e="string"==i?t:e,(t=t&&"string"!=i?t:window)===window);return e&&/^[xy]$/i.test(e)?n(t,e,i):{x:n(t,"x",i),y:n(t,"y",i)}}},59420:function(t,e,i){"use strict";var s=i(24772),n=i(39616);t.exports=function(t,e){var i;return e?{top:(i=t.getBoundingClientRect()).top,right:i.right,bottom:i.bottom,left:i.left}:(i=s(t),e=n(),{top:i.top-e.y,right:i.right-e.x,bottom:i.bottom-e.y,left:i.left-e.x})}},95677:function(t,e,i){"use strict";var h=i(47607),u=i(96129);t.exports=function(t,e,i){var s,n,r,o,a=h(t,e);return s=t,r=e,t={x:0,y:0},i=(n=i)?(n="number"==(e=typeof n)||"string"==e?{x:n,y:n}:Object.assign(t,n),Object.keys(t).forEach(function(t){var e=n[t];("string"==typeof e||1<e)&&(o=o||u(s,r),e=(parseInt(e,10)||0)/("x"===t?o.width:o.height)),n[t]=e}),n):t,0<a.y&&a.y>=i.y&&0<a.x&&a.x>=i.x}},87503:function(t,e,i){"use strict";function s(){var t=n.getDocument().createElement("canvas");return!("function"!=typeof t.getContext||!t.getContext("2d"))}var n=i(19846),i=i(98579);t.exports=i(s),t.exports.original=s},81606:function(t,e,i){"use strict";var s=i(80820),n=i(41843).original,i=i(98579);function r(){return!n()||s.os.ios&&8<=s.os.version.major||s.browser.chrome}t.exports=i(r),t.exports.original=r},94138:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){var t=!1,e=s.getDocument(),i=s.getNavigator();try{"cookie"in e&&i.cookieEnabled&&(e.cookie="ac_feature_cookie=1",t=-1!==e.cookie.indexOf("ac_feature_cookie"),e.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(t){}return t}t.exports=i(n),t.exports.original=n},46762:function(t,e,i){"use strict";var s=i(51578),i=i(98579);function n(){return["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"].some(function(t){return!!s("background-image",t)})}t.exports=i(n),t.exports.original=n},83900:function(t,e,i){"use strict";var s=i(51578),n=i(1286),i=i(82708);function r(t,e){return void 0!==e?!!s(t,e):!!n(t)}t.exports=i(r),t.exports.original=r},20688:function(t,e,i){"use strict";var s=i(51578),i=i(98579);function n(){return!!s("margin","1vw 1vh")}t.exports=i(n),t.exports.original=n},52549:function(t,e,i){"use strict";var s=i(19846),i=i(82708);function n(t,e){return t in s.getDocument().createElement(e=e||"div")}t.exports=i(n),t.exports.original=n},98396:function(t,e,i){"use strict";var s=i(34972),i=i(82708);function n(t,e){return!!s(t,e)}t.exports=i(n),t.exports.original=n},33251:function(t,e,i){"use strict";t.exports={canvasAvailable:i(87503),continuousScrollEventsAvailable:i(81606),cookiesAvailable:i(94138),cssLinearGradientAvailable:i(46762),cssPropertyAvailable:i(83900),cssViewportUnitsAvailable:i(20688),elementAttributeAvailable:i(52549),eventTypeAvailable:i(98396),isDesktop:i(69333),isHandheld:i(60085),isRetina:i(57665),isTablet:i(12915),localStorageAvailable:i(61073),mediaElementsAvailable:i(62846),mediaQueriesAvailable:i(16334),prefersReducedMotion:i(96028),sessionStorageAvailable:i(2538),svgAvailable:i(99007),threeDTransformsAvailable:i(67151),touchAvailable:i(41843),webGLAvailable:i(12299)}},19846:function(t){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},69333:function(t,e,i){"use strict";var s=i(80820).os,n=i(41843).original,r=i(19846),i=i(98579);function o(){var t=r.getWindow();return!n()&&!t.orientation||s.windows}t.exports=i(o),t.exports.original=o},60085:function(t,e,i){"use strict";var s=i(69333).original,n=i(12915).original,i=i(98579);function r(){return!s()&&!n()}t.exports=i(r),t.exports.original=r},57665:function(t,e,i){"use strict";var s=i(19846);t.exports=function(){var t=s.getWindow();return"devicePixelRatio"in t&&1.5<=t.devicePixelRatio}},12915:function(t,e,i){"use strict";var s=i(69333).original,n=i(19846),i=i(98579);function r(){var t=n.getWindow(),e=t.screen.width;return t.orientation&&t.screen.height<e&&(e=t.screen.height),!s()&&600<=e}t.exports=i(r),t.exports.original=r},61073:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){var t=s.getWindow(),e=!1;try{e=!(!t.localStorage||null===t.localStorage.non_existent)}catch(t){}return e}t.exports=i(n),t.exports.original=n},62846:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){return"HTMLMediaElement"in s.getWindow()}t.exports=i(n),t.exports.original=n},16334:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){var t=s.getWindow().matchMedia("only all");return!(!t||!t.matches)}t.exports=i(n),t.exports.original=n},96028:function(t,e,i){"use strict";var s=i(19846);t.exports=function(){var t=s.getWindow().matchMedia("(prefers-reduced-motion)");return!(!t||!t.matches)}},2538:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){var t=s.getWindow(),e=!1;try{"sessionStorage"in t&&"function"==typeof t.sessionStorage.setItem&&(t.sessionStorage.setItem("ac_feature","test"),e=!0,t.sessionStorage.removeItem("ac_feature","test"))}catch(t){}return e}t.exports=i(n),t.exports.original=n},99007:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){return!!s.getDocument().implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}t.exports=i(n),t.exports.original=n},67151:function(t,e,i){"use strict";var s=i(51578),i=i(98579);function n(){return!(!s("perspective","1px")||!s("transform","translateZ(0)"))}t.exports=i(n),t.exports.original=n},41843:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){var t=s.getWindow(),e=s.getDocument(),i=s.getNavigator();return!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||0<i.maxTouchPoints||0<i.msMaxTouchPoints)}t.exports=i(n),t.exports.original=n},12299:function(t,e,i){"use strict";var s=i(19846),i=i(98579);function n(){var t=s.getDocument().createElement("canvas");return"function"==typeof t.getContext&&!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}t.exports=i(n),t.exports.original=n},82708:function(t){"use strict";function e(){for(var t="",e=0;e<arguments.length;e++)0<e&&(t+=","),t+=arguments[e];return t}t.exports=function(i,s){s=s||e;function n(){var t=arguments,e=s.apply(this,t);return e in n.cache||(n.cache[e]=i.apply(this,t)),n.cache[e]}return n.cache={},n}},98579:function(t){"use strict";t.exports=function(t){var e;return function(){return e=void 0===e?t.apply(this,arguments):e}}},98353:function(t){function n(t){var e;return(s[t]||(e=s[t]={i:t,l:!1,exports:{}},i[t].call(e.exports,e,e.exports,n),e.l=!0,e)).exports}var i,s;t.exports=(i=[function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validatorFactory=r.headerValueCreatorFactory=r.countZeroes=r.VERSION_BITMAP=void 0,r.VERSION_BITMAP={0:12,1:14};const i=new TextEncoder;function s(t){return Array.from(new Uint8Array(t)).slice(0,2).map(t=>t.toString(2).padStart(8,"0")).reduce((t,e)=>t+e,"")}async function n(t){t=t;t=(await crypto.subtle.digest("SHA-1",i.encode(t)).then(s)).indexOf("1");return-1===t?16:t}r.countZeroes=n,r.headerValueCreatorFactory=function(t,e,i=""){const s=(new Date).toISOString().slice(0,19).replace(/[-T:]/g,""),n=`${t}:${r.VERSION_BITMAP[t]}:${s}:${e}::${i}:`;return t=>n+t.toString(16)},r.validatorFactory=function(t){const e=r.VERSION_BITMAP[t];return async t=>await n(t)>=e}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),i(5),i(6);const n=s(i(7)),r=i(8);class o extends r.EventEmitterMicro{constructor({challengeString:t="",concurrency:e,userInput:i,version:s}){if("string"!=typeof i||""===i)throw new Error("Invalid user input: "+i);super(),this._complete=!1,this.counter=0,this.workers=[],this.challengeString=t,this.concurrency=e,this.userInput=i,this.version=s}handleWorkerError(t,e){this.trigger("error",e)}handleWorkerMessage(t,e){e=e.data;if(!this._complete){if("result"!==e.type)return this.trigger("error",new Error("Invalid worker message"));return this.trigger("worker:result",{worker:t,message:e})}}start(){for(let t=0;t<this.concurrency;t++){const e=new n.default;this.workers.push(e),e.onerror=this.handleWorkerError.bind(this,e),e.onmessage=this.handleWorkerMessage.bind(this,e),e.postMessage({type:"init",args:{challengeString:this.challengeString,initialCounter:t,stepSize:this.concurrency,userInput:this.userInput,version:this.version}})}this.on("worker:result",t=>this._handleResultMessage(t))}stop(){this._complete=!0,this.workers.forEach(t=>{t.postMessage({type:"close"})})}_handleResultMessage({message:t}){this.stop(),this.trigger("success",t.args.headerValue),this.destroy()}}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpamPreventionTimeoutError=e.ServerResponseError=e.ConfigurationError=void 0;class s extends Error{constructor(t){super(t),this.name="ConfigurationError"}}e.ConfigurationError=s;class n extends Error{constructor(t,e){super(t),this.name="ServerResponseError",this.serverStatusCode=e}}e.ServerResponseError=n;class r extends Error{constructor(t){super(`Spam prevention timed out after ${t}ms`),this.name="SpamPreventionTimeoutError"}}e.SpamPreventionTimeoutError=r},function(t,e,i){"use strict";var a=window.URL||window.webkitURL;t.exports=function(e,i,s,t){try{try{var n;try{n=new window.Blob([e])}catch(i){(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}var r=a.createObjectURL(n),o=new window[i](r,s);return a.revokeObjectURL(r),o}catch(t){return new window[i]("data:application/javascript,".concat(encodeURIComponent(e)),s)}}catch(e){if(t)return new window[i](t,s);throw Error("Inline worker is not supported")}}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},n=(Object.defineProperty(e,"__esModule",{value:!0}),e.lib=void 0,i(0)),s=s(i(1)),r=i(10),o=(Object.defineProperty(e,"readConfig",{enumerable:!0,get:function(){return r.default}}),i(11)),a=(Object.defineProperty(e,"signUp",{enumerable:!0,get:function(){return o.default}}),i(2));Object.defineProperty(e,"ConfigurationError",{enumerable:!0,get:function(){return a.ConfigurationError}}),e.lib={countZeroes:n.countZeroes,headerValueCreatorFactory:n.headerValueCreatorFactory,Manager:s.default,validatorFactory:n.validatorFactory}},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var s=i(3),n=i.n(s);e.default=function(){return n()('!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=self;o.addEventListener("message",i);let a=!1;function i(e){const t=e.data;switch(t.type){case"init":!async function(e){const{args:t}=e,r=n.headerValueCreatorFactory(t.version,t.userInput,t.challengeString),i=n.validatorFactory(t.version);let u=t.initialCounter,c=r(u);for(;!await i(c);){if(a)return void close();u+=t.stepSize,c=r(u)}o.postMessage({type:"result",args:{headerValue:c}}),close()}(t);break;case"close":o.removeEventListener("message",i),a=!0;break;default:throw new Error("Invalid host event")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatorFactory=t.headerValueCreatorFactory=t.countZeroes=t.VERSION_BITMAP=void 0,t.VERSION_BITMAP={0:12,1:14};const n=new TextEncoder;function o(e){return Array.from(new Uint8Array(e)).slice(0,2).map(e=>e.toString(2).padStart(8,"0")).reduce((e,t)=>e+t,"")}async function a(e){const t=(await function(e){return crypto.subtle.digest("SHA-1",n.encode(e))}(e).then(o)).indexOf("1");return-1===t?16:t}t.countZeroes=a,t.headerValueCreatorFactory=function(e,r,n=""){const o=(new Date).toISOString().slice(0,19).replace(/[-T:]/g,""),a=`${e}:${t.VERSION_BITMAP[e]}:${o}:${r}::${n}:`;return e=>a+e.toString(16)},t.validatorFactory=function(e){const r=t.VERSION_BITMAP[e];return async e=>await a(e)>=r}}]);\n',"Worker",void 0,void 0)}},function(t,e,i){"use strict";t.exports={EventEmitterMicro:i(9)}},function(t,e,i){"use strict";function s(){this._events={}}var n=s.prototype;n.on=function(t,e){this._events[t]=this._events[t]||[],this._events[t].unshift(e)},n.once=function(i,s){var n=this;this.on(i,function t(e){n.off(i,t),void 0!==e?s(e):s()})},n.off=function(t,e){this.has(t)&&(1===arguments.length?(this._events[t]=null,delete this._events[t]):-1!==(e=this._events[t].indexOf(e))&&this._events[t].splice(e,1))},n.trigger=function(t,e){if(this.has(t))for(var i=this._events[t].length-1;0<=i;i--)void 0!==e?this._events[t][i](e):this._events[t][i]()},n.has=function(t){return t in this._events!=0&&0!==this._events[t].length},n.destroy=function(){for(var t in this._events)this._events[t]=null;this._events=null},t.exports=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(i){const s={campaignId:"data-notify-campaign-id",endpoint:"data-notify-endpoint",locale:"data-notify-locale",referralId:"data-notify-referral-id"},n={};return["campaignId","endpoint","locale","referralId"].forEach(t=>{var e=s[t],e=i.getAttribute(e);"string"==typeof e&&(n[t]=e)}),n}},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const h=s(i(1)),n=i(0),u=i(2);async function l({campaignId:t,endpoint:e,headerValue:i,locale:s,referralId:n,value:r}){const o=JSON.stringify({campaignId:t,dataType:"EM",data:r,locale:s,userAgent:navigator.userAgent,referralId:n,signUpTime:""+Date.now()}),a={"Content-Type":"application/json"};return void 0!==i&&(a["X-Apple-Hashcash"]=i),fetch(e,{method:"POST",body:o,headers:a,mode:"cors"})}e.default=async function({maxSpamPreventionTimeout:r=3e4,version:t=0,...o}){var i={maxSpamPreventionTimeout:r,version:t,...o};if(["campaignId","endpoint","locale","value"].forEach(t=>{var e=i[t];if("string"!=typeof e)throw new u.ConfigurationError(`Expected a 'string' for '${t}', received '${typeof e}'`);if(0===e.length)throw new u.ConfigurationError(`Configuration for '${t}' must be a non-empty string`)}),!(i.version in n.VERSION_BITMAP))throw new u.ConfigurationError("Version number must be 0 or 1.");if(!("number"==typeof i.maxSpamPreventionTimeout&&isFinite(i.maxSpamPreventionTimeout)&&0<i.maxSpamPreventionTimeout))throw new u.ConfigurationError("maxSpamPreventionTimeout must be a finite number greater than 0.");const a="number"==typeof navigator.hardwareConcurrency?navigator.hardwareConcurrency:4;return new Promise((e,i)=>{const s=new h.default({concurrency:a,userInput:o.value,version:t}),n=setTimeout(()=>{s.stop();const t={error:new u.SpamPreventionTimeoutError(r),ok:!1};l({...o}).then(()=>e(t)).catch(()=>e(t))},r);s.on("error",t=>{clearTimeout(n),e({error:t,ok:!1})}),s.on("success",t=>{clearTimeout(n),l({headerValue:t,...o}).then(t=>e(function(t){return t.ok?{error:null,ok:!0}:{error:new u.ServerResponseError(t.statusText,t.status),ok:!1}}(t))).catch(i)}),s.start()})}}],s={},n.m=i,n.c=s,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4))},39917:function(t){"use strict";t.exports={lerp:function(t,e,i){return e+(i-e)*t},map:function(t,e,i,s,n){return s+(n-s)*(t-e)/(i-e)},mapClamp:function(t,e,i,s,n){return Math.max(s,Math.min(n,s+(n-s)*(t-e)/(i-e)))},norm:function(t,e,i){return(t-e)/(i-e)},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},randFloat:function(t,e){return Math.random()*(e-t)+t},randInt:function(t,e){return Math.floor(Math.random()*(e-t)+t)}}},42324:function(t){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,edgeChromium:!1,samsung:!1,version:{string:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{string:"",major:0,minor:0,patch:0}}}},97106:function(t){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(t){return-1<t.ua.indexOf("Edge")||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===t.ua}},{name:"edgeChromium",userAgent:"Edge",version:["rv","Edg"],test:function(t){return-1<t.ua.indexOf("Edg")&&-1===t.ua.indexOf("Edge")}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(t){return-1<t.ua.indexOf("Firefox")&&-1===t.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(t){return-1<t.ua.indexOf("Safari")&&-1<t.vendor.indexOf("Apple")},version:"Version"},{name:"ie",test:function(t){return-1<t.ua.indexOf("IE")||-1<t.ua.indexOf("Trident")},version:["MSIE","rv"],parseDocumentMode:function(){var t=!1;return t=document.documentMode?parseInt(document.documentMode,10):t}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]},{name:"samsung",userAgent:"SamsungBrowser"}],os:[{name:"windows",test:function(t){return-1<t.ua.indexOf("Windows")},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(t){return-1<t.ua.indexOf("Macintosh")}},{name:"ios",test:function(t){return-1<t.ua.indexOf("iPhone")||-1<t.ua.indexOf("iPad")},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(t){return(-1<t.ua.indexOf("Linux")||-1<t.platform.indexOf("Linux"))&&-1===t.ua.indexOf("Android")}},{name:"fireos",test:function(t){return-1<t.ua.indexOf("Firefox")&&-1<t.ua.indexOf("Mobile")},version:"rv"},{name:"android",userAgent:"Android",test:function(t){return-1<t.ua.indexOf("Android")}},{name:"chromeos",userAgent:"CrOS"}]}},71620:function(t,e,i){"use strict";var s=i(42324),n=i(97106);function h(t,e){if("function"==typeof t.parseVersion)return t.parseVersion(e);for(var i,s=t.version||t.userAgent,n=(s="string"==typeof s?[s]:s).length,r=0;r<n;r++)if((i=e.match((i=s[r],new RegExp(i+"[a-zA-Z\\s/:]+([0-9_.]+)","i"))))&&1<i.length)return i[1].replace(/_/g,".");return!1}function r(t,e,i){for(var s,n,r,o=t.length,a=0;a<o;a++)if("function"==typeof t[a].test?!0===t[a].test(i)&&(s=t[a].name):-1<i.ua.indexOf(t[a].userAgent)&&(s=t[a].name),s)return e[s]=!0,"string"==typeof(n=h(t[a],i.ua))?(r=n.split("."),e.version.string=n,r&&0<r.length&&(e.version.major=parseInt(r[0]||0),e.version.minor=parseInt(r[1]||0),e.version.patch=parseInt(r[2]||0))):"edge"===s&&(e.version.string="12.0.0",e.version.major="12",e.version.minor="0",e.version.patch="0"),"function"==typeof t[a].parseDocumentMode&&(e.version.documentMode=t[a].parseDocumentMode()),e;return e}t.exports=function(t){var e={};return e.browser=r(n.browser,s.browser,t),e.os=r(n.os,s.os,t),e}},80820:function(t,e,i){"use strict";var s={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=i(71620)(s)},57949:function(t){t.exports={majorVersionNumber:"3.x"}},88562:function(t,e,i){"use strict";var s=i(95350).EventEmitterMicro,n=i(61937),r=i(41142);function o(t){t=t||{},s.call(this),this.id=r.getNewID(),this.executor=t.executor||n,this._reset(),this._willRun=!1,this._didDestroy=!1}(i=o.prototype=Object.create(s.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},i.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},i.destroy=function(){var t=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,t},i.willRun=function(){return this._willRun},i.isRunning=function(){return this._isRunning},i._subscribe=function(){return this.executor.subscribe(this)},i._unsubscribe=function(){return this.executor.unsubscribe(this)},i._onAnimationFrameStart=function(t){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",t))},i._onAnimationFrameEnd=function(t){this._willRun||(this.trigger("stop",t),this._reset())},i._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=o},96523:function(t,e,i){"use strict";var s=i(48010);function n(t){this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1;var e=null,i=null;"undefined"!=typeof window?(e=window.requestAnimationFrame,i=window.cancelAnimationFrame):e=i=function(){},this._requestAnimationFrame=e,this._cancelAnimationFrame=i,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(i=n.prototype).frameRequestedPhase="requested",i.startPhase="start",i.runPhases=["update","external","draw"],i.endPhase="end",i.disabledPhase="disabled",i.beforePhaseEventPrefix="before:",i.afterPhaseEventPrefix="after:",i.subscribe=function(t,e){return this._totalSubscribeCount++,this._nextFrameSubscribers[t.id]||(e?this._nextFrameSubscribersOrder.unshift(t.id):this._nextFrameSubscribersOrder.push(t.id),this._nextFrameSubscribers[t.id]=t,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},i.subscribeImmediate=function(t,e){return this._totalSubscribeCount++,this._subscribers[t.id]||(e?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,t.id):this._subscribersOrder.unshift(t.id),this._subscribers[t.id]=t,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},i.unsubscribe=function(t){return!!this._nextFrameSubscribers[t.id]&&(this._nextFrameSubscribers[t.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},i.getSubscribeID=function(){return this._totalSubscribeCount+=1},i.destroy=function(){var t=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,t},i.useExternalAnimationFrame=function(t){var e;if("boolean"==typeof t)return e=this._isUsingExternalAnimationFrame,t&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||t||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),(this._isUsingExternalAnimationFrame=t)?this._boundOnExternalAnimationFrame:e||!1},i.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},i._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},i._cancel=function(){var t=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,t=!(this._willRun=!1)),this._isRunning||this._reset(),t},i._onAnimationFrame=function(t){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=t-this.lastFrameTime,this.lastFrameTime=t,this._rafData.fps=0,1e3<=this._rafData.delta&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=t,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},i._onExternalAnimationFrame=function(t){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(t)},i._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=n},6158:function(t,e,i){"use strict";function s(t){this.phase=t,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0}var n=i(38262),i=s.prototype;i.requestAnimationFrame=function(t,e){return!0===e&&0<this.rafEmitter.executor.phaseIndex&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,t),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,t),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,t),this._nextFrameCallbacksLength+=2),this._currentFrameID},i.cancelAnimationFrame=function(t){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(t),-1<this._cancelFrameIdx?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(t),-1<this._cancelFrameIdx?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(t),-1<this._cancelFrameIdx&&this._cancelRunningAnimationFrame()))},i._onRAFExecuted=function(t){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](t.time,t);this._frameCallbacks.length=0,this._frameCallbackLength=0},i._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},i._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},i._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},i._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},i._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},i._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},i._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=s},20495:function(t,e,i){"use strict";function s(){this.events={}}var n=i(6158),i=s.prototype;i.requestAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].requestAnimationFrame},i.cancelAnimationFrame=function(t){return this.events[t]||(this.events[t]=new n(t)),this.events[t].cancelAnimationFrame},t.exports=new s},38262:function(t,e,i){"use strict";function s(t){n.call(this,t)}var n=i(88562);(s.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=s},41142:function(t,e,i){"use strict";function s(){this._currentID=0}var n=i(3494).SharedInstance,i=i(57949).majorVersionNumber;s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",i,s)},61937:function(t,e,i){"use strict";var s=i(3494).SharedInstance,n=i(57949).majorVersionNumber,i=i(96523);t.exports=s.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",n,i)},38795:function(t,e,i){"use strict";i=i(20495);t.exports=i.requestAnimationFrame("update")},49865:function(t,e,i){"use strict";var n=i(95350).EventEmitterMicro;const s={};"undefined"!=typeof window&&(s.update=i(38795));var r="viewport-emitter",o={removeNamespace:!0},a="data-viewport-emitter-dispatch",h="data-viewport-emitter-state",u="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",l="only screen and (orientation: portrait)",c="only screen and (orientation: landscape)",d="change:any",p="change:orientation",m="change:retina",f="change:viewport";function _(t,e){n.call(this),this._id=t||r,this._options=Object.assign({},o,e),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(u)},orientation:{portrait:window.matchMedia(l),landscape:window.matchMedia(c)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}Object.defineProperty(_,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return a}}),Object.defineProperty(_,"DOM_STATE_ATTRIBUTE",{get:function(){return h}});i=_.prototype=Object.create(n.prototype);Object.defineProperty(i,"id",{get:function(){return this._id}}),Object.defineProperty(i,"element",{get:function(){return this._el}}),Object.defineProperty(i,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(i,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(i,"retina",{get:function(){return this._retina}}),Object.defineProperty(i,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(i,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),i.destroy=function(){for(var t in this._removeListeners(),this._options)this._options[t]=null;for(var e in this._mediaQueryLists){var i,s=this._mediaQueryLists[e];for(i in s)s[i]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,n.prototype.destroy.call(this)},i._initViewportEl=function(t){var e=document.getElementById(t);return e||((e=document.createElement("div")).id=t,e=document.body.appendChild(e)),e.hasAttribute(a)||(e.setAttribute(a,""),this._allowDOMEventDispatch=!0),e.hasAttribute(h)||(this._allowElementStateData=!0),e},i._dispatch=function(t,e){var i,s,n={viewport:this._viewport,orientation:this._orientation,retina:this._retina};this._allowDOMEventDispatch&&(i=new CustomEvent(t,{detail:e}),s=new CustomEvent(d,{detail:n}),this._el.dispatchEvent(i),this._el.dispatchEvent(s)),this.trigger(t,e),this.trigger(d,n)},i._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},i._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},i._updateElementStateData=function(){var t;this._allowElementStateData&&(t=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina}),this._el.setAttribute(h,t))},i._getViewport=function(t){var e=window.getComputedStyle(this._el,"::before").content;return e?(e=e.replace(/["']/g,""),t?e.split(":").pop():e):null},i._getRetina=function(t){return t.matches},i._getOrientation=function(t){var e=this._orientation;return t.matches?t.media.match(/portrait|landscape/)[0]:e},i._initOrientation=function(){var t=this._getOrientation(this._mediaQueryLists.orientation.portrait);return t||this._getOrientation(this._mediaQueryLists.orientation.landscape)},i._onViewportChange=function(){this._resizing||(this._resizing=!0,s.update(this._onViewportChangeUpdate))},i._onViewportChangeUpdate=function(){var t=this._viewport;this._viewport=this._getViewport(this._options.removeNamespace),t!==this._viewport&&(t={from:t,to:this._viewport},this._updateElementStateData(),this._dispatch(f,t)),this._resizing=!1},i._onRetinaChange=function(t){var e=this._retina;this._retina=this._getRetina(t),e!==this._retina&&(t={from:e,to:this._retina},this._updateElementStateData(),this._dispatch(m,t))},i._onOrientationChange=function(t){var e=this._orientation;this._orientation=this._getOrientation(t),e!==this._orientation&&(t={from:e,to:this._orientation},this._updateElementStateData(),this._dispatch(p,t))},t.exports=_}}]);