!function(){function e(t,i,n){function r(o,a){if(!i[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[o]={exports:{}};t[o][0].call(u.exports,function(e){var i=t[o][1][e];return r(i?i:e)},u,u.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}return e}()({1:[function(e,t,i){"use strict";var n=e("./ac-ajax/Ajax"),r=e("./ac-ajax/Request");t.exports=new n,t.exports.Ajax=n,t.exports.Request=r},{"./ac-ajax/Ajax":2,"./ac-ajax/Request":3}],2:[function(e,t,i){"use strict";var n=e("./Request"),r=e("./XDomain-request"),s=e("./URLParser"),o=function(){};o._Request=n,o.prototype={_defaults:{method:"get",timeout:5e3},_extend:function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},_getOptions:function(e,t){return this._extend({},this._defaults,t,e)},_isCrossDomainRequest:function(e){var t=new s,i=t.parse(window.location.href).origin,n=t.parse(e).origin;return t.destroy(),n!==i},create:function(e){return new n(e)},cors:function(e){var t=window.XDomainRequest&&document.documentMode<10?r:n;return new t(e)},get:function(e){var t;return e=this._getOptions({method:"get"},e),t=this._isCrossDomainRequest(e.url)?this.cors(e):this.create(e),t.send()},getJSON:function(e){return this.get(e).then(function(e){return JSON.parse(e.responseText)})},head:function(e){return e=this._getOptions({method:"head"},e),this.create(e).send()},isCrossDomainRequest:function(e){return this._isCrossDomainRequest(e)},post:function(e){return e=this._getOptions({method:"post"},e),this.create(e).send()}},t.exports=o},{"./Request":3,"./URLParser":4,"./XDomain-request":5}],3:[function(e,t,i){"use strict";var n=function(e){this._initialize(e)};n.create=function(){var e=function(){};return e.prototype=n.prototype,new e},n.prototype={_addReadyStateChangeHandler:function(){this.xhr.onreadystatechange=function(e){4===this.xhr.readyState&&(clearTimeout(this._timeout),this.xhr.status>=200&&this.xhr.status<300?this.resolve(this.xhr):this.reject(this.xhr))}.bind(this)},_getPromise:function(){this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this))},_getTransport:function(){return new XMLHttpRequest},_initialize:function(e){var t=this._validateConfiguration(e);if(t)throw t;this._configuration=e;var i=this._configuration.method.toUpperCase();this.xhr=this._getTransport(),this._getPromise(),this.xhr.open(i,this._configuration.url),this._setRequestHeaders(e.headers),this._addReadyStateChangeHandler()},_sendXHR:function(){this.xhr&&(this._configuration&&this._configuration.data?this.xhr.send(this._configuration.data):this.xhr.send())},_setRequestHeaders:function(e){e&&e.forEach(function(e){this.xhr.setRequestHeader(e.name,e.value)},this)},_setTimeout:function(e){e||(this._configuration&&this._configuration.timeout?e=this._configuration.timeout:(clearTimeout(this._timeout),this._timeout=null)),null!==this._timeout&&clearTimeout(this._timeout),e>0&&(this._timeout=setTimeout(function(){this.xhr.abort(),this.reject()}.bind(this),e))},_timeout:null,_validateConfiguration:function(e){if(!e)return"Must provide a configuration object";var t=[],i=e.headers;if(e.url||t.push("Must provide a url"),e.method||t.push("Must provide a method"),i){if(!Array.isArray(i))return"Must provide an array of headers";this._validateHeaders(i,t)}return t.join(", ")},_validateHeaders:function(e,t){for(var i=0,n=e.length;i<n;i++)if(!e[i].hasOwnProperty("name")||!e[i].hasOwnProperty("value")){t.push("Must provide a name and value key for all headers");break}},promise:null,reject:null,resolve:null,send:function(){return this._setTimeout(),this._sendXHR(),this.promise},xhr:null},t.exports=n},{}],4:[function(e,t,i){"use strict";var n=function(){this.parser=null},r=n.prototype;r.parse=function(e){var t,i,n,r,s;if("string"!=typeof e)throw new TypeError(e+" must be a string");return this.parser||(this.parser=document.createElement("a")),this._qualifyPath(e),n=this.parser.hostname,i=this.parser.protocol,r=this._normalizePort(this.parser),t=this.parser.origin||this._constructOriginString(this.parser,r),s=this.parser.search,{originalPath:e,qualifiedPath:this.parser.href,protocol:i,hostname:n,origin:t,port:r,search:s}},r.destroy=function(){this.parser=null},r._constructOriginString=function(e,t){var i=t?":"+t:"";return e.protocol+"//"+e.hostname+i},r._normalizePort=function(e){return"80"===e.port||"443"===e.port||"0"===e.port?"":e.port},r._qualifyPath=function(e){this.parser.href=e,this.parser.href=this.parser.href},t.exports=n},{}],5:[function(e,t,i){"use strict";var n=e("./Request"),r=function(e){n.apply(this,arguments)};r.prototype=n.create(),r.prototype._getTransport=function(){return new XDomainRequest},r.prototype._addReadyStateChangeHandler=function(){this.xhr.ontimeout=function(){this.reject(this.xhr)}.bind(this),this.xhr.onerror=function(){this.reject(this.xhr)}.bind(this),this.xhr.onload=function(){this.resolve(this.xhr)}.bind(this)},r.prototype._setTimeout=function(e){e||this._configuration&&this._configuration.timeout&&(e=this._configuration.timeout),e>0&&(this.xhr.timeout=e)},r.prototype._sendXHR=function(){setTimeout(function(){n.prototype._sendXHR.call(this)}.bind(this),0)},t.exports=r},{"./Request":3}],6:[function(e,t,i){"use strict";function n(e,t){s.call(this),this.options=o(a,t||{}),this.src=e,this.data=null,this.error=null,this.priority=this.options.priority,this.status="idle",this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this)}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-object/defaults"),a={priority:5};r=n.prototype=Object.create(s.prototype),r.load=function(){"idle"===this.status&&(this.status="pending",this._load())},r.destroy=function(){s.prototype.destroy.call(this),this.status="destroyed",this.data=null},r._load=function(){this.data={src:this.src},window.setTimeout(this._onLoad.bind(this),20)},r._onLoad=function(){"destroyed"!==this.status&&(this.status="loaded",this.trigger("loaded",this))},r._onError=function(e){"destroyed"!==this.status&&(this.error=e,this.status="error",this.trigger("error",this))},t.exports=n},{"@marcom/ac-event-emitter-micro":86,"@marcom/ac-object/defaults":163}],7:[function(e,t,i){"use strict";function n(e,t){s.apply(this,arguments)}var r,s=e("../Asset");r=n.prototype=Object.create(s.prototype),r._load=function(){this.data=new Image,this.data.addEventListener("load",this._onLoad),this.data.addEventListener("error",this._onError),this.data.src=this.src},r.destroy=function(){this.data&&(this.data.removeEventListener("load",this._onLoad),this.data.removeEventListener("error",this._onError)),this.status="destroyed",this.data=null},t.exports=n},{"../Asset":6}],8:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Promise");var n,r=e("@marcom/ac-object/defaults"),s=e("./XHR/ArrayBuffer"),o=e("./XHR/JSON"),a=e("../Asset"),c=e("../AssetGroup"),h={manifestTimeout:5e3,chunkTimeout:1e4},u=function(e,t){var i=r(h,t||{});a.call(this,e,i),e.lastIndexOf("/")!==e.length-1&&(e+="/");var n="j";this._manifestPath=e+"manifest."+n+"son",this._chunks=[],this._loadChunks=this._loadChunks.bind(this),this._onChunksLoaded=this._onChunksLoaded.bind(this),this._manifestLoader=null,this._chunkLoader=null};n=u.prototype=Object.create(a.prototype),n._load=function(){this._loadManifest().then(this._loadChunks).then(this._onChunksLoaded)["catch"](this._onError)},n._loadManifest=function(){var e=new o(this._manifestPath,{timeout:this.options.manifestTimeout}),t=new c(e,{privateQueue:this.options.queue});return t.load(),this._manifestLoader=t,new Promise(function(e,i){t.once("load",function(t){e(t.latest)}),t.once("error",function(e){i(e.latest.error)})})},n._loadChunks=function(e){this._manifest=e.data,this._manifestLoader.destroy(),this._manifestLoader=null;var t=[];this._manifest.files.forEach(function(e,i){t.push(this._getOrCreateChunkObject(e,i))},this);var i=new c(t,{privateQueue:this.options.queue,failFast:!0}),n=new Promise(function(e,t){i.once("load",e),i.once("error",function(e){t(e.latest.error)})});return i.load(),this._chunkLoader=i,n},n._getOrCreateChunkObject=function(e,t){var i=this.options.chunkTimeout?{timeout:this.options.chunkTimeout}:null;if(!this._chunks[t]){var n=e.path;if(n.match(/(^http(s?))/)){if(this.src.match(/(^http(s?))/)){var r=n.indexOf("/",10),o=this.src.indexOf("/",10);n=this.src.substring(0,o)+n.substring(r)}}else n=this.src+"/"+n;this._chunks[t]=new s(n,i)}return this._chunks[t]},n._onChunksLoaded=function(){for(var e=this._chunks.length,t=[],i=0;i<e;i++)t.push(this._chunks[i].data),this._chunks[i].off();this.data=new Blob(t,{type:this._manifest.mimeType}),t=this._chunks=null,this._chunkLoader.destroy(),this._chunkLoader=null,this._onLoad()},n.pause=function(){this._manifestLoader&&this._manifestLoader.pause(),this._chunkLoader&&this._chunkLoader.pause()},n.resume=function(){this._manifestLoader&&this._manifestLoader.resume(),this._chunkLoader&&this._chunkLoader.resume()},n.destroy=function(){this.pause(),this._manifestLoader&&this._manifestLoader.destroy(),this._chunkLoader&&this._chunkLoader.destroy(),this._chunks=null,a.prototype.destroy.call(this)},t.exports=u},{"../Asset":6,"../AssetGroup":13,"./XHR/ArrayBuffer":11,"./XHR/JSON":12,"@marcom/ac-object/defaults":163,"@marcom/ac-polyfills/Promise":void 0}],9:[function(e,t,i){"use strict";function n(e,t){s.apply(this,arguments),this.options=t||{},this._binary=this.options.binary||this._createAssetType()}var r,s=e("../Asset"),o=e("./SplitFile");r=n.prototype=Object.create(s.prototype),r._canUseBlob=function(){return void 0!==window.Blob&&void 0!==window.URL&&"function"==typeof window.URL.createObjectURL},r._createAssetType=function(){if(this._canUseBlob())return new o(this.src,this.options)},r._load=function(){this._binary.on("loaded",this._onLoad),this._binary.on("error",this._onError),this._binary.load()},r._onLoad=function(e){this.data=e,this.data instanceof window.Blob&&(this.data=this.options.element,this.data||(this.data=document.createElement("video")),this.data.getAttribute("type")!==e.type&&this.data.setAttribute("type",e.type),this.data.src=window.URL.createObjectURL(e)),s.prototype._onLoad.call(this,this.data)},r.pause=function(){this._binary.pause()},r.destroy=function(){this._binary.destroy(),s.prototype.destroy.call(this)},t.exports=n},{"../Asset":6,"./SplitFile":8}],10:[function(e,t,i){"use strict";function n(e,t){var i=a(c,t||{});o.call(this,e,i),this._request=this._createRequest(),this._request.xhr.responseType=this.options.responseType}var r,s=e("@marcom/ac-ajax"),o=e("../Asset"),a=e("@marcom/ac-object/defaults"),c={timeout:3e4,responseType:""};r=n.prototype=Object.create(o.prototype),r.destroy=function(){return"idle"!==this.status&&"loaded"!==this.status||(this._request=null),"pending"===this.status?(this._request.xhr.abort(),void o.prototype.destroy.call(this)):void o.prototype.destroy.call(this)},r._createRequest=function(){return s.create({url:this.src,method:"GET",timeout:this.options.timeout,responseType:this.options.responseType})},r._load=function(){this._request.send().then(this._onLoad)["catch"](this._onError)},r._onLoad=function(e){this.data=this.data||e.response,this._request=null,o.prototype._onLoad.call(this)},t.exports=n},{"../Asset":6,"@marcom/ac-ajax":1,"@marcom/ac-object/defaults":163}],11:[function(e,t,i){"use strict";function n(e,t){var i=o(t||{},a);s.call(this,e,i)}var r,s=e("../XHR"),o=e("@marcom/ac-object/extend"),a={responseType:"arraybuffer"};r=n.prototype=Object.create(s.prototype),t.exports=n},{"../XHR":10,"@marcom/ac-object/extend":164}],12:[function(e,t,i){"use strict";function n(e,t){s.apply(this,arguments)}var r,s=e("../XHR");r=n.prototype=Object.create(s.prototype),r._onLoad=function(e){try{this.data=JSON.parse(e.response||e.responseText)}catch(t){this._onError(t)}s.prototype._onLoad.call(this,e)},t.exports=n},{"../XHR":10}],13:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Promise");var n=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,r=e("@marcom/ac-object/defaults"),s=e("./utils/enqueueAsset"),o=e("./utils/selectQueue"),a=e("./queue"),c={failFast:!0,privateQueue:!1,privateQueueThreads:a.DEFAULT_THREADS},h=function(e,t){n.call(this),this.options=r(c,t||{}),this._onGroupError=this._onGroupError.bind(this),this._onAssetError=this._onAssetError.bind(this),this._onScheduled=this._onScheduled.bind(this),this._onProgress=this._onProgress.bind(this),this._onComplete=this._onComplete.bind(this),this.errors=[],this._queue=o(this.options.privateQueue,this.options.privateQueueThreads),this._assets=[].concat(e),this._loaded=[],this._errored=[],this._enqueued=[],this._dequeued=[],this._pending=[],this._isRunning=!1,this._isComplete=!1,this._isErrored=!1,this._destroyPending=!1},u=h.prototype=Object.create(n.prototype);u.load=function(){var e=this._assets.map(function(e){var t={asset:e,success:this._onProgress,failure:this._onAssetError,scheduled:this._onScheduled},i=s(this._queue,t,this.options.failFast);return this._enqueued.push(i),i.promise},this);Promise.all(e).then(this._onComplete)["catch"](this._onGroupError),this._isRunning=!0,this._queue.start();var t=new Promise(function(e,t){this.once("load",e),this.options.failFast&&this.once("error",e)}.bind(this));return t},u.isRunning=function(){return this._isRunning},u.count=function(){return this._enqueued.length},u.pending=function(){return this._pending.length},u.loadedCount=function(){return this._loaded.length},u.isComplete=function(){return this._isComplete},u.isErrored=function(){return this._isErrored},u.pause=function(){this.isComplete()||this.isErrored()||!this.isRunning()||(this._dequeueItems(),this._pauseAssets(),this._isRunning=!1)},u.resume=function(){this.isComplete()||this.isErrored()||this.isRunning()||this._destroyPending||(this._reenqueueItems(),this._resumeAssets(),this._isRunning=!0)},u.destroy=function(){this._destroyPending||(n.prototype.destroy.call(this),this.pause(),this._destroyPending=!0,this._assets.forEach(function(e){e.destroy()}),0===this.pending()&&this._destroy())},u.trigger=function(){this._destroyPending||n.prototype.trigger.apply(this,arguments)},u._destroy=function(){this.privateQueue&&(this._queue.destroy(),this._queue=null,this.options.privateQueue=null),this.errors=null,this._assets=null,this._loaded=null,this._errored=null,this._enqueued=null,this._dequeued=null,this._pending=null},u._pauseAssets=function(){this._assets.forEach(function(e){"function"==typeof e.pause&&e.pause()})},u._resumeAssets=function(){this._assets.forEach(function(e){"function"==typeof e.resume&&e.resume()})},u._onProgress=function(e){if(!this.isErrored()){var t=this._pending.indexOf(e),i=this._pending.splice(t,1)[0];if(i&&"loaded"===i.asset.status&&this._loaded.push(i.asset),this._destroyPending)return void(0===this.pending()&&this._destroy());var n=this._makeDataObject(e.asset);this.trigger("progress",n)}},u._onScheduled=function(e){var t=this._enqueued.indexOf(e);t>-1&&(this._enqueued.splice(t,1),this._pending.push(e))},u._onComplete=function(e){this._isRunning=!1,this._isComplete=!0;var t=this._makeDataObject(this._loaded[this._loaded.length-1]);this.trigger("load",t)},u._onAssetError=function(e){this.errors.push(e.error),this._errored.push(e);var t=this._pending.indexOf(e);this._pending.splice(t,1);var i=this._makeDataObject(e.asset);this.trigger("error",i)},u._onGroupError=function(e){this.options.failFast&&(this.pause(),this._isErrored=!0,this._isRunning=!1,this._isComplete=!1)},u._makeDataObject=function(e){var t=this.errors.length;this.errors.map(function(e){return this._assets.indexOf(e)},this);return{latest:e,assets:this._assets,error:!!(t>0),errored:this.errors}},u._dequeueItems=function(){this._enqueued.forEach(function(e){this._queue.dequeueQueueItem(e.queueItem),this._dequeued.push(e)},this),this._enqueued=[]},u._reenqueueItems=function(){this._dequeued.forEach(function(e){this._queue.enqueueQueueItem(e.queueItem),this._enqueued.push(e)},this),this._dequeued=[]},t.exports=h},{"./queue":18,"./utils/enqueueAsset":19,"./utils/selectQueue":20,"@marcom/ac-event-emitter-micro":86,"@marcom/ac-object/defaults":163,"@marcom/ac-polyfills/Promise":void 0}],14:[function(e,t,i){t.exports.assetLoader=e("./assetLoader"),t.exports.types=e("./assetTypes"),t.exports.AssetGroup=e("./AssetGroup"),t.exports.createAsset=e("./createAsset")},{"./AssetGroup":13,"./assetLoader":15,"./assetTypes":16,"./createAsset":17}],15:[function(e,t,i){"use strict";function n(e,t){return e=[].concat(e),e.map(function(e){return c(e,t)})}function r(e,t){var i=u(t||{});return i.privateQueue=h(i.privateQueue,i.privateQueueThreads),e=n(e,i.privateQueue),new o(e,i)}var s=e("./queue"),o=e("./AssetGroup"),a=e("./assetTypes"),c=e("./createAsset"),h=e("./utils/selectQueue"),u=e("@marcom/ac-object/clone");t.exports={count:function(){return s.getInstance().count()},pending:function(){return s.getInstance().pending()},pause:function(){return s.getInstance().pause()},stop:function(){return s.getInstance().stop()},clear:function(){return s.getInstance().clear()},isEmpty:function(){return s.getInstance().isEmpty()},load:function(e,t){var i=r(e,t);return i.load()},resume:function(){return s.getInstance().start()},setThreads:function(e){s.setThreads(e)},createAssets:function(e,t){return n(e,t)},createAssetGroup:function(e,t){return r(e,t)},types:a}},{"./AssetGroup":13,"./assetTypes":16,"./createAsset":17,"./queue":18,"./utils/selectQueue":20,"@marcom/ac-object/clone":161}],16:[function(e,t,i){"use strict";var n=e("./Asset/XHR"),r=e("./Asset/SplitFile"),s=e("./Asset/Img"),o=e("./Asset/Video"),a=e("./Asset/XHR/ArrayBuffer"),c=e("./Asset/XHR/JSON");t.exports={XHR_ASSET:n,JSON_ASSET:c,SPLITFILE_ASSET:r,IMG_ASSET:s,VIDEO_ASSET:o,ARRAY_BUFFER_ASSET:a}},{"./Asset/Img":7,"./Asset/SplitFile":8,"./Asset/Video":9,"./Asset/XHR":10,"./Asset/XHR/ArrayBuffer":11,"./Asset/XHR/JSON":12}],17:[function(e,t,i){"use strict";function n(e){return e=e.replace(/([?#].*)$/,""),o[e.split(".").pop()]}var r=e("./assetTypes"),s=e("./Asset"),o={txt:r.XHR_ASSET,xml:r.XHR_ASSET,csv:r.XHR_ASSET,json:r.JSON_ASSET,png:r.IMG_ASSET,jpg:r.IMG_ASSET,gif:r.IMG_ASSET,svg:r.IMG_ASSET,splitfile:r.SPLITFILE_ASSET};t.exports=function(e,t){var i={};return s.prototype.isPrototypeOf(e)?src:("string"==typeof e&&(i.src=e,i.type=n(e)),"object"==typeof e&&(i=e,"string"==typeof i.type&&(i.type=n(i.type)),i.type||(i.type=n(i.src))),i.options||(i.options={}),t&&(i.options.queue=t),new i.type(i.src,i.options))}},{"./Asset":6,"./assetTypes":16}],18:[function(e,t,i){"use strict";function n(e){return e=e||c,new a(e)}function r(e){return e=e||h,o||(o=n(e)),o}function s(e){h=e}var o,a=e("@marcom/ac-queue").LiveQueue,c=4,h=c;t.exports={getInstance:function(e){return r(e)},setThreads:function(e){s(e)},newInstance:function(e){return n(e)},isLiveQueue:function(e){return e instanceof a},DEFAULT_THREADS:c}},{"@marcom/ac-queue":185}],19:[function(e,t,i){"use strict";function n(e,t){"function"==typeof e[t]&&e[t](e)}e("@marcom/ac-polyfills/Promise"),t.exports=function(e,t,i){var r=function(e,n){t.scheduled(t),t.asset.once("loaded",function(i){e(t)}),t.asset.once("error",function(r){return i?n(r):void e(t)}),t.asset.load()},s=function(){return new Promise(r)},o=new Promise(function(e,r){t.asset.once("loaded",function(i){n(t,"success"),e(i)}),t.asset.once("error",function(s){return t.error=s,n(t,"failure"),i?r(s):void e(t)})});return t.queueItem=e.enqueue(s,t.asset.priority),t.promise=o,t}},{"@marcom/ac-polyfills/Promise":void 0}],20:[function(e,t,i){"use strict";var n=e("../queue");t.exports=function(e,t){return t=t||n.DEFAULT_THREADS,n.isLiveQueue(e)?e:e===!0?n.newInstance(t):n.getInstance()}},{"../queue":18}],21:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var n=e("./className/add");t.exports=function(){var e,t=Array.prototype.slice.call(arguments),i=t.shift(t);if(i.classList&&i.classList.add)return void i.classList.add.apply(i.classList,t);for(e=0;e<t.length;e++)n(i,t[e])}},{"./className/add":22,"@marcom/ac-polyfills/Array/prototype.slice":void 0,"@marcom/ac-polyfills/Element/prototype.classList":void 0}],22:[function(e,t,i){"use strict";var n=e("./contains");t.exports=function(e,t){n(e,t)||(e.className+=" "+t)}},{"./contains":23}],23:[function(e,t,i){"use strict";var n=e("./getTokenRegExp");t.exports=function(e,t){return n(t).test(e.className)}},{"./getTokenRegExp":24}],24:[function(e,t,i){"use strict";t.exports=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")}},{}],25:[function(e,t,i){"use strict";var n=e("./contains"),r=e("./getTokenRegExp");t.exports=function(e,t){n(e,t)&&(e.className=e.className.replace(r(t),"$1").trim())}},{"./contains":23,"./getTokenRegExp":24}],26:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Element/prototype.classList");var n=e("./className/remove");t.exports=function(){var e,t=Array.prototype.slice.call(arguments),i=t.shift(t);if(i.classList&&i.classList.remove)return void i.classList.remove.apply(i.classList,t);for(e=0;e<t.length;e++)n(i,t[e])}},{"./className/remove":25,"@marcom/ac-polyfills/Array/prototype.slice":void 0,"@marcom/ac-polyfills/Element/prototype.classList":void 0}],27:[function(e,t,i){"use strict";t.exports={DOMEmitter:e("./ac-dom-emitter/DOMEmitter")}},{"./ac-dom-emitter/DOMEmitter":28}],28:[function(e,t,i){"use strict";function n(e){null!==e&&(this.el=e,this._bindings={},this._delegateFuncs={},this._eventEmitter=new s)}var r,s=e("ac-event-emitter").EventEmitter,o=e("./DOMEmitterEvent"),a={addEventListener:e("@marcom/ac-dom-events/addEventListener"),removeEventListener:e("@marcom/ac-dom-events/removeEventListener"),dispatchEvent:e("@marcom/ac-dom-events/dispatchEvent")},c={querySelectorAll:e("@marcom/ac-dom-traversal/querySelectorAll"),matchesSelector:e("@marcom/ac-dom-traversal/matchesSelector")},h="dom-emitter";r=n.prototype,r.on=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._on),this},r.once=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._once),this},r.off=function(){return this._normalizeArgumentsAndCall(Array.prototype.slice.call(arguments,0),this._off),this},r.has=function(e,t,i,n){var r,s;if("string"==typeof t?(r=t,s=i):(s=t,n=i),r){var o=this._getDelegateFuncBindingIdx(e,r,s,n,!0);return o>-1}return!(!this._eventEmitter||!this._eventEmitter.has.apply(this._eventEmitter,arguments))},r.trigger=function(e,t,i,n){e=this._parseEventNames(e),e=this._cleanStringData(e);var r,s,o,a=e.length;for("string"==typeof t?(r=this._cleanStringData(t),s=i):(s=t,n=i),o=0;o<a;o++)this._triggerDOMEvents(e[o],s,r);return this},r.emitterTrigger=function(e,t,i){if(!this._eventEmitter)return this;e=this._parseEventNames(e),e=this._cleanStringData(e),t=new o(t,this);var n,r=e.length;for(n=0;n<r;n++)this._eventEmitter.trigger(e[n],t,i);return this},r.propagateTo=function(e,t){return this._eventEmitter.propagateTo(e,t),this},r.stopPropagatingTo=function(e){return this._eventEmitter.stopPropagatingTo(e),this},r.stopImmediatePropagation=function(){return this._eventEmitter.stopImmediatePropagation(),this},r.destroy=function(){this._triggerInternalEvent("willdestroy"),this.off();var e;for(e in this)this.hasOwnProperty(e)&&(this[e]=null)},r._parseEventNames=function(e){return e?e.split(" "):[e]},r._onListenerEvent=function(e,t){var i=new o(t,this);this._eventEmitter.trigger(e,i,!1)},r._setListener=function(e){this._bindings[e]=this._onListenerEvent.bind(this,e),a.addEventListener(this.el,e,this._bindings[e])},r._removeListener=function(e){a.removeEventListener(this.el,e,this._bindings[e]),this._bindings[e]=null},r._triggerInternalEvent=function(e,t){this.emitterTrigger(h+":"+e,t)},r._normalizeArgumentsAndCall=function(e,t){var i={};if(0===e.length)return void t.call(this,i);if("string"==typeof e[0]||null===e[0])return e=this._cleanStringData(e),i.events=e[0],"string"==typeof e[1]?(i.delegateQuery=e[1],i.callback=e[2],i.context=e[3]):(i.callback=e[1],i.context=e[2]),void t.call(this,i);var n,r,s=":",o=e[0];for(n in o)o.hasOwnProperty(n)&&(i={},r=this._cleanStringData(n.split(s)),i.events=r[0],i.delegateQuery=r[1],i.callback=o[n],i.context=e[1],t.call(this,i))},r._registerDelegateFunc=function(e,t,i,n,r){var s=this._delegateFunc.bind(this,e,t,i,r);return this._delegateFuncs[t]=this._delegateFuncs[t]||{},this._delegateFuncs[t][e]=this._delegateFuncs[t][e]||[],this._delegateFuncs[t][e].push({func:n,context:r,delegateFunc:s}),s},r._cleanStringData=function(e){var t=!1;"string"==typeof e&&(e=[e],t=!0);var i,n,r,s=[],o=e.length;for(i=0;i<o;i++){if(n=e[i],"string"==typeof n){if(""===n||" "===n)continue;for(r=n.length;" "===n[0];)n=n.slice(1,r),r--;for(;" "===n[r-1];)n=n.slice(0,r-1),r--}s.push(n)}return t?s[0]:s},r._unregisterDelegateFunc=function(e,t,i,n){if(this._delegateFuncs[t]&&this._delegateFuncs[t][e]){var r,s=this._getDelegateFuncBindingIdx(e,t,i,n);return s>-1&&(r=this._delegateFuncs[t][e][s].delegateFunc,this._delegateFuncs[t][e].splice(s,1),0===this._delegateFuncs[t][e].length&&(this._delegateFuncs[t][e]=null)),r}},r._unregisterDelegateFuncs=function(e,t){if(this._delegateFuncs[t]&&(null===e||this._delegateFuncs[t][e]))if(null!==e)this._unbindDelegateFunc(e,t);else{var i;for(i in this._delegateFuncs[t])this._delegateFuncs[t].hasOwnProperty(i)&&this._unbindDelegateFunc(i,t)}},r._unbindDelegateFunc=function(e,t){for(var i,n,r=0;this._delegateFuncs[t][e]&&this._delegateFuncs[t][e][r];)i=this._delegateFuncs[t][e][r],n=this._delegateFuncs[t][e][r].length,this._off({events:e,delegateQuery:t,callback:i.func,context:i.context}),this._delegateFuncs[t][e]&&n===this._delegateFuncs[t][e].length&&r++;i=n=null},r._unregisterDelegateFuncsByEvent=function(e){var t;for(t in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(t)&&this._unregisterDelegateFuncs(e,t)},r._delegateFunc=function(e,t,i,n,r){if(this._targetHasDelegateAncestor(r.target,t)){var s=Array.prototype.slice.call(arguments,0),o=s.slice(4,s.length);n=n||window,"object"==typeof r.detail&&(o[0]=r.detail),i.apply(n,o)}},r._targetHasDelegateAncestor=function(e,t){for(var i=e;i&&i!==this.el&&i!==document.documentElement;){if(c.matchesSelector(i,t))return!0;i=i.parentNode}return!1},r._on=function(e){var t=e.events,i=e.callback,n=e.delegateQuery,r=e.context,s=e.unboundCallback||i;t=this._parseEventNames(t),t.forEach(function(e,t,i,n,r){this.has(r)||this._setListener(r),"string"==typeof n&&(e=this._registerDelegateFunc(r,n,e,t,i)),this._triggerInternalEvent("willon",{evt:r,callback:e,context:i,delegateQuery:n}),this._eventEmitter.on(r,e,i),this._triggerInternalEvent("didon",{evt:r,callback:e,context:i,delegateQuery:n})}.bind(this,i,s,r,n)),t=i=s=n=r=null},r._off=function(e){var t=e.events,i=e.callback,n=e.delegateQuery,r=e.context,s=e.unboundCallback||i;if("undefined"!=typeof t)t=this._parseEventNames(t),t.forEach(function(e,t,i,n,r){if("string"!=typeof n||"function"!=typeof t||(e=this._unregisterDelegateFunc(r,n,t,i)))return"string"==typeof n&&"undefined"==typeof e?void this._unregisterDelegateFuncs(r,n):void("string"==typeof r&&"undefined"==typeof e&&(this._unregisterDelegateFuncsByEvent(r),"string"==typeof n)||(this._triggerInternalEvent("willoff",{evt:r,callback:e,context:i,delegateQuery:n}),this._eventEmitter.off(r,e,i),this._triggerInternalEvent("didoff",{evt:r,callback:e,context:i,delegateQuery:n}),this.has(r)||this._removeListener(r)))}.bind(this,i,s,r,n)),t=i=s=n=r=null;else{this._eventEmitter.off();var o;for(o in this._bindings)this._bindings.hasOwnProperty(o)&&this._removeListener(o);for(o in this._delegateFuncs)this._delegateFuncs.hasOwnProperty(o)&&(this._delegateFuncs[o]=null)}},r._once=function(e){var t=e.events,i=e.callback,n=e.delegateQuery,r=e.context;t=this._parseEventNames(t),t.forEach(function(e,t,i,n){return"string"==typeof i?this._handleDelegateOnce(n,e,t,i):(this.has(n)||this._setListener(n),this._triggerInternalEvent("willonce",{evt:n,callback:e,context:t,delegateQuery:i}),this._eventEmitter.once.call(this,n,e,t),void this._triggerInternalEvent("didonce",{evt:n,callback:e,context:t,delegateQuery:i}))}.bind(this,i,r,n)),t=i=n=r=null},r._handleDelegateOnce=function(e,t,i,n){return this._triggerInternalEvent("willonce",{evt:e,callback:t,context:i,delegateQuery:n}),this._on({events:e,context:i,delegateQuery:n,callback:this._getDelegateOnceCallback.bind(this,e,t,i,n),unboundCallback:t}),this._triggerInternalEvent("didonce",{evt:e,callback:t,context:i,delegateQuery:n}),this},r._getDelegateOnceCallback=function(e,t,i,n){var r=Array.prototype.slice.call(arguments,0),s=r.slice(4,r.length);t.apply(i,s),this._off({events:e,delegateQuery:n,callback:t,context:i})},r._getDelegateFuncBindingIdx=function(e,t,i,n,r){var s=-1;if(this._delegateFuncs[t]&&this._delegateFuncs[t][e]){var o,a,c=this._delegateFuncs[t][e].length;for(o=0;o<c;o++)if(a=this._delegateFuncs[t][e][o],r&&"undefined"==typeof i&&(i=a.func),a.func===i&&a.context===n){s=o;break}}return s},r._triggerDOMEvents=function(e,t,i){var n=[this.el];i&&(n=c.querySelectorAll(i,this.el));var r,s=n.length;for(r=0;r<s;r++)a.dispatchEvent(n[r],e,{bubbles:!0,cancelable:!0,detail:t})},t.exports=n},{"./DOMEmitterEvent":29,"@marcom/ac-dom-events/addEventListener":30,"@marcom/ac-dom-events/dispatchEvent":31,"@marcom/ac-dom-events/removeEventListener":33,"@marcom/ac-dom-traversal/matchesSelector":73,"@marcom/ac-dom-traversal/querySelectorAll":74,"ac-event-emitter":218}],29:[function(e,t,i){"use strict";var n,r={preventDefault:e("@marcom/ac-dom-events/preventDefault"),stopPropagation:e("@marcom/ac-dom-events/stopPropagation"),target:e("@marcom/ac-dom-events/target")},s=function(e,t){this._domEmitter=t,this.originalEvent=e||{},this._originalTarget=r.target(this.originalEvent),this.target=this._originalTarget||this._domEmitter.el,this.currentTarget=this._domEmitter.el,this.timeStamp=this.originalEvent.timeStamp||Date.now(),this._isDOMEvent(this.originalEvent)?"object"==typeof this.originalEvent.detail&&(this.data=this.originalEvent.detail):e&&(this.data=this.originalEvent,this.originalEvent={})};n=s.prototype,n.preventDefault=function(){r.preventDefault(this.originalEvent)},n.stopPropagation=function(){r.stopPropagation(this.originalEvent)},n.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this._domEmitter.stopImmediatePropagation()},n._isDOMEvent=function(e){return!!(this._originalTarget||"undefined"!==document.createEvent&&"undefined"!=typeof CustomEvent&&e instanceof CustomEvent)},t.exports=s},{"@marcom/ac-dom-events/preventDefault":32,"@marcom/ac-dom-events/stopPropagation":35,"@marcom/ac-dom-events/target":36}],30:[function(e,t,i){"use strict";var n=e("./utils/addEventListener"),r=e("./shared/getEventType");t.exports=function(e,t,i,s){return t=r(e,t),n(e,t,i,s)}},{"./shared/getEventType":34,"./utils/addEventListener":37}],31:[function(e,t,i){"use strict";var n=e("./utils/dispatchEvent"),r=e("./shared/getEventType");t.exports=function(e,t,i){return t=r(e,t),n(e,t,i)}},{"./shared/getEventType":34,"./utils/dispatchEvent":38}],32:[function(e,t,i){"use strict";t.exports=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1}},{}],33:[function(e,t,i){"use strict";var n=e("./utils/removeEventListener"),r=e("./shared/getEventType");t.exports=function(e,t,i,s){return t=r(e,t),n(e,t,i,s)}},{"./shared/getEventType":34,"./utils/removeEventListener":39}],34:[function(e,t,i){"use strict";var n=e("@marcom/ac-prefixer/getEventType");t.exports=function(e,t){var i,r;return i="tagName"in e?e.tagName:e===window?"window":"document",r=n(t,i),r?r:t}},{"@marcom/ac-prefixer/getEventType":170}],35:[function(e,t,i){"use strict";t.exports=function(e){e=e||window.event,
e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},{}],36:[function(e,t,i){"use strict";t.exports=function(e){return e=e||window.event,"undefined"!=typeof e.target?e.target:e.srcElement}},{}],37:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){return e.addEventListener?e.addEventListener(t,i,!!n):e.attachEvent("on"+t,i),e}},{}],38:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/CustomEvent"),t.exports=function(e,t,i){var n;return e.dispatchEvent?(n=i?new CustomEvent(t,i):new CustomEvent(t),e.dispatchEvent(n)):(n=document.createEventObject(),i&&"detail"in i&&(n.detail=i.detail),e.fireEvent("on"+t,n)),e}},{"@marcom/ac-polyfills/CustomEvent":void 0}],39:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){return e.removeEventListener?e.removeEventListener(t,i,!!n):e.detachEvent("on"+t,i),e}},{}],40:[function(e,t,i){"use strict";t.exports=8},{}],41:[function(e,t,i){"use strict";t.exports=11},{}],42:[function(e,t,i){"use strict";t.exports=9},{}],43:[function(e,t,i){"use strict";t.exports=10},{}],44:[function(e,t,i){"use strict";t.exports=1},{}],45:[function(e,t,i){"use strict";t.exports=3},{}],46:[function(e,t,i){"use strict";t.exports={createDocumentFragment:e("./createDocumentFragment"),filterByNodeType:e("./filterByNodeType"),hasAttribute:e("./hasAttribute"),indexOf:e("./indexOf"),insertAfter:e("./insertAfter"),insertBefore:e("./insertBefore"),insertFirstChild:e("./insertFirstChild"),insertLastChild:e("./insertLastChild"),isComment:e("./isComment"),isDocument:e("./isDocument"),isDocumentFragment:e("./isDocumentFragment"),isDocumentType:e("./isDocumentType"),isElement:e("./isElement"),isNode:e("./isNode"),isNodeList:e("./isNodeList"),isTextNode:e("./isTextNode"),remove:e("./remove"),replace:e("./replace"),COMMENT_NODE:e("./COMMENT_NODE"),DOCUMENT_FRAGMENT_NODE:e("./DOCUMENT_FRAGMENT_NODE"),DOCUMENT_NODE:e("./DOCUMENT_NODE"),DOCUMENT_TYPE_NODE:e("./DOCUMENT_TYPE_NODE"),ELEMENT_NODE:e("./ELEMENT_NODE"),TEXT_NODE:e("./TEXT_NODE")}},{"./COMMENT_NODE":40,"./DOCUMENT_FRAGMENT_NODE":41,"./DOCUMENT_NODE":42,"./DOCUMENT_TYPE_NODE":43,"./ELEMENT_NODE":44,"./TEXT_NODE":45,"./createDocumentFragment":47,"./filterByNodeType":48,"./hasAttribute":49,"./indexOf":50,"./insertAfter":51,"./insertBefore":52,"./insertFirstChild":53,"./insertLastChild":54,"./isComment":57,"./isDocument":58,"./isDocumentFragment":59,"./isDocumentType":60,"./isElement":61,"./isNode":62,"./isNodeList":63,"./isTextNode":64,"./remove":65,"./replace":66}],47:[function(e,t,i){"use strict";t.exports=function(e){var t,i=document.createDocumentFragment();if(e)for(t=document.createElement("div"),t.innerHTML=e;t.firstChild;)i.appendChild(t.firstChild);return i}},{}],48:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice"),e("@marcom/ac-polyfills/Array/prototype.filter");var n=e("./internal/isNodeType"),r=e("./ELEMENT_NODE");t.exports=function(e,t){return t=t||r,e=Array.prototype.slice.call(e),e.filter(function(e){return n(e,t)})}},{"./ELEMENT_NODE":44,"./internal/isNodeType":55,"@marcom/ac-polyfills/Array/prototype.filter":void 0,"@marcom/ac-polyfills/Array/prototype.slice":void 0}],49:[function(e,t,i){"use strict";t.exports=function(e,t){return"hasAttribute"in e?e.hasAttribute(t):null!==e.attributes.getNamedItem(t)}},{}],50:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf"),e("@marcom/ac-polyfills/Array/prototype.slice");var n=(e("./internal/validate"),e("./filterByNodeType"));t.exports=function(e,t){var i,r=e.parentNode;return r?(i=r.childNodes,i=t!==!1?n(i,t):Array.prototype.slice.call(i),i.indexOf(e)):0}},{"./filterByNodeType":48,"./internal/validate":56,"@marcom/ac-polyfills/Array/prototype.indexOf":void 0,"@marcom/ac-polyfills/Array/prototype.slice":void 0}],51:[function(e,t,i){"use strict";var n=e("./internal/validate");t.exports=function(e,t){return n.insertNode(e,!0,"insertAfter"),n.childNode(t,!0,"insertAfter"),n.hasParentNode(t,"insertAfter"),t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)}},{"./internal/validate":56}],52:[function(e,t,i){"use strict";var n=e("./internal/validate");t.exports=function(e,t){return n.insertNode(e,!0,"insertBefore"),n.childNode(t,!0,"insertBefore"),n.hasParentNode(t,"insertBefore"),t.parentNode.insertBefore(e,t)}},{"./internal/validate":56}],53:[function(e,t,i){"use strict";var n=e("./internal/validate");t.exports=function(e,t){return n.insertNode(e,!0,"insertFirstChild"),n.parentNode(t,!0,"insertFirstChild"),t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}},{"./internal/validate":56}],54:[function(e,t,i){"use strict";var n=e("./internal/validate");t.exports=function(e,t){return n.insertNode(e,!0,"insertLastChild"),n.parentNode(t,!0,"insertLastChild"),t.appendChild(e)}},{"./internal/validate":56}],55:[function(e,t,i){"use strict";var n=e("../isNode");t.exports=function(e,t){return!!n(e)&&("number"==typeof t?e.nodeType===t:t.indexOf(e.nodeType)!==-1)}},{"../isNode":62}],56:[function(e,t,i){"use strict";var n=e("./isNodeType"),r=e("../COMMENT_NODE"),s=e("../DOCUMENT_FRAGMENT_NODE"),o=e("../ELEMENT_NODE"),a=e("../TEXT_NODE"),c=[o,a,r,s],h=" must be an Element, TextNode, Comment, or Document Fragment",u=[o,a,r],l=" must be an Element, TextNode, or Comment",m=[o,s],d=" must be an Element, or Document Fragment",f=" must have a parentNode";t.exports={parentNode:function(e,t,i,r){if(r=r||"target",(e||t)&&!n(e,m))throw new TypeError(i+": "+r+d)},childNode:function(e,t,i,r){if(r=r||"target",(e||t)&&!n(e,u))throw new TypeError(i+": "+r+l)},insertNode:function(e,t,i,r){if(r=r||"node",(e||t)&&!n(e,c))throw new TypeError(i+": "+r+h)},hasParentNode:function(e,t,i){if(i=i||"target",!e.parentNode)throw new TypeError(t+": "+i+f)}}},{"../COMMENT_NODE":40,"../DOCUMENT_FRAGMENT_NODE":41,"../ELEMENT_NODE":44,"../TEXT_NODE":45,"./isNodeType":55}],57:[function(e,t,i){"use strict";var n=e("./internal/isNodeType"),r=e("./COMMENT_NODE");t.exports=function(e){return n(e,r)}},{"./COMMENT_NODE":40,"./internal/isNodeType":55}],58:[function(e,t,i){"use strict";var n=e("./internal/isNodeType"),r=e("./DOCUMENT_NODE");t.exports=function(e){return n(e,r)}},{"./DOCUMENT_NODE":42,"./internal/isNodeType":55}],59:[function(e,t,i){"use strict";var n=e("./internal/isNodeType"),r=e("./DOCUMENT_FRAGMENT_NODE");t.exports=function(e){return n(e,r)}},{"./DOCUMENT_FRAGMENT_NODE":41,"./internal/isNodeType":55}],60:[function(e,t,i){"use strict";var n=e("./internal/isNodeType"),r=e("./DOCUMENT_TYPE_NODE");t.exports=function(e){return n(e,r)}},{"./DOCUMENT_TYPE_NODE":43,"./internal/isNodeType":55}],61:[function(e,t,i){"use strict";var n=e("./internal/isNodeType"),r=e("./ELEMENT_NODE");t.exports=function(e){return n(e,r)}},{"./ELEMENT_NODE":44,"./internal/isNodeType":55}],62:[function(e,t,i){"use strict";t.exports=function(e){return!(!e||!e.nodeType)}},{}],63:[function(e,t,i){"use strict";var n=/^\[object (HTMLCollection|NodeList|Object)\]$/;t.exports=function(e){return!!e&&("number"==typeof e.length&&(!!("object"!=typeof e[0]||e[0]&&e[0].nodeType)&&n.test(Object.prototype.toString.call(e))))}},{}],64:[function(e,t,i){"use strict";var n=e("./internal/isNodeType"),r=e("./TEXT_NODE");t.exports=function(e){return n(e,r)}},{"./TEXT_NODE":45,"./internal/isNodeType":55}],65:[function(e,t,i){"use strict";var n=e("./internal/validate");t.exports=function(e){return n.childNode(e,!0,"remove"),e.parentNode?e.parentNode.removeChild(e):e}},{"./internal/validate":56}],66:[function(e,t,i){"use strict";var n=e("./internal/validate");t.exports=function(e,t){return n.insertNode(e,!0,"insertFirstChild","newNode"),n.childNode(t,!0,"insertFirstChild","oldNode"),n.hasParentNode(t,"insertFirstChild","oldNode"),t.parentNode.replaceChild(e,t)}},{"./internal/validate":56}],67:[function(e,t,i){"use strict";t.exports={getStyle:e("./getStyle"),setStyle:e("./setStyle")}},{"./getStyle":68,"./setStyle":70}],68:[function(e,t,i){"use strict";var n=e("@marcom/ac-prefixer/getStyleProperty"),r=e("@marcom/ac-prefixer/stripPrefixes");t.exports=function(){var e,t,i,s,o=Array.prototype.slice.call(arguments),a=o.shift(o),c=window.getComputedStyle(a),h={};for("string"!=typeof o[0]&&(o=o[0]),s=0;s<o.length;s++)e=o[s],t=n(e),t?(e=r(t),i=c[t],i&&"auto"!==i||(i=null),i&&(i=r(i))):i=null,h[e]=i;return h}},{"@marcom/ac-prefixer/getStyleProperty":172,"@marcom/ac-prefixer/stripPrefixes":180}],69:[function(e,t,i){"use strict";t.exports=function(e){var t,i,n;if(!e&&0!==e)return"";if(Array.isArray(e))return e+"";if("object"==typeof e){for(t="",i=Object.keys(e),n=0;n<i.length;n++)t+=i[n]+"("+e[i[n]]+") ";return t.trim()}return e}},{}],70:[function(e,t,i){"use strict";var n=e("@marcom/ac-prefixer/getStyleCSS"),r=e("@marcom/ac-prefixer/getStyleProperty"),s=e("./internal/normalizeValue");t.exports=function(e,t){var i,o,a,c,h,u="";if("object"!=typeof t)throw new TypeError("setStyle: styles must be an Object");for(o in t)c=s(t[o]),c||0===c?(i=n(o,c),i!==!1&&(u+=" "+i)):(a=r(o),"removeAttribute"in e.style?e.style.removeAttribute(a):e.style[a]="");return u.length&&(h=e.style.cssText,";"!==h.charAt(h.length-1)&&(h+=";"),h+=u,e.style.cssText=h),e}},{"./internal/normalizeValue":69,"@marcom/ac-prefixer/getStyleCSS":171,"@marcom/ac-prefixer/getStyleProperty":172}],71:[function(e,t,i){"use strict";t.exports=window.Element?function(e){return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}(Element.prototype):null},{}],72:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var n=e("@marcom/ac-dom-nodes/isNode"),r=e("@marcom/ac-dom-nodes/COMMENT_NODE"),s=e("@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE"),o=e("@marcom/ac-dom-nodes/DOCUMENT_NODE"),a=e("@marcom/ac-dom-nodes/ELEMENT_NODE"),c=e("@marcom/ac-dom-nodes/TEXT_NODE"),h=function(e,t){return!!n(e)&&("number"==typeof t?e.nodeType===t:t.indexOf(e.nodeType)!==-1)},u=[a,o,s],l=" must be an Element, Document, or Document Fragment",m=[a,c,r],d=" must be an Element, TextNode, or Comment",f=" must be a string";t.exports={parentNode:function(e,t,i,n){if(n=n||"node",(e||t)&&!h(e,u))throw new TypeError(i+": "+n+l)},childNode:function(e,t,i,n){if(n=n||"node",(e||t)&&!h(e,m))throw new TypeError(i+": "+n+d)},selector:function(e,t,i,n){if(n=n||"selector",(e||t)&&"string"!=typeof e)throw new TypeError(i+": "+n+f)}}},{"@marcom/ac-dom-nodes/COMMENT_NODE":40,"@marcom/ac-dom-nodes/DOCUMENT_FRAGMENT_NODE":41,"@marcom/ac-dom-nodes/DOCUMENT_NODE":42,"@marcom/ac-dom-nodes/ELEMENT_NODE":44,"@marcom/ac-dom-nodes/TEXT_NODE":45,"@marcom/ac-dom-nodes/isNode":62,"@marcom/ac-polyfills/Array/prototype.indexOf":void 0}],73:[function(e,t,i){"use strict";var n=e("@marcom/ac-dom-nodes/isElement"),r=e("./internal/validate"),s=e("./internal/nativeMatches"),o=e("./shims/matchesSelector");t.exports=function(e,t){return r.selector(t,!0,"matchesSelector"),!!n(e)&&(s?s.call(e,t):o(e,t))}},{"./internal/nativeMatches":71,"./internal/validate":72,"./shims/matchesSelector":75,"@marcom/ac-dom-nodes/isElement":61}],74:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.slice");var n=e("./internal/validate"),r=e("./shims/querySelectorAll"),s="querySelectorAll"in document;t.exports=function(e,t){return t=t||document,n.parentNode(t,!0,"querySelectorAll","context"),n.selector(e,!0,"querySelectorAll"),s?Array.prototype.slice.call(t.querySelectorAll(e)):r(e,t)}},{"./internal/validate":72,"./shims/querySelectorAll":76,"@marcom/ac-polyfills/Array/prototype.slice":void 0}],75:[function(e,t,i){"use strict";var n=e("../querySelectorAll");t.exports=function(e,t){var i,r=e.parentNode||document,s=n(t,r);for(i=0;i<s.length;i++)if(s[i]===e)return!0;return!1}},{"../querySelectorAll":74}],76:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.indexOf");var n=e("@marcom/ac-dom-nodes/isElement"),r=e("@marcom/ac-dom-nodes/isDocumentFragment"),s=e("@marcom/ac-dom-nodes/remove"),o="_ac_qsa_",a=function(e,t){var i;if(t===document)return!0;for(i=e;(i=i.parentNode)&&n(i);)if(i===t)return!0;return!1},c=function(e){"recalc"in e?e.recalc(!1):document.recalc(!1),window.scrollBy(0,0)};t.exports=function(e,t){var i,n=document.createElement("style"),h=o+(Math.random()+"").slice(-6),u=[];for(t=t||document,document[h]=[],r(t)?t.appendChild(n):document.documentElement.firstChild.appendChild(n),n.styleSheet.cssText="*{display:recalc;}"+e+'{ac-qsa:expression(document["'+h+'"] && document["'+h+'"].push(this));}',c(t);document[h].length;)i=document[h].shift(),i.style.removeAttribute("ac-qsa"),u.indexOf(i)===-1&&a(i,t)&&u.push(i);return document[h]=null,s(n),c(t),u}},{"@marcom/ac-dom-nodes/isDocumentFragment":59,"@marcom/ac-dom-nodes/isElement":61,"@marcom/ac-dom-nodes/remove":65,"@marcom/ac-polyfills/Array/prototype.indexOf":void 0}],77:[function(e,t,i){var n=e("./ac-element-engagement/ElementEngagement");t.exports=new n,t.exports.ElementEngagement=n},{"./ac-element-engagement/ElementEngagement":78}],78:[function(e,t,i){"use strict";var n,r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s={defaults:e("@marcom/ac-object/defaults"),extend:e("@marcom/ac-object/extend")},o=e("@marcom/ac-element-tracker").ElementTracker,a={timeToEngage:500,inViewThreshold:.75,stopOnEngaged:!0},c={thresholdEnterTime:0,thresholdExitTime:0,inThreshold:!1,engaged:!1,tracking:!0},h=function(e){o.call(this,null,e),r.call(this),this._thresholdEnter=this._thresholdEnter.bind(this),this._thresholdExit=this._thresholdExit.bind(this),this._enterView=this._enterView.bind(this),this._exitView=this._exitView.bind(this)};n=h.prototype=Object.create(o.prototype),n=s.extend(n,r.prototype),n._decorateTrackedElement=function(e,t){var i;i=s.defaults(a,t||{}),s.extend(e,i),s.extend(e,c)},n._attachElementListeners=function(e){e.on("thresholdenter",this._thresholdEnter,this),e.on("thresholdexit",this._thresholdExit,this),e.on("enterview",this._enterView,this),e.on("exitview",this._exitView,this)},n._removeElementListeners=function(e){e.off("thresholdenter",this._thresholdEnter),e.off("thresholdexit",this._thresholdExit),e.off("enterview",this._enterView),e.off("exitview",this._exitView)},n._attachAllElementListeners=function(){this.elements.forEach(function(e){e.stopOnEngaged?e.engaged||this._attachElementListeners(e):this._attachElementListeners(e)},this)},n._removeAllElementListeners=function(){this.elements.forEach(function(e){this._removeElementListeners(e)},this)},n._elementInViewPastThreshold=function(e){var t=!1;return t=e.pixelsInView===this._windowHeight||e.percentInView>e.inViewThreshold},n._ifInView=function(e,t){var i=e.inThreshold;o.prototype._ifInView.apply(this,arguments),!i&&this._elementInViewPastThreshold(e)&&(e.inThreshold=!0,e.trigger("thresholdenter",e),"number"==typeof e.timeToEngage&&e.timeToEngage>=0&&(e.engagedTimeout=window.setTimeout(this._engaged.bind(this,e),e.timeToEngage)))},n._ifAlreadyInView=function(e){var t=e.inThreshold;o.prototype._ifAlreadyInView.apply(this,arguments),t&&!this._elementInViewPastThreshold(e)&&(e.inThreshold=!1,e.trigger("thresholdexit",e),e.engagedTimeout&&(window.clearTimeout(e.engagedTimeout),e.engagedTimeout=null))},n._engaged=function(e){e.engagedTimeout=null,this._elementEngaged(e),e.trigger("engaged",e),this.trigger("engaged",e)},n._thresholdEnter=function(e){e.thresholdEnterTime=Date.now(),e.thresholdExitTime=0,this.trigger("thresholdenter",e)},n._thresholdExit=function(e){e.thresholdExitTime=Date.now(),this.trigger("thresholdexit",e)},n._enterView=function(e){this.trigger("enterview",e)},n._exitView=function(e){this.trigger("exitview",e)},n._elementEngaged=function(e){e.engaged=!0,e.stopOnEngaged&&this.stop(e)},n.stop=function(e){this.tracking&&!e&&(this._removeAllElementListeners(),o.prototype.stop.call(this)),e&&e.tracking&&(e.tracking=!1,this._removeElementListeners(e),this.removeElement(e))},n.start=function(e){e||this._attachAllElementListeners(),e&&!e.tracking&&(e.stopOnEngaged?e.engaged||(e.tracking=!0,this._attachElementListeners(e)):(e.tracking=!0,this._attachElementListeners(e))),this.tracking?(this.refreshAllElementMetrics(),this.refreshAllElementStates()):o.prototype.start.call(this)},n.addElement=function(e,t){t=t||{};var i=o.prototype.addElement.call(this,e,t.useRenderedPosition);return this._decorateTrackedElement(i,t),i},n.addElements=function(e,t){[].forEach.call(e,function(e){this.addElement(e,t)},this)},t.exports=h},{"@marcom/ac-element-tracker":83,"@marcom/ac-event-emitter-micro":86,"@marcom/ac-object/defaults":163,"@marcom/ac-object/extend":164}],79:[function(e,t,i){"use strict";t.exports=function(e,t){var i;return t?(i=e.getBoundingClientRect(),{width:i.width,height:i.height}):{width:e.offsetWidth,height:e.offsetHeight}}},{}],80:[function(e,t,i){"use strict";var n=e("./getDimensions"),r=e("./getScrollX"),s=e("./getScrollY");t.exports=function(e,t){var i,o,a,c;if(t)return i=e.getBoundingClientRect(),o=r(),a=s(),{top:i.top+a,right:i.right+o,bottom:i.bottom+a,left:i.left+o};for(c=n(e,t),i={top:e.offsetTop,left:e.offsetLeft,width:c.width,height:c.height};e=e.offsetParent;)i.top+=e.offsetTop,i.left+=e.offsetLeft;return{top:i.top,right:i.left+i.width,bottom:i.top+i.height,left:i.left}}},{"./getDimensions":79,"./getScrollX":81,"./getScrollY":82}],81:[function(e,t,i){"use strict";t.exports=function(e){return e=e||window,e===window?window.scrollX||window.pageXOffset:e.scrollLeft}},{}],82:[function(e,t,i){"use strict";t.exports=function(e){return e=e||window,e===window?window.scrollY||window.pageYOffset:e.scrollTop}},{}],83:[function(e,t,i){var n=e("./ac-element-tracker/ElementTracker"),r=e("./ac-element-tracker/TrackedElement");t.exports=new n,t.exports.ElementTracker=n,t.exports.TrackedElement=r},{"./ac-element-tracker/ElementTracker":84,"./ac-element-tracker/TrackedElement":85}],84:[function(e,t,i){"use strict";function n(e,t){this.options=o.clone(c),this.options="object"==typeof t?o.extend(this.options,t):this.options,this._scrollY=this._getScrollY(),this._windowHeight=this._getWindowHeight(),this.tracking=!1,this.elements=[],e&&(Array.isArray(e)||r.isNodeList(e)||r.isElement(e))&&this.addElements(e),this.refreshAllElementStates=this.refreshAllElementStates.bind(this),this.refreshAllElementMetrics=this.refreshAllElementMetrics.bind(this),this.options.autoStart&&this.start()}var r={isNodeList:e("@marcom/ac-dom-nodes/isNodeList"),isElement:e("@marcom/ac-dom-nodes/isElement")},s={getDimensions:e("@marcom/ac-dom-metrics/getDimensions"),getPagePosition:e("@marcom/ac-dom-metrics/getPagePosition"),getScrollY:e("@marcom/ac-dom-metrics/getScrollY")},o={clone:e("@marcom/ac-object/clone"),extend:e("@marcom/ac-object/extend")},a=e("./TrackedElement"),c={autoStart:!1,useRenderedPosition:!1},h=n.prototype;h.destroy=function(){var e,t;for(this.stop(),e=0,t=this.elements.length;e<t;e++)this.elements[e].destroy();this.elements=null,this.options=null},h._registerTrackedElements=function(e){var t=[].concat(e);t.forEach(function(e){this._elementInDOM(e.element)&&(e.offsetTop=e.element.offsetTop,this.elements.push(e))},this)},h._elementInDOM=function(e){var t=!1,i=document.getElementsByTagName("body")[0];return r.isElement(e)&&i.contains(e)&&(t=!0),t},h._elementPercentInView=function(e){return e.pixelsInView/e.height},h._elementPixelsInView=function(e){var t=e.top-this._scrollY,i=e.bottom-this._scrollY;return t>this._windowHeight||i<0?0:Math.min(i,this._windowHeight)-Math.max(t,0)},h._ifInView=function(e,t){t||e.trigger("enterview",e)},h._ifAlreadyInView=function(e){e.inView||e.trigger("exitview",e)},h.addElements=function(e,t){"undefined"==typeof t&&(t=this.options.useRenderedPosition),e=r.isNodeList(e)?Array.prototype.slice.call(e):[].concat(e);for(var i=0,n=e.length;i<n;i++)this.addElement(e[i],t)},h.addElement=function(e,t){var i=null;if("undefined"==typeof t&&(t=this.options.useRenderedPosition),!r.isElement(e))throw new TypeError("ElementTracker: "+e+" is not a valid DOM element");return i=new a(e,t),this._registerTrackedElements(i),this.refreshElementMetrics(i),this.refreshElementState(i),i},h.removeElement=function(e){var t,i=[];this.elements.forEach(function(t,n){t!==e&&t.element!==e||i.push(n)}),t=this.elements.filter(function(e,t){return i.indexOf(t)<0}),this.elements=t},h.start=function(){this.tracking===!1&&(this.tracking=!0,window.addEventListener("resize",this.refreshAllElementMetrics),window.addEventListener("orientationchange",this.refreshAllElementMetrics),window.addEventListener("scroll",this.refreshAllElementStates),this.refreshAllElementMetrics())},h.stop=function(){this.tracking===!0&&(this.tracking=!1,window.removeEventListener("resize",this.refreshAllElementMetrics),window.removeEventListener("orientationchange",this.refreshAllElementMetrics),window.removeEventListener("scroll",this.refreshAllElementStates))},h.refreshAllElementMetrics=function(e,t){"number"!=typeof e&&(e=this._getScrollY()),"number"!=typeof t&&(t=this._getWindowHeight()),this._scrollY=e,this._windowHeight=t,this.elements.forEach(this.refreshElementMetrics,this)},h.refreshElementMetrics=function(e){if(!e.isActive)return e;var t=s.getDimensions(e.element,e.useRenderedPosition),i=s.getPagePosition(e.element,e.useRenderedPosition);return e=o.extend(e,t,i),this.refreshElementState(e)},h.refreshAllElementStates=function(e){"number"!=typeof e&&(e=this._getScrollY()),this._scrollY=e,this.elements.forEach(this.refreshElementState,this)},h.refreshElementState=function(e){if(!e.isActive)return e;var t=e.inView;return e.pixelsInView=this._elementPixelsInView(e),e.percentInView=this._elementPercentInView(e),e.inView=e.pixelsInView>0,e.inView&&this._ifInView(e,t),t&&this._ifAlreadyInView(e),e},h.pauseElementTracking=function(e){e&&(e.isActive=!1)},h.resumeElementTracking=function(e){e&&(e.isActive=!0)},h._getWindowHeight=function(){return window.innerHeight},h._getScrollY=function(){return s.getScrollY()},t.exports=n},{"./TrackedElement":85,"@marcom/ac-dom-metrics/getDimensions":79,"@marcom/ac-dom-metrics/getPagePosition":80,"@marcom/ac-dom-metrics/getScrollY":82,"@marcom/ac-dom-nodes/isElement":61,"@marcom/ac-dom-nodes/isNodeList":63,"@marcom/ac-object/clone":161,"@marcom/ac-object/extend":164}],85:[function(e,t,i){"use strict";function n(e,t){if(!r.isElement(e))throw new TypeError("TrackedElement: "+e+" is not a valid DOM element");s.call(this),this.element=e,this.inView=!1,this.isActive=!0,this.percentInView=0,this.pixelsInView=0,this.offsetTop=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.useRenderedPosition=t||!1}var r={isElement:e("@marcom/ac-dom-nodes/isElement")},s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=s.prototype,a=n.prototype=Object.create(o);a.destroy=function(){this.element=null,o.destroy.call(this)},t.exports=n},{"@marcom/ac-dom-nodes/isElement":61,"@marcom/ac-event-emitter-micro":86}],86:[function(e,t,i){"use strict";t.exports={EventEmitterMicro:e("./ac-event-emitter-micro/EventEmitterMicro")}},{"./ac-event-emitter-micro/EventEmitterMicro":87}],87:[function(e,t,i){"use strict";function n(){this._events={}}var r=n.prototype;r.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].unshift(t)},r.once=function(e,t){function i(r){n.off(e,i),void 0!==r?t(r):t()}var n=this;this.on(e,i)},r.off=function(e,t){if(this.has(e)){if(1===arguments.length)return this._events[e]=null,void delete this._events[e];var i=this._events[e].indexOf(t);i!==-1&&this._events[e].splice(i,1)}},r.trigger=function(e,t){if(this.has(e))for(var i=this._events[e].length-1;i>=0;i--)void 0!==t?this._events[e][i](t):this._events[e][i]()},r.has=function(e){return e in this._events!=!1&&0!==this._events[e].length},r.destroy=function(){for(var e in this._events)this._events[e]=null;this._events=null},t.exports=n},{}],88:[function(e,t,i){"use strict";t.exports={canvasAvailable:e("./canvasAvailable"),continuousScrollEventsAvailable:e("./continuousScrollEventsAvailable"),cookiesAvailable:e("./cookiesAvailable"),cssLinearGradientAvailable:e("./cssLinearGradientAvailable"),cssPropertyAvailable:e("./cssPropertyAvailable"),cssViewportUnitsAvailable:e("./cssViewportUnitsAvailable"),elementAttributeAvailable:e("./elementAttributeAvailable"),eventTypeAvailable:e("./eventTypeAvailable"),isDesktop:e("./isDesktop"),isHandheld:e("./isHandheld"),isRetina:e("./isRetina"),isTablet:e("./isTablet"),localStorageAvailable:e("./localStorageAvailable"),mediaElementsAvailable:e("./mediaElementsAvailable"),mediaQueriesAvailable:e("./mediaQueriesAvailable"),prefersReducedMotion:e("./prefersReducedMotion"),sessionStorageAvailable:e("./sessionStorageAvailable"),svgAvailable:e("./svgAvailable"),threeDTransformsAvailable:e("./threeDTransformsAvailable"),touchAvailable:e("./touchAvailable"),webGLAvailable:e("./webGLAvailable")}},{"./canvasAvailable":89,"./continuousScrollEventsAvailable":90,"./cookiesAvailable":91,"./cssLinearGradientAvailable":92,"./cssPropertyAvailable":93,"./cssViewportUnitsAvailable":94,"./elementAttributeAvailable":95,"./eventTypeAvailable":96,"./isDesktop":98,"./isHandheld":99,"./isRetina":100,"./isTablet":101,"./localStorageAvailable":102,"./mediaElementsAvailable":103,"./mediaQueriesAvailable":104,"./prefersReducedMotion":105,"./sessionStorageAvailable":106,"./svgAvailable":107,"./threeDTransformsAvailable":108,"./touchAvailable":109,"./webGLAvailable":110}],89:[function(e,t,i){"use strict";var n=e("./helpers/globals"),r=e("@marcom/ac-function/once"),s=function(){var e=n.getDocument(),t=e.createElement("canvas");return!("function"!=typeof t.getContext||!t.getContext("2d"))};t.exports=r(s),t.exports.original=s},{"./helpers/globals":97,"@marcom/ac-function/once":132}],90:[function(e,t,i){"use strict";function n(){return!s()||r.os.ios&&r.os.version.major>=8||r.browser.chrome}var r=e("@marcom/ac-useragent"),s=e("./touchAvailable").original,o=e("@marcom/ac-function/once");t.exports=o(n),t.exports.original=n},{"./touchAvailable":109,"@marcom/ac-function/once":132,"@marcom/ac-useragent":201}],91:[function(e,t,i){"use strict";function n(){var e=!1,t=r.getDocument(),i=r.getNavigator();try{"cookie"in t&&i.cookieEnabled&&(t.cookie="ac_feature_cookie=1",e=t.cookie.indexOf("ac_feature_cookie")!==-1,t.cookie="ac_feature_cookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")}catch(n){}return e}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132}],92:[function(e,t,i){"use strict";function n(){var e=["linear-gradient(to bottom right, #9f9, white)","linear-gradient(top left, #9f9, white)","gradient(linear, left top, right bottom, from(#9f9), to(white))"];return e.some(function(e){return!!r("background-image",e)})}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"@marcom/ac-function/once":132,"@marcom/ac-prefixer/getStyleValue":173}],93:[function(e,t,i){"use strict";function n(e,t){return"undefined"!=typeof t?!!r(e,t):!!s(e)}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-prefixer/getStyleProperty"),o=e("@marcom/ac-function/memoize");t.exports=o(n),t.exports.original=n},{"@marcom/ac-function/memoize":131,"@marcom/ac-prefixer/getStyleProperty":172,"@marcom/ac-prefixer/getStyleValue":173}],94:[function(e,t,i){"use strict";function n(){return!!r("margin","1vw 1vh")}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"@marcom/ac-function/once":132,"@marcom/ac-prefixer/getStyleValue":173}],95:[function(e,t,i){"use strict";function n(e,t){var i,n=r.getDocument();return t=t||"div",i=n.createElement(t),e in i}var r=e("./helpers/globals"),s=e("@marcom/ac-function/memoize");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/memoize":131}],96:[function(e,t,i){"use strict";function n(e,t){return!!r(e,t)}var r=e("@marcom/ac-prefixer/getEventType"),s=e("@marcom/ac-function/memoize");t.exports=s(n),t.exports.original=n},{"@marcom/ac-function/memoize":131,"@marcom/ac-prefixer/getEventType":170}],97:[function(e,t,i){"use strict";t.exports={getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator}}},{}],98:[function(e,t,i){"use strict";function n(){var e=s.getWindow();return!r()&&!e.orientation}var r=e("./touchAvailable").original,s=e("./helpers/globals"),o=e("@marcom/ac-function/once");t.exports=o(n),t.exports.original=n},{"./helpers/globals":97,"./touchAvailable":109,"@marcom/ac-function/once":132}],99:[function(e,t,i){"use strict";function n(){return!r()&&!s()}var r=e("./isDesktop").original,s=e("./isTablet").original,o=e("@marcom/ac-function/once");t.exports=o(n),t.exports.original=n},{"./isDesktop":98,"./isTablet":101,"@marcom/ac-function/once":132}],100:[function(e,t,i){"use strict";var n=e("./helpers/globals");t.exports=function(){var e=n.getWindow();return"devicePixelRatio"in e&&e.devicePixelRatio>=1.5}},{"./helpers/globals":97}],101:[function(e,t,i){"use strict";function n(){var e=s.getWindow(),t=e.screen.width;return e.orientation&&e.screen.height<t&&(t=e.screen.height),!r()&&t>=a}var r=e("./isDesktop").original,s=e("./helpers/globals"),o=e("@marcom/ac-function/once"),a=600;t.exports=o(n),t.exports.original=n},{"./helpers/globals":97,"./isDesktop":98,"@marcom/ac-function/once":132}],102:[function(e,t,i){"use strict";function n(){var e=r.getWindow(),t=!1;try{t=!(!e.localStorage||null===e.localStorage.non_existent)}catch(i){}return t}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132}],103:[function(e,t,i){"use strict";function n(){var e=r.getWindow();return"HTMLMediaElement"in e}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132}],104:[function(e,t,i){"use strict";function n(){var e=r.getWindow(),t=e.matchMedia("only all");return!(!t||!t.matches)}e("@marcom/ac-polyfills/matchMedia");var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132,"@marcom/ac-polyfills/matchMedia":void 0}],105:[function(e,t,i){"use strict";function n(){var e=r.getWindow(),t=e.matchMedia("(prefers-reduced-motion)");return!(!t||!t.matches)}var r=e("./helpers/globals");t.exports=n},{"./helpers/globals":97}],106:[function(e,t,i){"use strict";function n(){var e=r.getWindow(),t=!1;try{"sessionStorage"in e&&"function"==typeof e.sessionStorage.setItem&&(e.sessionStorage.setItem("ac_feature","test"),t=!0,e.sessionStorage.removeItem("ac_feature","test"))}catch(i){}return t}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132}],107:[function(e,t,i){"use strict";function n(){var e=r.getDocument();return!!e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132}],108:[function(e,t,i){"use strict";function n(){return!(!r("perspective","1px")||!r("transform","translateZ(0)"))}var r=e("@marcom/ac-prefixer/getStyleValue"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"@marcom/ac-function/once":132,"@marcom/ac-prefixer/getStyleValue":173}],109:[function(e,t,i){"use strict";function n(){var e=r.getWindow(),t=r.getDocument(),i=r.getNavigator();return!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch||i.maxTouchPoints>0||i.msMaxTouchPoints>0)}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132}],110:[function(e,t,i){"use strict";function n(){var e=r.getDocument(),t=e.createElement("canvas");return"function"==typeof t.getContext&&!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}var r=e("./helpers/globals"),s=e("@marcom/ac-function/once");
t.exports=s(n),t.exports.original=n},{"./helpers/globals":97,"@marcom/ac-function/once":132}],111:[function(e,t,i){"use strict";function n(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-raf-executor/sharedRAFExecutorInstance"),a=e("@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance");r=n.prototype=Object.create(s.prototype),r.run=function(){return!this._willRun&&(this._willRun=!0,this.executor.subscribe(this),!0)},r.cancel=function(){var e=!1;return this._willRun&&(this.executor.unsubscribe(this),this._willRun=!1,e=!0),this._reset(),e},r.destroy=function(){var e=this.cancel();return this.executor.unsubscribe(this),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=n},{"@marcom/ac-event-emitter-micro":86,"@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance":189,"@marcom/ac-raf-executor/sharedRAFExecutorInstance":113}],112:[function(e,t,i){"use strict";function n(e){e=e||{},this._reset(),this._willRun=!1,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}e("@marcom/ac-polyfills/performance/now");var r;r=n.prototype,r.subscribe=function(e){return!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberCount++,this._run(),!0)},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.trigger=function(e,t){var i;for(i in this._subscribers)this._subscribers.hasOwnProperty(i)&&null!==this._subscribers[i]&&this._subscribers[i]._didDestroy===!1&&this._subscribers[i].trigger(e,t)},r.destroy=function(){var e=this._cancel();return this._subscribers=null,this._nextFrameSubscribers=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=window.requestAnimationFrame(this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=requestAnimationFrame(this._boundOnAnimationFrame)),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onSubscribersAnimationFrameStart=function(e){var t;for(t in this._subscribers)this._subscribers.hasOwnProperty(t)&&null!==this._subscribers[t]&&this._subscribers[t]._didDestroy===!1&&this._subscribers[t]._onAnimationFrameStart(e)},r._onSubscribersAnimationFrameEnd=function(e){var t;for(t in this._subscribers)this._subscribers.hasOwnProperty(t)&&null!==this._subscribers[t]&&this._subscribers[t]._didDestroy===!1&&this._subscribers[t]._onAnimationFrameEnd(e)},r._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._nextFrameSubscribers={},this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=n},{"@marcom/ac-polyfills/performance/now":void 0}],113:[function(e,t,i){"use strict";var n=e("@marcom/ac-shared-instance").SharedInstance,r="ac-raf-executor:sharedRAFExecutorInstance",s="1.0.3",o=e("./RAFExecutor");t.exports=n.share(r,s,o)},{"./RAFExecutor":112,"@marcom/ac-shared-instance":198}],114:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Promise"),e("@marcom/ac-polyfills/JSON"),t.exports={createFlow:e("./ac-flow/flow/factory"),Player:e("./ac-flow/flow/Player")}},{"./ac-flow/flow/Player":117,"./ac-flow/flow/factory":128,"@marcom/ac-polyfills/JSON":void 0,"@marcom/ac-polyfills/Promise":void 0}],115:[function(e,t,i){"use strict";function n(e,t,i,n){r.call(this),this._compositor=new h(t,i,n),this.options=e||{}}var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("./compositor/decorator/Keyframe"),o=e("./compositor/decorator/Superframe"),a=e("./compositor/decorator/SuperKeyframe"),c=e("./compositor/decorator/Cache"),h=e("./compositor/Sequence"),u=n.prototype=new r(null);u._gotoImageFrame=function(e){return this._rendering?Promise.resolve():this._currentFrame===e?Promise.resolve():(this._rendering=!0,this._compositor.compositeFrames(this._currentFrame,e).then(function(){this._rendering=!1,this._currentFrame=e}.bind(this)))},u.init=function(){var e;return"CANVAS"===this.options.element.nodeName?e=this.options.element:(e=document.createElement("canvas"),this.options.element.appendChild(e)),this.gotoFrame=this._gotoImageFrame,this._compositor.init(e).then(this._decorateCompositor.bind(this))},u.resumeLoading=function(){return this._compositor.resumeLoading()},u.pauseLoading=function(){this._compositor.pauseLoading()},u._decorateCompositor=function(){var e,t,i=this._compositor;return i?(e=this._compositor._diffRender.flowData,t=this._compositor.canvas,e.superframeFrequency&&(i=new o(i,e.superframeFrequency)),e.version>=4&&(i=new s(i)),e.version>=4&&e.superframeFrequency&&(i=new a(i)),this.options.keyframeCache&&(i=new c(i,this.options.keyframeCache)),i===this._compositor?Promise.resolve():(this._compositor=i,this._compositor.init(t))):Promise.reject()},u._destroy=function(){this.off(),this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(u,{_currentFrame:{value:0,enumerable:!1,writable:!0},frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0}}),t.exports=n},{"./compositor/Sequence":118,"./compositor/decorator/Cache":119,"./compositor/decorator/Keyframe":120,"./compositor/decorator/SuperKeyframe":121,"./compositor/decorator/Superframe":122,"@marcom/ac-event-emitter-micro":86}],116:[function(e,t,i){"use strict";var n=e("@marcom/ac-asset-loader/assetLoader"),r=e("./data/provider/Async"),s=function(e,t,i){this._manifestUrl=e,this._keyframeUrls=t,this._imageUrlPattern=i,this.state={manifestLoaded:!1,keyframesLoaded:!1,diffsLoaded:!1,diffCountLoaded:0,totalDiffs:null},this.assets={keyframes:null,manifest:null,diffs:null},this._promises={},this._loaders={},this._activeLoaders=[],this._resumeQueue=[],this._paused=!0,this._shouldPause=!1,this._boundOnManifestLoaded=this._onManifestLoaded.bind(this),this._boundOnKeyframesLoaded=this._onKeyframesLoaded.bind(this),this._boundOnDiffsLoaded=this._onDiffsLoaded.bind(this)},o=s.prototype;o.setManifestUrl=function(e){return this._manifestUrl=e,this},o.setKeyframeUrls=function(e){return this._keyframeUrls=e,this},o.setImageUrlPattern=function(e){return this._imageUrlPattern=e,this},o.pause=function(){this._shouldPause=!0;var e,t=this._activeLoaders.length;for(e=0;e<t;e++)this._activeLoaders[e].pause();this._paused=!0},o.destroy=function(){var e,t,i;this.pause();for(e in this._loaders)this._loaders.hasOwnProperty(e)&&this._loaders[e].destroy();for(t in this._promises)this._promises.hasOwnProperty(t)&&"pending"===this._promises[t].status()&&this._promises[t].reject();for(i in this)this.hasOwnProperty(i)&&(this[i]=null)},o.load=function(){if(this._paused&&(this._activeLoaders.length>0||this._resumeQueue.length>0))return this._resume(),!0},o._resume=function(){this._shouldPause=!1;var e,t=this._activeLoaders.length;for(e=0;e<t;e++)this._activeLoaders[e].load();var i,n=this._resumeQueue.length;for(i=0;i<n;i++)this._resumeQueue[i].call(this);this._resumeQueue=[],this._paused=!1},o.loadManifest=function(){return this._shouldPause?void this._resumeQueue.push(this.loadManifest):this.assets.manifest?this.assets.manifest:(this._paused=!1,this._loaders.manifest=new r(this._getManifestAssetsData()),this._activeLoaders.push(this._loaders.manifest),this._loaders.manifest.load().then(this._boundOnManifestLoaded))},o.loadKeyframes=function(){var e;return this._shouldPause&&this._resumeQueue.push(this.loadKeyframes),this.assets.keyframes?e=Promise.resolve(this.assets.keyframes):(this._paused=!1,this._loaders.keyframes=n.createAssetGroup(this._getKeyframesAssetsData()),this._activeLoaders.push(this._loaders.keyframes),e=this._loaders.keyframes.load().then(this._boundOnKeyframesLoaded)),this._promises.keyframes=e,this._promises.keyframes},o.loadDiffs=function(){var e;return this._shouldPause&&this._resumeQueue.push(this.loadDiffs),this.assets.diffs?e=this._promises.diffs.resolve(this.assets.diffs):(this._paused=!1,this._loaders.diffs=n.createAssetGroup(this._getDiffsAssetsData()),this._activeLoaders.push(this._loaders.diffs),e=this._loaders.diffs.load().then(this._boundOnDiffsLoaded)),this._promises.diffs=e,this._promises.diffs},o._getManifestAssetsData=function(){return this._manifestUrl},o._getKeyframesAssetsData=function(){return this._keyframeUrls},o._getDiffsAssetsData=function(){var e,t,i=this.assets.manifest.imagesRequired,n=[],r=this._imageUrlPattern.match(/#/g).length;for(e=1;e<=i;e++)t="0000"+e,t=t.substring(t.length-r),n.push(this._imageUrlPattern.replace(/#{2,}/g,t));return n},o._onManifestLoaded=function(e){if(this.assets)return this.assets.manifest=e,this.state.manifestLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.manifest),this.assets.manifest},o._onKeyframesLoaded=function(e){if(this.assets)return this.assets.keyframes=e,this.state.keyframeLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.keyframes),Promise.resolve(this.assets.keyframes)},o._onDiffsLoaded=function(e){if(this.assets)return this.assets.diffs=e,this.state.diffsLoaded=!0,this._paused=!0,this._removeFromActiveLoaders(this._loaders.diffs),Promise.resolve(this.assets.diffs)},o._removeFromActiveLoaders=function(e){var t,i=this._activeLoaders.length;for(t=0;t<i;t++)if(this._activeLoaders[t]===e)return void this._activeLoaders.splice(t,1)},t.exports=s},{"./data/provider/Async":126,"@marcom/ac-asset-loader/assetLoader":15}],117:[function(e,t,i){"use strict";function n(e,t){this.element=t,this._domEmitter=new r(t),this._frameRate=30,this.paused=!0,this.loop=!1,this._destroyed=!1,this._flow=e,this._rafEmitter=new s,this._rafDrawSet=!1,this._shouldAdvanceToTimeGlobal=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1,this._boundAdvanceTimeToGlobal=this._advanceToTimeGlobal.bind(this),this._onBoundGlobalTimeUpdate=this._onGlobalTimeUpdate.bind(this),this._onBoundLocalTimeUpdate=this._onLocalTimeUpdate.bind(this),this._rafEmitter.on("draw",this._onDraw.bind(this))}var r=e("@marcom/ac-dom-emitter").DOMEmitter,s=e("@marcom/ac-raf-emitter/RAFEmitter"),o=n.prototype;o._timeToFrame=function(e){var t;return t=Math.round(e/this.duration*this._flow.frameCount),t%=this._flow.frameCount+1,t<0?this._flow.frameCount+t:t},o._advanceToTimeGlobal=function(e){if(this._rafDrawSet){this._prevTime=this._prevTime||e.time,this._currentTime+=(e.time-this._prevTime)/1e3*this.playbackRate,this._prevTime=e.time,this._pauseAfterRender=!1;var t=this._timeToFrame(this._currentTime);if(this.loop?this._currentTime=(this.duration+this._currentTime)%this.duration:this.playbackRate>0&&this._currentTime>this.duration?(t=this._flow.frameCount,this._currentTime=this.duration,this._pauseAfterRender=!0):this.playbackRate<0&&this._currentTime<0&&(t=0,this._currentTime=0,this._pauseAfterRender=!0),!this.paused&&!this.seeking)return this._flow.gotoFrame(t).then(this._onBoundGlobalTimeUpdate)}},o._onGlobalTimeUpdate=function(){this.trigger("timeupdate"),this._pauseAfterRender?(this.paused=!0,this.trigger("ended")):this._bindAdvanceToTimeGlobal()},o._onLocalTimeUpdate=function(){this.seeking=!1,this.trigger("timeupdate"),this.trigger("seeked"),this._bindAdvanceToTimeGlobal()},o._advanceToTimeLocal=function(e){this.seeking||(this.seeking=!0,this.trigger("seeking"),this._currentTime=1*e,this._prevTime=null,this._cancelFrame(),this._flow.gotoFrame(this._timeToFrame(e)).then(this._onBoundLocalTimeUpdate))},o._onLoaded=function(){this.trigger("loaded"),this.trigger("canplaythrough")},o._nullProperties=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(e[t]=null);return e},o.destroy=function(){this._rafEmitter.destroy(),this.trigger("destroy"),this.pause(),this.off(),this._flow.destroy(),this._flow=this._nullProperties(this._flow),this._nullProperties(this)},o.load=function(){if(!this._flow.resumeLoading())return this.trigger("loadstart"),this._flow.init().then(function(e){var t=function(){this._onLoaded()}.bind(this),i=function(){this._destroyed===!1&&this.trigger("error")}.bind(this);return e?e.then(t,i):void t()}.bind(this))},o.pauseLoading=function(){this._flow.pauseLoading()},o.play=function(){return this.paused&&(this.paused=!1,this.trigger("play"),this._prevTime=null,this._bindAdvanceToTimeGlobal()),this},o.pause=function(){return this.paused||(this.paused=!0,this._cancelFrame(),this.trigger("pause")),this},o.on=function(){this._domEmitter.on.apply(this._domEmitter,arguments)},o.once=function(){this._domEmitter.once.apply(this._domEmitter,arguments)},o.trigger=function(){this._domEmitter.trigger.apply(this._domEmitter,arguments)},o.off=function(){this._domEmitter.off.apply(this._domEmitter,arguments)},o._cancelFrame=function(){this._rafEmitter.cancel(),this._rafDrawSet=!1},o._onDraw=function(e){this._shouldAdvanceToTimeGlobal?this._advanceToTimeGlobal(e):this._shouldGlobalTimeUpdate?this._onGlobalTimeUpdate(e):this._shouldLocalTimeUpdate&&this._onLocalTimeUpdate(e),this._shouldLocalTimeUpdate=!1,this._shouldGlobalTimeUpdate=!1,this._shouldLocalTimeUpdate=!1},o._bindAdvanceToTimeGlobal=function(){this._rafDrawSet=!0,this._shouldAdvanceToTimeGlobal=!0,this._rafEmitter.run()},o._bindGlobalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldGlobalTimeUpdate=!0,this._rafEmitter.run()},o._bindLocalTimeUpdate=function(){this._rafDrawSet=!0,this._shouldLocalTimeUpdate=!0,this._rafEmitter.run()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(o,{_currentTime:{value:0,enumerable:!1,writable:!0},_playbackRate:{value:1,enumerable:!1,writable:!0},currentTime:{get:function(){return 1*this._currentTime},set:o._advanceToTimeLocal,enumerable:!0},frameRate:{get:function(){return this._frameRate},set:function(e){isFinite(e)&&(this._frameRate=e,this.trigger("durationchange"))},enumerable:!0},playbackRate:{get:function(){return 1*this._playbackRate},set:function(e){isFinite(e)&&(this._playbackRate=1*e,this.trigger("ratechange"))},enumerable:!0},duration:{get:function(){return this._flow.frameCount/this.frameRate},enumerable:!0}}),t.exports=n},{"@marcom/ac-dom-emitter":27,"@marcom/ac-raf-emitter/RAFEmitter":111}],118:[function(e,t,i){"use strict";function n(e,t,i){this._keyframes=t,this._imageUrlPattern=i,this._loadController=new s(e,t,i)}var r=e("../diff/Render"),s=e("../LoadController"),o=n.prototype;o._initDiffRender=function(e){this._images=e.assets.map(function(e){return e.data}),this.canvas.height=this._images[0].height,this.canvas.width=this._images[0].width,this.applyFrame(this._images[0])},o.init=function(e){return this.canvas=e||document.createElement("canvas"),this.context=e.getContext("2d"),this._loadController.loadKeyframes().then(this._initDiffRender.bind(this)).then(this._loadController.loadManifest.bind(this._loadController)).then(this.createDiffRender.bind(this))},o.resumeLoading=function(){return this._loadController.load()},o.pauseLoading=function(){this._loadController.pause()},o.createDiffRender=function(e){return this._diffRender=new r(e,this._imageUrlPattern,this._loadController),this._diffRender.init()},o.applyFrame=function(e){var t=this.context;t.drawImage(e,0,0)},o.calculateRenderCount=function(e,t){var i=0;return Math.abs(t-e)>=t?(e=1,i=1):Math.abs(t-e)>=this.frameCount-t&&this._images[1]&&(e=this.frameCount-2,i=1),t>0&&t<this.frameCount-1?Math.abs(e-t)+i:i},o.compositeFrames=function(e,t){t=this.frameCount<t?this.frameCount-1:t<0?0:t,e=this.frameCount-2<e?this.frameCount-2:e<0?0:e;var i;if(Math.abs(t-e)>=t?(e=1,this.applyFrame(this._images[0])):Math.abs(t-e)>=this.frameCount-t&&this._images[1]&&(e=this.frameCount-2,this.applyFrame(this._images[1])),i=e>t?-1:e<t?1:0,t>0&&t<this.frameCount-1)for(;e!==t;)this._diffRender.renderDiff(this.canvas,e),e+=i;return Promise.resolve(e)},o.destroy=function(){this._loadController.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(o,{frameCount:{get:function(){return this._diffRender.frames.length+2},enumerable:!0},canvas:{get:function(){return this._canvas},set:function(e){return this._canvas=e},enumerable:!0},mainCompositor:{get:function(){for(var e=this;e._compositor;)e=e._compositor;return e},enumerable:!0}}),t.exports=n},{"../LoadController":116,"../diff/Render":127}],119:[function(e,t,i){"use strict";function n(e,t){this._compositor=e,this._keyframeInterval=t||8,this._keyframes=[]}var r=n.prototype;r._getClosestKeyframe=function(e){var t=e%this._keyframeInterval,i=Math.floor(e/this._keyframeInterval)+(t>this._keyframeInterval/2?1:0);return i},r._getFrameFromKeyframe=function(e){return e*this._keyframeInterval},r._saveKeyframe=function(e){var t,i=Math.floor(e/this._keyframeInterval);e%this._keyframeInterval!==0||this._keyframes[i]||(t=document.createElement("canvas"),t.width=this._compositor.canvas.width,t.height=this._compositor.canvas.height,t.getContext("2d").drawImage(this._compositor.canvas,0,0),this._keyframes[i]=t)},r.init=function(e){return this._compositor.init.apply(this._compositor,arguments)},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},r.calculateRenderCount=function(e,t){return e=this._getFrameFromKeyframe(this._getClosestKeyframe(t)),this._compositor.calculateRenderCount(e,t)+1},r.compositeFrames=function(e,t){var i=this._getClosestKeyframe(t);return this._keyframes[i]&&this._compositor.calculateRenderCount(e,t)>this.calculateRenderCount(e,t)?(e=this._getFrameFromKeyframe(i),this.applyFrame(this._keyframes[i]),this._compositor.compositeFrames(e,t).then(function(){})):this._compositor.compositeFrames(e,t).then(function(){},null,this._saveKeyframe.bind(this))},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0}}),t.exports=n},{}],120:[function(e,t,i){"use strict";function n(e){this._compositor=e,this._flowDataProvider=this.mainCompositor._loadController._loaders.manifest}var r=e("../../keyframe/Render"),s=n.prototype;s.init=function(e){return this._keyframeDiffRender=new r(this._flowDataProvider._data,this.mainCompositor._imageUrlPattern),this._keyframeDiffRender.init()},s.resumeLoading=function(){return this._compositor.resumeLoading()},s.pauseLoading=function(){return this._compositor.pauseLoading()},s.applyFrame=function(e){return this._compositor.applyFrame.apply(this._compositor,arguments)},s.applyKeyframe=function(e,t){this._keyframeDiffRender.renderKeyframe(this.canvas,e,t)},s.compositeFrames=function(e,t){return this._isKeyframeDiff(t-1)?(this.applyKeyframe(t-1),Promise.resolve(e-1)):this._compositor.compositeFrames.apply(this._compositor,arguments)},s._isKeyframeDiff=function(e){return e in this._keyframeDiffRender._loader._keyframes},s.calculateRenderCount=function(e,t){return this._compositor.calculateRenderCount.apply(this._compositor,arguments)},s.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(s,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=n},{"../../keyframe/Render":130}],121:[function(e,t,i){"use strict";function n(e){this._compositor=e,this._frames=this.mainCompositor._loadController._loaders.manifest._data.frames,this._superframeInterval=this.mainCompositor._diffRender.flowData.superframeFrequency}var r=n.prototype;r.init=function(e){return this._compositor.init.apply(this._compositor,arguments)},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(e){return this._compositor.applyFrame.apply(this._compositor,arguments)},r.applyKeyframe=function(e,t){this._compositor.applyKeyframe.apply(this._compositor,arguments)},r.compositeFrames=function(e,t){var i,n;return t<1||t>this.frameCount-2?this._compositor.compositeFrames.apply(this._compositor,arguments):this._isKeyframeDiff(t-1)?(i=1===Math.abs(e-t),this.applyKeyframe(t-1,i),Promise.resolve(e-1)):Math.abs(t-e)>this._superframeInterval&&(n=this._getShortestRender(e,t),this._isKeyframeDiff(n-1)||n<=0||n>=this.frameCount-2)?this._compositeFromSuperKeyframe(n,t):this._compositor.compositeFrames.apply(this._compositor,[e,t])},r._getShortestRender=function(e,t){var i=this._compositor.calculateRenderCount,n=this._getClosestSuperKeyframe(t-1),r=i.apply(this._compositor,[n,t])+1,s=i.apply(this._compositor,[e,t]);return r<=s?n:e},r._compositeFromSuperKeyframe=function(e,t){var i=this.canvas.getContext("2d"),n=e<=0?this.mainCompositor._images[0]:e>=this.frameCount-2?this.mainCompositor._images[1]:this._frames[e-1].image;return i.drawImage(n,0,0),this._compositor.compositeFrames.call(this._compositor,e,t)},r._getClosestSuperFrame=function(e){return Math.round(e/this._superframeInterval)*this._superframeInterval},r._getClosestSuperKeyframe=function(e){var t,i,n,r,s=this._frames.length;if(e<s+1&&e>0){for(r=e-1;r>=0;){if("keyframe"===this._frames[r].type){t=r+1;break}r-=1}for(r=e+1;r<=s-1;){if("keyframe"===this._frames[r].type){i=r+1;break}r+=1}}return t=t?t:0,i=i?i:this.frameCount,n=e-t<i-e?t:i},r._isKeyframeDiff=function(e){return this._compositor._isKeyframeDiff.apply(this._compositor,arguments)},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=n},{}],122:[function(e,t,i){"use strict";function n(e,t){this._compositor=e,this._superframeInterval=t||4}var r=n.prototype;r._getClosestSuperframe=function(e){return Math.round(e/this._superframeInterval)*this._superframeInterval},r.init=function(e){this._screenCanvas=e},r.resumeLoading=function(){return this._compositor.resumeLoading()},r.pauseLoading=function(){return this._compositor.pauseLoading()},r.applyFrame=function(){this._compositor.applyFrame.apply(this._compositor,arguments)},r.calculateRenderCount=function(e,t){var i=this._getClosestSuperframe(e);return Math.abs(i-t)>this._superframeInterval/2?(e=i+(e>t?-1:1)*this._superframeInterval,this.calculateRenderCount(e,t)+1):Math.abs(i-t)+1},r.compositeFrames=function(e,t){var i,n;return(t<=0||t>=this.frameCount-2)&&this._compositor.compositeFrames(e,t),e>this.frameCount-2?e=this.frameCount-2:e<=0&&(e=1),n=this._getClosestSuperframe(e),i=this._compositor.calculateRenderCount(e,t)>this.calculateRenderCount(e,t)?this._compositor.compositeFrames(n,n).then(function(){var i=n+(e>t?-1:1)*this._superframeInterval;this._compositor.compositeFrames(n,i).then(function(){return this.compositeFrames(i,t)}.bind(this))}.bind(this)):this._compositor.compositeFrames(e,t).then(function(){}.bind(this)),i.then(function(){}.bind(this)),i},r.destroy=function(){return this._compositor.destroy()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frameCount:{get:function(){return this._compositor.frameCount},enumerable:!0},canvas:{get:function(){return this._compositor.canvas},set:function(e){return this._compositor.canvas=e},enumerable:!0},mainCompositor:{get:function(){return this._compositor.mainCompositor},enumerable:!0}}),t.exports=n},{}],123:[function(e,t,i){"use strict";function n(e,t){this.location=e,this.length=t}t.exports=n},{}],124:[function(e,t,i){"use strict";function n(){}t.exports=n},{}],125:[function(e,t,i){"use strict";var n,r=e("./Manifest"),s=e("./Block"),o={parseData:function(e){n=0;var t=e.frames.map(this._parseFrame,this);return Object.create(r.prototype,{version:{value:e.version},framecount:{value:e.frameCount},blockSize:{value:e.blockSize},imagesRequired:{value:e.imagesRequired},reversible:{value:e.reversible},superframeFrequency:{value:e.superframeFrequency},frames:{value:t}})},_valueForCharAt:function(e,t){var i=e.charCodeAt(t);return i>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:void 0},_createNumberFromBase64Range:function(e,t,i){for(var n,r=0;i--;)n=this._valueForCharAt(e,t++),r+=n<<6*i;return r},_parseFrame:function(e){var t,i,n,r=[],o=e.value,a=e.startImageIndex,c=e.startBlockIndex;if("keyframe"===e.type)return r.type="keyframe",r.width=e.width,r.height=e.height,r.x=e.x,r.y=e.y,r;for(t=0;t<o.length;t+=5)n=this._createNumberFromBase64Range(o,t,3),i=this._createNumberFromBase64Range(o,t+3,2),r.push(Object.create(s.prototype,{location:{value:n,enumerable:!0},length:{value:i,enumerable:!0},block:{value:(c+=i)-i,enumerable:!0},startImageIndex:{value:a,enumerable:!0}}));return r}};t.exports=o},{"./Block":123,"./Manifest":124}],126:[function(e,t,i){"use strict";function n(e){this.url=e}var r=e("@marcom/ac-asset-loader/assetLoader"),s=e("../processor"),o=n.prototype;o.load=function(){return r.load(this.url).then(function(e){var t;return e&&e.latest&&e.latest.data&&(t=s.parseData(e.latest.data),this._data=t),t}.bind(this))},t.exports=n},{"../processor":125,"@marcom/ac-asset-loader/assetLoader":15}],127:[function(e,t,i){"use strict";function n(e,t,i){this.flowData=e,this.flowData.imageUrlPattern=t,this._loadController=i}var r=n.prototype;r._storeImages=function(e){var t=e.assets.length;this.images=e.assets.map(function(e){return e.data}),this._blocksPerFullDiff=[],this._blockCountUpToIndex=[];for(var i=0,n=0;n<t;n++)this._blocksPerFullDiff[n]=this.images[n].width/this.flowData.blockSize*(this.images[n].height/this.flowData.blockSize),i+=this._blocksPerFullDiff[n],this._blockCountUpToIndex[n]=i},r._applyDiffRange=function(e,t){for(var i,n,r=t.block,s=t.length,o=e.canvas.width/this.flowData.blockSize,a=t.startImageIndex,c=this.images[a].width,h=r%this._blockCountUpToIndex[a],u=c/this.flowData.blockSize,l=h%u*this.flowData.blockSize,m=Math.floor(h/(u||1))*this.flowData.blockSize,d=t.location%o*this.flowData.blockSize,f=Math.floor(t.location/o)*this.flowData.blockSize;s;)i=Math.min(s*this.flowData.blockSize,e.canvas.width-d,c-l),n=i/this.flowData.blockSize,e.drawImage(this.images[a],l,m,i,this.flowData.blockSize,d,f,i,this.flowData.blockSize),s-=n,s&&((l+=i)>=c&&(l=0,m+=this.flowData.blockSize),(d+=i)>=e.canvas.width&&(d=0,f+=this.flowData.blockSize),r+=n)},r.init=function(){return this._loadController.loadDiffs().then(this._storeImages.bind(this))},r.renderDiff=function(e,t){var i=e.getContext("2d");t-=1;for(var n=0,r=this.frames[t].length;n<r;n++)this._applyDiffRange(i,this.frames[t][n])},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(r,{frames:{get:function(){return this.flowData.frames},set:function(e){this.flowData.frames=e},enumerable:!0}}),t.exports=n},{}],128:[function(e,t,i){"use strict";var n=e("@marcom/ac-object/defaults"),r=e("./Flow"),s=e("./Player"),o={keyframeCache:8,preload:!0},a={fileFormat:"jpg",baseName:"flow",imageUrlPattern:"###",startframeFileFormat:null,endframeFileFormat:null,basePath:null,manifestPath:null,manifestFileFormat:"json",diffPath:null,framePath:null},c=function(e){return e.lastIndexOf("/")!==e.length-1&&(e+="/"),e},h=function(e){var t=e.basePath?c(e.basePath):null,i=e.framePath?c(e.framePath):null,n=e.diffPath?c(e.diffPath):null,r=e.manifestPath?c(e.manifestPath):null,s=e.baseName+"_",o={};return o.startframe=(i||t)+s+"startframe."+(e.startframeFileFormat||e.fileFormat),o.endframe=(i||t)+s+"endframe."+(e.endframeFileFormat||e.fileFormat),o.imageUrlPattern=(n||t)+s+e.imageUrlPattern+"."+e.fileFormat,o.manifest=(r||t)+s+"manifest."+e.manifestFileFormat,o},u=function(e,t){var i=h(t),n=[i.startframe,i.endframe];return new r(e,i.manifest,n,i.imageUrlPattern)},l=function(e,t){var i=e||{},r=t||{};i=n(o,e),r=n(a,t),i.element||(e.element=document.createElement("canvas"));var c=u(i,r),h=new s(c,i.element);return i.preload&&h.load(),h};t.exports=l},{"./Flow":115,"./Player":117,"@marcom/ac-object/defaults":163}],129:[function(e,t,i){"use strict";function n(e,t){var i,n=e.match(/#/g).length;this._keyframes={},e=e.replace(/([^#]+)(#+)(\..*)/,"$1key_$2$3"),this._imageUrls=[],t.frames&&t.frames.forEach(function(t,r){"keyframe"===t.type&&(i="0000"+r,i=i.substring(i.length-n),this._imageUrls.push(e.replace(/#+/g,i)),this._keyframes[r]=t)}.bind(this))}var r=e("@marcom/ac-asset-loader/assetLoader"),s=n.prototype;s.load=function(){return this._imageUrls.length>0?r.load(this._imageUrls):Promise.resolve()},"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(){}),Object.defineProperties(s,{keyframes:{get:function(){return this._keyframes},enumerable:!0}}),t.exports=n},{"@marcom/ac-asset-loader/assetLoader":15}],130:[function(e,t,i){"use strict";function n(e,t){this.flowData=e,this.flowData.imageUrlPattern=t}var r=e("./Loader"),s=n.prototype;s._storeImages=function(e){var t,i=0;if(e&&e.assets.length>0)for(var n in this._loader._keyframes)this._loader._keyframes.hasOwnProperty(n)&&(t=e.assets[i],this._loader._keyframes[n].image=t.data,i+=1)},s.init=function(){return this._loader=new r(this.flowData.imageUrlPattern,this.flowData),
this._loader.load().then(this._storeImages.bind(this))},s.renderKeyframe=function(e,t,i){var n=e.getContext("2d"),r=this._loader.keyframes[t],s=r.image,o=r.x,a=r.y,c=r.width,h=r.height;i===!0?n.drawImage(s,o,a,c,h,o,a,c,h):this.flowData.reversible?n.drawImage(s,0,0):n.drawImage(s,o,a,c,h)},t.exports=n},{"./Loader":129}],131:[function(e,t,i){"use strict";var n=function(){var e,t="";for(e=0;e<arguments.length;e++)e>0&&(t+=","),t+=arguments[e];return t};t.exports=function(e,t){t=t||n;var i=function(){var n=arguments,r=t.apply(this,n);return r in i.cache||(i.cache[r]=e.apply(this,n)),i.cache[r]};return i.cache={},i}},{}],132:[function(e,t,i){"use strict";t.exports=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}}},{}],133:[function(e,t,i){arguments[4][79][0].apply(i,arguments)},{dup:79}],134:[function(e,t,i){arguments[4][80][0].apply(i,arguments)},{"./getDimensions":133,"./getScrollX":135,"./getScrollY":136,dup:80}],135:[function(e,t,i){arguments[4][81][0].apply(i,arguments)},{dup:81}],136:[function(e,t,i){arguments[4][82][0].apply(i,arguments)},{dup:82}],137:[function(e,t,i){"use strict";function n(e,t,i,n,r,o,a){if(7!==arguments.length)throw new Error("Incorrect number of arguments passed to BaseComponent check the constructor or BaseComponent.call method - argument's should be (section, componentElement, componentName, currentBreakpoint, scrollPosition, windowHeight, index)");s.call(this),this.section=e,this.element=t,this.componentName=i,this.index=a,this.isEnabled=!0}e("@marcom/ac-polyfills/Object/create");var r=e("@marcom/ac-raf-emitter/RAFEmitter"),s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=s.prototype,a=n.prototype=Object.create(s.prototype);n.prototype.constructor=n,a.destroy=function(){this.teardownEvents(),this.teardownRAFEmitter(),this.section=null,o.destroy.call(this)},a.setupEvents=function(){},a.teardownEvents=function(){},a.setupRAFEmitter=function(){this._rafEmitter||(this._rafEmitter=new r,this.onDOMRead=this.onDOMRead.bind(this),this.onDOMWrite=this.onDOMWrite.bind(this),this._rafEmitter.on("update",this.onDOMRead),this._rafEmitter.on("draw",this.onDOMWrite))},a.teardownRAFEmitter=function(){this._rafEmitter&&(this._rafEmitter.destroy(),this._rafEmitter=null)},a.parsePropsFromDataAttribute=function(e,t,i){i=i||this.element,t=t||{},e="data-"+e;var n=i.getAttribute(e)||"{}",r=null;try{r=JSON.parse(n)}catch(s){throw new Error(this.componentName+"::parsePropsFromDataAttribute bad JSON in `"+e+"`",s)}var o={};for(var a in t)if(o[a]=r[a],!r.hasOwnProperty(a)){if(null===t[a])throw new Error(this.componentName+"::parsePropsFromDataAttribute `"+a+"` is required in `"+e+"`");o[a]=t[a]}return o},a.onSectionWillAppearWithPadding=function(e,t){},a.onSectionWillAppear=function(e,t){},a.activate=function(){},a.animateIn=function(){},a.requestDOMChange=function(){return!(!this.isEnabled||!this.section.isVisible)&&(this._rafEmitter||this.setupRAFEmitter(),this._rafEmitter.run())},a.onDOMRead=function(e){},a.onDOMWrite=function(e){},a.deactivate=function(){},a.onScroll=function(e,t,i){},a.onSectionWillDisappearWithPadding=function(e,t){},a.onSectionWillDisappear=function(e,t){},a.onResizeDebounced=function(e,t,i){},a.onResizeImmediate=function(e,t,i){},a.onOrientationChange=function(e,t,i,n){},a.onBreakpoint=function(e,t,i,n){},a.onRetinaChange=function(e,t,i,n){},t.exports=n},{"@marcom/ac-event-emitter-micro":86,"@marcom/ac-polyfills/Object/create":void 0,"@marcom/ac-raf-emitter/RAFEmitter":190}],138:[function(e,t,i){"use strict";function n(e){h.init(),o.setPage(this),this.name=this.name||"[NOT SET]",this._mainEl=e||document.querySelector("main,.main"),this._sections=[],this._visibleSections=[],this._visibleSectionsWithPadding=[],this._elementTracker=new r(null,{autoStart:!0}),this._currentSection=null,this._sectionUnderLocalNav=null,this._currentBreakpoint=s.viewport,this.isRetina=s.retina,this._cachedScrollY=this._getScrollY(!0),this._cachedWindowHeight=this.getWindowHeight(!0),this._resizeTimeout=-1,this._resizeTimeoutDelay=this._resizeTimeoutDelay||250,this.setupSections(),this.setupEvents(),this._updateSectionVisibility()}e("@marcom/ac-polyfills/console.log");var r=e("@marcom/ac-element-tracker").ElementTracker,s=e("@marcom/viewport-emitter");s.viewport||(console.log("Jetpack Error: Required module `viewport-emitter` not initialized properly (missing required css styles). Please see `viewport-emitter` documentation.\n\tBreakpoint will always be 'large' and no `onBreakPoint` events will be fired"),s=e("../utils/ViewportEmitterStub")());var o=e("../utils/Page"),a=e("../model/SectionMap"),c=e("../model/DataAttributes"),h=e("../model/EnabledFeatures"),u=n.prototype;u.destroy=function(){for(var e=0,t=this._sections.length;e<t;e++)this._sections[e].destroy();this.teardownEvents(),this._elementTracker.destroy(),this._elementTracker=null,this._sections=null,this._currentSection=null,this._sectionUnderLocalNav=null,this._visibleSections=null,this._mainEl=null,o.removePage(this)},u.setupEvents=function(){this._onScroll=this._onScroll.bind(this),this._onBreakpoint=this._onBreakpoint.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onPageDidAppear=this._onPageDidAppear.bind(this),this._onResizeImmediate=this._onResizeImmediate.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onPageWillDisappear=this._onPageWillDisappear.bind(this),this.performDeepMetricsRefresh=this.performDeepMetricsRefresh.bind(this),window.addEventListener("scroll",this._onScroll),window.addEventListener("resize",this._onResizeImmediate),window.addEventListener("orientationchange",this._onOrientationChange),s.element.addEventListener("change:viewport",this._onBreakpoint),s.element.addEventListener("change:retina",this._onRetinaChange),o.on(o.DEEP_REFRESH_ALL_METRICS,this.performDeepMetricsRefresh)},u.teardownEvents=function(){window.removeEventListener("scroll",this._onScroll),window.removeEventListener("resize",this._onResizeImmediate),window.removeEventListener("orientationchange",this._onOrientationChange),s.element.removeEventListener("change:viewport",this._onBreakpoint),s.element.removeEventListener("change:retina",this._onRetinaChange),o.off(o.DEEP_REFRESH_ALL_METRICS,this.performDeepMetricsRefresh),this._elementTracker.stop(),clearTimeout(this._resizeTimeout)},u.setupSections=function(){for(var e=this._mainEl.querySelectorAll("section,.section,[data-section-type]"),t=0,i=e.length;t<i;t++)if(e[t].parentElement===this._mainEl){var n=e[t];this._addSectionImp(n)}else console.warn("BasePage::addSection - Jetpack does not support nested BaseSections, consider using a component instead.",e[t])},u.addSection=function(e){var t=this.getBaseSectionForElement(e);return t?t:(t=this._addSectionImp(e),this._updateSectionVisibility(),t)},u.removeSection=function(e){var t=e instanceof a.BaseSection,i=t?e:this.getBaseSectionForElement(e);return i&&this._sections.splice(this._sections.indexOf(i),1),this._updateSectionVisibility(),i},u._addSectionImp=function(e){if(e.parentNode!==this._mainEl&&this._isNestedSection(e))return console.warn("BasePage::addSection - Jetpack does not support nested BaseSections, consider using a component instead.",e),null;var t=this._elementTracker.addElement(e);this._elementTracker.refreshElementState(t);var i=e.hasAttribute(c.SECTION_TYPE)?e.getAttribute(c.SECTION_TYPE):"BaseSection";if(""===i&&(i="BaseSection"),!a.hasOwnProperty(i))throw"BasePage::setupSections parsing '#"+e.id+" ."+e.className+"' no section type '"+i+"'found!";var n=a[i],r=new n(e,t,this._getCurrentBreakpoint(),this._getScrollY(),this.getWindowHeight(),this._sections.length);return r.setupEvents(),this._sections.push(r),r},u.getWindowHeight=function(e){return e&&(this._cachedWindowHeight=window.innerHeight),this._cachedWindowHeight},u._activateSection=function(e){this._currentSection!==e&&(this._currentSection&&this._currentSection.deactivate(),this._currentSection=e,this._currentSection.activate())},u._updateSectionVisibility=function(){for(var e=this._getScrollY(),t=this.getWindowHeight(),i=o.getViewportPadding(),n=[],r=this._sections[0],s=[],a=0,c=[],h=e-i,u=e+t+i,l=0,m=this._sections.length;l<m;l++){var d=this._sections[l],f=d.trackedElement,p=f.pixelsInView;d.isFixedHero&&(p=t-e),p>a&&(r=d,a=p),p>1e-6?(n.push(d),s.push(d),c.push(d)):u>f.top&&h<f.bottom&&(n.push(d),c.push(d))}var _={},g={};for(l=0,m=Math.max(this._visibleSections.length,n.length);l<m;l++)this._visibleSectionsWithPadding[l]&&("undefined"==typeof _[l]&&(_[l]=c.indexOf(this._visibleSectionsWithPadding[l])===-1),_[l]&&this._visibleSectionsWithPadding[l].onSectionWillDisappearWithPadding(e,t)),this._visibleSections[l]&&s.indexOf(this._visibleSections[l])===-1&&this._visibleSections[l].onSectionWillDisappear(e,t),c[l]&&("undefined"==typeof g[l]&&(g[l]=this._visibleSectionsWithPadding.indexOf(c[l])===-1),g[l]&&c[l].onSectionWillAppearWithPadding(e,t)),s[l]&&this._visibleSections.indexOf(s[l])===-1&&s[l].onSectionWillAppear(e,t);this._visibleSections=s,this._visibleSectionsWithPadding=c,this._activateSection(r)},u._onPageDidAppear=function(e){},u._onPageWillDisappear=function(e){this.destroy()},u._onBreakpoint=function(e){var t=e.detail.to,i=e.detail.from;this._currentBreakpoint=t;var n=this._getScrollY(),r=this.getWindowHeight();this._elementTracker.refreshAllElementMetrics(n,r);for(var s=0,o=this._sections.length;s<o;s++)this._sections[s].onBreakpoint(t,i,n,r);this.performDeepMetricsRefresh()},u._onRetinaChange=function(e){var t=this._getScrollY(!0),i=this.getWindowHeight(!0);this.isRetina=s.retina;var n=this._currentBreakpoint;this._elementTracker.refreshAllElementMetrics(t,i);for(var r=0,o=this._sections.length;r<o;r++)this._sections[r].onRetinaChange(this.isRetina,n,t,i)},u._onScroll=function(e){var t=this._getScrollY(!0),i=this.getWindowHeight();this._updateSectionVisibility();for(var n=0,r=this._visibleSections.length;n<r;n++)this._visibleSections[n].onScroll(e,t,i)},u._onResizeDebounced=function(e){for(var t=this._getScrollY(),i=this.getWindowHeight(),n=!1,r=0,s=this._sections.length;r<s;r++)!n&&this._sections[r].onResize&&(console.warn("Jetpack: onResize has been removed please use `onResizeImmediate` or `onResizeDebounced` instead."),n=!0),this._sections[r].onResizeDebounced(e,t,i);this._updateSectionVisibility()},u.performDeepMetricsRefresh=function(){var e=this._getScrollY(),t=this.getWindowHeight();this._elementTracker.refreshAllElementMetrics(e,t);for(var i=0,n=this._sections.length;i<n;i++)this._sections[i].elementEngagement.refreshAllElementMetrics(e,t),this._sections[i].updateScrollToPosition();this._updateSectionVisibility()},u._onOrientationChange=function(e){for(var t=this._getScrollY(!0),i=this.getWindowHeight(!0),n=e.orientation,r=0,s=this._sections.length;r<s;r++)this._sections[r].onOrientationChange(e,n,t,i)},u._onResizeImmediate=function(e){for(var t=this._getScrollY(),i=this.getWindowHeight(!0),n=!1,r=0,s=this._sections.length;r<s;r++)!n&&this._sections[r].onResizeWillBeCalledAfterDelay&&(console.warn("Jetpack: onResizeWillBeCalledAfterDelay has been removed please use `onResizeImmediate` or `onResizeDebounced` instead."),n=!0),this._sections[r].onResizeImmediate(e,t,i);window.clearTimeout(this._resizeTimeout),this._resizeTimeout=window.setTimeout(this._onResizeDebounced.bind(this,e),this._resizeTimeoutDelay)},u._getScrollY=function(e){return e&&(this._cachedScrollY=window.pageYOffset||(document.documentElement||document.body).scrollTop),this._cachedScrollY},u._getVisibleBottomOfPage=function(){return this._getScrollY()+this.getWindowHeight()},u._getCurrentBreakpoint=function(){return this._currentBreakpoint},u._isNestedSection=function(e){for(var t=e,i=this._sections.length;t=t.parentElement;)for(var n=0;n<i;n++)if(this._sections[n].element===t)return!0;return!1},u.getBaseSectionForElement=function(e){for(var t=0,i=this._sections.length;t<i;t++)if(this._sections[t].element===e)return this._sections[t];return null},t.exports=n},{"../model/DataAttributes":141,"../model/EnabledFeatures":142,"../model/SectionMap":143,"../utils/Page":144,"../utils/ViewportEmitterStub":145,"@marcom/ac-element-tracker":83,"@marcom/ac-polyfills/console.log":void 0,"@marcom/viewport-emitter":217}],139:[function(e,t,i){"use strict";function n(e,t,i,n,r,s){if(6!==arguments.length)throw new Error("Incorrect number of arguments passed to BaseSection");h.call(this),this.element=e,this.trackedElement=t,this.elementEngagement=new o(null,{autoStart:!1}),this.index=s,this.isVisible=this.trackedElement.pixelsInView>0,this.isVisibleWithPadding=!1,this.hasAnimatedIn=!1,this.isActive=!1,this.isFixedHero=!1,this.cachedBreakpoint=i,this.cachedScrollPosition=n,this.cachedWindowHeight=r,this.name=this.name||this.element.className,this.scrollToPosition=0,this.updateScrollToPosition(),this._components=[],this.setupComponents(i,n,r),this.setIsFixedHero(),this.performDeprecatedMethodCheck()}e("@marcom/ac-polyfills/Object/create"),e("@marcom/ac-polyfills/console.log");var r={},s={getPagePosition:e("@marcom/ac-dom-metrics/getPagePosition")},o=e("@marcom/ac-element-engagement").ElementEngagement,a=e("./../model/DataAttributes"),c=e("./../model/ComponentMap"),h=(e("./BaseComponent"),e("@marcom/ac-event-emitter-micro").EventEmitterMicro),u=h.prototype,l=n.prototype=Object.create(h.prototype);n.prototype.constructor=n,l.performDeprecatedMethodCheck=function(){if(this.onViewWillAppear)throw new Error("Section.onViewWillAppear is now `onSectionWillAppear`, please update your BaseSection subclass");if(this.onViewWillDisappear)throw new Error("Section.onViewWillDisappear is now `onSectionWillDisappear`, please update your BaseSection subclass");return!0},l.destroy=function(){this.teardownEvents(),this.elementEngagement.stop(),this.elementEngagement=null;for(var e=0,t=this._components.length;e<t;e++)this._components[e].destroy();this._components=null,this.trackedElement=null,this.element=null,u.destroy.call(this)},l.setupEvents=function(){for(var e=0,t=this._components.length;e<t;e++)this._components[e].setupEvents()},l.teardownEvents=function(){for(var e=0,t=this._components.length;e<t;e++)this._components[e].teardownEvents()},l.setupComponents=function(){var e=Array.prototype.slice.call(this.element.querySelectorAll("["+a.COMPONENT_LIST+"]"));this.element.hasAttribute(a.COMPONENT_LIST)&&e.push(this.element);for(var t=0;t<e.length;t++){var i=e[t],n=i.getAttribute(a.COMPONENT_LIST);if(n.indexOf("|")!==-1)throw"BaseSection::setupComponents component list should be space delimited, pipe character is no longer supported. Error at: '"+n+"'";for(var r=n.split(" "),s=0,o=r.length;s<o;s++){var c=r[s];""!==c&&" "!==c&&this.addComponentOfType(c,i)}setTimeout(this.elementEngagement.refreshAllElementStates.bind(this.elementEngagement),100)}},l.addComponentOfType=function(e,t){if(!c.hasOwnProperty(e))throw"BaseSection::setupComponents parsing '#"+t.id+" ."+t.className+"' no component type '"+e+"'found!";var i=c[e];if(!this.componentIsSupported(i,e))return void(void 0===r[e]&&(console.log("BaseSection::setupComponents unsupported component '"+e+"'. Reason: '"+e+".IS_SUPPORTED' returned false"),r[e]=!0));var n=new i(this,t,e,this.cachedBreakpoint,this.cachedScrollPosition,this.cachedWindowHeight,this._components.length);return this._components.push(n),n},l.removeComponentOfType=function(e){var t=this.getComponentOfType(e);null!==t&&this.removeComponent(t)},l.removeComponent=function(e){var t=this._components.indexOf(e);t!==-1&&(this._components.splice(t,1),e.destroy())},l.activate=function(){for(var e=0,t=this._components.length;e<t;e++)this._components[e].isEnabled&&this._components[e].activate();this.isActive=!0,this.hasAnimatedIn||(this.animateIn(),this.hasAnimatedIn=!0)},l.deactivate=function(){this.isActive=!1;for(var e=0,t=this._components.length;e<t;e++)this._components[e].isEnabled&&this._components[e].deactivate()},l.animateIn=function(){for(var e=0,t=this._components.length;e<t;e++)this._components[e].isEnabled&&this._components[e].animateIn()},l.onResizeImmediate=function(e,t,i){this.cachedScrollPosition=t,this.cachedWindowHeight=i;for(var n=!1,r=0,s=this._components.length;r<s;r++)this._components[r].isEnabled&&(!n&&this._components[r].onResizeWillBeCalledAfterDelay&&(console.warn("Jetpack: onResizeWillBeCalledAfterDelay has been removed please use `onResizeImmediate` or `onResizeDebounced` instead."),n=!0),this._components[r].onResizeImmediate(e,t,i))},l.onResizeDebounced=function(e,t,i){this.updateScrollToPosition();for(var n=!1,r=0,s=this._components.length;r<s;r++)this._components[r].isEnabled&&(!n&&this._components[r].onResize&&(console.warn("Jetpack: onResize has been removed please use `onResizeImmediate` or `onResizeDebounced` instead."),n=!0),this._components[r].onResizeDebounced(e,t,i));this.elementEngagement.refreshAllElementMetrics(t,i)},l.onBreakpoint=function(e,t,i,n){this.cachedBreakpoint=e;for(var r=0,s=this._components.length;r<s;r++)this._components[r].isEnabled&&this._components[r].onBreakpoint(e,t,i,n)},l.onRetinaChange=function(e,t,i,n){for(var r=0,s=this._components.length;r<s;r++)this._components[r].isEnabled&&this._components[r].onRetinaChange(e,t,i,n);this.elementEngagement.refreshAllElementMetrics(i,n)},l.onOrientationChange=function(e,t,i,n){this.cachedScrollPosition=i,this.cachedWindowHeight=n;for(var r=0,s=this._components.length;r<s;r++)this._components[r].isEnabled&&this._components[r].onOrientationChange(e,t,i,n)},l.onScroll=function(e,t,i){this.cachedScrollPosition=t,this.elementEngagement.refreshAllElementStates(t);for(var n=0,r=this._components.length;n<r;n++)this._components[n].isEnabled&&this._components[n].onScroll(e,t,i)},l.onSectionWillAppearWithPadding=function(e,t){this.cachedScrollPosition=e,this.isVisibleWithPadding=!0,this.elementEngagement.refreshAllElementStates(e);for(var i=0,n=this._components.length;i<n;i++)this._components[i].onSectionWillAppearWithPadding(e,t)},l.onSectionWillAppear=function(e,t){this.cachedScrollPosition=e,this.isVisible=!0,this.elementEngagement.refreshAllElementStates(e);for(var i=0,n=this._components.length;i<n;i++)this._components[i].onSectionWillAppear(e,t)},l.onSectionWillDisappearWithPadding=function(e,t){this.cachedScrollPosition=e,this.isVisibleWithPadding=!1;for(var i=0,n=this._components.length;i<n;i++)this._components[i].onSectionWillDisappearWithPadding(e,t)},l.onSectionWillDisappear=function(e,t){this.cachedScrollPosition=e,this.isVisible=!1;for(var i=0,n=this._components.length;i<n;i++)this._components[i].onSectionWillDisappear(e,t)},l.getComponentOfType=function(e){if(!c.hasOwnProperty(e))throw"BaseSection::getComponentOfType no component type '"+e+"' exist in ComponentMap!";for(var t=0,i=this._components.length;t<i;t++)if(this._components[t].componentName===e)return this._components[t];return null},l.getAllComponentsOfType=function(e){if(!c.hasOwnProperty(e))throw"BaseSection::getAllComponentsOfType no component type '"+e+"' exist in ComponentMap!";for(var t=[],i=0,n=this._components.length;i<n;i++)this._components[i].componentName===e&&t.push(this._components[i]);return t},l.updateScrollToPosition=function(){return this.scrollToPosition=s.getPagePosition(this.element).top},l.setIsFixedHero=function(){if(0!==this.index)this.isFixedHero=!1;else{var e=window.getComputedStyle(this.element);this.isFixedHero="fixed"===e.position}},n.prototype.componentIsSupported=function(e,t){var i=e.IS_SUPPORTED;if(void 0===i)return!0;if("function"!=typeof i)return console.error('BaseSection::setupComponents error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0;var n=e.IS_SUPPORTED();return void 0===n?(console.error('BaseSection::setupComponents error in "'+t+'".IS_SUPPORTED - it should be a function which returns true/false'),!0):n},t.exports=n},{"./../model/ComponentMap":140,"./../model/DataAttributes":141,"./BaseComponent":137,"@marcom/ac-dom-metrics/getPagePosition":134,"@marcom/ac-element-engagement":77,"@marcom/ac-event-emitter-micro":86,"@marcom/ac-polyfills/Object/create":void 0,"@marcom/ac-polyfills/console.log":void 0}],140:[function(e,t,i){"use strict";t.exports={BaseComponent:e("../core/BaseComponent")}},{"../core/BaseComponent":137}],141:[function(e,t,i){"use strict";t.exports={PAGE_TYPE:"data-page-type",SECTION_TYPE:"data-section-type",JUMP_SECTION_NAME:"data-page-jump-name",COMPONENT_LIST:"data-component-list"}},{}],142:[function(e,t,i){"use strict";var n={isDesktop:e("@marcom/ac-feature/isDesktop"),isRetina:e("@marcom/ac-feature/isRetina"),threeDTransformsAvailable:e("@marcom/ac-feature/threeDTransformsAvailable"),prefersReducedMotion:e("@marcom/ac-feature/prefersReducedMotion")};t.exports={TOUCH:void 0,SVG:void 0,PAGE_JUMP:void 0,IS_DESKTOP:void 0,IS_RETINA:void 0,THREE_D_TRANSFORMS:void 0,REDUCED_MOTION:void 0,IS_AOW:void 0,init:function(){var e=document.getElementsByTagName("html")[0];this.TOUCH=e.classList.contains("touch"),this.SVG=e.classList.contains("svg"),this.PAGE_JUMP=e.classList.contains("pageJump"),this.IS_DESKTOP=n.isDesktop(),this.IS_RETINA=n.isRetina(),this.THREE_D_TRANSFORMS=n.threeDTransformsAvailable(),this.REDUCED_MOTION=n.prefersReducedMotion(),this.IS_AOW=e.classList.contains("aow")},extend:function(e){if(!e.hasOwnProperty("init")||"function"!=typeof e.init)throw new TypeError("The object extended Jetpack.model.EnabledFeatures must contain an init function");var t=this.init,i=e.init,n=Object.assign(this,e);return n.init=function(){this.HAS_INITIALIZED||(this.HAS_INITIALIZED=!0,t.call(n),i.call(n))},n},HAS_INITIALIZED:!1}},{"@marcom/ac-feature/isDesktop":98,"@marcom/ac-feature/isRetina":100,"@marcom/ac-feature/prefersReducedMotion":105,"@marcom/ac-feature/threeDTransformsAvailable":108}],143:[function(e,t,i){"use strict";t.exports={BaseSection:e("../core/BaseSection")}},{"../core/BaseSection":139}],144:[function(e,t,i){"use strict";function n(){r.call(this),this._page=null,this.viewportPaddingRatio=1}var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=n.prototype=Object.create(r.prototype);n.prototype.constructor=n,s.getPage=function(){return this._page},s.setPage=function(e){this._page=e},s.removePage=function(e){e===this._page&&(this._page=null)},s.getViewportPadding=function(){return this.getPage().getWindowHeight()*this.viewportPaddingRatio},s.deepRefreshAllElementMetrics=function(){this.trigger(n.prototype.DEEP_REFRESH_ALL_METRICS)},s.onPageHeightSettled=function(e,t){var i=document.documentElement.scrollHeight,n=0,t=t||30;window.requestAnimationFrame(function r(){var s=document.documentElement.scrollHeight;if(i!==s)n=0;else if(n++,n>=t)return void e();i=s,window.requestAnimationFrame(r)})},s.DEEP_REFRESH_ALL_METRICS="page.deep_refresh_all_metrics",t.exports=new n},{"@marcom/ac-event-emitter-micro":86}],145:[function(e,t,i){"use strict";t.exports=function(){var e;return window.ViewportEmitterTestProxy?e=window.ViewportEmitterTestProxy:(e={},e.viewport="large",e.on=e.off=function(){}),e}},{}],146:[function(e,t,i){"use strict";var n=e("./ac-media-object/factories/createVideo"),r=e("./ac-media-object/factories/createFlow");t.exports={createFlow:r,createVideo:n}},{"./ac-media-object/factories/createFlow":147,"./ac-media-object/factories/createVideo":148}],147:[function(e,t,i){var n=e("./../views/FlowView"),r=e("@marcom/ac-object/clone");t.exports=function(e,t,i){function s(e){throw new Error(e)}var o,a=r(i||{},!0);return a.type="flow",t?t.basePath||s("Please provide a valid mediaSrc object with a basePath property."):s("Please provide both a valid container element and a valid mediaSrc object as arguments."),a.mediaObjectView?o=a.mediaObjectView:(o=new n(e,t,a),o.options.mediaObjectView=o),o}},{"./../views/FlowView":151,"@marcom/ac-object/clone":161}],148:[function(e,t,i){var n=e("./../views/VideoView"),r=e("./../views/InlinePolyfillVideoView"),s=e("@marcom/ac-feature").isHandheld,o=e("@marcom/ac-feature").isTablet,a=e("@marcom/ac-object/clone");t.exports=function(e,t,i){function c(e){throw new Error(e)}var h,u=a(i||{},!0);return u.type="video",t?t.basePath||c("Please provide a valid mediaSrc object with a basePath property."):c("Please provide both a valid container element and a valid mediaSrc object as arguments."),u.mediaObjectView?h=u.mediaObjectView:(h=u.iosInline&&!window.matchMedia("(-webkit-video-playable-inline)").matches&&(s()||o())?new r(e,t,u):new n(e,t,u),h.options.mediaObjectView=h),h}},{"./../views/InlinePolyfillVideoView":152,"./../views/VideoView":153,"@marcom/ac-feature":88,"@marcom/ac-object/clone":161}],149:[function(e,t,i){"use strict";function n(e){r.apply(this,arguments)}var r=e("@marcom/ac-mvc-model").Model,s=e("@marcom/ac-object"),o=n.prototype=s.create(r.prototype);o.defaultAttributes={type:"video",paused:!0,ended:!1,ready:!1,loadStart:!1,loaded:!1,error:!1,destroyed:!1,currentTime:0,playbackRate:1,duration:0,preload:!1,autoplay:!1,frameRate:24,enhanced:!1,looping:!1},o.getType=function(){return this.get("type")},o.getPaused=function(){return this.get("paused")},o.getEnded=function(){return this.get("ended")},o.getReady=function(){return this.get("ready")},o.getDestroyed=function(){return this.get("destroyed")},o.getLoadStart=function(){return this.get("loadedStart")},o.getLoaded=function(){return this.get("loaded")},o.getError=function(){return this.get("error")},o.getCurrentTime=function(){return this.get("currentTime")},o.getPlaybackRate=function(){return this.get("playbackRate")},o.getDuration=function(){return this.get("duration")},o.getPreload=function(){return this.get("preload")},o.getAutoplay=function(){return this.get("autoplay")},o.getFrameRate=function(){return this.get("frameRate")},o.getEnhanced=function(){return this.get("enhanced")},o.getLooping=function(){return this.get("looping")},o.setPaused=function(e){this.set({paused:e})},o.setEnded=function(e){this.set({ended:e})},o.setReady=function(e){this.set({ready:e})},o.setDestroyed=function(e){this.set({destroyed:e})},o.setDuration=function(e){this.set({duration:e})},o.setLoadStart=function(e){this.set({loadStart:e})},o.setLoaded=function(e){this.set({loaded:e})},o.setError=function(e){this.set({error:e})},o.setCurrentTime=function(e){this.set({currentTime:e})},o.setPlaybackRate=function(e){this.set({playbackRate:e})},o.setPreload=function(e){this.set({preload:e})},o.setAutoplay=function(e){this.set({autoplay:e})},o.setFrameRate=function(e){this.set({frameRate:e})},o.setEnhanced=function(e){this.set({enhanced:e})},o.setLooping=function(e){this.set({looping:e})},t.exports=n},{"@marcom/ac-mvc-model":156,"@marcom/ac-object":160}],150:[function(e,t,i){"use strict";var n=e("./../models/MediaModel"),r=e("@marcom/ac-mvc-view").View,s=e("@marcom/ac-object"),o=function(e,t,i){r.call(this,{element:e}),this.options=s.clone(i||{},!0),this.mediaSrc=t||"",this.model=this.options.model||new n(this.options),this._onLoadStartChange=this._onLoadStartChange.bind(this),this._onLoadedChange=this._onLoadedChange.bind(this),this._onPausedChange=this._onPausedChange.bind(this),this._onReadyChange=this._onReadyChange.bind(this),this._onErrorChange=this._onErrorChange.bind(this),this._onEnhancedChange=this._onEnhancedChange.bind(this),this._onCurrentTimeChange=this._onCurrentTimeChange.bind(this),this._onPlaybackRateChange=this._onPlaybackRateChange.bind(this),this._onDestroyedChange=this._onDestroyedChange.bind(this),this._onEndedChange=this._onEndedChange.bind(this),this._respondToPlay=this._respondToPlay.bind(this),this._respondToPause=this._respondToPause.bind(this),this._respondToTimeUpdate=this._respondToTimeUpdate.bind(this),this._respondToEnded=this._respondToEnded.bind(this),this._respondToDurationChange=this._respondToDurationChange.bind(this),this._respondToRateChange=this._respondToRateChange.bind(this),this._init()},a=o.prototype=s.create(r.prototype);a._init=function(){this._createMediaElement(),this._createMediaEmitter(),this._createMediaLoader(),this._bindEvents(),this._config()},a._createMediaElement=function(){},a._createMediaEmitter=function(){},a._createMediaLoader=function(){},a._config=function(){this.options.preload===!0&&(this._setPreload(!0),this.load()),this.options.autoplay===!0&&this._setAutoplay(!0),this.options.looping===!0&&this._setLooping(!0),this.options.frameRate&&this._setFrameRate(this.options.frameRate)},a._bindEvents=function(){this._bindViewEvents(),this._bindModelEvents()},a.destroy=function(){if(!this.getDestroyed()){this._destroy(),this._setDestroyed(!0),this.model.off(),this.off();for(var e in this)this.hasOwnProperty(e)&&"function"!=typeof this[e]&&(this[e]=null)}},a._bindModelEvents=function(){this.model.on("change:loadStart",this._onLoadStartChange),this.model.on("change:loaded",this._onLoadedChange),this.model.on("change:paused",this._onPausedChange),this.model.on("change:ready",this._onReadyChange),this.model.on("change:error",this._onErrorChange),this.model.on("change:enhanced",this._onEnhancedChange),this.model.on("change:currentTime",this._onCurrentTimeChange),this.model.on("change:playbackRate",this._onPlaybackRateChange),this.model.on("change:destroyed",this._onDestroyedChange),this.model.on("change:ended",this._onEndedChange)},a._onLoadStartChange=function(){this.trigger("loadstart")},a._onLoadedChange=function(){this.trigger("loaded")},a._onPausedChange=function(e){e.value===!0?(this.trigger("pause"),this.el.classList.remove("mediaobject-playing")):(this.trigger("play"),this.el.classList.remove("mediaobject-ended"),this.el.classList.add("mediaobject-playing"))},a._onReadyChange=function(){this.trigger("ready")},a._onErrorChange=function(){this.trigger("error")},a._onEnhancedChange=function(){this.el.classList.add("mediaobject-enhanced"),this.mediaElement.classList.add("mediaobject-element"),this.trigger("enhanced")},a._onCurrentTimeChange=function(){this.trigger("timeupdate")},a._onPlaybackRateChange=function(){this.trigger("ratechange")},a._onDestroyedChange=function(){this.el.classList.remove("mediaobject-playing"),this.el.classList.remove("mediaobject-ended"),this.el.classList.remove("mediaobject-enhanced"),this.el.classList.add("mediaobject-destroyed"),this.trigger("destroyed")},a._onEndedChange=function(e){e.value===!0&&this.trigger("ended")},a._bindViewEvents=function(){this.mediaEmitter&&(this.mediaEmitter.on("play",this._respondToPlay),this.mediaEmitter.on("pause",this._respondToPause),this.mediaEmitter.on("timeupdate",this._respondToTimeUpdate),this.mediaEmitter.on("ended",this._respondToEnded),this.mediaEmitter.on("durationchange",this._respondToDurationChange),this.mediaEmitter.on("ratechange",this._respondToRateChange))},a._respondToPlay=function(){this.model.set({ended:!1,paused:!1})},a._respondToPause=function(){this.model.setPaused(!0)},a._respondToTimeUpdate=function(){var e=0;if(this.mediaElement.currentTime)e=this.mediaElement.currentTime;else{if(!this.mediaEmitter.currentTime)return;e=this.mediaEmitter.currentTime}this.getCurrentTime()!==e&&this.model.set({currentTime:e})},a._respondToEnded=function(){this.model.set({ended:!0,paused:!0}),this.el.classList.remove("mediaobject-playing"),this.el.classList.add("mediaobject-ended")},a._respondToDurationChange=function(){var e=0;if(this.mediaElement.duration)e=this.mediaElement.duration;else{if(!this.mediaEmitter.duration)return;e=this.mediaEmitter.duration}this.model.set({duration:e})},a._respondToRateChange=function(){var e=0;if(this.mediaElement.playbackRate)e=this.mediaElement.playbackRate;else{if(!this.mediaEmitter.playbackRate)return;e=this.mediaEmitter.playbackRate}this.model.set({playbackRate:e})},a.enhance=function(){},a.play=function(){},a.pause=function(){},a.reset=function(){},a.setCurrentTime=function(e){},a.setPlaybackRate=function(e){},a.goToFrame=function(e){var t=e/this.model.frameRate;return this.setCurrentTime(t)},a.goToPercent=function(e){var t=e*this.getDuration();return this.setCurrentTime(t)},a._setReady=function(e){this.model.setReady(e)},a._setLoadStart=function(e){this.model.setLoadStart(e)},a._setLoaded=function(e){this.model.setLoaded(e);
},a._setError=function(e){this.model.setError(e)},a._setDuration=function(e){this.model.setDuration(e)},a._setPreload=function(e){this.model.setPreload(e)},a._setAutoplay=function(e){this.model.setAutoplay(e)},a._setFrameRate=function(e){this.model.setFrameRate(e)},a._setEnhanced=function(e){this.model.setEnhanced(e)},a._setDestroyed=function(e){this.model.setDestroyed(e)},a._setLooping=function(e){},a._destroy=function(){},a.getType=function(){return this.model.getType()},a.getPaused=function(){return this.model.getPaused()},a.getEnded=function(){return this.model.getEnded()},a.getReady=function(){return this.model.getReady()},a.getLoadStart=function(){return this.model.getLoadStart()},a.getLoaded=function(){return this.model.getLoaded()},a.getError=function(){return this.model.getError()},a.getDuration=function(){return this.model.getDuration()},a.getEnhanced=function(){return this.model.getEnhanced()},a.getCurrentTime=function(){return this.model.getCurrentTime()},a.getCurrentFrame=function(){return Math.floor(this.getCurrentTime()*this.options.frameRate)},a.getCurrentPercent=function(){return this.model.getCurrentTime()/this.getDuration()||0},a.getPlaybackRate=function(){return this.model.getPlaybackRate()},a.getFrameRate=function(){return this.model.getFrameRate()},a.getPreload=function(){return this.model.getPreload()},a.getAutoplay=function(){return this.model.getAutoplay()},a.getLooping=function(){return this.model.getLooping()},a.getDestroyed=function(){return!this.model||this.model.getDestroyed()},t.exports=o},{"./../models/MediaModel":149,"@marcom/ac-mvc-view":158,"@marcom/ac-object":160}],151:[function(e,t,i){"use strict";var n=e("./BaseView"),r=e("@marcom/ac-dom-nodes"),s=e("@marcom/ac-flow").createFlow,o=e("@marcom/ac-raf-emitter/draw"),a=function(e,t,i){n.call(this,e,t,i),this._onLoad=this._onLoad.bind(this),this._onError=this._onError.bind(this),this._onReady=this._onReady.bind(this)},c=a.prototype=Object.create(n.prototype);c._createMediaElement=function(){this.mediaElement=document.createElement("canvas")},c._createMediaEmitter=function(){this.flowOptions={element:this.mediaElement,preload:!1,keyframeCache:this.options.keyframeCache||!1},this.mediaEmitter=s(this.flowOptions,this.mediaSrc)},c._createMediaLoader=function(){this.mediaLoader=this.mediaEmitter},c.load=function(){this._setLoadStart(!0),this.mediaLoader.once("loaded",this._onLoad),this.mediaLoader.once("error",this._onError),this.mediaEmitter.once("canplaythrough",this._onReady),this.loaded||this.mediaLoader.load()["catch"](this._onError)},c._onLoad=function(){this._setLoaded(!0)},c._onError=function(){this.model&&this._setError(!0)},c._onReady=function(){this._setReady(!0),this._setDuration(this.mediaEmitter.duration),this.setPlaybackRate(this.getPlaybackRate()),this._totalFrames=this._getTotalFrames(),this.getAutoplay()&&(this.getEnhanced===!1&&this.enhance(),this.play())},c._getTotalFrames=function(){return this.getDuration()*this.getFrameRate()},c.enhance=function(){this._setEnhanced(!0),o(function(){this.mediaElement&&this._inject()}.bind(this))},c._inject=function(){r.insertFirstChild(this.mediaElement,this.el)},c._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.destroy()},c._remove=function(){r.remove(this.mediaElement)},c.play=function(){this.model.getPaused()!==!1&&(this.mediaEmitter.currentTime>=this.getDuration()&&this.setCurrentTime(0),this.getReady()&&null!==this.mediaEmitter&&this.mediaEmitter.play())},c.pause=function(){this.model.getPaused()!==!0&&this.mediaEmitter.pause()},c.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},c.setCurrentTime=function(e){e<0&&(e=0),e>this.getDuration()&&(e=this.getDuration()),this.mediaEmitter.currentTime=e},c.setPlaybackRate=function(e){this.mediaEmitter.playbackRate=e},c._setLooping=function(e){this.mediaEmitter.loop=e,this.model.setLooping(e)},t.exports=a},{"./BaseView":150,"@marcom/ac-dom-nodes":46,"@marcom/ac-flow":114,"@marcom/ac-raf-emitter/draw":194}],152:[function(e,t,i){"use strict";var n=e("./VideoView"),r=n.prototype,s=e("@marcom/ac-raf-emitter/RAFEmitter"),o=function(e,t,i){n.call(this,e,t,i),this._polyfillRAFEmitter=i.polyfillRAFEmitter||new s,this._boundHandlePolyfillRAFEmitterDraw=this._handlePolyfillRAFEmitterDraw.bind(this),this._polyfillRAFEmitter.on("draw",this._boundHandlePolyfillRAFEmitterDraw)},a=o.prototype=Object.create(n.prototype);a._initInlineVideo=function(){r._initInlineVideo.apply(this,arguments),this._shouldLoop=!1},a._destroy=function(){r._destroy.apply(this,arguments),this._polyfillRAFEmitter&&(this._polyfillRAFEmitter.destroy(),this._polyfillRAFEmitter=null)},a.play=function(){this.model.getPaused()!==!1&&(this.model.setPaused(!1),this._polyfillRAFEmitter.run())},a.pause=function(){this.model.getPaused()!==!0&&(this.model.setPaused(!0),this._polyfillRAFEmitter.cancel())},a.setCurrentTime=function(e){r.setCurrentTime.apply(this,arguments),this._polyfillRAFEmitter.run()},a._handlePolyfillRAFEmitterDraw=function(e){var t=this.model.getCurrentTime(),i=this.model.getPlaybackRate(),n=this.mediaElement.duration,r=e.delta/1e3*i;if(!this.model.getPaused()){t+=r;var s=t<=0,o=t>=n,a=i>=0,c=i<0;if(s&&(t=0),o&&(t=n),this._shouldLoop)return this._shouldLoop=!1,void(a?this.setCurrentTime(r):this.setCurrentTime(n-r));this.setCurrentTime(t),(s&&c||o&&a)&&(this.model.getLooping()?this._shouldLoop=!0:(this.pause(),this.model.setEnded(!0)))}},t.exports=o},{"./VideoView":153,"@marcom/ac-raf-emitter/RAFEmitter":190}],153:[function(e,t,i){"use strict";var n=e("./BaseView"),r=n.prototype,s=e("@marcom/ac-raf-emitter/draw"),o=e("@marcom/ac-dom-nodes"),a=e("@marcom/ac-dom-emitter").DOMEmitter,c=e("@marcom/ac-dom-styles"),h=e("@marcom/ac-asset-loader").assetLoader,u=e("@marcom/ac-useragent"),l=e("@marcom/ac-feature").isHandheld,m=e("@marcom/ac-feature").isTablet,d=function(e,t,i){this.srcForVideoEl=null,this._cannotPlayInlineVideo=null,this._onLoaded=this._onLoaded.bind(this),this._onReady=this._onReady.bind(this),n.call(this,e,t,i),i.iosInline&&this._initInlineVideo()},f=d.prototype=Object.create(n.prototype);f.inlineClassName="mediaobject-ios-inline-video",f.inlineAttribute="playsinline",f._cannotPlayInlineVideo=null,f._initInlineVideo=function(){this.mediaElement.hasAttribute("controls")&&this.mediaElement.removeAttribute("controls"),this.mediaElement.setAttribute(this.inlineAttribute,""),this.mediaElement.classList.add(this.inlineClassName)},f._createMediaElement=function(){this.mediaElement=document.createElement("video"),this._muteMediaElement(this.mediaElement)},f._muteMediaElement=function(e){e.setAttribute("muted",""),e.muted=!0},f._createMediaEmitter=function(){this.mediaEmitter=new a(this.mediaElement)},f._createMediaLoader=function(){var e;if(this.mediaSrc.basePath=this._forceTrailingSlash(this.mediaSrc.basePath),this.mediaSrc.splitFileLoading){e=this.mediaSrc.basePath;var t={src:e,type:"splitfile"};this.mediaLoader=h.createAssetGroup(t)}else this.mediaSrc.fileFormat=this._checkFileFormat(this.mediaSrc.fileFormat),e=this.mediaSrc.basePath+this.mediaSrc.filename+this.mediaSrc.fileFormat,this.srcForVideoEl=e},f._forceTrailingSlash=function(e){return e&&e.lastIndexOf("/")!==e.length-1&&(e+="/"),e},f._checkFileFormat=function(e){return e&&0!==e.lastIndexOf(".")&&(e="."+e),e},f.load=function(){if(this._setLoadStart(!0),this.mediaSrc.splitFileLoading){var e=function(e){var t=window.URL.createObjectURL(e.latest.data);this.mediaEmitter&&(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=t,this.mediaElement.load(),this.mediaLoader.destroy()}.bind(this);this.mediaLoader.load().then(e)["catch"](this._setError.bind(this,!0))}else this.cannotPlayInlineVideo()||(this.mediaEmitter.once("loadeddata",this._onLoaded),this.mediaEmitter.once("canplaythrough",this._onReady)),this.mediaElement.src=this.srcForVideoEl,this.cannotPlayInlineVideo()?this._onLoaded():this.mediaElement.load()},f._onLoaded=function(){this._setLoaded(!0)},f.cannotPlayInlineVideo=function(){if(null!==this._cannotPlayInlineVideo)return this._cannotPlayInlineVideo;var e="iOS"===u.os&&l(),t="iOS"===u.os&&m()&&u.version<8;return this._cannotPlayInlineVideo=e||t,this._cannotPlayInlineVideo},f._onReady=function(){this._setReady(!0),this.getAutoplay()&&(this.getEnhanced()||this.enhance(),this.play())},f.enhance=function(){this._setEnhanced(!0),s(function(){"VIDEO"===this.mediaElement.tagName&&(o.insertLastChild(this.mediaElement,this.el),c.setStyle(this.mediaElement,{visibility:"hidden"}),s(function(){this.mediaElement&&(this.setPlaybackRate(this.getPlaybackRate()),c.setStyle(this.mediaElement,{visibility:"visible"}))}.bind(this)))}.bind(this))},f._destroy=function(){this._remove(),this.mediaEmitter&&this.mediaEmitter.off(),this.mediaLoader&&this.mediaLoader.destroy()},f._remove=function(){o.remove(this.mediaElement)},f._onEndedChange=function(e){r._onEndedChange.call(this,e),this.model.getPaused()||this.mediaElement.pause(),"iOS"===u.os&&l()&&e.value===!0&&this.mediaElement.webkitExitFullScreen()},f.play=function(){if(this.model.getPaused()!==!1){var e=this.mediaElement.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e.then(function(){})["catch"](function(){})}},f.pause=function(){this.model.getPaused()!==!0&&this.mediaElement.pause()},f.reset=function(){0!==this.model.getCurrentTime()&&(this.setCurrentTime(0),this.pause())},f.setCurrentTime=function(e){this.mediaElement.duration&&(this.model.setCurrentTime(e),this.mediaElement.currentTime=e)},f.setPlaybackRate=function(e){this.mediaElement.playbackRate=e},f._setLooping=function(e){this.mediaElement.loop=e,this.model.setLooping(e)},t.exports=d},{"./BaseView":150,"@marcom/ac-asset-loader":14,"@marcom/ac-dom-emitter":27,"@marcom/ac-dom-nodes":46,"@marcom/ac-dom-styles":67,"@marcom/ac-feature":88,"@marcom/ac-raf-emitter/draw":194,"@marcom/ac-useragent":201}],154:[function(e,t,i){"use strict";t.exports={CID:e("./ac-mvc-cid/CID")}},{"./ac-mvc-cid/CID":155}],155:[function(e,t,i){"use strict";function n(){this._idCount=0}var r=e("@marcom/ac-shared-instance").SharedInstance,s="ac-mvc-cid:CID",o="1.0.0",a=n.prototype;a._cidPrefix="cid",a.getNewCID=function(){var e=this._cidPrefix+"-"+this._idCount;return this._idCount++,e},t.exports=r.share(s,o,n)},{"@marcom/ac-shared-instance":198}],156:[function(e,t,i){"use strict";t.exports={Model:e("./ac-mvc-model/Model")}},{"./ac-mvc-model/Model":157}],157:[function(e,t,i){"use strict";function n(e){r.call(this),this.attributes=s(this.defaultAttributes,e||{}),this.cid=a.getNewCID(),this.attributes[this.idAttribute]&&(this.id=this.attributes[this.idAttribute])}var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("@marcom/ac-object/defaults"),o=e("@marcom/ac-object/create"),a=e("@marcom/ac-mvc-cid").CID,c=r.prototype,h=n.prototype=o(c);h.defaultAttributes={},h.idAttribute="id",h.get=function(e){if(this.attributes)return this.attributes[e]},h.set=function(e,t){if(this.attributes){var i,n,r,s={},o=!1;for(i in e)if(e.hasOwnProperty(i)){if(r=this.get(i),r===e[i]||"object"==typeof r&&"object"==typeof e[i]&&JSON.stringify(r)===JSON.stringify(e[i]))continue;o=!0,this.attributes[i]=e[i],n={value:e[i],previous:r},s[i]=n,this._triggerChange(i,n,t)}o&&this._trigger("change",s,t)}},h.hasAttribute=function(e){return!!this.attributes&&void 0!==this.attributes[e]},h.eachAttribute=function(e,t){if(this.attributes){var i;for(i in this.attributes)this.attributes.hasOwnProperty(i)&&e.call(t,{attribute:i,value:this.attributes[i]})}},h.destroy=function(){this.trigger("destroy"),c.destroy.call(this);var e;for(e in this)this.hasOwnProperty(e)&&(this[e]=null)},h._trigger=function(e,t,i){i=i||{},i.silent!==!0&&this.trigger(e,t)},h._triggerChange=function(e,t,i){return this._trigger("change:"+e,t,i)},t.exports=n},{"@marcom/ac-event-emitter-micro":86,"@marcom/ac-mvc-cid":154,"@marcom/ac-object/create":162,"@marcom/ac-object/defaults":163}],158:[function(e,t,i){"use strict";t.exports={View:e("./ac-mvc-view/View")}},{"./ac-mvc-view/View":159}],159:[function(e,t,i){"use strict";function n(e){var t,i,n;this.options=o.defaults(this.defaultOptions,e||{}),this.cid=s.getNewCID(),this.model=this.options.model,this.options.template&&(this.template=this.options.template),t=this.options.tagName||this.tagName,i=this.options.element,n=this.options.className||this.className,i||(i=document.createElement(t)),r.call(this,i),n&&this.addClassName(n),this.options.events&&this.delegateEvents(this.options.events)}var r=e("@marcom/ac-dom-emitter").DOMEmitter,s=e("@marcom/ac-mvc-cid").CID,o={create:e("@marcom/ac-object/create"),defaults:e("@marcom/ac-object/defaults")},a={insertLastChild:e("@marcom/ac-dom-nodes/insertLastChild"),remove:e("@marcom/ac-dom-nodes/remove")},c=e("@marcom/ac-classlist/add"),h=e("@marcom/ac-classlist/remove"),u=n.prototype=o.create(r.prototype);u.tagName="div",u.defaultOptions={},u.getTagName=function(){return this.el.tagName.toLowerCase()},u.appendTo=function(e){return a.insertLastChild(this.el,e),this},u.render=function(){},u.addClassName=function(e){return this._manipulateClassName(e,c)},u.removeClassName=function(e){return this._manipulateClassName(e,h)},u.destroy=function(){this.emitterTrigger("destroy"),this.off(),a.remove(this.el);var e;for(e in this)this.hasOwnProperty(e)&&(this[e]=null)},u.delegateEvents=function(e,t){t=t||this;var i,n;for(i in e)e.hasOwnProperty(i)&&(n=e[i],"string"==typeof n&&(e[i]=this[e[i]]));return this.on(e,t),this},u._manipulateClassName=function(e,t){var i;if("string"==typeof e)i=e.split(" ");else{if("object"!=typeof e||!Array.isArray(e))return this;i=e.slice()}return i.unshift(this.el),t.apply(this.el,i),this},t.exports=n},{"@marcom/ac-classlist/add":21,"@marcom/ac-classlist/remove":26,"@marcom/ac-dom-emitter":27,"@marcom/ac-dom-nodes/insertLastChild":54,"@marcom/ac-dom-nodes/remove":65,"@marcom/ac-mvc-cid":154,"@marcom/ac-object/create":162,"@marcom/ac-object/defaults":163}],160:[function(e,t,i){"use strict";t.exports={clone:e("./clone"),create:e("./create"),defaults:e("./defaults"),extend:e("./extend"),getPrototypeOf:e("./getPrototypeOf"),isDate:e("./isDate"),isEmpty:e("./isEmpty"),isRegExp:e("./isRegExp"),toQueryParameters:e("./toQueryParameters")}},{"./clone":161,"./create":162,"./defaults":163,"./extend":164,"./getPrototypeOf":165,"./isDate":166,"./isEmpty":167,"./isRegExp":168,"./toQueryParameters":169}],161:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/isArray");var n=e("./extend"),r=Object.prototype.hasOwnProperty,s=function(e,t){var i;for(i in t)r.call(t,i)&&(null===t[i]?e[i]=null:"object"==typeof t[i]?(e[i]=Array.isArray(t[i])?[]:{},s(e[i],t[i])):e[i]=t[i]);return e};t.exports=function(e,t){return t?s({},e):n({},e)}},{"./extend":164,"@marcom/ac-polyfills/Array/isArray":void 0}],162:[function(e,t,i){"use strict";var n=function(){};t.exports=function(e){if(arguments.length>1)throw new Error("Second argument not supported");if(null===e||"object"!=typeof e)throw new TypeError("Object prototype may only be an Object.");return"function"==typeof Object.create?Object.create(e):(n.prototype=e,new n)}},{}],163:[function(e,t,i){"use strict";var n=e("./extend");t.exports=function(e,t){if("object"!=typeof e)throw new TypeError("defaults: must provide a defaults object");if(t=t||{},"object"!=typeof t)throw new TypeError("defaults: options must be a typeof object");return n({},e,t)}},{"./extend":164}],164:[function(e,t,i){"use strict";e("@marcom/ac-polyfills/Array/prototype.forEach");var n=Object.prototype.hasOwnProperty;t.exports=function(){var e,t;return e=arguments.length<2?[{},arguments[0]]:[].slice.call(arguments),t=e.shift(),e.forEach(function(e){if(null!=e)for(var i in e)n.call(e,i)&&(t[i]=e[i])}),t}},{"@marcom/ac-polyfills/Array/prototype.forEach":void 0}],165:[function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;t.exports=function(e){if(Object.getPrototypeOf)return Object.getPrototypeOf(e);if("object"!=typeof e)throw new Error("Requested prototype of a value that is not an object.");if("object"==typeof this.__proto__)return e.__proto__;var t,i=e.constructor;if(n.call(e,"constructor")){if(t=i,!delete e.constructor)return null;i=e.constructor,e.constructor=t}return i?i.prototype:null}},{}],166:[function(e,t,i){"use strict";t.exports=function(e){return"[object Date]"===Object.prototype.toString.call(e)}},{}],167:[function(e,t,i){"use strict";var n=Object.prototype.hasOwnProperty;t.exports=function(e){var t;if("object"!=typeof e)throw new TypeError("ac-base.Object.isEmpty : Invalid parameter - expected object");for(t in e)if(n.call(e,t))return!1;return!0}},{}],168:[function(e,t,i){"use strict";t.exports=function(e){return!!window.RegExp&&e instanceof RegExp}},{}],169:[function(e,t,i){"use strict";var n=e("@marcom/ac-url/joinSearchParams");t.exports=function(e){if("object"!=typeof e)throw new TypeError("toQueryParameters error: argument is not an object");return n(e,!1)}},{"@marcom/ac-url/joinSearchParams":200}],170:[function(e,t,i){"use strict";var n=e("./utils/eventTypeAvailable"),r=e("./shared/camelCasedEventTypes"),s=e("./shared/windowFallbackEventTypes"),o=e("./shared/prefixHelper"),a={};t.exports=function c(e,t){var i,h,u;if(t=t||"div",e=e.toLowerCase(),t in a||(a[t]={}),h=a[t],e in h)return h[e];if(n(e,t))return h[e]=e;if(e in r)for(u=0;u<r[e].length;u++)if(i=r[e][u],n(i.toLowerCase(),t))return h[e]=i;for(u=0;u<o.evt.length;u++)if(i=o.evt[u]+e,n(i,t))return o.reduce(u),h[e]=i;return"window"!==t&&s.indexOf(e)?h[e]=c(e,"window"):h[e]=!1}},{"./shared/camelCasedEventTypes":174,"./shared/prefixHelper":176,"./shared/windowFallbackEventTypes":179,"./utils/eventTypeAvailable":181}],171:[function(e,t,i){"use strict";var n=e("./shared/stylePropertyCache"),r=e("./getStyleProperty"),s=e("./getStyleValue");t.exports=function(e,t){var i;if(e=r(e),!e)return!1;if(i=n[e].css,"undefined"!=typeof t){if(t=s(e,t),t===!1)return!1;i+=":"+t+";"}return i}},{"./getStyleProperty":172,"./getStyleValue":173,"./shared/stylePropertyCache":177}],172:[function(e,t,i){"use strict";var n=e("./shared/stylePropertyCache"),r=e("./shared/getStyleTestElement"),s=e("./utils/toCSS"),o=e("./utils/toDOM"),a=e("./shared/prefixHelper"),c=function(e,t){var i=s(e),r=t!==!1&&s(t);return n[e]=n[t]=n[i]=n[r]={dom:t,css:r},t};t.exports=function(e){var t,i,s,h;if(e+="",e in n)return n[e].dom;for(s=r(),e=o(e),i=e.charAt(0).toUpperCase()+e.substring(1),t="filter"===e?["WebkitFilter","filter"]:(e+" "+a.dom.join(i+" ")+i).split(" "),h=0;h<t.length;h++)if("undefined"!=typeof s.style[t[h]])return 0!==h&&a.reduce(h-1),c(e,t[h]);return c(e,!1)}},{"./shared/getStyleTestElement":175,"./shared/prefixHelper":176,"./shared/stylePropertyCache":177,"./utils/toCSS":182,"./utils/toDOM":183}],173:[function(e,t,i){"use strict";var n=e("./getStyleProperty"),r=e("./shared/styleValueAvailable"),s=e("./shared/prefixHelper"),o=e("./shared/stylePropertyCache"),a={},c=/(\([^\)]+\))/gi,h=/([^ ,;\(]+(\([^\)]+\))?)/gi;t.exports=function(e,t){var i;return t+="",!!(e=n(e))&&(r(e,t)?t:(i=o[e].css,t=t.replace(h,function(t){var n,o,h,u;if("#"===t[0]||!isNaN(t[0]))return t;if(o=t.replace(c,""),h=i+":"+o,h in a)return a[h]===!1?"":t.replace(o,a[h]);for(n=s.css.map(function(e){return e+t}),n=[t].concat(n),u=0;u<n.length;u++)if(r(e,n[u]))return 0!==u&&s.reduce(u-1),a[h]=n[u].replace(c,""),n[u];return a[h]=!1,""}),t=t.trim(),""!==t&&t))}},{"./getStyleProperty":172,"./shared/prefixHelper":176,"./shared/stylePropertyCache":177,"./shared/styleValueAvailable":178}],174:[function(e,t,i){"use strict";t.exports={transitionend:["webkitTransitionEnd","MSTransitionEnd"],animationstart:["webkitAnimationStart","MSAnimationStart"],animationend:["webkitAnimationEnd","MSAnimationEnd"],animationiteration:["webkitAnimationIteration","MSAnimationIteration"],fullscreenchange:["MSFullscreenChange"],fullscreenerror:["MSFullscreenError"]}},{}],175:[function(e,t,i){"use strict";var n;t.exports=function(){return n?(n.style.cssText="",n.removeAttribute("style")):n=document.createElement("_"),n},t.exports.resetElement=function(){n=null}},{}],176:[function(e,t,i){"use strict";var n=["-webkit-","-moz-","-ms-"],r=["Webkit","Moz","ms"],s=["webkit","moz","ms"],o=function(){this.initialize()},a=o.prototype;a.initialize=function(){this.reduced=!1,this.css=n,this.dom=r,this.evt=s},a.reduce=function(e){this.reduced||(this.reduced=!0,this.css=[this.css[e]],this.dom=[this.dom[e]],this.evt=[this.evt[e]])},t.exports=new o},{}],177:[function(e,t,i){"use strict";t.exports={}},{}],178:[function(e,t,i){"use strict";var n,r,s=e("./stylePropertyCache"),o=e("./getStyleTestElement"),a=!1,c=function(){var e;if(!a){a=!0,n="CSS"in window&&"supports"in window.CSS,r=!1,e=o();try{e.style.width="invalid"}catch(t){r=!0}}};t.exports=function(e,t){var i,a;if(c(),n)return e=s[e].css,CSS.supports(e,t);if(a=o(),i=a.style[e],r)try{a.style[e]=t}catch(h){return!1}else a.style[e]=t;return a.style[e]&&a.style[e]!==i},t.exports.resetFlags=function(){a=!1}},{"./getStyleTestElement":175,"./stylePropertyCache":177}],179:[function(e,t,i){"use strict";t.exports=["transitionend","animationstart","animationend","animationiteration"]},{}],180:[function(e,t,i){"use strict";var n=/(-webkit-|-moz-|-ms-)|^(webkit|moz|ms)/gi;t.exports=function(e){return e=String.prototype.replace.call(e,n,""),e.charAt(0).toLowerCase()+e.substring(1)}},{}],181:[function(e,t,i){"use strict";var n={window:window,document:document};t.exports=function(e,t){var i;return e="on"+e,t in n||(n[t]=document.createElement(t)),i=n[t],e in i||"setAttribute"in i&&(i.setAttribute(e,"return;"),"function"==typeof i[e])}},{}],182:[function(e,t,i){"use strict";var n=/^(webkit|moz|ms)/gi;t.exports=function(e){return"cssfloat"===e.toLowerCase()?"float":(n.test(e)&&(e="-"+e),e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}},{}],183:[function(e,t,i){"use strict";var n=/-([a-z])/g;t.exports=function(e){return"float"===e.toLowerCase()?"cssFloat":(e=e.replace(n,function(e,t){return t.toUpperCase()}),"Ms"===e.substr(0,2)&&(e="ms"+e.substring(2)),e)}},{}],184:[function(e,t,i){"use strict";function n(e){o.call(this),this.options=r(h,e),this.loadingOptions=null,this.els=[],this.loadingQueue=null,this._queueItems=[],this._queueItemsObj={},this._loadOrder=[],this._timeout=null,this._didCallLoad=!1}var r=e("@marcom/ac-object/defaults"),s=e("@marcom/ac-queue").LiveQueue,o=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,a=e("@marcom/ac-raf-emitter/update"),c=e("@marcom/ac-raf-emitter/draw"),h={container:document.body,includeContainer:!1},u={loadingPoolSize:8,timeout:null,imageDataAttribute:"data-progressive-image",imageAnimate:!0,imageAnimateClass:"progressive-image-animated"};n.Events={ImageLoad:"image-load",Complete:"complete"};var l=n.prototype=Object.create(o.prototype);l.load=function(e){this._didCallLoad||(this._didCallLoad=!0,this.loadingOptions=r(u,e),this.loadingQueue=new s(this.loadingOptions.loadingPoolSize),this.els=Array.from(this._getProgressiveImageElements()),this.options.includeContainer&&this.options.container.hasAttribute(this._getProgressiveImageDataAttribute())&&this.els.unshift(this.options.container),c(function(){var e,t,i=this.els.length;for(e=0;e<i;e++)t={queueItem:this.loadingQueue.enqueue(this._loadNextItem.bind(this,e),e),el:this.els[e],id:e},this._queueItems.push(t),this._queueItemsObj[e]=t,this.loadingOptions.imageAnimate&&this.els[e].classList.add(this.loadingOptions.imageAnimateClass);a(function(){this.loadingQueue.start(),"number"==typeof this.loadingOptions.timeout&&(this._timeout=setTimeout(this.cancel.bind(this),this.loadingOptions.timeout))}.bind(this))}.bind(this)))},l.setVisible=function(e){return new Promise(function(t,i){c(function(){e.removeAttribute(this._getProgressiveImageDataAttribute()),t(),e=null}.bind(this))}.bind(this))},l.cancel=function(){if(this.els){var e,t=this.els.length;for(e=0;e<t;e++)this.setVisible(this.els[e]),this.loadingOptions.imageAnimate&&c(function(){this.els[e].setAttribute("data-progressive-image-loaded","")}.bind(this,e))}this._handleLoadingComplete()},l.destroy=function(){this.cancel(),this.off(),o.prototype.destroy.call(this)},l._loadNextItem=function(e){return new Promise(function(e,t,i){var n=this._queueItemsObj[e];this._loadAndSetVisible(n.el).then(function(){var e=this._queueItems.indexOf(n);this._queueItems.splice(e,1),this._queueItemsObj[n.id]=null,t(),this._handleImageLoad(n.el),n=t=null,1===this.loadingQueue.count()&&this._handleLoadingComplete()}.bind(this))}.bind(this,e))},l._loadAndSetVisible=function(e){return new Promise(function(t,i){this.setVisible(e).then(function(){this._getBackgroundImageSrc(e).then(function(i){this._loadImage(i).then(t),e=null}.bind(this))}.bind(this))}.bind(this))},l._getBackgroundImageSrc=function(e){return new Promise(function(t,i){a(function(){var i=e.currentStyle;return i||(i=window.getComputedStyle(e,!1)),e=null,0===i.backgroundImage.indexOf("url(")?void t(i.backgroundImage.slice(4,-1).replace(/"/g,"")):void t(null)}.bind(this))}.bind(this))},l._getProgressiveImageDataAttribute=function(){return this.loadingOptions.imageDataAttribute},l._getProgressiveImageCSSQuery=function(){return"["+this._getProgressiveImageDataAttribute()+"]"},l._getProgressiveImageElements=function(){return this.options.container.querySelectorAll(this._getProgressiveImageCSSQuery())||[]},l._loadImage=function(e){return new Promise(this._loadImagePromiseFunc.bind(this,e))},l._loadImagePromiseFunc=function(e,t,i){function n(){this.removeEventListener("load",n),t(this),t=null}if(!e)return void t(null);var r=new Image;r.addEventListener("load",n),r.src=e},l._clearTimeout=function(){this._timeout&&(window.clearTimeout(this._timeout),this._timeout=null)},l._handleImageLoad=function(e){c(function(){this.trigger(n.Events.ImageLoad,e),this.loadingOptions.imageAnimate&&e.setAttribute("data-progressive-image-loaded",""),e=null}.bind(this))},l._handleLoadingComplete=function(){this.loadingQueue.stop(),this._clearTimeout(),this.trigger(n.Events.Complete)},t.exports=n},{"@marcom/ac-event-emitter-micro":86,"@marcom/ac-object/defaults":163,"@marcom/ac-queue":185,"@marcom/ac-raf-emitter/draw":194,"@marcom/ac-raf-emitter/update":195}],185:[function(e,t,i){"use strict";t.exports={Queue:e("./ac-queue/Queue"),QueueItem:e("./ac-queue/QueueItem"),LiveQueue:e("./ac-queue/LiveQueue")}},{"./ac-queue/LiveQueue":186,"./ac-queue/Queue":187,"./ac-queue/QueueItem":188}],186:[function(e,t,i){"use strict";function n(e){this._queue=new r,this._maxProcesses=e||1,this._availableSlots=this._maxProcesses,this._rafId=0,this._isRunning=!1,this._boundFunctions={_run:this._run.bind(this),_releaseSlot:this._releaseSlot.bind(this)}}e("@marcom/ac-polyfills/Promise"),e("@marcom/ac-polyfills/requestAnimationFrame"),e("@marcom/ac-polyfills/Function/prototype.bind");var r=e("./Queue"),s=e("./QueueItem"),o=n.prototype;o.start=function(){this._isRunning&&cancelAnimationFrame(this._rafId),this._rafId=requestAnimationFrame(this._boundFunctions._run),this._isRunning=!0},o.pause=function(){this._isRunning&&(cancelAnimationFrame(this._rafId),this._rafId=0),this._isRunning=!1},o.stop=function(){this.pause(),this.clear()},o.enqueue=function(e,t){if("function"!=typeof e)throw new Error("LiveQueue can only enqueue functions");void 0===t&&(t=r.PRIORITY_DEFAULT);var i=new s(e,t);return this.enqueueQueueItem(i)},o.enqueueQueueItem=function(e){return this._queue.enqueueQueueItem(e),this._isRunning&&0===this._rafId&&this.start(),e},o.dequeueQueueItem=function(e){return this._queue.dequeueQueueItem(e)},o.clear=function(){this._queue=new r},o.destroy=function(){this.pause(),this._isRunning=!1,this._queue=null,this._boundFunctions=null},o.count=function(){return this._queue.count()+this.pending()},o.pending=function(){return this._maxProcesses-this._availableSlots},o.isEmpty=function(){return 0===this.count()},o._run=function(){if(this._isRunning&&(this._rafId=requestAnimationFrame(this._boundFunctions._run),!this._queue.isEmpty()&&0!==this._availableSlots)){var e=this._queue.dequeue(),t=e.data();this._isPromise(t)&&(this._retainSlot(),t.then(this._boundFunctions._releaseSlot,this._boundFunctions._releaseSlot)),this._stopRunningIfDone()}},o._retainSlot=function(){this._availableSlots--},o._releaseSlot=function(){this._availableSlots++,this._stopRunningIfDone()},o._stopRunningIfDone=function(){0!=this._rafId&&0===this._queue.count()&&this._availableSlots==this._maxProcesses&&(cancelAnimationFrame(this._rafId),this._rafId=0)},o._isPromise=function(e){return!(!e||"function"!=typeof e.then)},t.exports=n},{"./Queue":187,"./QueueItem":188,"@marcom/ac-polyfills/Function/prototype.bind":void 0,"@marcom/ac-polyfills/Promise":void 0,"@marcom/ac-polyfills/requestAnimationFrame":void 0}],187:[function(e,t,i){"use strict";function n(){this._items=[]}var r=e("./QueueItem"),s=n.prototype;s.enqueue=function(e,t){void 0===t&&(t=n.PRIORITY_DEFAULT);var i=new r(e,t);return this.enqueueQueueItem(i)},s.enqueueQueueItem=function(e){return this._items.indexOf(e)===-1&&this._items.push(e),e},s.dequeue=function(){this._heapSort();var e=this._items.length-1,t=this._items[0];return this._items[0]=this._items[e],this._items.pop(),t},s.dequeueQueueItem=function(e){var t=this._items.indexOf(e);return t>-1&&this._items.splice(t,1),e},s.peek=function(){return 0==this.count()?null:(this._heapSort(),this._items[0])},s.isEmpty=function(){return 0===this._items.length},s.count=function(){return this._items.length},s.toString=function(){for(var e=["Queue total items: "+this.count()+"\n"],t=0;t<this.count();++t)e.push(this._items[t].toString()+"\n");return e.join("")},s._heapSort=function(){for(var e=0,t=this._items.length-1;t>=0;t--)for(var i=t;i>0;){e++;var n=Math.floor((i-1)/2);if(this._items[i].compareTo(this._items[n])>=0)break;var r=this._items[i];this._items[i]=this._items[n],this._items[n]=r,i=n}},n.PRIORITY_LOW=10,n.PRIORITY_DEFAULT=5,n.PRIORITY_HIGH=1,t.exports=n},{"./QueueItem":188}],188:[function(e,t,i){"use strict";function n(e,t){this.priority=t,this.data=e,this.insertionOrder=r++}var r=0,s=n.prototype;s.compareTo=function(e){return this.priority<e.priority?-1:this.priority>e.priority?1:this.insertionOrder<e.insertionOrder?-1:1},s.toString=function(){return"QueueItem {priority:"+this.priority+",\tdata:"+this.data+"\tinsertionOrder:"+this.insertionOrder+"}"},t.exports=n},{}],189:[function(e,t,i){"use strict";var n=e("@marcom/ac-shared-instance").SharedInstance,r="ac-raf-emitter-id-generator:sharedRAFEmitterIDGeneratorInstance",s="1.0.3",o=function(){this._currentID=0};o.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share(r,s,o)},{"@marcom/ac-shared-instance":198}],190:[function(e,t,i){"use strict";function n(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("@marcom/ac-raf-executor/sharedRAFExecutorInstance"),a=e("@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance");r=n.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=n},{"@marcom/ac-event-emitter-micro":86,"@marcom/ac-raf-emitter-id-generator/sharedRAFEmitterIDGeneratorInstance":189,
"@marcom/ac-raf-executor/sharedRAFExecutorInstance":197}],191:[function(e,t,i){"use strict";var n=e("./SingleCallRAFEmitter"),r=function(e){this.rafEmitter=new n,this.rafEmitter.on(e,this._onRAFExecuted.bind(this)),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._frameCallbacks=[],this._nextFrameCallbacks=[],this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(e){return this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2,this._currentFrameID},s.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx!==-1&&(this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel())},s._onRAFExecuted=function(e){for(this._frameCallbacks=this._nextFrameCallbacks,this._frameCallbackLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks=[],this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e)},t.exports=r},{"./SingleCallRAFEmitter":193}],192:[function(e,t,i){"use strict";var n=e("./RAFInterface"),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new n(e)),this.events[e].requestAnimationFrame},s.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new n(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{"./RAFInterface":191}],193:[function(e,t,i){"use strict";var n=e("./RAFEmitter"),r=function(e){n.call(this,e)},s=r.prototype=Object.create(n.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{"./RAFEmitter":190}],194:[function(e,t,i){"use strict";var n=e("./RAFInterfaceController");t.exports=n.requestAnimationFrame("draw")},{"./RAFInterfaceController":192}],195:[function(e,t,i){"use strict";var n=e("./RAFInterfaceController");t.exports=n.requestAnimationFrame("update")},{"./RAFInterfaceController":192}],196:[function(e,t,i){"use strict";function n(e){e=e||{},this._reset(),this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}e("@marcom/ac-polyfills/performance/now");var r;r=n.prototype,r.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.trigger=function(e,t){var i;for(i=0;i<this._subscriberArrayLength;i++)null!==this._subscribers[this._subscribersOrder[i]]&&this._subscribers[this._subscribersOrder[i]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[i]].trigger(e,t)},r.destroy=function(){var e=this._cancel();return this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onSubscribersAnimationFrameStart=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameStart(e)},r._onSubscribersAnimationFrameEnd=function(e){var t;for(t=0;t<this._subscriberArrayLength;t++)null!==this._subscribers[this._subscribersOrder[t]]&&this._subscribers[this._subscribersOrder[t]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[t]]._onAnimationFrameEnd(e)},r._onAnimationFrame=function(e){this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this._onSubscribersAnimationFrameStart(this._rafData),this.trigger("update",this._rafData),this.trigger("external",this._rafData),this.trigger("draw",this._rafData),this._onSubscribersAnimationFrameEnd(this._rafData),this._willRun||this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData={time:0,delta:0,fps:0,naturalFps:0,timeNow:0},this._subscribers={},this._subscribersOrder=[],this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0},t.exports=n},{"@marcom/ac-polyfills/performance/now":void 0}],197:[function(e,t,i){"use strict";var n=e("@marcom/ac-shared-instance").SharedInstance,r="ac-raf-executor:sharedRAFExecutorInstance",s="2.0.1",o=e("./RAFExecutor");t.exports=n.share(r,s,o)},{"./RAFExecutor":196,"@marcom/ac-shared-instance":198}],198:[function(e,t,i){"use strict";t.exports={SharedInstance:e("./ac-shared-instance/SharedInstance")}},{"./ac-shared-instance/SharedInstance":199}],199:[function(e,t,i){"use strict";var n=window,r="AC",s="SharedInstance",o=n[r],a=function(){var e={};return{get:function(t,i){var n=null;return e[t]&&e[t][i]&&(n=e[t][i]),n},set:function(t,i,n){return e[t]||(e[t]={}),"function"==typeof n?e[t][i]=new n:e[t][i]=n,e[t][i]},share:function(e,t,i){var n=this.get(e,t);return n||(n=this.set(e,t,i)),n},remove:function(t,i){var n=typeof i;if("string"===n||"number"===n){if(!e[t]||!e[t][i])return;return void(e[t][i]=null)}e[t]&&(e[t]=null)}}}();o||(o=n[r]={}),o[s]||(o[s]=a),t.exports=o[s]},{}],200:[function(e,t,i){"use strict";t.exports=function(e,t){var i="&",n="";if(e){var r=Object.keys(e),s=r.length-1;r.forEach(function(t,r){var o=e[t];t=t.trim(),o=o&&"string"==typeof o?o.trim():o,o=null===o?"":"="+o;var a=t+o+(r===s?"":i);n=n?n.concat(a):a})}return n&&t!==!1?"?"+n:n}},{}],201:[function(e,t,i){"use strict";var n={ua:window.navigator.userAgent,platform:window.navigator.platform,vendor:window.navigator.vendor};t.exports=e("./parseUserAgent")(n)},{"./parseUserAgent":204}],202:[function(e,t,i){"use strict";t.exports={browser:{safari:!1,chrome:!1,firefox:!1,ie:!1,opera:!1,android:!1,edge:!1,version:{name:"",major:0,minor:0,patch:0,documentMode:!1}},os:{osx:!1,ios:!1,android:!1,windows:!1,linux:!1,fireos:!1,chromeos:!1,version:{name:"",major:0,minor:0,patch:0}}}},{}],203:[function(e,t,i){"use strict";t.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(e){return e.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===e.ua}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Opera")===-1},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(e){return e.ua.indexOf("Safari")>-1&&e.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(e){return e.ua.indexOf("IE")>-1||e.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){var e=!1;return document.documentMode&&(e=parseInt(document.documentMode,10)),e}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]}],os:[{name:"windows",test:function(e){return e.platform.indexOf("Win")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(e){return e.platform.indexOf("Mac")>-1}},{name:"ios",test:function(e){return e.ua.indexOf("iPhone")>-1||e.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(e){return e.platform.indexOf("Linux")>-1&&e.ua.indexOf("Android")===-1}},{name:"fireos",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android"},{name:"chromeos",userAgent:"CrOS"}]}},{}],204:[function(e,t,i){"use strict";function n(e){return new RegExp(e+"[a-zA-Z\\s/:]+([0-9_.]+)","i")}function r(e,t){if("function"==typeof e.parseVersion)return e.parseVersion(t);var i=e.version||e.userAgent;"string"==typeof i&&(i=[i]);for(var r,s=i.length,o=0;o<s;o++)if(r=t.match(n(i[o])),r&&r.length>1)return r[1].replace(/_/g,".")}function s(e,t,i){for(var n,s,o=e.length,a=0;a<o;a++)if("function"==typeof e[a].test?e[a].test(i)===!0&&(n=e[a].name):i.ua.indexOf(e[a].userAgent)>-1&&(n=e[a].name),n){if(t[n]=!0,s=r(e[a],i.ua),"string"==typeof s){var c=s.split(".");t.version.name=s,c&&c.length>0&&(t.version.major=parseInt(c[0]||0),t.version.minor=parseInt(c[1]||0),t.version.patch=parseInt(c[2]||0))}else"edge"===n&&(t.version.name="12.0.0",t.version.major="12",t.version.minor="0",t.version.patch="0");return"function"==typeof e[a].parseDocumentMode&&(t.version.documentMode=e[a].parseDocumentMode()),t}return t}function o(e){var t={};return t.browser=s(c.browser,a.browser,e),t.os=s(c.os,a.os,e),t}var a=e("./defaults"),c=e("./dictionary");t.exports=o},{"./defaults":202,"./dictionary":203}],205:[function(e,t,i){"use strict";function n(e){r.call(this),this._initializeElement(e),o()&&(this._updateViewport=this._updateViewport.bind(this),s(window,"resize",this._updateViewport),s(window,"orientationchange",this._updateViewport),this._retinaQuery=window.matchMedia(h),this._updateRetina(),this._retinaQuery.addListener&&(this._updateRetina=this._updateRetina.bind(this),this._retinaQuery.addListener(this._updateRetina))),this._updateViewport()}e("@marcom/ac-polyfills/Function/prototype.bind"),e("@marcom/ac-polyfills/Object/keys"),e("@marcom/ac-polyfills/Object/create");var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("@marcom/ac-dom-events/utils/addEventListener"),o=e("@marcom/ac-feature/mediaQueriesAvailable"),a="viewport-emitter",c="::before",h="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",u=n.prototype=Object.create(r.prototype);u.viewport=!1,u.retina=!1,u._initializeElement=function(e){var t;e=e||a,t=document.getElementById(e),t||(t=document.createElement("div"),t.id=e,t=document.body.appendChild(t)),this._el=t},u._getElementContent=function(){var e;return"currentStyle"in this._el?e=this._el.currentStyle["x-content"]:(this._invalidateStyles(),e=window.getComputedStyle(this._el,c).content),e&&(e=e.replace(/["']/g,"")),!!e&&e},u._updateViewport=function(){var e,t=this.viewport;this.viewport=this._getElementContent(),this.viewport&&(this.viewport=this.viewport.split(":").pop()),t&&this.viewport!==t&&(e={from:t,to:this.viewport},this.trigger("change",e),this.trigger("from:"+t,e),this.trigger("to:"+this.viewport,e))},u._updateRetina=function(e){var t=this.retina;this.retina=this._retinaQuery.matches,t!==this.retina&&this.trigger("retinachange",{from:t,to:this.retina})},u._invalidateStyles=function(){document.documentElement.clientWidth,this._el.innerHTML=" "===this._el.innerHTML?"":" ",document.documentElement.clientWidth},t.exports=n},{"@marcom/ac-dom-events/utils/addEventListener":37,"@marcom/ac-event-emitter-micro":86,"@marcom/ac-feature/mediaQueriesAvailable":104,"@marcom/ac-polyfills/Function/prototype.bind":void 0,"@marcom/ac-polyfills/Object/create":void 0,"@marcom/ac-polyfills/Object/keys":void 0}],206:[function(e,t,i){"use strict";var n=e("./ViewportEmitter");t.exports=new n},{"./ViewportEmitter":205}],207:[function(e,t,i){t.exports={majorVersionNumber:"3.x"}},{}],208:[function(e,t,i){"use strict";function n(e){e=e||{},s.call(this),this.id=a.getNewID(),this.executor=e.executor||o,this._reset(),this._willRun=!1,this._didDestroy=!1}var r,s=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,o=e("./sharedRAFExecutorInstance"),a=e("./sharedRAFEmitterIDGeneratorInstance");r=n.prototype=Object.create(s.prototype),r.run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},r.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},r.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,s.prototype.destroy.call(this),this._didDestroy=!0,e},r.willRun=function(){return this._willRun},r.isRunning=function(){return this._isRunning},r._subscribe=function(){return this.executor.subscribe(this)},r._unsubscribe=function(){return this.executor.unsubscribe(this)},r._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},r._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},r._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},t.exports=n},{"./sharedRAFEmitterIDGeneratorInstance":213,"./sharedRAFExecutorInstance":214,"@marcom/ac-event-emitter-micro":86}],209:[function(e,t,i){"use strict";function n(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new s,this._willRun=!1,this._totalSubscribeCount=-1,this._requestAnimationFrame=window.requestAnimationFrame,this._cancelAnimationFrame=window.cancelAnimationFrame,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}var r,s=e("@marcom/ac-event-emitter-micro/EventEmitterMicro");r=n.prototype,r.frameRequestedPhase="requested",r.startPhase="start",r.runPhases=["update","external","draw"],r.endPhase="end",r.disabledPhase="disabled",r.beforePhaseEventPrefix="before:",r.afterPhaseEventPrefix="after:",r.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},r.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},r.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},r.getSubscribeID=function(){return this._totalSubscribeCount+=1},r.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},r.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},r.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},r._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},r._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},r._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy===!1&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},r._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},r._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},t.exports=n},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":87}],210:[function(e,t,i){"use strict";var n=e("./SingleCallRAFEmitter"),r=function(e){this.phase=e,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(e,t){return t===!0&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},t.exports=r},{"./SingleCallRAFEmitter":212}],211:[function(e,t,i){"use strict";var n=e("./RAFInterface"),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new n(e)),this.events[e].requestAnimationFrame},s.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new n(e)),this.events[e].cancelAnimationFrame},t.exports=new r},{"./RAFInterface":210}],212:[function(e,t,i){"use strict";var n=e("./RAFEmitter"),r=function(e){n.call(this,e)},s=r.prototype=Object.create(n.prototype);s._subscribe=function(){return this.executor.subscribe(this,!0)},t.exports=r},{"./RAFEmitter":208}],213:[function(e,t,i){"use strict";var n=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},{"../.release-info.js":207,"@marcom/ac-shared-instance":198}],214:[function(e,t,i){"use strict";var n=e("@marcom/ac-shared-instance").SharedInstance,r=e("../.release-info.js").majorVersionNumber,s=e("./RAFExecutor");t.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},{"../.release-info.js":207,"./RAFExecutor":209,"@marcom/ac-shared-instance":198}],215:[function(e,t,i){"use strict";var n=e("./RAFInterfaceController");t.exports=n.requestAnimationFrame("update")},{"./RAFInterfaceController":211}],216:[function(e,t,i){"use strict";function n(e,t){r.call(this),this._id=e||o.ID,this._options=Object.assign({},o.OPTIONS,t),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(h.RETINA)},orientation:{portrait:window.matchMedia(h.PORTRAIT),landscape:window.matchMedia(h.LANDSCAPE)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}var r=e("@marcom/ac-event-emitter-micro").EventEmitterMicro,s=e("@marcom/ac-raf-emitter/update"),o={ID:"viewport-emitter",OPTIONS:{removeNamespace:!0}},a={DOM_DISPATCH:"data-viewport-emitter-dispatch",STATE:"data-viewport-emitter-state"},c="::before",h={RETINA:"only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",PORTRAIT:"only screen and (orientation: portrait)",LANDSCAPE:"only screen and (orientation: landscape)"},u={any:"change:any",orientation:"change:orientation",retina:"change:retina",viewport:"change:viewport"};Object.defineProperty(n,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return a.DOM_DISPATCH}}),Object.defineProperty(n,"DOM_STATE_ATTRIBUTE",{get:function(){return a.STATE}});var l=n.prototype=Object.create(r.prototype);Object.defineProperty(l,"id",{get:function(){return this._id}}),Object.defineProperty(l,"element",{get:function(){return this._el}}),Object.defineProperty(l,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(l,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(l,"retina",{get:function(){return this._retina}}),Object.defineProperty(l,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(l,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),l.destroy=function(){this._removeListeners();for(var e in this._options)this._options[e]=null;for(var t in this._mediaQueryLists){var i=this._mediaQueryLists[t];for(var n in i)i[n]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,r.prototype.destroy.call(this)},l._initViewportEl=function(e){var t=document.getElementById(e);return t||(t=document.createElement("div"),t.id=e,t=document.body.appendChild(t)),t.hasAttribute(a.DOM_DISPATCH)||(t.setAttribute(a.DOM_DISPATCH,""),this._allowDOMEventDispatch=!0),t.hasAttribute(a.STATE)||(this._allowElementStateData=!0),t},l._dispatch=function(e,t){var i={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var n=new CustomEvent(e,{detail:t}),r=new CustomEvent(u.any,{detail:i});this._el.dispatchEvent(n),this._el.dispatchEvent(r)}this.trigger(e,t),this.trigger(u.any,i)},l._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},l._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},l._updateElementStateData=function(){if(this._allowElementStateData){var e=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(a.STATE,e)}},l._getViewport=function(e){var t=window.getComputedStyle(this._el,c).content;return t?(t=t.replace(/["']/g,""),e?t.split(":").pop():t):null},l._getRetina=function(e){return e.matches},l._getOrientation=function(e){var t=this._orientation;if(e.matches){var i=/portrait|landscape/;return e.media.match(i)[0]}return t},l._initOrientation=function(){var e=this._getOrientation(this._mediaQueryLists.orientation.portrait);return e?e:this._getOrientation(this._mediaQueryLists.orientation.landscape)},l._onViewportChange=function(){this._resizing||(this._resizing=!0,s(this._onViewportChangeUpdate))},l._onViewportChangeUpdate=function(){var e=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),e!==this._viewport){var t={from:e,to:this._viewport};this._updateElementStateData(),this._dispatch(u.viewport,t);
}this._resizing=!1},l._onRetinaChange=function(e){var t=this._retina;if(this._retina=this._getRetina(e),t!==this._retina){var i={from:t,to:this._retina};this._updateElementStateData(),this._dispatch(u.retina,i)}},l._onOrientationChange=function(e){var t=this._orientation;if(this._orientation=this._getOrientation(e),t!==this._orientation){var i={from:t,to:this._orientation};this._updateElementStateData(),this._dispatch(u.orientation,i)}},t.exports=n},{"@marcom/ac-event-emitter-micro":86,"@marcom/ac-raf-emitter/update":215}],217:[function(e,t,i){"use strict";var n=e("./ViewportEmitter");t.exports=new n},{"./ViewportEmitter":216}],218:[function(e,t,i){t.exports.EventEmitter=e("./ac-event-emitter/EventEmitter")},{"./ac-event-emitter/EventEmitter":219}],219:[function(e,t,i){"use strict";var n="EventEmitter:propagation",r=function(e){e&&(this.context=e)},s=r.prototype,o=function(){return this.hasOwnProperty("_events")||"object"==typeof this._events||(this._events={}),this._events},a=function(e,t){var i=e[0],n=e[1],r=e[2];if("string"!=typeof i&&"object"!=typeof i||null===i||Array.isArray(i))throw new TypeError("Expecting event name to be a string or object.");if("string"==typeof i&&!n)throw new Error("Expecting a callback function to be provided.");if(n&&"function"!=typeof n){if("object"!=typeof i||"object"!=typeof n)throw new TypeError("Expecting callback to be a function.");r=n}if("object"==typeof i)for(var s in i)t.call(this,s,i[s],r);"string"==typeof i&&(i=i.split(" "),i.forEach(function(e){t.call(this,e,n,r)},this))},c=function(e,t){var i,n,r;if(i=o.call(this)[e],i&&0!==i.length)for(i=i.slice(),this._stoppedImmediatePropagation=!1,n=0,r=i.length;n<r&&(!this._stoppedImmediatePropagation&&!t(i[n],n));n++);},h=function(e,t,i){var n=-1;c.call(this,t,function(e,t){if(e.callback===i)return n=t,!0}),n!==-1&&e[t].splice(n,1)};s.on=function(){var e=o.call(this);return a.call(this,arguments,function(t,i,n){e[t]=e[t]||(e[t]=[]),e[t].push({callback:i,context:n})}),this},s.once=function(){return a.call(this,arguments,function(e,t,i){var n=function(r){t.call(i||this,r),this.off(e,n)};this.on(e,n,this)}),this},s.off=function(e,t){var i=o.call(this);if(0===arguments.length)this._events={};else if(!e||"string"!=typeof e&&"object"!=typeof e||Array.isArray(e))throw new TypeError("Expecting event name to be a string or object.");if("object"==typeof e)for(var n in e)h.call(this,i,n,e[n]);if("string"==typeof e){var r=e.split(" ");1===r.length?t?h.call(this,i,e,t):i[e]=[]:r.forEach(function(e){i[e]=[]})}return this},s.trigger=function(e,t,i){if(!e)throw new Error("trigger method requires an event name");if("string"!=typeof e)throw new TypeError("Expecting event names to be a string.");if(i&&"boolean"!=typeof i)throw new TypeError("Expecting doNotPropagate to be a boolean.");return e=e.split(" "),e.forEach(function(e){c.call(this,e,function(e){e.callback.call(e.context||this.context||this,t)}.bind(this)),i||c.call(this,n,function(i){var n=e;i.prefix&&(n=i.prefix+n),i.emitter.trigger(n,t)})},this),this},s.propagateTo=function(e,t){var i=o.call(this);i[n]||(this._events[n]=[]),i[n].push({emitter:e,prefix:t})},s.stopPropagatingTo=function(e){var t=o.call(this);if(!e)return void(t[n]=[]);var i,r=t[n],s=r.length;for(i=0;i<s;i++)if(r[i].emitter===e){r.splice(i,1);break}},s.stopImmediatePropagation=function(){this._stoppedImmediatePropagation=!0},s.has=function(e,t,i){var n=o.call(this),r=n[e];if(0===arguments.length)return Object.keys(n);if(!r)return!1;if(!t)return r.length>0;for(var s=0,a=r.length;s<a;s++){var c=r[s];if(i&&t&&c.context===i&&c.callback===t)return!0;if(t&&!i&&c.callback===t)return!0}return!1},t.exports=r},{}],220:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0}),i.HeroComponent=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../libs"),c=0,h=.1,u="anim-hero-engaged";i.HeroComponent=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.mainEl=document.querySelector(".main"),e.componentOptions={timeToEngage:c,inViewThreshold:h,useRenderedPosition:!0},e.heroProgressiveImageLoaderOptions={container:e.element},e.progressiveImageLoadOptions={imageDataAttribute:"data-progressive-image",imageAnimate:!1},e.heroProgressiveImageLoader=new a.ProgressiveImageLoader(e.heroProgressiveImageLoaderOptions),e._initialize(),e}return s(t,e),o(t,[{key:"_initialize",value:function(){this._loadHeroProgressiveImages(),this.trackedElement=this.section.elementEngagement.addElement(this.element,this.componentOptions),this._heroProgressiveImagesCompleteHandler=this._heroProgressiveImagesCompleteHandler.bind(this),this.heroProgressiveImageLoader.on("complete",this._heroProgressiveImagesCompleteHandler)}},{key:"_loadHeroProgressiveImages",value:function(){this.heroProgressiveImageLoader.load(this.progressiveImageLoadOptions)}},{key:"_initializeSectionsProgressiveImages",value:function(){var e=this;this.sections=Array.prototype.slice.call(this.mainEl.querySelectorAll("section")),this.sections.shift(),this.sections.forEach(function(t){var i=new a.ProgressiveImageLoader({container:t});i.load(e.progressiveImageLoadOptions)})}},{key:"_heroProgressiveImagesCompleteHandler",value:function(){this.element.classList.add(u),this._initializeSectionsProgressiveImages()}}]),t}(a.BaseComponent)},{"../libs":224}],221:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0}),i.InlineVideoComponent=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../libs"),c={basePath:"/105/media/{{locale}}/apple-pay/2017/1b3e5430_fafc_4e9d_8114_4ba5eacf00f4",locale:"us",format:"mp4"},h={settings:"data-inline-video-options"},u=500,l=.5,m="js-fade-in";i.InlineVideoComponent=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.options={timeToEngage:u,inViewThreshold:l},e.mediaObjectOptions={iosInline:!0},e.settings=new Object,e.mediaSource=null,e.documentTokenList=document.documentElement.classList,e.inLineVideoAvailable=e.documentTokenList.contains("inline-video"),e.isLegacyiOS=e.documentTokenList.contains("legacy-ios"),e.isIE11=e.documentTokenList.contains("ie-11"),e.previousViewport=a.viewportEmitter.viewport,e.videoContainer=e.element.querySelector("[data-video-container]"),e.replayButton=e.element.querySelector("[data-replay-button]"),e._initialize(),e}return s(t,e),o(t,[{key:"_initialize",value:function(){if(this.inLineVideoAvailable||this.isLegacyiOS){if(this.element.hasAttribute(h.settings))try{this._overwriteDefaultOptions()}catch(e){console.error("InLineVideoComponent::_overwriteDefaultOptions bad JSON in data-attribute.",e)}this.trackedElement=this.section.elementEngagement.addElement(this.element,this.options),this._createMediaObject(),this._setComponentEventHandlers()}}},{key:"_setComponentEventHandlers",value:function(){this._onEngagedHandler=this._onEngagedHandler.bind(this),this.trackedElement.once("engaged",this._onEngagedHandler)}},{key:"_setMediaObjectEventHandlers",value:function(){this._mediaObjectEndedHandler=this._mediaObjectEndedHandler.bind(this),this.mediaObject.on("ended",this._mediaObjectEndedHandler),this.isIE11&&(this._mediaObjectOnTimeUpdateHandler=this._mediaObjectOnTimeUpdateHandler.bind(this),this.mediaObject.on("timeupdate",this._mediaObjectOnTimeUpdateHandler)),this.replayButton&&(this._replayButtonClickHandler=this._replayButtonClickHandler.bind(this),this.replayButton.addEventListener("click",this._replayButtonClickHandler))}},{key:"_onEngagedHandler",value:function(){var e=this;return this.mediaObject?void this.mediaObject.play():void this._createMediaObject().then(function(){e.mediaObject.play()})}},{key:"onBreakpoint",value:function(){var e=this,t=a.viewportEmitter.viewport;"undefined"!=typeof this.mediaObject&&("xlarge"===t||"large"===t&&"xlarge"===this.previousViewport||this._destroyMediaObject().then(function(){return e._createMediaObject()}).then(function(){e.isIE11&&(e._resetMediaObject(),e.startFrame.style.opacity=0),e.replayButton.classList.remove(m),e.replayButton.disabled=!0,e.mediaObject.play()})),this.previousViewport=t}},{key:"onRetinaChange",value:function(){var e=this;"undefined"!=typeof this.mediaObject&&this._destroyMediaObject().then(function(){return e._createMediaObject()}).then(function(){e.mediaObject.play()})}},{key:"_replayButtonClickHandler",value:function(){this.isIE11&&(this._resetMediaObject(),this.mediaObject.el.querySelector(".mediaobject-startframe").style.opacity=0),this.replayButton.classList.remove(m),this.replayButton.disabled=!0,this.mediaObject.play()}},{key:"_createMediaObject",value:function(){var e=this;return new Promise(function(t,i){e._setMediaSource(),e.mediaObject=a.mediaObject.createVideo(e.videoContainer,e._getMediaSource(),e.mediaObjectOptions),e.mediaObjectVideoEl=e.mediaObject.el.querySelector("video"),e.startFrame=e.mediaObject.el.querySelector(".mediaobject-startframe"),e._setMediaObjectEventHandlers(),e.mediaObject.on("loaded",function(){e.mediaObjectVideoEl=e.mediaObject.el.querySelector("video"),e.mediaObjectVideoEl.setAttribute("role","presentation"),t()}),e.mediaObject.load(),e.mediaObject.enhance()})}},{key:"_resetMediaObject",value:function(){this.mediaObject.reset(),this.mediaObject.el.classList.remove("mediaobject-ended")}},{key:"_destroyMediaObject",value:function(){var e=this;return new Promise(function(t,i){e.mediaObject.on("destroyed",function(){e.mediaSource=null,e.mediaObject=null,e.replayButton.classList.remove(m),t()}),e.mediaObject.destroy()})}},{key:"_mediaObjectEndedHandler",value:function(){this.replayButton.disabled=!1,this.replayButton.classList.add(m)}},{key:"_mediaObjectOnTimeUpdateHandler",value:function(){this.mediaObject.getCurrentTime()<.26&&this.mediaObject.trigger("play"),this.mediaObject.getCurrentTime()===this.mediaObject.getDuration()&&this.mediaObject.trigger("ended")}},{key:"_setMediaSource",value:function(){var e=a.viewportEmitter.viewport,t=a.viewportEmitter.retina;"xlarge"===e&&(e="large"),this.loadedViewport=e,this.mediaSource={basePath:this.settings.basePath,filename:this.settings.filename+"/"+this.loadedViewport+(t?"_2x":""),fileFormat:this.settings.format}}},{key:"_getMediaSource",value:function(){return this.mediaSource||this._createMediaObject(),this.mediaSource}},{key:"_overwriteDefaultOptions",value:function(){var e=this.element.getAttribute(h.settings),t=JSON.parse(e);Object.assign(this.settings,c,t),this.settings.basePath=this.settings.basePath.replace("{{locale}}",this.settings.locale)}}]),t}(a.BaseComponent)},{"../libs":224}],222:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0}),i.UseScenariosComponent=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=e("../libs"),c=0,h=.1,u="anim-use-scenarios-engaged";i.UseScenariosComponent=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.options={timeToEngage:c,inViewThreshold:h,useRenderedPosition:!0},e._initialize(),e}return s(t,e),o(t,[{key:"_initialize",value:function(){this.trackedElement=this.section.elementEngagement.addElement(this.element,this.options),this._setComponentEventHandlers()}},{key:"_setComponentEventHandlers",value:function(){this._onEngagedHandler=this._onEngagedHandler.bind(this),this.trackedElement.once("engaged",this._onEngagedHandler),this._onViewportChangedHandler=this._onViewportChangedHandler.bind(this),a.viewportEmitter.on("change",this._onViewportChangedHandler)}},{key:"_onEngagedHandler",value:function(){this.element.classList.add(u)}},{key:"_onViewportChangedHandler",value:function(){var e=this;this.element.classList.remove(u),setTimeout(function(){e.element.classList.add(u)},500)}}]),t}(a.BaseComponent)},{"../libs":224}],223:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./HeroComponent");Object.defineProperty(i,"HeroComponent",{enumerable:!0,get:function(){return n.HeroComponent}});var r=e("./InlineVideoComponent");Object.defineProperty(i,"InlineVideoComponent",{enumerable:!0,get:function(){return r.InlineVideoComponent}});var s=e("./UseScenariosComponent");Object.defineProperty(i,"UseScenariosComponent",{enumerable:!0,get:function(){return s.UseScenariosComponent}})},{"./HeroComponent":220,"./InlineVideoComponent":221,"./UseScenariosComponent":222}],224:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.BasePage=e("@marcom/ac-jetpack-lib/core/BasePage"),i.BaseComponent=e("@marcom/ac-jetpack-lib/core/BaseComponent"),i.ComponentMap=e("@marcom/ac-jetpack-lib/model/ComponentMap"),i.PageUtils=e("@marcom/ac-jetpack-lib/utils/Page"),i.ProgressiveImageLoader=e("@marcom/ac-progressive-image-loader/ProgressiveImageLoader"),i.EventEmitterMicro=e("@marcom/ac-event-emitter-micro/EventEmitterMicro"),i.RAFEmitter=e("@marcom/ac-raf-emitter/RAFEmitter"),i.Promise=e("@marcom/ac-polyfills/Promise"),i.viewportEmitter=e("@marcom/ac-viewport-emitter"),i.mediaObject=e("@marcom/ac-media-object");e("@marcom/ac-films/AutoFilms")(document,{closeOnEnd:!1,poster:"/v/apple-pay/k/images/overview/modal_video_endstate_portrait_dark__duecalh5h08y_large.jpg"})},{"@marcom/ac-event-emitter-micro/EventEmitterMicro":87,"@marcom/ac-films/AutoFilms":void 0,"@marcom/ac-jetpack-lib/core/BaseComponent":137,"@marcom/ac-jetpack-lib/core/BasePage":138,"@marcom/ac-jetpack-lib/model/ComponentMap":140,"@marcom/ac-jetpack-lib/utils/Page":144,"@marcom/ac-media-object":146,"@marcom/ac-polyfills/Promise":void 0,"@marcom/ac-progressive-image-loader/ProgressiveImageLoader":184,"@marcom/ac-raf-emitter/RAFEmitter":190,"@marcom/ac-viewport-emitter":206}],225:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.Overview=void 0;var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./libs"),o=e("./components"),a=e("./shared"),c=i.Overview=function(){function e(){n(this,e),s.ComponentMap.HeroComponent=o.HeroComponent,s.ComponentMap.InlineVideoComponent=o.InlineVideoComponent,s.ComponentMap.UseScenariosComponent=o.UseScenariosComponent,this._initialize=this._initialize.bind(this),s.PageUtils.onPageHeightSettled(this._initialize)}return r(e,[{key:"_initialize",value:function(){a.resetScrollOnRefresh.initialize(),this.basePage=new s.BasePage,this.basePage.name="Overview"}}]),e}();new c},{"./components":223,"./libs":224,"./shared":227}],226:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(){n(this,e),this.window=window}return r(e,[{key:"initialize",value:function(){this._unloadEventHandler=this._unloadEventHandler.bind(this),this.window.addEventListener("unload",this._unloadEventHandler)}},{key:"_unloadEventHandler",value:function(){this.window.scrollTo(0,0)}}]),e}();i.resetScrollOnRefresh=new s},{}],227:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./ResetScrollOnRefresh");Object.defineProperty(i,"resetScrollOnRefresh",{enumerable:!0,get:function(){return n.resetScrollOnRefresh}})},{"./ResetScrollOnRefresh":226}]},{},[225]);